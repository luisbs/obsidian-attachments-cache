/*!
 * @copyright Copyright (c) 2022-present Luis Brayan
 * @license @luis.bs/obsidian-attachments-cache@0.5.5 is released under the GPL-3.0-or-later license
 * @source https://github.com/luisbs/obsidian-attachments-cache
 */
"use strict";const E=require("obsidian");/*!
 * Copyright (c) 2022-present Luis Brayan
 * @luis.bs/obsidian-fnc@1.4.3 is released under the MIT license
 * @source https://github.com/luisbs/obsidian-fnc
 */class Ct{error(t,e){console.error(t,...e)}warn(t,e){console.warn(t,...e)}info(t,e){console.info(t,...e)}debug(t,e){console.debug(t,...e)}trace(t,e){console.trace(t,...e)}group(t,e){return console.groupCollapsed(t,...e),console.groupEnd}}const S=Object.freeze({TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5}),$t=Object.freeze({1:"TRACE",2:"DEBUG",3:" INFO",4:" WARN",5:"ERROR"});class B{#t;#e;#n;#s=[];#i=[];get level(){return this.#e?this.#e:this.#t?.level??S.WARN}get format(){return this.#n?this.#n:this.#t?.format??"[hh:mm:ss.ms] level (namespace):"}get namespace(){const t=[];for(let e=0;e<this.#i.length-1;e++)t.push(this.#i[e][0]);return t.push(this.#i.at(-1)??""),t.join(".")}get drivers(){return Object.freeze(this.#s)}setLevel(t){return this.#e=t,this}setFormat(t){return this.#n=t,this}addDrivers(...t){for(const e of t)Array.isArray(e)?this.#s.push(...e):e&&this.#s.push(e);return this}addNamespaces(...t){for(const e of t)Array.isArray(e)?this.#i.push(...e):e&&this.#i.push(e);return this}static consoleLogger(t){const e=new B;return e.setLevel(S.WARN),e.addDrivers(new Ct),e.addNamespaces(t),e}make(t){const e=new B;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i,t),e}prefix(t,e){return this.format.replace("hh",String(t.getHours()).padStart(2,"0")).replace("mm",String(t.getMinutes()).padStart(2,"0")).replace("ss",String(t.getSeconds()).padStart(2,"0")).replace("ms",String(t.getMilliseconds()).padStart(3,"0")).replace("level",$t[e]).replace("namespace",this.namespace)}log(t,e,s){if(this.level>e)return;const i=this.prefix(t,e);switch(this.level){case S.ERROR:this.#s.forEach(n=>n.error(i,s));break;case S.WARN:this.#s.forEach(n=>n.warn(i,s));break;case S.INFO:this.#s.forEach(n=>n.info(i,s));break;case S.DEBUG:this.#s.forEach(n=>n.debug(i,s));break;default:this.#s.forEach(n=>n.trace(i,s))}}error(...t){this.log(new Date,S.ERROR,t)}warn(...t){this.log(new Date,S.WARN,t)}info(...t){this.log(new Date,S.INFO,t)}debug(...t){this.log(new Date,S.DEBUG,t)}trace(...t){this.log(new Date,S.TRACE,t)}group(...t){const e=new Mt;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i),t.length&&e.log(new Date,S.INFO,t),e}}class Mt extends B{#t=[];log(t,e,s){this.level>e||this.#t.push({timestamp:t,level:e,content:s})}flush(...t){if(this.#t.length===0){super.log(new Date,S.INFO,t);return}const e=this.prefix(new Date,S.INFO),s=this.drivers.map(i=>i.group(e,t));for(const{timestamp:i,level:n,content:a}of this.#t)super.log(i,n,a);s.forEach(i=>i()),this.#t=[]}}class D{static join(...t){return t.reduce((e,s)=>s?e?e.replace(/[\\/]+$/gi,"")+"/"+s.replace(/^[\\/]+/gi,""):s:e,"")}static normalize(t){return t.replaceAll(/[^\w-\\/#?&=':,. ]+/gi,"_")}static getName(t){return t.match(/[^\\/]+$/gi)?.at(0)}static getBasename(t){const e=this.getName(t);return e?this.removeExt(e):void 0}static getParent(t){if(/[\\/]/gi.test(t))return t.replace(/[\\/][^\\/]*$/gi,"")}static hasExt(t){return/\.[^\\/]*$/gi.test(t)}static getExt(t){return/(?<=\.)([^\\/#?]*)([#?].*)?$/gi.exec(t)?.at(1)}static removeExt(t){return t.replace(/(\.[^\\/]*)?([#?].*)?$/gi,"")}}class J{static isUrl(t){return/^https?:\/\//gi.test(t)}static getOrigin(t){return/^https?:\/\/[^\\/]+/gi.exec(t)?.at(0)}static getBaseurl(t){return/^https?:\/\/[^#?]*/gi.exec(t)?.at(0)}static getHash(t){return/(?<=#)[^?]*/gi.exec(t)?.at(0)}static getparams(t){return/(?<=\?).*/gi.exec(t)?.at(0)}}class k extends Error{constructor(t,e){super(),this.code=t,this.cause=e,this.name=`AttachmentError(${this.code})`,this.message=this.toStringMessage()}static assertResponse(t,e,s){if(!(e.status<400))throw new k(s,`requested url: ${t}
response status: ${e.status}
response headers:
${JSON.stringify(e.headers)}`)}toString(){return`${this.name}: ${this.toStringMessage()}`}toStringMessage(){const t=k.#t(this.code);return this.cause?this.cause instanceof Error?`${t}, context:

${this.cause}`:`${t}, context:

${JSON.stringify(this.cause)}`:t}static#t(t){switch(t){case"remote-no-url":return"remote param should be an URL";case"remote-no-ext":return"a file-extension could not be determined";case"url-request-head":return"the request to get the file-extension failed";case"url-request-get":return"the request to download the file failed";default:return"try-reloading Obsidian"}}}function Lt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var U,at;function kt(){if(at)return U;at=1,U=r;function r(s,i,n){s instanceof RegExp&&(s=t(s,n)),i instanceof RegExp&&(i=t(i,n));var a=e(s,i,n);return a&&{start:a[0],end:a[1],pre:n.slice(0,a[0]),body:n.slice(a[0]+s.length,a[1]),post:n.slice(a[1]+i.length)}}function t(s,i){var n=i.match(s);return n?n[0]:null}r.range=e;function e(s,i,n){var a,o,h,c,l,p=n.indexOf(s),f=n.indexOf(i,p+1),u=p;if(p>=0&&f>0){if(s===i)return[p,f];for(a=[],h=n.length;u>=0&&!l;)u==p?(a.push(u),p=n.indexOf(s,u+1)):a.length==1?l=[a.pop(),f]:(o=a.pop(),o<h&&(h=o,c=f),f=n.indexOf(i,u+1)),u=p<f&&p>=0?p:f;a.length&&(l=[h,c])}return l}return U}var z,ot;function Pt(){if(ot)return z;ot=1;var r=kt();z=l;var t="\0SLASH"+Math.random()+"\0",e="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",i="\0COMMA"+Math.random()+"\0",n="\0PERIOD"+Math.random()+"\0";function a(d){return parseInt(d,10)==d?parseInt(d,10):d.charCodeAt(0)}function o(d){return d.split("\\\\").join(t).split("\\{").join(e).split("\\}").join(s).split("\\,").join(i).split("\\.").join(n)}function h(d){return d.split(t).join("\\").split(e).join("{").split(s).join("}").split(i).join(",").split(n).join(".")}function c(d){if(!d)return[""];var b=[],T=r("{","}",d);if(!T)return d.split(",");var w=T.pre,A=T.body,_=T.post,v=w.split(",");v[v.length-1]+="{"+A+"}";var $=c(_);return _.length&&(v[v.length-1]+=$.shift(),v.push.apply(v,$)),b.push.apply(b,v),b}function l(d){return d?(d.substr(0,2)==="{}"&&(d="\\{\\}"+d.substr(2)),g(o(d),!0).map(h)):[]}function p(d){return"{"+d+"}"}function f(d){return/^-?0\d/.test(d)}function u(d,b){return d<=b}function m(d,b){return d>=b}function g(d,b){var T=[],w=r("{","}",d);if(!w)return[d];var A=w.pre,_=w.post.length?g(w.post,!1):[""];if(/\$$/.test(w.pre))for(var v=0;v<_.length;v++){var $=A+"{"+w.body+"}"+_[v];T.push($)}else{var Tt=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),Q=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),F=Tt||Q,Ot=w.body.indexOf(",")>=0;if(!F&&!Ot)return w.post.match(/,.*\}/)?(d=w.pre+"{"+w.body+s+w.post,g(d)):[d];var y;if(F)y=w.body.split(/\.\./);else if(y=c(w.body),y.length===1&&(y=g(y[0],!1).map(p),y.length===1))return _.map(function(_t){return w.pre+y[0]+_t});var M;if(F){var tt=a(y[0]),et=a(y[1]),Nt=Math.max(y[0].length,y[1].length),st=y.length==3?Math.abs(a(y[2])):1,it=u,Dt=et<tt;Dt&&(st*=-1,it=m);var At=y.some(f);M=[];for(var P=tt;it(P,et);P+=st){var C;if(Q)C=String.fromCharCode(P),C==="\\"&&(C="");else if(C=String(P),At){var nt=Nt-C.length;if(nt>0){var rt=new Array(nt+1).join("0");P<0?C="-"+rt+C.slice(1):C=rt+C}}M.push(C)}}else{M=[];for(var L=0;L<y.length;L++)M.push.apply(M,g(y[L],!1))}for(var L=0;L<M.length;L++)for(var v=0;v<_.length;v++){var $=A+M[L]+_[v];(!b||F||$)&&T.push($)}}return T}return z}var Wt=Pt();const jt=Lt(Wt),Bt=1024*64,G=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Bt)throw new TypeError("pattern is too long")},Ft={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},W=r=>r.replace(/[[\]\\-]/g,"\\$&"),Gt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ht=r=>r.join(""),It=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,a=!1,o=!1,h=!1,c=!1,l=e,p="";t:for(;n<r.length;){const g=r.charAt(n);if((g==="!"||g==="^")&&n===e+1){c=!0,n++;continue}if(g==="]"&&a&&!h){l=n+1;break}if(a=!0,g==="\\"&&!h){h=!0,n++;continue}if(g==="["&&!h){for(const[d,[b,T,w]]of Object.entries(Ft))if(r.startsWith(d,n)){if(p)return["$.",!1,r.length-e,!0];n+=d.length,w?i.push(b):s.push(b),o=o||T;continue t}}if(h=!1,p){g>p?s.push(W(p)+"-"+W(g)):g===p&&s.push(W(g)),p="",n++;continue}if(r.startsWith("-]",n+1)){s.push(W(g+"-")),n+=2;continue}if(r.startsWith("-",n+1)){p=g,n+=2;continue}s.push(W(g)),n++}if(l<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!c){const g=s[0].length===2?s[0].slice(-1):s[0];return[Gt(g),!1,l-e,!1]}const f="["+(c?"^":"")+ht(s)+"]",u="["+(c?"":"^")+ht(i)+"]";return[s.length&&i.length?"("+f+"|"+u+")":s.length?f:u,o,l-e,!0]},j=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Ut=new Set(["!","?","+","*","@"]),ct=r=>Ut.has(r),zt="(?!(?:^|/)\\.\\.?(?:$|/))",H="(?!\\.)",Ht=new Set(["[","."]),qt=new Set(["..","."]),Vt=new Set("().*{}+?[]^$\\!"),Jt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Z="[^/]",lt=Z+"*?",ut=Z+"+?";class x{type;#t;#e;#n=!1;#s=[];#i;#a;#r;#o=!1;#h;#c;#g=!1;constructor(t,e,s={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#r=this.#t===this?[]:this.#t.#r,t==="!"&&!this.#t.#o&&this.#r.push(this),this.#a=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#e!==void 0)return this.#e;for(const t of this.#s)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#c=this.#s.map(t=>String(t)).join("")}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#o)return this;this.toString(),this.#o=!0;let t;for(;t=this.#r.pop();){if(t.type!=="!")continue;let e=t,s=e.#i;for(;s;){for(let i=e.#a+1;!s.type&&i<s.#s.length;i++)for(const n of t.#s){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#s[i])}e=s,s=e.#i}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof x&&e.#i===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){const t=this.type===null?this.#s.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#s.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#o&&this.#i?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(this.#a===0)return!0;const t=this.#i;for(let e=0;e<this.#a;e++){const s=t.#s[e];if(!(s instanceof x&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#s.length:0;return this.#a===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new x(this.type,t);for(const s of this.#s)e.copyIn(s);return e}static#l(t,e,s,i){let n=!1,a=!1,o=-1,h=!1;if(e.type===null){let u=s,m="";for(;u<t.length;){const g=t.charAt(u++);if(n||g==="\\"){n=!n,m+=g;continue}if(a){u===o+1?(g==="^"||g==="!")&&(h=!0):g==="]"&&!(u===o+2&&h)&&(a=!1),m+=g;continue}else if(g==="["){a=!0,o=u,h=!1,m+=g;continue}if(!i.noext&&ct(g)&&t.charAt(u)==="("){e.push(m),m="";const d=new x(g,e);u=x.#l(t,d,u,i),e.push(d);continue}m+=g}return e.push(m),u}let c=s+1,l=new x(null,e);const p=[];let f="";for(;c<t.length;){const u=t.charAt(c++);if(n||u==="\\"){n=!n,f+=u;continue}if(a){c===o+1?(u==="^"||u==="!")&&(h=!0):u==="]"&&!(c===o+2&&h)&&(a=!1),f+=u;continue}else if(u==="["){a=!0,o=c,h=!1,f+=u;continue}if(ct(u)&&t.charAt(c)==="("){l.push(f),f="";const m=new x(u,l);l.push(m),c=x.#l(t,m,c,i);continue}if(u==="|"){l.push(f),f="",p.push(l),l=new x(null,e);continue}if(u===")")return f===""&&e.#s.length===0&&(e.#g=!0),l.push(f),f="",e.push(...p,l),c;f+=u}return e.type=null,e.#e=void 0,e.#s=[t.substring(s-1)],c}static fromGlob(t,e={}){const s=new x(null,void 0,e);return x.#l(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#e||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const o=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#h}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#u(),!this.type){const h=this.isStart()&&this.isEnd(),c=this.#s.map(u=>{const[m,g,d,b]=typeof u=="string"?x.#d(u,this.#e,h):u.toRegExpSource(t);return this.#e=this.#e||d,this.#n=this.#n||b,m}).join("");let l="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&qt.has(this.#s[0]))){const m=Ht,g=e&&m.has(c.charAt(0))||c.startsWith("\\.")&&m.has(c.charAt(2))||c.startsWith("\\.\\.")&&m.has(c.charAt(4)),d=!e&&!t&&m.has(c.charAt(0));l=g?zt:d?H:""}let p="";return this.isEnd()&&this.#t.#o&&this.#i?.type==="!"&&(p="(?:$|\\/)"),[l+c+p,j(c),this.#e=!!this.#e,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#p(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const h=this.toString();return this.#s=[h],this.type=null,this.#e=void 0,[h,j(this.toString()),!1,!1]}let a=!s||t||e?"":this.#p(!0);a===n&&(a=""),a&&(n=`(?:${n})(?:${a})*?`);let o="";if(this.type==="!"&&this.#g)o=(this.isStart()&&!e?H:"")+ut;else{const h=this.type==="!"?"))"+(this.isStart()&&!e&&!t?H:"")+lt+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=i+n+h}return[o,j(n),this.#e=!!this.#e,this.#n]}#p(t){return this.#s.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,a]=e.toRegExpSource(t);return this.#n=this.#n||a,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#d(t,e,s=!1){let i=!1,n="",a=!1;for(let o=0;o<t.length;o++){const h=t.charAt(o);if(i){i=!1,n+=(Vt.has(h)?"\\":"")+h;continue}if(h==="\\"){o===t.length-1?n+="\\\\":i=!0;continue}if(h==="["){const[c,l,p,f]=It(t,o);if(p){n+=c,a=a||l,o+=p-1,e=e||f;continue}}if(h==="*"){s&&t==="*"?n+=ut:n+=lt,e=!0;continue}if(h==="?"){n+=Z,e=!0;continue}n+=Jt(h)}return[n,j(t),!!e,a]}}const Zt=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&"),R=(r,t,e={})=>(G(t),!e.nocomment&&t.charAt(0)==="#"?!1:new I(t,e).match(r)),Xt=/^\*+([^+@!?\*\[\(]*)$/,Yt=r=>t=>!t.startsWith(".")&&t.endsWith(r),Kt=r=>t=>t.endsWith(r),Qt=r=>(r=r.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(r)),te=r=>(r=r.toLowerCase(),t=>t.toLowerCase().endsWith(r)),ee=/^\*+\.\*+$/,se=r=>!r.startsWith(".")&&r.includes("."),ie=r=>r!=="."&&r!==".."&&r.includes("."),ne=/^\.\*+$/,re=r=>r!=="."&&r!==".."&&r.startsWith("."),ae=/^\*+$/,oe=r=>r.length!==0&&!r.startsWith("."),he=r=>r.length!==0&&r!=="."&&r!=="..",ce=/^\?+([^+@!?\*\[\(]*)?$/,le=([r,t=""])=>{const e=yt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},ue=([r,t=""])=>{const e=St([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},pe=([r,t=""])=>{const e=St([r]);return t?s=>e(s)&&s.endsWith(t):e},fe=([r,t=""])=>{const e=yt([r]);return t?s=>e(s)&&s.endsWith(t):e},yt=([r])=>{const t=r.length;return e=>e.length===t&&!e.startsWith(".")},St=([r])=>{const t=r.length;return e=>e.length===t&&e!=="."&&e!==".."},Rt=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",pt={win32:{sep:"\\"},posix:{sep:"/"}},ge=Rt==="win32"?pt.win32.sep:pt.posix.sep;R.sep=ge;const N=Symbol("globstar **");R.GLOBSTAR=N;const de="[^/]",me=de+"*?",we="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ee="(?:(?!(?:\\/|^)\\.).)*?",be=(r,t={})=>e=>R(e,r,t);R.filter=be;const O=(r,t={})=>Object.assign({},r,t),ve=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return R;const t=R;return Object.assign((s,i,n={})=>t(s,i,O(r,n)),{Minimatch:class extends t.Minimatch{constructor(i,n={}){super(i,O(r,n))}static defaults(i){return t.defaults(O(r,i)).Minimatch}},AST:class extends t.AST{constructor(i,n,a={}){super(i,n,O(r,a))}static fromGlob(i,n={}){return t.AST.fromGlob(i,O(r,n))}},unescape:(s,i={})=>t.unescape(s,O(r,i)),escape:(s,i={})=>t.escape(s,O(r,i)),filter:(s,i={})=>t.filter(s,O(r,i)),defaults:s=>t.defaults(O(r,s)),makeRe:(s,i={})=>t.makeRe(s,O(r,i)),braceExpand:(s,i={})=>t.braceExpand(s,O(r,i)),match:(s,i,n={})=>t.match(s,i,O(r,n)),sep:t.sep,GLOBSTAR:N})};R.defaults=ve;const xt=(r,t={})=>(G(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:jt(r));R.braceExpand=xt;const ye=(r,t={})=>new I(r,t).makeRe();R.makeRe=ye;const Se=(r,t,e={})=>{const s=new I(t,e);return r=r.filter(i=>s.match(i)),s.options.nonull&&!r.length&&r.push(t),r};R.match=Se;const ft=/[?*]|[+@!]\(.*?\)|\[|\]/,Re=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class I{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){G(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Rt,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);const s=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let i=this.globParts.map((n,a,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){const h=n[0]===""&&n[1]===""&&(n[2]==="?"||!ft.test(n[2]))&&!ft.test(n[3]),c=/^[a-z]:/i.test(n[0]);if(h)return[...n.slice(0,4),...n.slice(4).map(l=>this.parse(l))];if(c)return[n[0],...n.slice(1).map(l=>this.parse(l))]}return n.map(h=>this.parse(h))});if(this.debug(this.pattern,i),this.set=i.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){const a=this.set[n];a[0]===""&&a[1]===""&&this.globParts[n][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let i=0;i<t[s].length;i++)t[s][i]==="**"&&(t[s][i]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let i=s;for(;e[i+1]==="**";)i++;i!==s&&e.splice(s,i-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,i)=>{const n=s[s.length-1];return i==="**"&&n==="**"?s:i===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(s.pop(),s):(s.push(i),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const n=t[i];i===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){const i=t[s-1];i&&i!=="."&&i!==".."&&i!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let i=-1;for(;(i=s.indexOf("**",i+1))!==-1;){let a=i;for(;s[a+1]==="**";)a++;a>i&&s.splice(i+1,a-i);let o=s[i+1];const h=s[i+2],c=s[i+3];if(o!==".."||!h||h==="."||h===".."||!c||c==="."||c==="..")continue;e=!0,s.splice(i,1);const l=s.slice(0);l[i]="**",t.push(l),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<s.length-1;a++){const o=s[a];a===1&&o===""&&s[0]===""||(o==="."||o==="")&&(e=!0,s.splice(a,1),a--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let n=0;for(;(n=s.indexOf("..",n+1))!==-1;){const a=s[n-1];if(a&&a!=="."&&a!==".."&&a!=="**"){e=!0;const h=n===1&&s[n+1]==="**"?["."]:[];s.splice(n-1,2,...h),s.length===0&&s.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const i=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(i){t[e]=[],t[s]=i;break}}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let i=0,n=0,a=[],o="";for(;i<t.length&&n<e.length;)if(t[i]===e[n])a.push(o==="b"?e[n]:t[i]),i++,n++;else if(s&&t[i]==="**"&&e[n]===t[i+1])a.push(t[i]),i++;else if(s&&e[n]==="**"&&t[i]===e[n+1])a.push(e[n]),n++;else if(t[i]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(o==="b")return!1;o="a",a.push(t[i]),i++,n++}else if(e[n]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(o==="a")return!1;o="b",a.push(e[n]),i++,n++}else return!1;return t.length===e.length&&a}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){const i=this.options;if(this.isWindows){const g=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),d=!g&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),T=!b&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),w=d?3:g?0:void 0,A=T?3:b?0:void 0;if(typeof w=="number"&&typeof A=="number"){const[_,v]=[t[w],e[A]];_.toLowerCase()===v.toLowerCase()&&(e[A]=_,A>w?e=e.slice(A):w>A&&(t=t.slice(w)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var a=0,o=0,h=t.length,c=e.length;a<h&&o<c;a++,o++){this.debug("matchOne loop");var l=e[o],p=t[a];if(this.debug(e,l,p),l===!1)return!1;if(l===N){this.debug("GLOBSTAR",[e,l,p]);var f=a,u=o+1;if(u===c){for(this.debug("** at the end");a<h;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;f<h;){var m=t[f];if(this.debug(`
globstar while`,t,f,e,u,m),this.matchOne(t.slice(f),e.slice(u),s))return this.debug("globstar found match!",f,h,m),!0;if(m==="."||m===".."||!i.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,f,e,u);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,f,e,u),f===h))}let g;if(typeof l=="string"?(g=p===l,this.debug("string match",l,p,g)):(g=l.test(p),this.debug("pattern match",l,p,g)),!g)return!1}if(a===h&&o===c)return!0;if(a===h)return s;if(o===c)return a===h-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return xt(this.pattern,this.options)}parse(t){G(t);const e=this.options;if(t==="**")return N;if(t==="")return"";let s,i=null;(s=t.match(ae))?i=e.dot?he:oe:(s=t.match(Xt))?i=(e.nocase?e.dot?te:Qt:e.dot?Kt:Yt)(s[1]):(s=t.match(ce))?i=(e.nocase?e.dot?ue:le:e.dot?pe:fe)(s):(s=t.match(ee))?i=e.dot?ie:se:(s=t.match(ne))&&(i=re);const n=x.fromGlob(t,this.options).toMMPattern();return i&&typeof n=="object"&&Reflect.defineProperty(n,"test",{value:i}),n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,s=e.noglobstar?me:e.dot?we:Ee,i=new Set(e.nocase?["i"]:[]);let n=t.map(h=>{const c=h.map(l=>{if(l instanceof RegExp)for(const p of l.flags.split(""))i.add(p);return typeof l=="string"?Re(l):l===N?N:l._src});return c.forEach((l,p)=>{const f=c[p+1],u=c[p-1];l!==N||u===N||(u===void 0?f!==void 0&&f!==N?c[p+1]="(?:\\/|"+s+"\\/)?"+f:c[p]=s:f===void 0?c[p-1]=u+"(?:\\/|"+s+")?":f!==N&&(c[p-1]=u+"(?:\\/|\\/"+s+"\\/)"+f,c[p+1]=N))}),c.filter(l=>l!==N).join("/")}).join("|");const[a,o]=t.length>1?["(?:",")"]:["",""];n="^"+a+n+o+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const n=this.set;this.debug(this.pattern,"set",n);let a=i[i.length-1];if(!a)for(let o=i.length-2;!a&&o>=0;o--)a=i[o];for(let o=0;o<n.length;o++){const h=n[o];let c=i;if(s.matchBase&&h.length===1&&(c=[a]),this.matchOne(c,h,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return R.defaults(t).Minimatch}}R.AST=x;R.Minimatch=I;R.escape=Zt;R.unescape=j;function xe(r){return r.replaceAll(" ","-").replaceAll(/[^\w-]/gi,"").toLowerCase()}function X(r,t){return!r.startsWith("*")&&t.startsWith("*")?-1:r.startsWith("*")&&!t.startsWith("*")?1:r.startsWith(t)?-1:t.startsWith(r)?1:r.localeCompare(t,"en")}function Te(r){switch(r){case"image/jpeg":return"jpg";case"image/tiff":return"tif";default:return r.split(/\/|\+/gi)[1]}}function Oe(r){return{cache_matchers:Ne(r.settings.cache_configs),url_cache_matcher:dt(r.settings.url_param_cache),url_ignore_matcher:dt(r.settings.url_param_ignore),note_cache_matcher:gt(r.app,r.settings.note_param_cache),note_ignore_matcher:gt(r.app,r.settings.note_param_ignore)}}function gt(r,t="fallback_param"){return(e,s)=>{const i=r.metadataCache.getCache(e);if(!i?.frontmatter)return!1;const n=E.parseFrontMatterEntry(i.frontmatter,t);if(!n)return!1;if(String.isString(n))return q(n,s);if(!Array.isArray(n))return!1;for(const a of n)if(String.isString(a)&&q(a,s))return!0;return!1}}function q(r,t){return r.startsWith("http")?t.startsWith(r):new RegExp("^https?://(\\w+\\.)*"+r,"g").test(t)}function dt(r="fallback_param"){const t=new RegExp("[?&]"+r+"([&=\\s]|$)","i");return e=>t.test(e)}function Ne(r){return r.map(t=>{let e=n=>D.getParent(n)??"/";switch(t.mode){case"NOTE-FOLDER":e=n=>D.join(D.getParent(n),t.target);break;case"TARGET-PATH":e=n=>D.join(t.target,D.removeExt(n));break;case"TARGET-NOTE":e=n=>D.join(t.target,D.getBasename(n));break;case"TARGET":e=()=>t.target;break}const s=t.pattern!=="*"?n=>R(n,t.pattern):()=>!0,i=n=>{for(const{pattern:a,whitelisted:o}of t.remotes)if(a==="*"||q(a,n))return o;return!1};return{source:Object.freeze(t),isEnabled:()=>t.enabled,testRemote:i,testPath:s,resolve:e}})}async function De(r,t){t.debug(`Resolving extension for ${r}`);const e=J.getOrigin(r),s=await E.requestUrl({url:r,throw:!1,method:"HEAD",headers:{Referer:e?e+"/":""}});return k.assertResponse(r,s,"url-request-head"),Te(s.headers["content-type"])}async function Ae(r,t){t.debug(`Downloading ${r}`);const e=J.getOrigin(r),s=await E.requestUrl({url:r,throw:!1,method:"GET",headers:{Referer:e?e+"/":""}});return k.assertResponse(r,s,"url-request-get"),s.arrayBuffer}function mt(r){const t=[];let e=!1;for(const s of r)t.every(i=>i.pattern!==s.pattern)&&(s.pattern==="*"&&(e=!0),t.push(s));return e||t.push({pattern:"*",whitelisted:!1}),t.sort((s,i)=>X(s.pattern,i.pattern))}function wt(r){return r.map(({whitelisted:t,pattern:e})=>`${t?"w":"b"} ${e}`).join(`
`)}function _e(r){if(!/\s+/.test(r))return[r,void 0];const t=r.split(/\s+/g);return t[0].startsWith("w")?[t[1],!0]:t[0].startsWith("b")?[t[1],!1]:[t[1],void 0]}function Ce(r,t){const e=[];let s=!1;for(const i of t.split(/\n+/g)){const[n,a]=_e(i);if(n==="*"&&(s=!0),!e.some(o=>o.pattern===n)){if(a!==void 0){e.push({pattern:n,whitelisted:a});continue}for(const o of r){if(n===o.pattern){e.push({pattern:n,whitelisted:o.whitelisted});break}if(Math.abs(n.length-o.pattern.length)===1){if(o.pattern.startsWith(n)){e.push({pattern:n,whitelisted:o.whitelisted});break}else if(n.startsWith(o.pattern)){e.push({pattern:n,whitelisted:o.whitelisted});break}}}e.some(o=>o.pattern===n)||e.push({pattern:n,whitelisted:!1})}}return s||e.push({pattern:"*",whitelisted:!1}),e.sort((i,n)=>X(i.pattern,n.pattern))}function $e(r){const t=[];let e=!1;for(const s of r.split(/\n+/g)){const i=s.trim().replace(/^[wb]\s+/,"");if(i==="*"){e=!0;continue}/^\w+:/gi.test(i)&&t.push("remove protocols, ex: 'http://'"),/^(\w+\.)+\w+/.test(i)||t.push("should include domain, ex: 'example.org/path'")}return e||t.unshift("should include a fallback '*'"),t}function V(r){const t=[];for(const e of r){const s=t.findIndex(i=>i.pattern===e.pattern);if(s===-1){t.push({...e,remotes:mt(e.remotes)});continue}e.remotes.length>t[s].remotes.length&&(t[s]={...e,remotes:mt(e.remotes)})}return t.sort((e,s)=>X(e.pattern,s.pattern))}function Me(r,t){if(!t)return["invalid pattern"];for(const e of r)if(e.pattern===t)return[`duplicated pattern '${t}'`];return[]}const Le={ERROR:"ERROR",WARN:" WARN",INFO:" INFO",DEBUG:"DEBUG",TRACE:"TRACE"},ke={LOWER:0,NORMAL:1,HIGHER:Number.MAX_SAFE_INTEGER-1},Pe={LOWER:"Only cache static attachments",NORMAL:"Cache majority of attachments",HIGHER:"Cache all posible attachments"},We={NOTE:"Attachments next to the note","NOTE-FOLDER":"Attachments on subfolder",TARGET:"Attachments on cache folder","TARGET-NOTE":"Attachments on cache note folder","TARGET-PATH":"Attachments on cache note path"},Et={NOTE:"Store in the same folder as the note","NOTE-FOLDER":"Store next to the note in subfolder",TARGET:"Store in folder","TARGET-NOTE":"Store in subfolder with the note-name under","TARGET-PATH":"Store in a replated note-path under"},je=({mode:r,target:t})=>{switch(r){case"NOTE":return"folder/img1.jpg";case"NOTE-FOLDER":return`folder/${t}/img1.jpg`;case"TARGET":return`${t}/img1.jpg`;case"TARGET-NOTE":return`${t}/note1/img1.jpg`;case"TARGET-PATH":return`${t}/folder/note1/img1.jpg`}};class Be{#t;#e;#n;#s;#i;constructor(t,e){this.#t={...e,remotes:[...e.remotes]},this.#e=new E.Setting(t),this.#n=this.#e.settingEl.createDiv("cache-details"),this.#s=this.#e.settingEl.createDiv("cache-remotes"),this.#o(),this.#c(),this.#u()}#a(){return createFragment(t=>{t.append(`${this.#t.enabled?"Enabled":"Disabled"} path: `),t.createEl("code").appendText(this.#t.pattern)})}#r(){return this.#t.mode==="NOTE"?Et.NOTE:createFragment(t=>{t.append(Et[this.#t.mode]),t.createEl("code").appendText(this.#t.target)})}#o(){this.#e.setName(this.#a()),this.#e.setDesc(this.#r()),this.#t.pattern!=="*"&&this.#e.addExtraButton(t=>{t.setIcon("trash-2").setTooltip("Remove"),t.onClick(()=>{if(this.#t.pattern==="*"){console.warn("fallback config('*') can't be removed");return}this.#e.clear(),this.#e.settingEl.remove(),this.#m()})}),this.#e.addToggle(t=>{t.setValue(this.#t.enabled),t.onChange(e=>{this.#t.enabled=e,this.#f(),this.#e.setName(this.#a())})}),this.#e.addExtraButton(t=>{let e=!1;t.setIcon("chevron-down").setTooltip("Details"),t.onClick(()=>{e=!e,e?(t.setIcon("chevron-up"),this.#e.settingEl.addClass("show-details")):(t.setIcon("chevron-down"),this.#e.settingEl.removeClass("show-details"))})})}#h(){return createFragment(t=>{t.append("Attachments storage path, ex:");const e=t.createEl("ul"),s=e.createEl("li");s.append("Note: '"),s.createEl("b").appendText("folder/note1.md"),s.append("'");const i=e.createEl("li");i.append("Attachment: '"),i.createEl("b").appendText(je(this.#t)),i.append("'")})}#c(){let t;const e=new E.Setting(this.#n);e.setName("Storage"),e.setDesc(this.#h()),e.addDropdown(a=>{a.addOptions(We),a.setValue(this.#t.mode),a.onChange(o=>{this.#t.mode=o,this.#f(),e.setDesc(this.#h()),this.#t.mode==="NOTE"?(t?.setDisabled(!0),t?.setValue("")):(t?.setDisabled(!1),t?.setValue(this.#t.target))})}),e.addText(a=>{t=a,this.#t.mode==="NOTE"?a.setDisabled(!0):a.setValue(this.#t.target),a.onChange(o=>{this.#t.target=o,this.#f(),e.setDesc(this.#h())})});const s=createFragment(),i=s.createEl("ul"),n=new E.Setting(this.#n);n.setClass("remotes-input"),n.setName("Remotes"),n.setDesc(s),n.addTextArea(a=>{this.#i=a,a.setValue(wt(this.#t.remotes)),a.onChange(o=>{i.empty();const h=$e(o);if(h.length>0){h.forEach(c=>i.createEl("li").appendText(c));return}this.#t.remotes=Ce(this.#t.remotes,o),this.#f(),this.#u()})})}#g(t){return createFragment(e=>{e.append(`${t.whitelisted?"Whitelisted":"Blacklisted"} remote: `),e.createEl("code").appendText(t.pattern)})}#u(){this.#s.empty();for(const t of this.#t.remotes){const e=new E.Setting(this.#s);e.setName(this.#g(t)),t.pattern!=="*"&&e.addExtraButton(s=>{s.setIcon("trash-2").setTooltip("Remove"),s.onClick(()=>{const i=this.#t.remotes.filter(n=>n.pattern!==t.pattern);this.#l(i)})}),e.addButton(s=>{s.setButtonText(t.whitelisted?"Blacklist":"Whitelist"),s.onClick(()=>{const i=this.#t.remotes.map(n=>n.pattern!==t.pattern?n:{...n,whitelisted:!n.whitelisted});this.#l(i)})})}}#l(t){this.#t.remotes=t,this.#f(),this.#i?.setValue(wt(t)),this.#u()}#p=[];#d=[];#f(){for(const t of this.#p)t(this.#t)}#m(){for(const t of this.#d)t(this.#t)}onChange(t){return this.#p.push(t),this}onRemove(t){return this.#d.push(t),this}}function bt(r,t){return createFragment(e=>{e.appendText(t+". Check the "),e.createEl("a",{text:"Docs",href:`https://github.com/luisbs/obsidian-attachments-cache/blob/main/docs/settings.md#${xe(r)}`}),e.appendText(".")})}class Fe extends E.PluginSettingTab{#t;#e;constructor(t){super(t.app,t),this.#t=t}display(){this.containerEl.empty(),this.containerEl.addClass("attachments-cache-settings"),this.#n(),new E.Setting(this.containerEl).setName("Overrides").setHeading(),this.#s(),new E.Setting(this.containerEl).setName("Rules").setHeading(),this.#i(),this.#e=this.containerEl.createDiv("configs-list"),this.#a()}#n(){const t=new E.Setting(this.containerEl);t.setName("Log level"),t.setDesc(bt("Log level","To check the plugin logs")),t.addDropdown(i=>{i.addOptions(Le),i.setValue(this.#t.settings.plugin_level),i.onChange(this.#r.bind(this,"plugin_level"))});const e=new E.Setting(this.containerEl);e.setName("Cache priority"),e.setDesc(bt("Cache priority","Affects the attachments been cached")),e.addDropdown(i=>{i.addOptions(Pe),i.setValue(this.#t.settings.plugin_priority),i.onChange(this.#r.bind(this,"plugin_priority"))});const s=new E.Setting(this.containerEl);s.setName("Keep special characters"),s.setDesc("If you are having problems with special characters on paths, disable this setting."),s.addToggle(i=>{i.setValue(this.#t.settings.allow_characters),i.onChange(this.#r.bind(this,"allow_characters"))})}#s(){const t=new E.Setting(this.containerEl);t.setName("URL's ignore param"),t.setDesc("Overrides rules and ignores the attachment."),t.addText(n=>{n.setValue(this.#t.settings.url_param_ignore),n.onChange(this.#r.bind(this,"url_param_ignore"))});const e=new E.Setting(this.containerEl);e.setName("URL's cache param"),e.setDesc("Overrides rules and caches the attachment."),e.addText(n=>{n.setValue(this.#t.settings.url_param_cache),n.onChange(this.#r.bind(this,"url_param_cache"))});const s=new E.Setting(this.containerEl);s.setName("Note's ignore frontmatter attribute"),s.setDesc("Overrides rules and ignores the Note attachments."),s.addText(n=>{n.setValue(this.#t.settings.note_param_ignore),n.onChange(this.#r.bind(this,"note_param_ignore"))});const i=new E.Setting(this.containerEl);i.setName("Note's cache frontmatter attribute"),i.setDesc("Overrides rules and caches the Note attachments."),i.addText(n=>{n.setValue(this.#t.settings.note_param_cache),n.onChange(this.#r.bind(this,"note_param_cache"))})}#i(){let t=null,e=null,s=null;const i=createFragment(),n=i.createEl("ul"),a=new E.Setting(this.containerEl);a.setClass("configs-header"),a.setName("Duplicate cache rule"),a.setDesc(i),a.addDropdown(o=>{e=o,o.setValue("*");for(const h of this.#t.settings.cache_configs)o.addOption(h.pattern,h.pattern)}),a.addText(o=>{t=o,o.setPlaceholder("glob: **/*.md"),o.onChange(h=>{if(n.empty(),!h){s?.setDisabled(!0);return}const c=Me(this.#t.settings.cache_configs,h);if(c.length>0){c.forEach(l=>n.createEl("li").appendText(l));return}s?.setDisabled(c.length>0)})}),a.addButton(o=>{s=o,o.setButtonText("Duplicate"),o.setDisabled(!0),o.onClick(()=>{const h=t?.getValue(),c=e?.getValue()??"*",l=this.#t.settings.cache_configs.find(f=>f.pattern===c);if(!h||!l){console.warn("unexpected state");return}const p=this.#t.settings.cache_configs;p.push({pattern:h,remotes:l.remotes,enabled:l.enabled,target:l.target,mode:l.mode}),this.#o(p)})})}#a(){if(this.#e){this.#e.empty();for(const t of this.#t.settings.cache_configs){const e=new Be(this.#e,t);e.onChange(s=>{const i=this.#t.settings.cache_configs.map(n=>n.pattern===s.pattern?s:n);this.#o(i)}),e.onRemove(s=>{const i=this.#t.settings.cache_configs.filter(n=>n.pattern!==s.pattern);this.#o(i)})}}}#r(t,e){this.#t.settings[t]=e,this.#t.saveSettings()}#o(t){this.#t.settings.cache_configs=V(t),this.#t.saveSettings()}}class Ge{constructor(t){this.plugin=t}#t;syncPriority(){this.#t&&(this.#t.sortOrder=ke[this.plugin.settings.plugin_priority])}registerMarkdownProcessor(){this.#t=this.plugin.registerMarkdownPostProcessor((t,{sourcePath:e})=>{if(this.plugin.settings.plugin_priority==="LOWER"){this.#e(t,e);return}const s=this.plugin.settings.plugin_priority==="HIGHER"?1e4:2e3;setTimeout(()=>void this.#e(t,e),s)}),this.syncPriority()}async#e(t,e){for(const s of Array.from(t.querySelectorAll("img"))){const i=await this.plugin.api.cache(e,s.src);i&&(s.src=i)}}}class Y{#t;#e;#n;#s=new Map;constructor(t){this.#t=t.log.make(Y.name),this.#e=t.app.vault,this.#n=t}mayCache(t,e){return!!this.#i({notepath:t,remote:e},this.#t)}async isCached(t,e){const s=await this.resolve(t,e);return!!s&&!!this.#e.getAbstractFileByPath(s)}async resource(t,e){const s=await this.resolve(t,e);if(!s)return;const i=this.#e.getFileByPath(s);return i?this.#e.getResourcePath(i):void 0}async resolve(t,e){const s=this.#t.group();try{s.debug("Resolving",{notepath:t,remote:e});const i=await this.#a({notepath:t,remote:e},s);if(i)return s.flush("remote resolved",e),i}catch(i){s.error(i)}s.flush("remote could not be resolved",e)}async cache(t,e){if(!e.startsWith("http"))return this.#t.debug("remotes should at least start with http"),e;const s=this.#t.group();try{s.debug("Caching",{notepath:t,remote:e});const i=await this.#a({notepath:t,remote:e},s);if(!i){s.debug("remote could not be resolved"),s.flush("remote was not cached",e);return}const n=this.#e.getFileByPath(i);if(n)return s.flush("remote is already in cache",e),this.#e.getResourcePath(n);const a=await Ae(e,s);await this.#e.adapter.mkdir(D.getParent(i)??"/"),await this.#e.createBinary(i,a);const o=this.#e.getFileByPath(i);if(o)return s.flush("remote was cached",e),this.#e.getResourcePath(o)}catch(i){s.error(i)}s.flush("remote could not be cached",e)}#i(t,e){e.debug("searching an active cache rule");const s=this.#n.state.cache_matchers.find(i=>i.testPath(t.notepath));if(!s?.isEnabled()){e.debug("notepath does not match and active rule");return}if(this.#n.state.url_ignore_matcher(t.remote)){e.debug("remote has to be ignored (URL param)");return}if(this.#n.state.url_cache_matcher(t.remote))return e.debug("remote has to be cached (URL param)"),s;if(this.#n.state.note_ignore_matcher(t.notepath,t.remote)){e.debug("remote has to be ignored (Frontmatter attribute)");return}if(this.#n.state.note_cache_matcher(t.notepath,t.remote))return e.debug("remote has to be cached (Frontmatter attribute)"),s;if(s.testRemote(t.remote))return e.debug("remote matches an active rule"),s;e.debug("remote does not match and active rule")}async#a(t,e){const s=J.getBaseurl(t.remote);if(!s)throw e.debug("remote is not a valid URL"),new k("remote-no-url",`remote(${t.remote})`);const i=this.#s.get(s);if(i)return e.debug("remote resolved from cache",i),i;const n=this.#i(t,e);if(!n){e.debug("a cache rule could not be matched");return}const a=D.getBasename(s),o=D.getExt(s)??await De(t.remote,e);if(!a||!o)throw e.debug(`name(${a}) or ext(${o}) could not be resolved`),new k("remote-no-ext");const h=D.join(n.resolve(t.notepath),a+"."+o),c=this.#n.settings.allow_characters?E.normalizePath(h):E.normalizePath(D.normalize(h));return this.#s.set(s,c),e.debug("remote resolved",c),c}}const vt={plugin_level:"WARN",plugin_priority:"NORMAL",allow_characters:!1,url_param_cache:"cache_file",url_param_ignore:"ignore_file",note_param_cache:"cache_from",note_param_ignore:"cache_unless",cache_configs:[{pattern:"*",remotes:[{whitelisted:!1,pattern:"*"}],enabled:!1,target:"",mode:"NOTE"}]};class K extends E.Plugin{log=B.consoleLogger(K.name);settings={};state={};api;markdown;constructor(t,e){super(t,e),this.log.setLevel(S.DEBUG),this.log.setFormat("[hh:mm:ss.ms] level:"),this.api=new Y(this),this.markdown=new Ge(this),window.AttachmentsCache=this.api}async onload(){await this.loadSettings(),this.addSettingTab(new Fe(this)),this.markdown.registerMarkdownProcessor()}onunload(){delete window.AttachmentsCache}async loadSettings(){const t=this.log.group("Loading Settings"),{cache_configs:e,...s}=await this.loadData()||{};this.settings=Object.assign({},vt,s),this.settings.cache_configs=V([...e??[],...vt.cache_configs]),t.debug("Loaded: ",this.settings),this.#t(t),t.flush("Loaded Settings")}async saveSettings(){const t=this.log.group("Saving Settings"),e=Object.assign({},this.settings);e.cache_configs=V(e.cache_configs),await this.saveData(e),t.debug("Saved: ",e),this.#t(t),t.flush("Saved Settings")}#t(t){t.info("Preparing state"),this.log.setLevel(S[this.settings.plugin_level]),this.markdown.syncPriority(),this.state=Oe(this)}}module.exports=K;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsdWlzLmJzK29ic2lkaWFuLWZuY0AxLjQuMy9ub2RlX21vZHVsZXMvQGx1aXMuYnMvb2JzaWRpYW4tZm5jL2xpYi9vYnNpZGlhbi1mbmMuZXNtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvQXR0YWNobWVudEVycm9yLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2JhbGFuY2VkLW1hdGNoQDEuMC4yL25vZGVfbW9kdWxlcy9iYWxhbmNlZC1tYXRjaC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9icmFjZS1leHBhbnNpb25AMi4wLjEvbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2JyYWNlLWV4cHJlc3Npb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS91bmVzY2FwZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9lc2NhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvc3RyaW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L3N0YXRlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvcmVtb3Rlcy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L2NvbmZpZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvdmFsdWVzLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzL0NhY2hlU2V0dGluZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi8uLi8uLi8uLi9zcmMvZmlsZXN5c3RlbS9NYXJrZG93bkhhbmRsZXIudHMiLCIuLi8uLi8uLi8uLi9zcmMvQXR0YWNobWVudHNDYWNoZUFQSS50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDIyLXByZXNlbnQgTHVpcyBCcmF5YW5cbiAqIEBsdWlzLmJzL29ic2lkaWFuLWZuY0AxLjQuMyBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL2x1aXNicy9vYnNpZGlhbi1mbmNcbiAqL1xuaW1wb3J0IHsgU2NvcGUgYXMgZ3QsIG5vcm1hbGl6ZVBhdGggYXMgcHQsIFRGb2xkZXIgYXMgRiwgVEZpbGUgYXMgQiB9IGZyb20gXCJvYnNpZGlhblwiO1xuY2xhc3MgZHQge1xuICBlcnJvcih0LCBuKSB7XG4gICAgY29uc29sZS5lcnJvcih0LCAuLi5uKTtcbiAgfVxuICB3YXJuKHQsIG4pIHtcbiAgICBjb25zb2xlLndhcm4odCwgLi4ubik7XG4gIH1cbiAgaW5mbyh0LCBuKSB7XG4gICAgY29uc29sZS5pbmZvKHQsIC4uLm4pO1xuICB9XG4gIGRlYnVnKHQsIG4pIHtcbiAgICBjb25zb2xlLmRlYnVnKHQsIC4uLm4pO1xuICB9XG4gIHRyYWNlKHQsIG4pIHtcbiAgICBjb25zb2xlLnRyYWNlKHQsIC4uLm4pO1xuICB9XG4gIGdyb3VwKHQsIG4pIHtcbiAgICByZXR1cm4gY29uc29sZS5ncm91cENvbGxhcHNlZCh0LCAuLi5uKSwgY29uc29sZS5ncm91cEVuZDtcbiAgfVxufVxuY29uc3QgcCA9IE9iamVjdC5mcmVlemUoe1xuICBUUkFDRTogMSxcbiAgREVCVUc6IDIsXG4gIElORk86IDMsXG4gIFdBUk46IDQsXG4gIEVSUk9SOiA1XG59KSwgd3QgPSBPYmplY3QuZnJlZXplKHtcbiAgMTogXCJUUkFDRVwiLFxuICAyOiBcIkRFQlVHXCIsXG4gIDM6IFwiIElORk9cIixcbiAgNDogXCIgV0FSTlwiLFxuICA1OiBcIkVSUk9SXCJcbn0pO1xuY2xhc3MgViB7XG4gICN0O1xuICAjcztcbiAgI2U7XG4gICNuID0gW107XG4gICNpID0gW107XG4gIC8qKiBPdmVycmlkZXMgY2hhaW4gaW5oZXJpdGVkIHZhbHVlLiAqL1xuICBnZXQgbGV2ZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPyB0aGlzLiNzIDogdGhpcy4jdD8ubGV2ZWwgPz8gcC5XQVJOO1xuICB9XG4gIGdldCBmb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2UgPyB0aGlzLiNlIDogdGhpcy4jdD8uZm9ybWF0ID8/IFwiW2hoOm1tOnNzLm1zXSBsZXZlbCAobmFtZXNwYWNlKTpcIjtcbiAgfVxuICBnZXQgbmFtZXNwYWNlKCkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHRoaXMuI2kubGVuZ3RoIC0gMTsgbisrKVxuICAgICAgdC5wdXNoKHRoaXMuI2lbbl1bMF0pO1xuICAgIHJldHVybiB0LnB1c2godGhpcy4jaS5hdCgtMSkgPz8gXCJcIiksIHQuam9pbihcIi5cIik7XG4gIH1cbiAgZ2V0IGRyaXZlcnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUodGhpcy4jbik7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBsZXZlbCBpcyBwcm9wYWdhdGVkLiAqL1xuICBzZXRMZXZlbCh0KSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPSB0LCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugb24gZm9ybWF0IGlzIHByb3BhZ2V0ZWQuXG4gICAqIFRoZSB2YWxpZCBwbGFjZWhvbGRlcnMgYXJlOlxuICAgKiAtIGBoaGAgKGhvdXIpXG4gICAqIC0gYG1tYCAobWludXRlKVxuICAgKiAtIGBzc2AgKHNlY29uZClcbiAgICogLSBgbXNgIChtaWxsaXNlY29uZClcbiAgICogLSBgbGV2ZWxgXG4gICAqIC0gYG5hbWVzcGFjZWBcbiAgICogQGV4YW1wbGUgJ1toaDptbTpzcy5tc10gbGV2ZWwgKG5hbWVzcGFjZSk6J1xuICAgKi9cbiAgc2V0Rm9ybWF0KHQpIHtcbiAgICByZXR1cm4gdGhpcy4jZSA9IHQsIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBkcml2ZXJzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkRHJpdmVycyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jbi5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNuLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBuYW1lc3BhY2VzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkTmFtZXNwYWNlcyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jaS5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNpLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFN0YXJ0cyBhIExvZ2dlcnMgY2hhaW4uICovXG4gIHN0YXRpYyBjb25zb2xlTG9nZ2VyKHQpIHtcbiAgICBjb25zdCBuID0gbmV3IFYoKTtcbiAgICByZXR1cm4gbi5zZXRMZXZlbChwLldBUk4pLCBuLmFkZERyaXZlcnMobmV3IGR0KCkpLCBuLmFkZE5hbWVzcGFjZXModCksIG47XG4gIH1cbiAgLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIuICovXG4gIG1ha2UodCkge1xuICAgIGNvbnN0IG4gPSBuZXcgVigpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSwgdCksIG47XG4gIH1cbiAgLyoqIFByZXBhcmUgdGhlIGxvZyBwcmVmaXggYmFzZWQgb24gYHRoaXMuZm9ybWF0YCAqL1xuICBwcmVmaXgodCwgbikge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKFwiaGhcIiwgU3RyaW5nKHQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpKS5yZXBsYWNlKFwibW1cIiwgU3RyaW5nKHQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIikpLnJlcGxhY2UoXCJzc1wiLCBTdHJpbmcodC5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKSkucmVwbGFjZShcIm1zXCIsIFN0cmluZyh0LmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCBcIjBcIikpLnJlcGxhY2UoXCJsZXZlbFwiLCB3dFtuXSkucmVwbGFjZShcIm5hbWVzcGFjZVwiLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH1cbiAgbG9nKHQsIG4sIHMpIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IG4pIHJldHVybjtcbiAgICBjb25zdCBpID0gdGhpcy5wcmVmaXgodCwgbik7XG4gICAgc3dpdGNoICh0aGlzLmxldmVsKSB7XG4gICAgICBjYXNlIHAuRVJST1I6XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci5lcnJvcihpLCBzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBwLldBUk46XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci53YXJuKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHAuSU5GTzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmluZm8oaSwgcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgcC5ERUJVRzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmRlYnVnKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLiNuLmZvckVhY2goKHIpID0+IHIudHJhY2UoaSwgcykpO1xuICAgIH1cbiAgfVxuICBlcnJvciguLi50KSB7XG4gICAgdGhpcy5sb2coLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHAuRVJST1IsIHQpO1xuICB9XG4gIHdhcm4oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLldBUk4sIHQpO1xuICB9XG4gIGluZm8oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpO1xuICB9XG4gIGRlYnVnKC4uLnQpIHtcbiAgICB0aGlzLmxvZygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgcC5ERUJVRywgdCk7XG4gIH1cbiAgdHJhY2UoLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLlRSQUNFLCB0KTtcbiAgfVxuICAvLyBvbihsb2dnZXI6IHVua25vd24pOiBMb2dnZXIge1xuICAvLyAgIHJldHVybiBsb2dnZXIgJiYgbG9nZ2VyIGluc3RhbmNlb2YgTG9nZ2VyID8gbmV3IExvZ2dlcldyYXBwZXIodGhpcy5uYW1lc3BhY2UsIGxvZ2dlcikgOiB0aGlzXG4gIC8vIH1cbiAgLy8gLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIsIHRoYXQgZ3JvdXBzIHRoZSBsb2dzLiAqL1xuICBncm91cCguLi50KSB7XG4gICAgY29uc3QgbiA9IG5ldyBtdCgpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSksIHQubGVuZ3RoICYmIG4ubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpLCBuO1xuICB9XG59XG5jbGFzcyBtdCBleHRlbmRzIFYge1xuICAjdCA9IFtdO1xuICBsb2codCwgbiwgcykge1xuICAgIHRoaXMubGV2ZWwgPiBuIHx8IHRoaXMuI3QucHVzaCh7IHRpbWVzdGFtcDogdCwgbGV2ZWw6IG4sIGNvbnRlbnQ6IHMgfSk7XG4gIH1cbiAgZmx1c2goLi4udCkge1xuICAgIGlmICh0aGlzLiN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgc3VwZXIubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuID0gdGhpcy5wcmVmaXgoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHAuSU5GTyksIHMgPSB0aGlzLmRyaXZlcnMubWFwKFxuICAgICAgKGkpID0+IGkuZ3JvdXAobiwgdClcbiAgICApO1xuICAgIGZvciAoY29uc3QgeyB0aW1lc3RhbXA6IGksIGxldmVsOiByLCBjb250ZW50OiBvIH0gb2YgdGhpcy4jdClcbiAgICAgIHN1cGVyLmxvZyhpLCByLCBvKTtcbiAgICBzLmZvckVhY2goKGkpID0+IGkoKSksIHRoaXMuI3QgPSBbXTtcbiAgfVxufVxuY2xhc3MgeXQge1xuICBjb25zdHJ1Y3Rvcih0LCBuKSB7XG4gICAgdGhpcy5hcHAgPSB0LCB0aGlzLmNvbnRhaW5lckVsID0gbiwgdGhpcy5zY29wZSA9IG5ldyBndCgpLCB0aGlzLndyYXBwZXJFbCA9IGNyZWF0ZURpdihcInN1Z2dlc3Rpb25zLXRvb2x0aXBcIik7XG4gIH1cbiAgc2NvcGU7XG4gIHdyYXBwZXJFbDtcbiAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJFc2NhcGVcIiwgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wdXNoU2NvcGUodGhpcy5zY29wZSksIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyRWwpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wb3BTY29wZSh0aGlzLnNjb3BlKSwgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy53cmFwcGVyRWwuZGV0YWNoKCk7XG4gIH1cbn1cbmNvbnN0IFkgPSBNYXRoLm1pbiwgQSA9IE1hdGgubWF4LCBIID0gTWF0aC5yb3VuZCwgeCA9IChlKSA9PiAoe1xuICB4OiBlLFxuICB5OiBlXG59KTtcbmZ1bmN0aW9uIFooZSkge1xuICByZXR1cm4gZS5zcGxpdChcIi1cIilbMF07XG59XG5mdW5jdGlvbiB4dChlKSB7XG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVsxXTtcbn1cbmZ1bmN0aW9uIEV0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieFwiID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIGJ0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieVwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIjtcbn1cbmZ1bmN0aW9uIHR0KGUpIHtcbiAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhaKGUpKSA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiB2dChlKSB7XG4gIHJldHVybiBFdCh0dChlKSk7XG59XG5mdW5jdGlvbiBldChlKSB7XG4gIGNvbnN0IHtcbiAgICB4OiB0LFxuICAgIHk6IG4sXG4gICAgd2lkdGg6IHMsXG4gICAgaGVpZ2h0OiBpXG4gIH0gPSBlO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBzLFxuICAgIGhlaWdodDogaSxcbiAgICB0b3A6IG4sXG4gICAgbGVmdDogdCxcbiAgICByaWdodDogdCArIHMsXG4gICAgYm90dG9tOiBuICsgaSxcbiAgICB4OiB0LFxuICAgIHk6IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIFgoZSwgdCwgbikge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZTogcyxcbiAgICBmbG9hdGluZzogaVxuICB9ID0gZTtcbiAgY29uc3QgciA9IHR0KHQpLCBvID0gdnQodCksIGMgPSBidChvKSwgYSA9IFoodCksIGwgPSByID09PSBcInlcIiwgdSA9IHMueCArIHMud2lkdGggLyAyIC0gaS53aWR0aCAvIDIsIGYgPSBzLnkgKyBzLmhlaWdodCAvIDIgLSBpLmhlaWdodCAvIDIsIGcgPSBzW2NdIC8gMiAtIGlbY10gLyAyO1xuICBsZXQgaDtcbiAgc3dpdGNoIChhKSB7XG4gICAgY2FzZSBcInRvcFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogdSxcbiAgICAgICAgeTogcy55IC0gaS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiB1LFxuICAgICAgICB5OiBzLnkgKyBzLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogcy54ICsgcy53aWR0aCxcbiAgICAgICAgeTogZlxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiBzLnggLSBpLndpZHRoLFxuICAgICAgICB5OiBmXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGggPSB7XG4gICAgICAgIHg6IHMueCxcbiAgICAgICAgeTogcy55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoeHQodCkpIHtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIGhbb10gLT0gZyAqIChuICYmIGwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImVuZFwiOlxuICAgICAgaFtvXSArPSBnICogKG4gJiYgbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaDtcbn1cbmNvbnN0IFJ0ID0gYXN5bmMgKGUsIHQsIG4pID0+IHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudDogcyA9IFwiYm90dG9tXCIsXG4gICAgc3RyYXRlZ3k6IGkgPSBcImFic29sdXRlXCIsXG4gICAgbWlkZGxld2FyZTogciA9IFtdLFxuICAgIHBsYXRmb3JtOiBvXG4gIH0gPSBuLCBjID0gci5maWx0ZXIoQm9vbGVhbiksIGEgPSBhd2FpdCAoby5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogby5pc1JUTCh0KSk7XG4gIGxldCBsID0gYXdhaXQgby5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZTogZSxcbiAgICBmbG9hdGluZzogdCxcbiAgICBzdHJhdGVneTogaVxuICB9KSwge1xuICAgIHg6IHUsXG4gICAgeTogZlxuICB9ID0gWChsLCBzLCBhKSwgZyA9IHMsIGggPSB7fSwgTCA9IDA7XG4gIGZvciAobGV0IGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGIsXG4gICAgICBmbjogSVxuICAgIH0gPSBjW2RdLCB7XG4gICAgICB4OiBPLFxuICAgICAgeTogVyxcbiAgICAgIGRhdGE6IFAsXG4gICAgICByZXNldDogQ1xuICAgIH0gPSBhd2FpdCBJKHtcbiAgICAgIHg6IHUsXG4gICAgICB5OiBmLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcyxcbiAgICAgIHBsYWNlbWVudDogZyxcbiAgICAgIHN0cmF0ZWd5OiBpLFxuICAgICAgbWlkZGxld2FyZURhdGE6IGgsXG4gICAgICByZWN0czogbCxcbiAgICAgIHBsYXRmb3JtOiBvLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgICBmbG9hdGluZzogdFxuICAgICAgfVxuICAgIH0pO1xuICAgIHUgPSBPID8/IHUsIGYgPSBXID8/IGYsIGggPSB7XG4gICAgICAuLi5oLFxuICAgICAgW2JdOiB7XG4gICAgICAgIC4uLmhbYl0sXG4gICAgICAgIC4uLlBcbiAgICAgIH1cbiAgICB9LCBDICYmIEwgPD0gNTAgJiYgKEwrKywgdHlwZW9mIEMgPT0gXCJvYmplY3RcIiAmJiAoQy5wbGFjZW1lbnQgJiYgKGcgPSBDLnBsYWNlbWVudCksIEMucmVjdHMgJiYgKGwgPSBDLnJlY3RzID09PSAhMCA/IGF3YWl0IG8uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgIHJlZmVyZW5jZTogZSxcbiAgICAgIGZsb2F0aW5nOiB0LFxuICAgICAgc3RyYXRlZ3k6IGlcbiAgICB9KSA6IEMucmVjdHMpLCB7XG4gICAgICB4OiB1LFxuICAgICAgeTogZlxuICAgIH0gPSBYKGwsIGcsIGEpKSwgZCA9IC0xKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHUsXG4gICAgeTogZixcbiAgICBwbGFjZW1lbnQ6IGcsXG4gICAgc3RyYXRlZ3k6IGksXG4gICAgbWlkZGxld2FyZURhdGE6IGhcbiAgfTtcbn07XG5mdW5jdGlvbiAkKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiO1xufVxuZnVuY3Rpb24gRChlKSB7XG4gIHJldHVybiBudChlKSA/IChlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiBcIiNkb2N1bWVudFwiO1xufVxuZnVuY3Rpb24gdyhlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKGUgPT0gbnVsbCB8fCAodCA9IGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIHYoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuICh0ID0gKG50KGUpID8gZS5vd25lckRvY3VtZW50IDogZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBudChlKSB7XG4gIHJldHVybiAkKCkgPyBlIGluc3RhbmNlb2YgTm9kZSB8fCBlIGluc3RhbmNlb2YgdyhlKS5Ob2RlIDogITE7XG59XG5mdW5jdGlvbiBtKGUpIHtcbiAgcmV0dXJuICQoKSA/IGUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkVsZW1lbnQgOiAhMTtcbn1cbmZ1bmN0aW9uIEUoZSkge1xuICByZXR1cm4gJCgpID8gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkhUTUxFbGVtZW50IDogITE7XG59XG5mdW5jdGlvbiBxKGUpIHtcbiAgcmV0dXJuICEkKCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPiBcInVcIiA/ICExIDogZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgZSBpbnN0YW5jZW9mIHcoZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGsoZSkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3c6IHQsXG4gICAgb3ZlcmZsb3dYOiBuLFxuICAgIG92ZXJmbG93WTogcyxcbiAgICBkaXNwbGF5OiBpXG4gIH0gPSB5KGUpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3QodCArIHMgKyBuKSAmJiAhW1wiaW5saW5lXCIsIFwiY29udGVudHNcIl0uaW5jbHVkZXMoaSk7XG59XG5mdW5jdGlvbiBMdChlKSB7XG4gIHJldHVybiBbXCJ0YWJsZVwiLCBcInRkXCIsIFwidGhcIl0uaW5jbHVkZXMoRChlKSk7XG59XG5mdW5jdGlvbiBNKGUpIHtcbiAgcmV0dXJuIFtcIjpwb3BvdmVyLW9wZW5cIiwgXCI6bW9kYWxcIl0uc29tZSgodCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZS5tYXRjaGVzKHQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB6KGUpIHtcbiAgY29uc3QgdCA9IEcoKSwgbiA9IG0oZSkgPyB5KGUpIDogZTtcbiAgcmV0dXJuIFtcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInNjYWxlXCIsIFwicm90YXRlXCIsIFwicGVyc3BlY3RpdmVcIl0uc29tZSgocykgPT4gbltzXSA/IG5bc10gIT09IFwibm9uZVwiIDogITEpIHx8IChuLmNvbnRhaW5lclR5cGUgPyBuLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiAhMSkgfHwgIXQgJiYgKG4uYmFja2Ryb3BGaWx0ZXIgPyBuLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCAhdCAmJiAobi5maWx0ZXIgPyBuLmZpbHRlciAhPT0gXCJub25lXCIgOiAhMSkgfHwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKChzKSA9PiAobi53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHMpKSB8fCBbXCJwYWludFwiLCBcImxheW91dFwiLCBcInN0cmljdFwiLCBcImNvbnRlbnRcIl0uc29tZSgocykgPT4gKG4uY29udGFpbiB8fCBcIlwiKS5pbmNsdWRlcyhzKSk7XG59XG5mdW5jdGlvbiBDdChlKSB7XG4gIGxldCB0ID0gUihlKTtcbiAgZm9yICg7IEUodCkgJiYgIVModCk7ICkge1xuICAgIGlmICh6KHQpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgaWYgKE0odCkpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB0ID0gUih0KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEcoKSB7XG4gIHJldHVybiB0eXBlb2YgQ1NTID4gXCJ1XCIgfHwgIUNTUy5zdXBwb3J0cyA/ICExIDogQ1NTLnN1cHBvcnRzKFwiLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXJcIiwgXCJub25lXCIpO1xufVxuZnVuY3Rpb24gUyhlKSB7XG4gIHJldHVybiBbXCJodG1sXCIsIFwiYm9keVwiLCBcIiNkb2N1bWVudFwiXS5pbmNsdWRlcyhEKGUpKTtcbn1cbmZ1bmN0aW9uIHkoZSkge1xuICByZXR1cm4gdyhlKS5nZXRDb21wdXRlZFN0eWxlKGUpO1xufVxuZnVuY3Rpb24gXyhlKSB7XG4gIHJldHVybiBtKGUpID8ge1xuICAgIHNjcm9sbExlZnQ6IGUuc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsVG9wXG4gIH0gOiB7XG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZS5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBSKGUpIHtcbiAgaWYgKEQoZSkgPT09IFwiaHRtbFwiKVxuICAgIHJldHVybiBlO1xuICBjb25zdCB0ID0gKFxuICAgIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICAgIGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgIGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICAgIHEoZSkgJiYgZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxuICAgIHYoZSlcbiAgKTtcbiAgcmV0dXJuIHEodCkgPyB0Lmhvc3QgOiB0O1xufVxuZnVuY3Rpb24gc3QoZSkge1xuICBjb25zdCB0ID0gUihlKTtcbiAgcmV0dXJuIFModCkgPyBlLm93bmVyRG9jdW1lbnQgPyBlLm93bmVyRG9jdW1lbnQuYm9keSA6IGUuYm9keSA6IEUodCkgJiYgayh0KSA/IHQgOiBzdCh0KTtcbn1cbmZ1bmN0aW9uIGl0KGUsIHQsIG4pIHtcbiAgdmFyIHM7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IFtdKTtcbiAgY29uc3QgaSA9IHN0KGUpLCByID0gaSA9PT0gKChzID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogcy5ib2R5KSwgbyA9IHcoaSk7XG4gIHJldHVybiByID8gKGoobyksIHQuY29uY2F0KG8sIG8udmlzdWFsVmlld3BvcnQgfHwgW10sIGsoaSkgPyBpIDogW10sIFtdKSkgOiB0LmNvbmNhdChpLCBpdChpLCBbXSkpO1xufVxuZnVuY3Rpb24gaihlKSB7XG4gIHJldHVybiBlLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wYXJlbnQpID8gZS5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gcnQoZSkge1xuICBjb25zdCB0ID0geShlKTtcbiAgbGV0IG4gPSBwYXJzZUZsb2F0KHQud2lkdGgpIHx8IDAsIHMgPSBwYXJzZUZsb2F0KHQuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBpID0gRShlKSwgciA9IGkgPyBlLm9mZnNldFdpZHRoIDogbiwgbyA9IGkgPyBlLm9mZnNldEhlaWdodCA6IHMsIGMgPSBIKG4pICE9PSByIHx8IEgocykgIT09IG87XG4gIHJldHVybiBjICYmIChuID0gciwgcyA9IG8pLCB7XG4gICAgd2lkdGg6IG4sXG4gICAgaGVpZ2h0OiBzLFxuICAgICQ6IGNcbiAgfTtcbn1cbmZ1bmN0aW9uIG90KGUpIHtcbiAgcmV0dXJuIG0oZSkgPyBlIDogZS5jb250ZXh0RWxlbWVudDtcbn1cbmZ1bmN0aW9uIFQoZSkge1xuICBjb25zdCB0ID0gb3QoZSk7XG4gIGlmICghRSh0KSlcbiAgICByZXR1cm4geCgxKTtcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHtcbiAgICB3aWR0aDogcyxcbiAgICBoZWlnaHQ6IGksXG4gICAgJDogclxuICB9ID0gcnQodCk7XG4gIGxldCBvID0gKHIgPyBIKG4ud2lkdGgpIDogbi53aWR0aCkgLyBzLCBjID0gKHIgPyBIKG4uaGVpZ2h0KSA6IG4uaGVpZ2h0KSAvIGk7XG4gIHJldHVybiAoIW8gfHwgIU51bWJlci5pc0Zpbml0ZShvKSkgJiYgKG8gPSAxKSwgKCFjIHx8ICFOdW1iZXIuaXNGaW5pdGUoYykpICYmIChjID0gMSksIHtcbiAgICB4OiBvLFxuICAgIHk6IGNcbiAgfTtcbn1cbmNvbnN0IFR0ID0gLyogQF9fUFVSRV9fICovIHgoMCk7XG5mdW5jdGlvbiBjdChlKSB7XG4gIGNvbnN0IHQgPSB3KGUpO1xuICByZXR1cm4gIUcoKSB8fCAhdC52aXN1YWxWaWV3cG9ydCA/IFR0IDoge1xuICAgIHg6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB0LnZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcFxuICB9O1xufVxuZnVuY3Rpb24gU3QoZSwgdCwgbikge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCAhbiB8fCB0ICYmIG4gIT09IHcoZSkgPyAhMSA6IHQ7XG59XG5mdW5jdGlvbiBOKGUsIHQsIG4sIHMpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCBuID09PSB2b2lkIDAgJiYgKG4gPSAhMSk7XG4gIGNvbnN0IGkgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCByID0gb3QoZSk7XG4gIGxldCBvID0geCgxKTtcbiAgdCAmJiAocyA/IG0ocykgJiYgKG8gPSBUKHMpKSA6IG8gPSBUKGUpKTtcbiAgY29uc3QgYyA9IFN0KHIsIG4sIHMpID8gY3QocikgOiB4KDApO1xuICBsZXQgYSA9IChpLmxlZnQgKyBjLngpIC8gby54LCBsID0gKGkudG9wICsgYy55KSAvIG8ueSwgdSA9IGkud2lkdGggLyBvLngsIGYgPSBpLmhlaWdodCAvIG8ueTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBnID0gdyhyKSwgaCA9IHMgJiYgbShzKSA/IHcocykgOiBzO1xuICAgIGxldCBMID0gZywgZCA9IGooTCk7XG4gICAgZm9yICg7IGQgJiYgcyAmJiBoICE9PSBMOyApIHtcbiAgICAgIGNvbnN0IGIgPSBUKGQpLCBJID0gZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgTyA9IHkoZCksIFcgPSBJLmxlZnQgKyAoZC5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChPLnBhZGRpbmdMZWZ0KSkgKiBiLngsIFAgPSBJLnRvcCArIChkLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoTy5wYWRkaW5nVG9wKSkgKiBiLnk7XG4gICAgICBhICo9IGIueCwgbCAqPSBiLnksIHUgKj0gYi54LCBmICo9IGIueSwgYSArPSBXLCBsICs9IFAsIEwgPSB3KGQpLCBkID0gaihMKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV0KHtcbiAgICB3aWR0aDogdSxcbiAgICBoZWlnaHQ6IGYsXG4gICAgeDogYSxcbiAgICB5OiBsXG4gIH0pO1xufVxuZnVuY3Rpb24gSyhlLCB0KSB7XG4gIGNvbnN0IG4gPSBfKGUpLnNjcm9sbExlZnQ7XG4gIHJldHVybiB0ID8gdC5sZWZ0ICsgbiA6IE4odihlKSkubGVmdCArIG47XG59XG5mdW5jdGlvbiBsdChlLCB0LCBuKSB7XG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgcyA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGkgPSBzLmxlZnQgKyB0LnNjcm9sbExlZnQgLSAobiA/IDAgOiAoXG4gICAgLy8gUlRMIDxib2R5PiBzY3JvbGxiYXIuXG4gICAgSyhlLCBzKVxuICApKSwgciA9IHMudG9wICsgdC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeDogaSxcbiAgICB5OiByXG4gIH07XG59XG5mdW5jdGlvbiBEdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHM6IHQsXG4gICAgcmVjdDogbixcbiAgICBvZmZzZXRQYXJlbnQ6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IHIgPSBpID09PSBcImZpeGVkXCIsIG8gPSB2KHMpLCBjID0gdCA/IE0odC5mbG9hdGluZykgOiAhMTtcbiAgaWYgKHMgPT09IG8gfHwgYyAmJiByKVxuICAgIHJldHVybiBuO1xuICBsZXQgYSA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9LCBsID0geCgxKTtcbiAgY29uc3QgdSA9IHgoMCksIGYgPSBFKHMpO1xuICBpZiAoKGYgfHwgIWYgJiYgIXIpICYmICgoRChzKSAhPT0gXCJib2R5XCIgfHwgayhvKSkgJiYgKGEgPSBfKHMpKSwgRShzKSkpIHtcbiAgICBjb25zdCBoID0gTihzKTtcbiAgICBsID0gVChzKSwgdS54ID0gaC54ICsgcy5jbGllbnRMZWZ0LCB1LnkgPSBoLnkgKyBzLmNsaWVudFRvcDtcbiAgfVxuICBjb25zdCBnID0gbyAmJiAhZiAmJiAhciA/IGx0KG8sIGEsICEwKSA6IHgoMCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG4ud2lkdGggKiBsLngsXG4gICAgaGVpZ2h0OiBuLmhlaWdodCAqIGwueSxcbiAgICB4OiBuLnggKiBsLnggLSBhLnNjcm9sbExlZnQgKiBsLnggKyB1LnggKyBnLngsXG4gICAgeTogbi55ICogbC55IC0gYS5zY3JvbGxUb3AgKiBsLnkgKyB1LnkgKyBnLnlcbiAgfTtcbn1cbmZ1bmN0aW9uIE90KGUpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZS5nZXRDbGllbnRSZWN0cygpKTtcbn1cbmZ1bmN0aW9uIEF0KGUpIHtcbiAgY29uc3QgdCA9IHYoZSksIG4gPSBfKGUpLCBzID0gZS5vd25lckRvY3VtZW50LmJvZHksIGkgPSBBKHQuc2Nyb2xsV2lkdGgsIHQuY2xpZW50V2lkdGgsIHMuc2Nyb2xsV2lkdGgsIHMuY2xpZW50V2lkdGgpLCByID0gQSh0LnNjcm9sbEhlaWdodCwgdC5jbGllbnRIZWlnaHQsIHMuc2Nyb2xsSGVpZ2h0LCBzLmNsaWVudEhlaWdodCk7XG4gIGxldCBvID0gLW4uc2Nyb2xsTGVmdCArIEsoZSk7XG4gIGNvbnN0IGMgPSAtbi5zY3JvbGxUb3A7XG4gIHJldHVybiB5KHMpLmRpcmVjdGlvbiA9PT0gXCJydGxcIiAmJiAobyArPSBBKHQuY2xpZW50V2lkdGgsIHMuY2xpZW50V2lkdGgpIC0gaSksIHtcbiAgICB3aWR0aDogaSxcbiAgICBoZWlnaHQ6IHIsXG4gICAgeDogbyxcbiAgICB5OiBjXG4gIH07XG59XG5mdW5jdGlvbiBGdChlLCB0KSB7XG4gIGNvbnN0IG4gPSB3KGUpLCBzID0gdihlKSwgaSA9IG4udmlzdWFsVmlld3BvcnQ7XG4gIGxldCByID0gcy5jbGllbnRXaWR0aCwgbyA9IHMuY2xpZW50SGVpZ2h0LCBjID0gMCwgYSA9IDA7XG4gIGlmIChpKSB7XG4gICAgciA9IGkud2lkdGgsIG8gPSBpLmhlaWdodDtcbiAgICBjb25zdCBsID0gRygpO1xuICAgICghbCB8fCBsICYmIHQgPT09IFwiZml4ZWRcIikgJiYgKGMgPSBpLm9mZnNldExlZnQsIGEgPSBpLm9mZnNldFRvcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IG8sXG4gICAgeDogYyxcbiAgICB5OiBhXG4gIH07XG59XG5mdW5jdGlvbiBOdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBOKGUsICEwLCB0ID09PSBcImZpeGVkXCIpLCBzID0gbi50b3AgKyBlLmNsaWVudFRvcCwgaSA9IG4ubGVmdCArIGUuY2xpZW50TGVmdCwgciA9IEUoZSkgPyBUKGUpIDogeCgxKSwgbyA9IGUuY2xpZW50V2lkdGggKiByLngsIGMgPSBlLmNsaWVudEhlaWdodCAqIHIueSwgYSA9IGkgKiByLngsIGwgPSBzICogci55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBvLFxuICAgIGhlaWdodDogYyxcbiAgICB4OiBhLFxuICAgIHk6IGxcbiAgfTtcbn1cbmZ1bmN0aW9uIEooZSwgdCwgbikge1xuICBsZXQgcztcbiAgaWYgKHQgPT09IFwidmlld3BvcnRcIilcbiAgICBzID0gRnQoZSwgbik7XG4gIGVsc2UgaWYgKHQgPT09IFwiZG9jdW1lbnRcIilcbiAgICBzID0gQXQodihlKSk7XG4gIGVsc2UgaWYgKG0odCkpXG4gICAgcyA9IE50KHQsIG4pO1xuICBlbHNlIHtcbiAgICBjb25zdCBpID0gY3QoZSk7XG4gICAgcyA9IHtcbiAgICAgIHg6IHQueCAtIGkueCxcbiAgICAgIHk6IHQueSAtIGkueSxcbiAgICAgIHdpZHRoOiB0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB0LmhlaWdodFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGV0KHMpO1xufVxuZnVuY3Rpb24gYXQoZSwgdCkge1xuICBjb25zdCBuID0gUihlKTtcbiAgcmV0dXJuIG4gPT09IHQgfHwgIW0obikgfHwgUyhuKSA/ICExIDogeShuKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8IGF0KG4sIHQpO1xufVxuZnVuY3Rpb24ga3QoZSwgdCkge1xuICBjb25zdCBuID0gdC5nZXQoZSk7XG4gIGlmIChuKVxuICAgIHJldHVybiBuO1xuICBsZXQgcyA9IGl0KGUsIFtdKS5maWx0ZXIoKGMpID0+IG0oYykgJiYgRChjKSAhPT0gXCJib2R5XCIpLCBpID0gbnVsbDtcbiAgY29uc3QgciA9IHkoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIjtcbiAgbGV0IG8gPSByID8gUihlKSA6IGU7XG4gIGZvciAoOyBtKG8pICYmICFTKG8pOyApIHtcbiAgICBjb25zdCBjID0geShvKSwgYSA9IHoobyk7XG4gICAgIWEgJiYgYy5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiICYmIChpID0gbnVsbCksIChyID8gIWEgJiYgIWkgOiAhYSAmJiBjLnBvc2l0aW9uID09PSBcInN0YXRpY1wiICYmICEhaSAmJiBbXCJhYnNvbHV0ZVwiLCBcImZpeGVkXCJdLmluY2x1ZGVzKGkucG9zaXRpb24pIHx8IGsobykgJiYgIWEgJiYgYXQoZSwgbykpID8gcyA9IHMuZmlsdGVyKCh1KSA9PiB1ICE9PSBvKSA6IGkgPSBjLCBvID0gUihvKTtcbiAgfVxuICByZXR1cm4gdC5zZXQoZSwgcyksIHM7XG59XG5mdW5jdGlvbiBJdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudDogdCxcbiAgICBib3VuZGFyeTogbixcbiAgICByb290Qm91bmRhcnk6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IG8gPSBbLi4ubiA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gTSh0KSA/IFtdIDoga3QodCwgdGhpcy5fYykgOiBbXS5jb25jYXQobiksIHNdLCBjID0gb1swXSwgYSA9IG8ucmVkdWNlKChsLCB1KSA9PiB7XG4gICAgY29uc3QgZiA9IEoodCwgdSwgaSk7XG4gICAgcmV0dXJuIGwudG9wID0gQShmLnRvcCwgbC50b3ApLCBsLnJpZ2h0ID0gWShmLnJpZ2h0LCBsLnJpZ2h0KSwgbC5ib3R0b20gPSBZKGYuYm90dG9tLCBsLmJvdHRvbSksIGwubGVmdCA9IEEoZi5sZWZ0LCBsLmxlZnQpLCBsO1xuICB9LCBKKHQsIGMsIGkpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogYS5yaWdodCAtIGEubGVmdCxcbiAgICBoZWlnaHQ6IGEuYm90dG9tIC0gYS50b3AsXG4gICAgeDogYS5sZWZ0LFxuICAgIHk6IGEudG9wXG4gIH07XG59XG5mdW5jdGlvbiBXdChlKSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aDogdCxcbiAgICBoZWlnaHQ6IG5cbiAgfSA9IHJ0KGUpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0LFxuICAgIGhlaWdodDogblxuICB9O1xufVxuZnVuY3Rpb24gQnQoZSwgdCwgbikge1xuICBjb25zdCBzID0gRSh0KSwgaSA9IHYodCksIHIgPSBuID09PSBcImZpeGVkXCIsIG8gPSBOKGUsICEwLCByLCB0KTtcbiAgbGV0IGMgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgYSA9IHgoMCk7XG4gIGlmIChzIHx8ICFzICYmICFyKVxuICAgIGlmICgoRCh0KSAhPT0gXCJib2R5XCIgfHwgayhpKSkgJiYgKGMgPSBfKHQpKSwgcykge1xuICAgICAgY29uc3QgZyA9IE4odCwgITAsIHIsIHQpO1xuICAgICAgYS54ID0gZy54ICsgdC5jbGllbnRMZWZ0LCBhLnkgPSBnLnkgKyB0LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaSAmJiAoYS54ID0gSyhpKSk7XG4gIGNvbnN0IGwgPSBpICYmICFzICYmICFyID8gbHQoaSwgYykgOiB4KDApLCB1ID0gby5sZWZ0ICsgYy5zY3JvbGxMZWZ0IC0gYS54IC0gbC54LCBmID0gby50b3AgKyBjLnNjcm9sbFRvcCAtIGEueSAtIGwueTtcbiAgcmV0dXJuIHtcbiAgICB4OiB1LFxuICAgIHk6IGYsXG4gICAgd2lkdGg6IG8ud2lkdGgsXG4gICAgaGVpZ2h0OiBvLmhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gVShlKSB7XG4gIHJldHVybiB5KGUpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xufVxuZnVuY3Rpb24gUShlLCB0KSB7XG4gIGlmICghRShlKSB8fCB5KGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICh0KVxuICAgIHJldHVybiB0KGUpO1xuICBsZXQgbiA9IGUub2Zmc2V0UGFyZW50O1xuICByZXR1cm4gdihlKSA9PT0gbiAmJiAobiA9IG4ub3duZXJEb2N1bWVudC5ib2R5KSwgbjtcbn1cbmZ1bmN0aW9uIHV0KGUsIHQpIHtcbiAgY29uc3QgbiA9IHcoZSk7XG4gIGlmIChNKGUpKVxuICAgIHJldHVybiBuO1xuICBpZiAoIUUoZSkpIHtcbiAgICBsZXQgaSA9IFIoZSk7XG4gICAgZm9yICg7IGkgJiYgIVMoaSk7ICkge1xuICAgICAgaWYgKG0oaSkgJiYgIVUoaSkpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgaSA9IFIoaSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9XG4gIGxldCBzID0gUShlLCB0KTtcbiAgZm9yICg7IHMgJiYgTHQocykgJiYgVShzKTsgKVxuICAgIHMgPSBRKHMsIHQpO1xuICByZXR1cm4gcyAmJiBTKHMpICYmIFUocykgJiYgIXoocykgPyBuIDogcyB8fCBDdChlKSB8fCBuO1xufVxuY29uc3QgVnQgPSBhc3luYyBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCB1dCwgbiA9IHRoaXMuZ2V0RGltZW5zaW9ucywgcyA9IGF3YWl0IG4oZS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBCdChlLnJlZmVyZW5jZSwgYXdhaXQgdChlLmZsb2F0aW5nKSwgZS5zdHJhdGVneSksXG4gICAgZmxvYXRpbmc6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuIHkoZSkuZGlyZWN0aW9uID09PSBcInJ0bFwiO1xufVxuY29uc3QgJHQgPSB7XG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0OiBEdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50OiB2LFxuICBnZXRDbGlwcGluZ1JlY3Q6IEl0LFxuICBnZXRPZmZzZXRQYXJlbnQ6IHV0LFxuICBnZXRFbGVtZW50UmVjdHM6IFZ0LFxuICBnZXRDbGllbnRSZWN0czogT3QsXG4gIGdldERpbWVuc2lvbnM6IFd0LFxuICBnZXRTY2FsZTogVCxcbiAgaXNFbGVtZW50OiBtLFxuICBpc1JUTDogSHRcbn0sIE10ID0gKGUsIHQsIG4pID0+IHtcbiAgY29uc3QgcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGkgPSB7XG4gICAgcGxhdGZvcm06ICR0LFxuICAgIC4uLm5cbiAgfSwgciA9IHtcbiAgICAuLi5pLnBsYXRmb3JtLFxuICAgIF9jOiBzXG4gIH07XG4gIHJldHVybiBSdChlLCB0LCB7XG4gICAgLi4uaSxcbiAgICBwbGF0Zm9ybTogclxuICB9KTtcbn07XG5mdW5jdGlvbiBfdCgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIm1hdGNoV2lkdGhcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCByZWN0czogdCB9KSB7XG4gICAgICByZXR1cm4gZS5mbG9hdGluZy5zdHlsZS53aWR0aCA9IGAke3QucmVmZXJlbmNlLndpZHRofXB4YCwgeyByZXNldDogeyByZWN0czogITAgfSB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFB0KCkge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwibWFrZUl0RmxvYXRcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCB4OiB0LCB5OiBuIH0pIHtcbiAgICAgIHJldHVybiBlLmZsb2F0aW5nLnN0eWxlLnRvcCA9IGAke259cHhgLCBlLmZsb2F0aW5nLnN0eWxlLmxlZnQgPSBgJHt0fXB4YCwge307XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gVXQoZSwgdCkge1xuICByZXR1cm4gKGUgJSB0ICsgdCkgJSB0O1xufVxuY2xhc3MganQgZXh0ZW5kcyB5dCB7XG4gIGNvbnN0cnVjdG9yKHQsIG4sIHMpIHtcbiAgICBzdXBlcih0LCBzID8/IG4ucGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5KSwgdGhpcy5pbnB1dEVsID0gbiwgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG4gICN0ID0gW107XG4gICNzID0gW107XG4gICNlID0gLTE7XG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpLCBNdCh0aGlzLmlucHV0RWwsIHRoaXMud3JhcHBlckVsLCB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbX3QoKSwgUHQoKV1cbiAgICB9KTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpLCB0aGlzLiNlID0gLTEsIHRoaXMuI3QgPSBbXSwgdGhpcy4jcyA9IFtdO1xuICB9XG4gIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnJlZ2lzdGVyTGlzdGVuZXJzKCksIHRoaXMuc2NvcGUucmVnaXN0ZXIoW10sIFwiRW50ZXJcIiwgKHQpID0+IHRoaXMub25LZXlwcmVzcyh0LCBcImVudGVyXCIpKSwgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJBcnJvd1VwXCIsICh0KSA9PiB0aGlzLm9uS2V5cHJlc3ModCwgXCJ1cFwiKSksIHRoaXMuc2NvcGUucmVnaXN0ZXIoXG4gICAgICBbXSxcbiAgICAgIFwiQXJyb3dEb3duXCIsXG4gICAgICAodCkgPT4gdGhpcy5vbktleXByZXNzKHQsIFwiZG93blwiKVxuICAgICksIHRoaXMud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4gITEpLCB0aGlzLndyYXBwZXJFbC5vbihcImNsaWNrXCIsIFwiLnN1Z2dlc3Rpb24taXRlbVwiLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpKSwgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImZvY3VzXCIsXG4gICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UuYmluZCh0aGlzKVxuICAgICksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2xvc2UoKSwgMTAwKTtcbiAgfVxuICBvbklucHV0Q2hhbmdlKHQpIHtcbiAgICBpZiAoISh0LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSAmJiAhKHQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldFN1Z2dlc3Rpb25zKHQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgaWYgKG4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy4jdCA9IG4sIHRoaXMuI3MgPSBuLm1hcCgocykgPT4ge1xuICAgICAgICBjb25zdCBpID0gdGhpcy53cmFwcGVyRWwuY3JlYXRlRGl2KFwic3VnZ2VzdGlvbi1pdGVtXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdWdnZXN0aW9uKHMsIGkpLCBpO1xuICAgICAgfSksIHRoaXMub3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cbiAgb25LZXlwcmVzcyh0LCBuKSB7XG4gICAgaWYgKCF0LmlzQ29tcG9zaW5nKVxuICAgICAgc3dpdGNoICh0LnByZXZlbnREZWZhdWx0KCksIG4pIHtcbiAgICAgICAgY2FzZSBcImVudGVyXCI6XG4gICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNlIC0gMSwgITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICAgIHRoaXMuZm9jdXNTdWdnZXN0aW9uKHRoaXMuI2UgKyAxLCAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgb25DbGljayh0LCBuKSB7XG4gICAgdC5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNzLmluZGV4T2YobiksICExKSwgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICB9XG4gIGZvY3VzU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgY29uc3QgcyA9IFV0KHQsIHRoaXMuI3QubGVuZ3RoKSwgaSA9IHRoaXMuI3NbdGhpcy4jZV0sIHIgPSB0aGlzLiNzW3NdO1xuICAgIGkucmVtb3ZlQ2xhc3MoXCJpcy1zZWxlY3RlZFwiKSwgci5hZGRDbGFzcyhcImlzLXNlbGVjdGVkXCIpLCB0aGlzLiNlID0gcywgbiAmJiByLnNjcm9sbEludG9WaWV3KCExKTtcbiAgfVxufVxuZnVuY3Rpb24gS3QoZSwgdCkge1xuICByZXR1cm4gZnQoZSwgdCA/IChzKSA9PiBzIGluc3RhbmNlb2YgQiAmJiB0KHMpIDogKHMpID0+IHMgaW5zdGFuY2VvZiBCKTtcbn1cbmZ1bmN0aW9uIHp0KGUsIHQpIHtcbiAgcmV0dXJuIGZ0KGUsIHQgPyAocykgPT4gcyBpbnN0YW5jZW9mIEYgJiYgdChzKSA6IChzKSA9PiBzIGluc3RhbmNlb2YgRik7XG59XG5mdW5jdGlvbiBmdChlLCB0KSB7XG4gIGxldCBuID0gZS5nZXRBbGxMb2FkZWRGaWxlcygpO1xuICByZXR1cm4gdCAmJiAobiA9IG4uZmlsdGVyKHQpKSwgbi5zb3J0KChzLCBpKSA9PiBzLnBhdGgubG9jYWxlQ29tcGFyZShpLnBhdGgpKTtcbn1cbmZ1bmN0aW9uIFl0KGUsIHQsIG4pIHtcbiAgY29uc3QgcyA9IGh0KGUsIHQpLCBpID0gbiA/IChyKSA9PiByIGluc3RhbmNlb2YgQiAmJiBuKHIpIDogKHIpID0+IHIgaW5zdGFuY2VvZiBCO1xuICByZXR1cm4gcy5jaGlsZHJlbi5maWx0ZXIoaSk7XG59XG5mdW5jdGlvbiBYdChlLCB0LCBuKSB7XG4gIGNvbnN0IHMgPSBodChlLCB0KSwgaSA9IG4gPyAocikgPT4gciBpbnN0YW5jZW9mIEYgJiYgbihyKSA6IChyKSA9PiByIGluc3RhbmNlb2YgRjtcbiAgcmV0dXJuIHMuY2hpbGRyZW4uZmlsdGVyKGkpO1xufVxuZnVuY3Rpb24gaHQoZSwgdCkge1xuICBjb25zdCBuID0gZS5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocHQodCkpO1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGb2xkZXIgXCIke3R9XCIgZG9lc24ndCBleGlzdC5gKTtcbiAgaWYgKCEobiBpbnN0YW5jZW9mIEYpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0fSBpcyBhIGZpbGUsIG5vdCBhIGZvbGRlci5gKTtcbiAgcmV0dXJuIG47XG59XG5jbGFzcyBxdCBleHRlbmRzIGp0IHtcbiAgZ2V0U3VnZ2VzdGlvbnModCkge1xuICAgIGNvbnN0IG4gPSB0LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB6dChcbiAgICAgIHRoaXMuYXBwLnZhdWx0LFxuICAgICAgLy9cbiAgICAgIChzKSA9PiBzLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhuKVxuICAgICk7XG4gIH1cbiAgcmVuZGVyU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgbi5zZXRUZXh0KHQucGF0aCk7XG4gIH1cbiAgc2VsZWN0U3VnZ2VzdGlvbih0KSB7XG4gICAgdGhpcy5pbnB1dEVsLnZhbHVlID0gdC5wYXRoLCB0aGlzLmlucHV0RWwudHJpZ2dlcihcImlucHV0XCIpLCB0aGlzLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIEp0IHtcbiAgc3RhdGljIGpvaW4oLi4udCkge1xuICAgIHJldHVybiB0LnJlZHVjZSgobiwgcykgPT4gcyA/IG4gPyBuLnJlcGxhY2UoL1tcXFxcL10rJC9naSwgXCJcIikgKyAvL1xuICAgIFwiL1wiICsgcy5yZXBsYWNlKC9eW1xcXFwvXSsvZ2ksIFwiXCIpIDogcyA6IG4sIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBub3JtYWxpemUodCkge1xuICAgIHJldHVybiB0LnJlcGxhY2VBbGwoL1teXFx3LVxcXFwvIz8mPSc6LC4gXSsvZ2ksIFwiX1wiKTtcbiAgfVxuICBzdGF0aWMgZ2V0TmFtZSh0KSB7XG4gICAgcmV0dXJuIHQubWF0Y2goL1teXFxcXC9dKyQvZ2kpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0QmFzZW5hbWUodCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldE5hbWUodCk7XG4gICAgcmV0dXJuIG4gPyB0aGlzLnJlbW92ZUV4dChuKSA6IHZvaWQgMDtcbiAgfVxuICAvKiogSWYgbm8gc2xhc2hlcyBhcmUgZm91bmQgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuICovXG4gIHN0YXRpYyBnZXRQYXJlbnQodCkge1xuICAgIGlmICgvW1xcXFwvXS9naS50ZXN0KHQpKVxuICAgICAgcmV0dXJuIHQucmVwbGFjZSgvW1xcXFwvXVteXFxcXC9dKiQvZ2ksIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBoYXNFeHQodCkge1xuICAgIHJldHVybiAvXFwuW15cXFxcL10qJC9naS50ZXN0KHQpO1xuICB9XG4gIC8qKiBTaG91bGQgdXNlIGBoYXNFeHQoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRFeHQodCkge1xuICAgIHJldHVybiAvKD88PVxcLikoW15cXFxcLyM/XSopKFsjP10uKik/JC9naS5leGVjKHQpPy5hdCgxKTtcbiAgfVxuICBzdGF0aWMgcmVtb3ZlRXh0KHQpIHtcbiAgICByZXR1cm4gdC5yZXBsYWNlKC8oXFwuW15cXFxcL10qKT8oWyM/XS4qKT8kL2dpLCBcIlwiKTtcbiAgfVxufVxuY2xhc3MgUXQge1xuICBzdGF0aWMgaXNVcmwodCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8vZ2kudGVzdCh0KTtcbiAgfVxuICAvKiogU2hvdWxkIHVzZSBgaXNVcmwoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRPcmlnaW4odCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC9bXlxcXFwvXSsvZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbiAgLyoqIFNob3VsZCB1c2UgYGlzVXJsKClgIGJlZm9yZSAqL1xuICBzdGF0aWMgZ2V0QmFzZXVybCh0KSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcL1teIz9dKi9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0SGFzaCh0KSB7XG4gICAgcmV0dXJuIC8oPzw9IylbXj9dKi9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0cGFyYW1zKHQpIHtcbiAgICByZXR1cm4gLyg/PD1cXD8pLiovZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIHF0IGFzIEZvbGRlclN1Z2dlc3RlcixcbiAganQgYXMgSW5wdXRTdWdnZXN0ZXIsXG4gIHAgYXMgTG9nTGV2ZWwsXG4gIHd0IGFzIExvZ0xldmVsUmV2ZXJzZSxcbiAgViBhcyBMb2dnZXIsXG4gIG10IGFzIExvZ2dpbmdHcm91cCxcbiAgeXQgYXMgU3VnZ2VzdGVyLFxuICBKdCBhcyBVUkksXG4gIFF0IGFzIFVSTCxcbiAgZnQgYXMgZ2V0QWxsQWJzdHJhY3RGaWxlc0luVmF1bHQsXG4gIEt0IGFzIGdldEFsbEZpbGVzSW5WYXVsdCxcbiAgenQgYXMgZ2V0QWxsRm9sZGVyc0luVmF1bHQsXG4gIFl0IGFzIGdldEZpbGVzT25Gb2xkZXIsXG4gIGh0IGFzIGdldEZvbGRlckluVmF1bHQsXG4gIFh0IGFzIGdldEZvbGRlcnNPbkZvbGRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2lkaWFuLWZuYy5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBSZXF1ZXN0VXJsUmVzcG9uc2UgfSBmcm9tICdvYnNpZGlhbidcblxudHlwZSBFcnJvckNvZGUgPVxuICAgIHwgJ3JlbW90ZS1uby11cmwnXG4gICAgfCAncmVtb3RlLW5vLWV4dCdcbiAgICB8ICd1cmwtcmVxdWVzdC1oZWFkJ1xuICAgIHwgJ3VybC1yZXF1ZXN0LWdldCdcblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgcmVzcG9uc2UgaGFzIGEgXyoqc3RhdHVzQ29kZSoqX1xuICAgICAqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzZXJ0UmVzcG9uc2UoXG4gICAgICAgIHVybDogc3RyaW5nLFxuICAgICAgICByZXNwb25zZTogUmVxdWVzdFVybFJlc3BvbnNlLFxuICAgICAgICBjb2RlOiBFcnJvckNvZGUsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCA0MDApIHJldHVyblxuXG4gICAgICAgIHRocm93IG5ldyBBdHRhY2htZW50RXJyb3IoXG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgYHJlcXVlc3RlZCB1cmw6ICR7dXJsfWAgK1xuICAgICAgICAgICAgICAgIGBcXG5yZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWAgK1xuICAgICAgICAgICAgICAgIGBcXG5yZXNwb25zZSBoZWFkZXJzOlxcbiR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuaGVhZGVycyl9YCxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY29kZTogRXJyb3JDb2RlLFxuICAgICAgICBwdWJsaWMgY2F1c2U/OiB1bmtub3duLFxuICAgICkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMubmFtZSA9IGBBdHRhY2htZW50RXJyb3IoJHt0aGlzLmNvZGV9KWBcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy50b1N0cmluZ01lc3NhZ2UoKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMudG9TdHJpbmdNZXNzYWdlKCl9YFxuICAgIH1cblxuICAgIHRvU3RyaW5nTWVzc2FnZSgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gQXR0YWNobWVudEVycm9yLiNkZXNjcmlwdGlvbih0aGlzLmNvZGUpXG4gICAgICAgIGlmICghdGhpcy5jYXVzZSkgcmV0dXJuIG1lc3NhZ2VcblxuICAgICAgICBpZiAodGhpcy5jYXVzZSBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGAke21lc3NhZ2V9LCBjb250ZXh0OlxcblxcbiR7dGhpcy5jYXVzZX1gXG4gICAgICAgIHJldHVybiBgJHttZXNzYWdlfSwgY29udGV4dDpcXG5cXG4ke0pTT04uc3RyaW5naWZ5KHRoaXMuY2F1c2UpfWBcbiAgICB9XG5cbiAgICBzdGF0aWMgI2Rlc2NyaXB0aW9uKGNvZGU6IEVycm9yQ29kZSk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSAncmVtb3RlLW5vLXVybCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdyZW1vdGUgcGFyYW0gc2hvdWxkIGJlIGFuIFVSTCdcbiAgICAgICAgICAgIGNhc2UgJ3JlbW90ZS1uby1leHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYSBmaWxlLWV4dGVuc2lvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCdcblxuICAgICAgICAgICAgY2FzZSAndXJsLXJlcXVlc3QtaGVhZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aGUgcmVxdWVzdCB0byBnZXQgdGhlIGZpbGUtZXh0ZW5zaW9uIGZhaWxlZCdcbiAgICAgICAgICAgIGNhc2UgJ3VybC1yZXF1ZXN0LWdldCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aGUgcmVxdWVzdCB0byBkb3dubG9hZCB0aGUgZmlsZSBmYWlsZWQnXG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cnktcmVsb2FkaW5nIE9ic2lkaWFuJ1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBiYWxhbmNlZDtcbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG5cbiAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuXG4gIHJldHVybiByICYmIHtcbiAgICBzdGFydDogclswXSxcbiAgICBlbmQ6IHJbMV0sXG4gICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICB2YXIgaSA9IGFpO1xuXG4gIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgIGlmKGE9PT1iKSB7XG4gICAgICByZXR1cm4gW2FpLCBiaV07XG4gICAgfVxuICAgIGJlZ3MgPSBbXTtcbiAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcblxuICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgfVxuXG4gICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICB9XG5cbiAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwidmFyIGJhbGFuY2VkID0gcmVxdWlyZSgnYmFsYW5jZWQtbWF0Y2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBhbmRUb3A7XG5cbnZhciBlc2NTbGFzaCA9ICdcXDBTTEFTSCcrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NPcGVuID0gJ1xcME9QRU4nK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ2xvc2UgPSAnXFwwQ0xPU0UnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ29tbWEgPSAnXFwwQ09NTUEnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjUGVyaW9kID0gJ1xcMFBFUklPRCcrTWF0aC5yYW5kb20oKSsnXFwwJztcblxuZnVuY3Rpb24gbnVtZXJpYyhzdHIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApID09IHN0clxuICAgID8gcGFyc2VJbnQoc3RyLCAxMClcbiAgICA6IHN0ci5jaGFyQ29kZUF0KDApO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJ1xcXFxcXFxcJykuam9pbihlc2NTbGFzaClcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXHsnKS5qb2luKGVzY09wZW4pXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx9Jykuam9pbihlc2NDbG9zZSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXCwnKS5qb2luKGVzY0NvbW1hKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLicpLmpvaW4oZXNjUGVyaW9kKTtcbn1cblxuZnVuY3Rpb24gdW5lc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZXNjU2xhc2gpLmpvaW4oJ1xcXFwnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY09wZW4pLmpvaW4oJ3snKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0Nsb3NlKS5qb2luKCd9JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDb21tYSkuam9pbignLCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjUGVyaW9kKS5qb2luKCcuJyk7XG59XG5cblxuLy8gQmFzaWNhbGx5IGp1c3Qgc3RyLnNwbGl0KFwiLFwiKSwgYnV0IGhhbmRsaW5nIGNhc2VzXG4vLyB3aGVyZSB3ZSBoYXZlIG5lc3RlZCBicmFjZWQgc2VjdGlvbnMsIHdoaWNoIHNob3VsZCBiZVxuLy8gdHJlYXRlZCBhcyBpbmRpdmlkdWFsIG1lbWJlcnMsIGxpa2Uge2Ese2IsY30sZH1cbmZ1bmN0aW9uIHBhcnNlQ29tbWFQYXJ0cyhzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFsnJ107XG5cbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG5cbiAgaWYgKCFtKVxuICAgIHJldHVybiBzdHIuc3BsaXQoJywnKTtcblxuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBib2R5ID0gbS5ib2R5O1xuICB2YXIgcG9zdCA9IG0ucG9zdDtcbiAgdmFyIHAgPSBwcmUuc3BsaXQoJywnKTtcblxuICBwW3AubGVuZ3RoLTFdICs9ICd7JyArIGJvZHkgKyAnfSc7XG4gIHZhciBwb3N0UGFydHMgPSBwYXJzZUNvbW1hUGFydHMocG9zdCk7XG4gIGlmIChwb3N0Lmxlbmd0aCkge1xuICAgIHBbcC5sZW5ndGgtMV0gKz0gcG9zdFBhcnRzLnNoaWZ0KCk7XG4gICAgcC5wdXNoLmFwcGx5KHAsIHBvc3RQYXJ0cyk7XG4gIH1cblxuICBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwKTtcblxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFRvcChzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIC8vIEkgZG9uJ3Qga25vdyB3aHkgQmFzaCA0LjMgZG9lcyB0aGlzLCBidXQgaXQgZG9lcy5cbiAgLy8gQW55dGhpbmcgc3RhcnRpbmcgd2l0aCB7fSB3aWxsIGhhdmUgdGhlIGZpcnN0IHR3byBieXRlcyBwcmVzZXJ2ZWRcbiAgLy8gYnV0ICpvbmx5KiBhdCB0aGUgdG9wIGxldmVsLCBzbyB7fSxhfWIgd2lsbCBub3QgZXhwYW5kIHRvIGFueXRoaW5nLFxuICAvLyBidXQgYXt9LGJ9YyB3aWxsIGJlIGV4cGFuZGVkIHRvIFthfWMsYWJjXS5cbiAgLy8gT25lIGNvdWxkIGFyZ3VlIHRoYXQgdGhpcyBpcyBhIGJ1ZyBpbiBCYXNoLCBidXQgc2luY2UgdGhlIGdvYWwgb2ZcbiAgLy8gdGhpcyBtb2R1bGUgaXMgdG8gbWF0Y2ggQmFzaCdzIHJ1bGVzLCB3ZSBlc2NhcGUgYSBsZWFkaW5nIHt9XG4gIGlmIChzdHIuc3Vic3RyKDAsIDIpID09PSAne30nKSB7XG4gICAgc3RyID0gJ1xcXFx7XFxcXH0nICsgc3RyLnN1YnN0cigyKTtcbiAgfVxuXG4gIHJldHVybiBleHBhbmQoZXNjYXBlQnJhY2VzKHN0ciksIHRydWUpLm1hcCh1bmVzY2FwZUJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGVtYnJhY2Uoc3RyKSB7XG4gIHJldHVybiAneycgKyBzdHIgKyAnfSc7XG59XG5mdW5jdGlvbiBpc1BhZGRlZChlbCkge1xuICByZXR1cm4gL14tPzBcXGQvLnRlc3QoZWwpO1xufVxuXG5mdW5jdGlvbiBsdGUoaSwgeSkge1xuICByZXR1cm4gaSA8PSB5O1xufVxuZnVuY3Rpb24gZ3RlKGksIHkpIHtcbiAgcmV0dXJuIGkgPj0geTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kKHN0ciwgaXNUb3ApIHtcbiAgdmFyIGV4cGFuc2lvbnMgPSBbXTtcblxuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuICBpZiAoIW0pIHJldHVybiBbc3RyXTtcblxuICAvLyBubyBuZWVkIHRvIGV4cGFuZCBwcmUsIHNpbmNlIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgZnJlZSBvZiBicmFjZS1zZXRzXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIHBvc3QgPSBtLnBvc3QubGVuZ3RoXG4gICAgPyBleHBhbmQobS5wb3N0LCBmYWxzZSlcbiAgICA6IFsnJ107XG5cbiAgaWYgKC9cXCQkLy50ZXN0KG0ucHJlKSkgeyAgICBcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgIHZhciBleHBhbnNpb24gPSBwcmUrICd7JyArIG0uYm9keSArICd9JyArIHBvc3Rba107XG4gICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGlzTnVtZXJpY1NlcXVlbmNlID0gL14tP1xcZCtcXC5cXC4tP1xcZCsoPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgICB2YXIgaXNBbHBoYVNlcXVlbmNlID0gL15bYS16QS1aXVxcLlxcLlthLXpBLVpdKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gICAgdmFyIGlzU2VxdWVuY2UgPSBpc051bWVyaWNTZXF1ZW5jZSB8fCBpc0FscGhhU2VxdWVuY2U7XG4gICAgdmFyIGlzT3B0aW9ucyA9IG0uYm9keS5pbmRleE9mKCcsJykgPj0gMDtcbiAgICBpZiAoIWlzU2VxdWVuY2UgJiYgIWlzT3B0aW9ucykge1xuICAgICAgLy8ge2F9LGJ9XG4gICAgICBpZiAobS5wb3N0Lm1hdGNoKC8sLipcXH0vKSkge1xuICAgICAgICBzdHIgPSBtLnByZSArICd7JyArIG0uYm9keSArIGVzY0Nsb3NlICsgbS5wb3N0O1xuICAgICAgICByZXR1cm4gZXhwYW5kKHN0cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3N0cl07XG4gICAgfVxuXG4gICAgdmFyIG47XG4gICAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICAgIG4gPSBtLmJvZHkuc3BsaXQoL1xcLlxcLi8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuID0gcGFyc2VDb21tYVBhcnRzKG0uYm9keSk7XG4gICAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8geHt7YSxifX15ID09PiB4e2F9eSB4e2J9eVxuICAgICAgICBuID0gZXhwYW5kKG5bMF0sIGZhbHNlKS5tYXAoZW1icmFjZSk7XG4gICAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBwb3N0Lm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5wcmUgKyBuWzBdICsgcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIG4gaXMgdGhlIHBhcnRzLCBhbmQgd2Uga25vdyBpdCdzIG5vdCBhIGNvbW1hIHNldFxuICAgIC8vIHdpdGggYSBzaW5nbGUgZW50cnkuXG4gICAgdmFyIE47XG5cbiAgICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgICAgdmFyIHggPSBudW1lcmljKG5bMF0pO1xuICAgICAgdmFyIHkgPSBudW1lcmljKG5bMV0pO1xuICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoblswXS5sZW5ndGgsIG5bMV0ubGVuZ3RoKVxuICAgICAgdmFyIGluY3IgPSBuLmxlbmd0aCA9PSAzXG4gICAgICAgID8gTWF0aC5hYnMobnVtZXJpYyhuWzJdKSlcbiAgICAgICAgOiAxO1xuICAgICAgdmFyIHRlc3QgPSBsdGU7XG4gICAgICB2YXIgcmV2ZXJzZSA9IHkgPCB4O1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgaW5jciAqPSAtMTtcbiAgICAgICAgdGVzdCA9IGd0ZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYWQgPSBuLnNvbWUoaXNQYWRkZWQpO1xuXG4gICAgICBOID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSB4OyB0ZXN0KGksIHkpOyBpICs9IGluY3IpIHtcbiAgICAgICAgdmFyIGM7XG4gICAgICAgIGlmIChpc0FscGhhU2VxdWVuY2UpIHtcbiAgICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKVxuICAgICAgICAgICAgYyA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGMgPSBTdHJpbmcoaSk7XG4gICAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgICAgdmFyIG5lZWQgPSB3aWR0aCAtIGMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5lZWQgPiAwKSB7XG4gICAgICAgICAgICAgIHZhciB6ID0gbmV3IEFycmF5KG5lZWQgKyAxKS5qb2luKCcwJyk7XG4gICAgICAgICAgICAgIGlmIChpIDwgMClcbiAgICAgICAgICAgICAgICBjID0gJy0nICsgeiArIGMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjID0geiArIGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE4ucHVzaChjKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgTi5wdXNoLmFwcGx5KE4sIGV4cGFuZChuW2pdLCBmYWxzZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTi5sZW5ndGg7IGorKykge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb3N0Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBleHBhbnNpb24gPSBwcmUgKyBOW2pdICsgcG9zdFtrXTtcbiAgICAgICAgaWYgKCFpc1RvcCB8fCBpc1NlcXVlbmNlIHx8IGV4cGFuc2lvbilcbiAgICAgICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwYW5zaW9ucztcbn1cblxuIiwiY29uc3QgTUFYX1BBVFRFUk5fTEVOR1RIID0gMTAyNCAqIDY0O1xuZXhwb3J0IGNvbnN0IGFzc2VydFZhbGlkUGF0dGVybiA9IChwYXR0ZXJuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHBhdHRlcm4nKTtcbiAgICB9XG4gICAgaWYgKHBhdHRlcm4ubGVuZ3RoID4gTUFYX1BBVFRFUk5fTEVOR1RIKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhdHRlcm4gaXMgdG9vIGxvbmcnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMubWFwIiwiLy8gdHJhbnNsYXRlIHRoZSB2YXJpb3VzIHBvc2l4IGNoYXJhY3RlciBjbGFzc2VzIGludG8gdW5pY29kZSBwcm9wZXJ0aWVzXG4vLyB0aGlzIHdvcmtzIGFjcm9zcyBhbGwgdW5pY29kZSBsb2NhbGVzXG4vLyB7IDxwb3NpeCBjbGFzcz46IFs8dHJhbnNsYXRpb24+LCAvdSBmbGFnIHJlcXVpcmVkLCBuZWdhdGVkXVxuY29uc3QgcG9zaXhDbGFzc2VzID0ge1xuICAgICdbOmFsbnVtOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6YWxwaGE6XSc6IFsnXFxcXHB7TH1cXFxccHtObH0nLCB0cnVlXSxcbiAgICAnWzphc2NpaTpdJzogWydcXFxceCcgKyAnMDAtXFxcXHgnICsgJzdmJywgZmFsc2VdLFxuICAgICdbOmJsYW5rOl0nOiBbJ1xcXFxwe1pzfVxcXFx0JywgdHJ1ZV0sXG4gICAgJ1s6Y250cmw6XSc6IFsnXFxcXHB7Q2N9JywgdHJ1ZV0sXG4gICAgJ1s6ZGlnaXQ6XSc6IFsnXFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6Z3JhcGg6XSc6IFsnXFxcXHB7Wn1cXFxccHtDfScsIHRydWUsIHRydWVdLFxuICAgICdbOmxvd2VyOl0nOiBbJ1xcXFxwe0xsfScsIHRydWVdLFxuICAgICdbOnByaW50Ol0nOiBbJ1xcXFxwe0N9JywgdHJ1ZV0sXG4gICAgJ1s6cHVuY3Q6XSc6IFsnXFxcXHB7UH0nLCB0cnVlXSxcbiAgICAnWzpzcGFjZTpdJzogWydcXFxccHtafVxcXFx0XFxcXHJcXFxcblxcXFx2XFxcXGYnLCB0cnVlXSxcbiAgICAnWzp1cHBlcjpdJzogWydcXFxccHtMdX0nLCB0cnVlXSxcbiAgICAnWzp3b3JkOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9XFxcXHB7UGN9JywgdHJ1ZV0sXG4gICAgJ1s6eGRpZ2l0Ol0nOiBbJ0EtRmEtZjAtOScsIGZhbHNlXSxcbn07XG4vLyBvbmx5IG5lZWQgdG8gZXNjYXBlIGEgZmV3IHRoaW5ncyBpbnNpZGUgb2YgYnJhY2UgZXhwcmVzc2lvbnNcbi8vIGVzY2FwZXM6IFsgXFwgXSAtXG5jb25zdCBicmFjZUVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1tbXFxdXFxcXC1dL2csICdcXFxcJCYnKTtcbi8vIGVzY2FwZSBhbGwgcmVnZXhwIG1hZ2ljIGNoYXJhY3RlcnNcbmNvbnN0IHJlZ2V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBldmVyeXRoaW5nIGhhcyBhbHJlYWR5IGJlZW4gZXNjYXBlZCwgd2UganVzdCBoYXZlIHRvIGpvaW5cbmNvbnN0IHJhbmdlc1RvU3RyaW5nID0gKHJhbmdlcykgPT4gcmFuZ2VzLmpvaW4oJycpO1xuLy8gdGFrZXMgYSBnbG9iIHN0cmluZyBhdCBhIHBvc2l4IGJyYWNlIGV4cHJlc3Npb24sIGFuZCByZXR1cm5zXG4vLyBhbiBlcXVpdmFsZW50IHJlZ3VsYXIgZXhwcmVzc2lvbiBzb3VyY2UsIGFuZCBib29sZWFuIGluZGljYXRpbmdcbi8vIHdoZXRoZXIgdGhlIC91IGZsYWcgbmVlZHMgdG8gYmUgYXBwbGllZCwgYW5kIHRoZSBudW1iZXIgb2YgY2hhcnNcbi8vIGNvbnN1bWVkIHRvIHBhcnNlIHRoZSBjaGFyYWN0ZXIgY2xhc3MuXG4vLyBUaGlzIGFsc28gcmVtb3ZlcyBvdXQgb2Ygb3JkZXIgcmFuZ2VzLCBhbmQgcmV0dXJucyAoJC4pIGlmIHRoZVxuLy8gZW50aXJlIGNsYXNzIGp1c3Qgbm8gZ29vZC5cbmV4cG9ydCBjb25zdCBwYXJzZUNsYXNzID0gKGdsb2IsIHBvc2l0aW9uKSA9PiB7XG4gICAgY29uc3QgcG9zID0gcG9zaXRpb247XG4gICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgaWYgKGdsb2IuY2hhckF0KHBvcykgIT09ICdbJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbiBhIGJyYWNlIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICBjb25zdCByYW5nZXMgPSBbXTtcbiAgICBjb25zdCBuZWdzID0gW107XG4gICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgIGxldCBzYXdTdGFydCA9IGZhbHNlO1xuICAgIGxldCB1ZmxhZyA9IGZhbHNlO1xuICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICBsZXQgZW5kUG9zID0gcG9zO1xuICAgIGxldCByYW5nZVN0YXJ0ID0gJyc7XG4gICAgV0hJTEU6IHdoaWxlIChpIDwgZ2xvYi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICBpZiAoKGMgPT09ICchJyB8fCBjID09PSAnXicpICYmIGkgPT09IHBvcyArIDEpIHtcbiAgICAgICAgICAgIG5lZ2F0ZSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ10nICYmIHNhd1N0YXJ0ICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgZW5kUG9zID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzYXdTdGFydCA9IHRydWU7XG4gICAgICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGlmICghZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNjYXBlZCBcXCBjaGFyLCBmYWxsIHRocm91Z2ggYW5kIHRyZWF0IGxpa2Ugbm9ybWFsIGNoYXJcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ1snICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGEgcG9zaXggY2xhc3MsIGEgY29sbGF0aW9uIGVxdWl2YWxlbnQsIG9yIGp1c3QgYSBbXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjbHMsIFt1bmlwLCB1LCBuZWddXSBvZiBPYmplY3QuZW50cmllcyhwb3NpeENsYXNzZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aChjbHMsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGludmFsaWQsIFthLVtdIGlzIGZpbmUsIGJ1dCBub3QgW2EtWzphbHBoYV1dXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyckLicsIGZhbHNlLCBnbG9iLmxlbmd0aCAtIHBvcywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSArPSBjbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmVncy5wdXNoKHVuaXApO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh1bmlwKTtcbiAgICAgICAgICAgICAgICAgICAgdWZsYWcgPSB1ZmxhZyB8fCB1O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBXSElMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm93IGl0J3MganVzdCBhIG5vcm1hbCBjaGFyYWN0ZXIsIGVmZmVjdGl2ZWx5XG4gICAgICAgIGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAvLyB0aHJvdyB0aGlzIHJhbmdlIGF3YXkgaWYgaXQncyBub3QgdmFsaWQsIGJ1dCBvdGhlcnNcbiAgICAgICAgICAgIC8vIGNhbiBzdGlsbCBtYXRjaC5cbiAgICAgICAgICAgIGlmIChjID4gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKHJhbmdlU3RhcnQpICsgJy0nICsgYnJhY2VFc2NhcGUoYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSAnJztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBtaWdodCBiZSB0aGUgc3RhcnQgb2YgYSByYW5nZS5cbiAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBjLWQgb3IgYy1dIG9yIGM8bW9yZS4uLj5dIG9yIGNdIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aCgnLV0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMgKyAnLScpKTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iLnN0YXJ0c1dpdGgoJy0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBjO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90IHRoZSBzdGFydCBvZiBhIHJhbmdlLCBqdXN0IGEgc2luZ2xlIGNoYXJhY3RlclxuICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShjKSk7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGVuZFBvcyA8IGkpIHtcbiAgICAgICAgLy8gZGlkbid0IHNlZSB0aGUgZW5kIG9mIHRoZSBjbGFzcywgbm90IGEgdmFsaWQgY2xhc3MsXG4gICAgICAgIC8vIGJ1dCBtaWdodCBzdGlsbCBiZSB2YWxpZCBhcyBhIGxpdGVyYWwgbWF0Y2guXG4gICAgICAgIHJldHVybiBbJycsIGZhbHNlLCAwLCBmYWxzZV07XG4gICAgfVxuICAgIC8vIGlmIHdlIGdvdCBubyByYW5nZXMgYW5kIG5vIG5lZ2F0ZXMsIHRoZW4gd2UgaGF2ZSBhIHJhbmdlIHRoYXRcbiAgICAvLyBjYW5ub3QgcG9zc2libHkgbWF0Y2ggYW55dGhpbmcsIGFuZCB0aGF0IHBvaXNvbnMgdGhlIHdob2xlIGdsb2JcbiAgICBpZiAoIXJhbmdlcy5sZW5ndGggJiYgIW5lZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbJyQuJywgZmFsc2UsIGdsb2IubGVuZ3RoIC0gcG9zLCB0cnVlXTtcbiAgICB9XG4gICAgLy8gaWYgd2UgZ290IG9uZSBwb3NpdGl2ZSByYW5nZSwgYW5kIGl0J3MgYSBzaW5nbGUgY2hhcmFjdGVyLCB0aGVuIHRoYXQnc1xuICAgIC8vIG5vdCBhY3R1YWxseSBhIG1hZ2ljIHBhdHRlcm4sIGl0J3MganVzdCB0aGF0IG9uZSBsaXRlcmFsIGNoYXJhY3Rlci5cbiAgICAvLyB3ZSBzaG91bGQgbm90IHRyZWF0IHRoYXQgYXMgXCJtYWdpY1wiLCB3ZSBzaG91bGQganVzdCByZXR1cm4gdGhlIGxpdGVyYWxcbiAgICAvLyBjaGFyYWN0ZXIuIFtfXSBpcyBhIHBlcmZlY3RseSB2YWxpZCB3YXkgdG8gZXNjYXBlIGdsb2IgbWFnaWMgY2hhcnMuXG4gICAgaWYgKG5lZ3MubGVuZ3RoID09PSAwICYmXG4gICAgICAgIHJhbmdlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgL15cXFxcPy4kLy50ZXN0KHJhbmdlc1swXSkgJiZcbiAgICAgICAgIW5lZ2F0ZSkge1xuICAgICAgICBjb25zdCByID0gcmFuZ2VzWzBdLmxlbmd0aCA9PT0gMiA/IHJhbmdlc1swXS5zbGljZSgtMSkgOiByYW5nZXNbMF07XG4gICAgICAgIHJldHVybiBbcmVnZXhwRXNjYXBlKHIpLCBmYWxzZSwgZW5kUG9zIC0gcG9zLCBmYWxzZV07XG4gICAgfVxuICAgIGNvbnN0IHNyYW5nZXMgPSAnWycgKyAobmVnYXRlID8gJ14nIDogJycpICsgcmFuZ2VzVG9TdHJpbmcocmFuZ2VzKSArICddJztcbiAgICBjb25zdCBzbmVncyA9ICdbJyArIChuZWdhdGUgPyAnJyA6ICdeJykgKyByYW5nZXNUb1N0cmluZyhuZWdzKSArICddJztcbiAgICBjb25zdCBjb21iID0gcmFuZ2VzLmxlbmd0aCAmJiBuZWdzLmxlbmd0aFxuICAgICAgICA/ICcoJyArIHNyYW5nZXMgKyAnfCcgKyBzbmVncyArICcpJ1xuICAgICAgICA6IHJhbmdlcy5sZW5ndGhcbiAgICAgICAgICAgID8gc3Jhbmdlc1xuICAgICAgICAgICAgOiBzbmVncztcbiAgICByZXR1cm4gW2NvbWIsIHVmbGFnLCBlbmRQb3MgLSBwb3MsIHRydWVdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYWNlLWV4cHJlc3Npb25zLmpzLm1hcCIsIi8qKlxuICogVW4tZXNjYXBlIGEgc3RyaW5nIHRoYXQgaGFzIGJlZW4gZXNjYXBlZCB3aXRoIHtAbGluayBlc2NhcGV9LlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGV9IG9wdGlvbiBpcyB1c2VkLCB0aGVuIHNxdWFyZS1icmFjZVxuICogZXNjYXBlcyBhcmUgcmVtb3ZlZCwgYnV0IG5vdCBiYWNrc2xhc2ggZXNjYXBlcy4gIEZvciBleGFtcGxlLCBpdCB3aWxsIHR1cm5cbiAqIHRoZSBzdHJpbmcgYCdbKl0nYCBpbnRvIGAqYCwgYnV0IGl0IHdpbGwgbm90IHR1cm4gYCdcXFxcKidgIGludG8gYCcqJ2AsXG4gKiBiZWN1YXNlIGBcXGAgaXMgYSBwYXRoIHNlcGFyYXRvciBpbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIG1vZGUuXG4gKlxuICogV2hlbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIGlzIG5vdCBzZXQsIHRoZW4gYm90aCBicmFjZSBlc2NhcGVzIGFuZFxuICogYmFja3NsYXNoIGVzY2FwZXMgYXJlIHJlbW92ZWQuXG4gKlxuICogU2xhc2hlcyAoYW5kIGJhY2tzbGFzaGVzIGluIGB3aW5kb3dzUGF0aHNOb0VzY2FwZWAgbW9kZSkgY2Fubm90IGJlIGVzY2FwZWRcbiAqIG9yIHVuZXNjYXBlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuZXNjYXBlID0gKHMsIHsgd2luZG93c1BhdGhzTm9Fc2NhcGUgPSBmYWxzZSwgfSA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9cXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJylcbiAgICAgICAgOiBzLnJlcGxhY2UoLygoPyFcXFxcKS58XilcXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJDInKS5yZXBsYWNlKC9cXFxcKFteXFwvXSkvZywgJyQxJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5lc2NhcGUuanMubWFwIiwiLy8gcGFyc2UgYSBzaW5nbGUgcGF0aCBwb3J0aW9uXG5pbXBvcnQgeyBwYXJzZUNsYXNzIH0gZnJvbSAnLi9icmFjZS1leHByZXNzaW9ucy5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuY29uc3QgdHlwZXMgPSBuZXcgU2V0KFsnIScsICc/JywgJysnLCAnKicsICdAJ10pO1xuY29uc3QgaXNFeHRnbG9iVHlwZSA9IChjKSA9PiB0eXBlcy5oYXMoYyk7XG4vLyBQYXR0ZXJucyB0aGF0IGdldCBwcmVwZW5kZWQgdG8gYmluZCB0byB0aGUgc3RhcnQgb2YgZWl0aGVyIHRoZVxuLy8gZW50aXJlIHN0cmluZywgb3IganVzdCBhIHNpbmdsZSBwYXRoIHBvcnRpb24sIHRvIHByZXZlbnQgZG90c1xuLy8gYW5kL29yIHRyYXZlcnNhbCBwYXR0ZXJucywgd2hlbiBuZWVkZWQuXG4vLyBFeHRzIGRvbid0IG5lZWQgdGhlIF4gb3IgLyBiaXQsIGJlY2F1c2UgdGhlIHJvb3QgYmluZHMgdGhhdCBhbHJlYWR5LlxuY29uc3Qgc3RhcnROb1RyYXZlcnNhbCA9ICcoPyEoPzpefC8pXFxcXC5cXFxcLj8oPzokfC8pKSc7XG5jb25zdCBzdGFydE5vRG90ID0gJyg/IVxcXFwuKSc7XG4vLyBjaGFyYWN0ZXJzIHRoYXQgaW5kaWNhdGUgYSBzdGFydCBvZiBwYXR0ZXJuIG5lZWRzIHRoZSBcIm5vIGRvdHNcIiBiaXQsXG4vLyBiZWNhdXNlIGEgZG90ICptaWdodCogYmUgbWF0Y2hlZC4gKCBpcyBub3QgaW4gdGhlIGxpc3QsIGJlY2F1c2UgaW5cbi8vIHRoZSBjYXNlIG9mIGEgY2hpbGQgZXh0Z2xvYiwgaXQgd2lsbCBoYW5kbGUgdGhlIHByZXZlbnRpb24gaXRzZWxmLlxuY29uc3QgYWRkUGF0dGVyblN0YXJ0ID0gbmV3IFNldChbJ1snLCAnLiddKTtcbi8vIGNhc2VzIHdoZXJlIHRyYXZlcnNhbCBpcyBBLU9LLCBubyBkb3QgcHJldmVudGlvbiBuZWVkZWRcbmNvbnN0IGp1c3REb3RzID0gbmV3IFNldChbJy4uJywgJy4nXSk7XG5jb25zdCByZVNwZWNpYWxzID0gbmV3IFNldCgnKCkuKnt9Kz9bXV4kXFxcXCEnKTtcbmNvbnN0IHJlZ0V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuY29uc3QgcW1hcmsgPSAnW14vXSc7XG4vLyAqID0+IGFueSBudW1iZXIgb2YgY2hhcmFjdGVyc1xuY29uc3Qgc3RhciA9IHFtYXJrICsgJyo/Jztcbi8vIHVzZSArIHdoZW4gd2UgbmVlZCB0byBlbnN1cmUgdGhhdCAqc29tZXRoaW5nKiBtYXRjaGVzLCBiZWNhdXNlIHRoZSAqIGlzXG4vLyB0aGUgb25seSB0aGluZyBpbiB0aGUgcGF0aCBwb3J0aW9uLlxuY29uc3Qgc3Rhck5vRW1wdHkgPSBxbWFyayArICcrPyc7XG4vLyByZW1vdmUgdGhlIFxcIGNoYXJzIHRoYXQgd2UgYWRkZWQgaWYgd2UgZW5kIHVwIGRvaW5nIGEgbm9ubWFnaWMgY29tcGFyZVxuLy8gY29uc3QgZGVzbGFzaCA9IChzOiBzdHJpbmcpID0+IHMucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKVxuZXhwb3J0IGNsYXNzIEFTVCB7XG4gICAgdHlwZTtcbiAgICAjcm9vdDtcbiAgICAjaGFzTWFnaWM7XG4gICAgI3VmbGFnID0gZmFsc2U7XG4gICAgI3BhcnRzID0gW107XG4gICAgI3BhcmVudDtcbiAgICAjcGFyZW50SW5kZXg7XG4gICAgI25lZ3M7XG4gICAgI2ZpbGxlZE5lZ3MgPSBmYWxzZTtcbiAgICAjb3B0aW9ucztcbiAgICAjdG9TdHJpbmc7XG4gICAgLy8gc2V0IHRvIHRydWUgaWYgaXQncyBhbiBleHRnbG9iIHdpdGggbm8gY2hpbGRyZW5cbiAgICAvLyAod2hpY2ggcmVhbGx5IG1lYW5zIG9uZSBjaGlsZCBvZiAnJylcbiAgICAjZW1wdHlFeHQgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvLyBleHRnbG9icyBhcmUgaW5oZXJlbnRseSBtYWdpY2FsXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICB0aGlzLiNwYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuI3Jvb3QgPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3Jvb3QgOiB0aGlzO1xuICAgICAgICB0aGlzLiNvcHRpb25zID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IG9wdGlvbnMgOiB0aGlzLiNyb290LiNvcHRpb25zO1xuICAgICAgICB0aGlzLiNuZWdzID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IFtdIDogdGhpcy4jcm9vdC4jbmVncztcbiAgICAgICAgaWYgKHR5cGUgPT09ICchJyAmJiAhdGhpcy4jcm9vdC4jZmlsbGVkTmVncylcbiAgICAgICAgICAgIHRoaXMuI25lZ3MucHVzaCh0aGlzKTtcbiAgICAgICAgdGhpcy4jcGFyZW50SW5kZXggPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3BhcnRzLmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIGdldCBoYXNNYWdpYygpIHtcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzLiNoYXNNYWdpYyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhc01hZ2ljO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocC50eXBlIHx8IHAuaGFzTWFnaWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLiNoYXNNYWdpYyA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGU6IHdpbGwgYmUgdW5kZWZpbmVkIHVudGlsIHdlIGdlbmVyYXRlIHRoZSByZWdleHAgc3JjIGFuZCBmaW5kIG91dFxuICAgICAgICByZXR1cm4gdGhpcy4jaGFzTWFnaWM7XG4gICAgfVxuICAgIC8vIHJlY29uc3RydWN0cyB0aGUgcGF0dGVyblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy4jdG9TdHJpbmcgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiN0b1N0cmluZztcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPSB0aGlzLiNwYXJ0cy5tYXAocCA9PiBTdHJpbmcocCkpLmpvaW4oJycpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPVxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSArICcoJyArIHRoaXMuI3BhcnRzLm1hcChwID0+IFN0cmluZyhwKSkuam9pbignfCcpICsgJyknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZmlsbE5lZ3MoKSB7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBpZiAodGhpcyAhPT0gdGhpcy4jcm9vdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2hvdWxkIG9ubHkgY2FsbCBvbiByb290Jyk7XG4gICAgICAgIGlmICh0aGlzLiNmaWxsZWROZWdzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIC8vIGNhbGwgdG9TdHJpbmcoKSBvbmNlIHRvIGZpbGwgdGhpcyBvdXRcbiAgICAgICAgdGhpcy50b1N0cmluZygpO1xuICAgICAgICB0aGlzLiNmaWxsZWROZWdzID0gdHJ1ZTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHdoaWxlICgobiA9IHRoaXMuI25lZ3MucG9wKCkpKSB7XG4gICAgICAgICAgICBpZiAobi50eXBlICE9PSAnIScpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyB3YWxrIHVwIHRoZSB0cmVlLCBhcHBlbmRpbmcgZXZlcnRoaW5nIHRoYXQgY29tZXMgQUZURVIgcGFyZW50SW5kZXhcbiAgICAgICAgICAgIGxldCBwID0gbjtcbiAgICAgICAgICAgIGxldCBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChwcCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwLiNwYXJlbnRJbmRleCArIDE7ICFwcC50eXBlICYmIGkgPCBwcC4jcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG4uI3BhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZyBwYXJ0IGluIGV4dGdsb2IgQVNUPz8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNvcHlJbihwcC4jcGFydHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAgPSBwcDtcbiAgICAgICAgICAgICAgICBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcHVzaCguLi5wYXJ0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwID09PSAnJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJyAmJiAhKHAgaW5zdGFuY2VvZiBBU1QgJiYgcC4jcGFyZW50ID09PSB0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwYXJ0OiAnICsgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgdGhpcy4jcGFydHMucHVzaChwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHRoaXMudHlwZSA9PT0gbnVsbFxuICAgICAgICAgICAgPyB0aGlzLiNwYXJ0cy5zbGljZSgpLm1hcChwID0+ICh0eXBlb2YgcCA9PT0gJ3N0cmluZycgPyBwIDogcC50b0pTT04oKSkpXG4gICAgICAgICAgICA6IFt0aGlzLnR5cGUsIC4uLnRoaXMuI3BhcnRzLm1hcChwID0+IHAudG9KU09OKCkpXTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpICYmICF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXQudW5zaGlmdChbXSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW5kKCkgJiZcbiAgICAgICAgICAgICh0aGlzID09PSB0aGlzLiNyb290IHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuI3Jvb3QuI2ZpbGxlZE5lZ3MgJiYgdGhpcy4jcGFyZW50Py50eXBlID09PSAnIScpKSkge1xuICAgICAgICAgICAgcmV0LnB1c2goe30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGlzU3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGlmICh0aGlzLnR5cGUpIHJldHVybiAhIXRoaXMuI3BhcmVudD8uaXNTdGFydCgpXG4gICAgICAgIGlmICghdGhpcy4jcGFyZW50Py5pc1N0YXJ0KCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnRJbmRleCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBpZiBldmVyeXRoaW5nIEFIRUFEIG9mIHRoaXMgaXMgYSBuZWdhdGlvbiwgdGhlbiBpdCdzIHN0aWxsIHRoZSBcInN0YXJ0XCJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuI3BhcmVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNwYXJlbnRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcCA9IHAuI3BhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKCEocHAgaW5zdGFuY2VvZiBBU1QgJiYgcHAudHlwZSA9PT0gJyEnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaXNFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnQ/LnR5cGUgPT09ICchJylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuI3BhcmVudD8uaXNFbmQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50Py5pc0VuZCgpO1xuICAgICAgICAvLyBpZiBub3Qgcm9vdCwgaXQnbGwgYWx3YXlzIGhhdmUgYSBwYXJlbnRcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGNvbnN0IHBsID0gdGhpcy4jcGFyZW50ID8gdGhpcy4jcGFyZW50LiNwYXJ0cy5sZW5ndGggOiAwO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50SW5kZXggPT09IHBsIC0gMTtcbiAgICB9XG4gICAgY29weUluKHBhcnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRoaXMucHVzaChwYXJ0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wdXNoKHBhcnQuY2xvbmUodGhpcykpO1xuICAgIH1cbiAgICBjbG9uZShwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IG5ldyBBU1QodGhpcy50eXBlLCBwYXJlbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGMuY29weUluKHApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlQVNUKHN0ciwgYXN0LCBwb3MsIG9wdCkge1xuICAgICAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJyYWNlU3RhcnQgPSAtMTtcbiAgICAgICAgbGV0IGJyYWNlTmVnID0gZmFsc2U7XG4gICAgICAgIGlmIChhc3QudHlwZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gb3V0c2lkZSBvZiBhIGV4dGdsb2IsIGFwcGVuZCB1bnRpbCB3ZSBmaW5kIGEgc3RhcnRcbiAgICAgICAgICAgIGxldCBpID0gcG9zO1xuICAgICAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSsrKTtcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyB0aGF0IGFyZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nIHx8IGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5CcmFjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYnJhY2VTdGFydCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICddJyAmJiAhKGkgPT09IGJyYWNlU3RhcnQgKyAyICYmIGJyYWNlTmVnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5CcmFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW9wdC5ub2V4dCAmJiBpc0V4dGdsb2JUeXBlKGMpICYmIHN0ci5jaGFyQXQoaSkgPT09ICcoJykge1xuICAgICAgICAgICAgICAgICAgICBhc3QucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBhc3QpO1xuICAgICAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICAgICAgYXN0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN0LnB1c2goYWNjKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNvbWUga2luZCBvZiBleHRnbG9iLCBwb3MgaXMgYXQgdGhlIChcbiAgICAgICAgLy8gZmluZCB0aGUgbmV4dCB8IG9yIClcbiAgICAgICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgICAgICBsZXQgcGFydCA9IG5ldyBBU1QobnVsbCwgYXN0KTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkrKyk7XG4gICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgLy8gc3RhcnRzIHRoYXQgYXJlIGVzY2FwZWRcbiAgICAgICAgICAgIGlmIChlc2NhcGluZyB8fCBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbkJyYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGJyYWNlU3RhcnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmFjZU5lZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ10nICYmICEoaSA9PT0gYnJhY2VTdGFydCArIDIgJiYgYnJhY2VOZWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICBpbkJyYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICBicmFjZU5lZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRXh0Z2xvYlR5cGUoYykgJiYgc3RyLmNoYXJBdChpKSA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnfCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgQVNUKG51bGwsIGFzdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjYyA9PT0gJycgJiYgYXN0LiNwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXN0LiNlbXB0eUV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnQucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgIGFzdC5wdXNoKC4uLnBhcnRzLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVuZmluaXNoZWQgZXh0Z2xvYlxuICAgICAgICAvLyBpZiB3ZSBnb3QgaGVyZSwgaXQgd2FzIGEgbWFsZm9ybWVkIGV4dGdsb2IhIG5vdCBhbiBleHRnbG9iLCBidXRcbiAgICAgICAgLy8gbWF5YmUgc29tZXRoaW5nIGVsc2UgaW4gdGhlcmUuXG4gICAgICAgIGFzdC50eXBlID0gbnVsbDtcbiAgICAgICAgYXN0LiNoYXNNYWdpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgYXN0LiNwYXJ0cyA9IFtzdHIuc3Vic3RyaW5nKHBvcyAtIDEpXTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgYXN0ID0gbmV3IEFTVChudWxsLCB1bmRlZmluZWQsIG9wdGlvbnMpO1xuICAgICAgICBBU1QuI3BhcnNlQVNUKHBhdHRlcm4sIGFzdCwgMCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfVxuICAgIC8vIHJldHVybnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB0aGVyZSdzIG1hZ2ljLCBvciB0aGUgdW5lc2NhcGVkXG4gICAgLy8gc3RyaW5nIGlmIG5vdC5cbiAgICB0b01NUGF0dGVybigpIHtcbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIHJvb3RcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzICE9PSB0aGlzLiNyb290KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3Jvb3QudG9NTVBhdHRlcm4oKTtcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgY29uc3QgZ2xvYiA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgW3JlLCBib2R5LCBoYXNNYWdpYywgdWZsYWddID0gdGhpcy50b1JlZ0V4cFNvdXJjZSgpO1xuICAgICAgICAvLyBpZiB3ZSdyZSBpbiBub2Nhc2UgbW9kZSwgYW5kIG5vdCBub2Nhc2VNYWdpY09ubHksIHRoZW4gd2UgZG9cbiAgICAgICAgLy8gc3RpbGwgbmVlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB3ZSBoYXZlIHRvIGNhc2UtaW5zZW5zaXRpdmVseVxuICAgICAgICAvLyBtYXRjaCBjYXBpdGFsL2xvd2VyY2FzZSBjaGFyYWN0ZXJzLlxuICAgICAgICBjb25zdCBhbnlNYWdpYyA9IGhhc01hZ2ljIHx8XG4gICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyB8fFxuICAgICAgICAgICAgKHRoaXMuI29wdGlvbnMubm9jYXNlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuI29wdGlvbnMubm9jYXNlTWFnaWNPbmx5ICYmXG4gICAgICAgICAgICAgICAgZ2xvYi50b1VwcGVyQ2FzZSgpICE9PSBnbG9iLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoIWFueU1hZ2ljKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmbGFncyA9ICh0aGlzLiNvcHRpb25zLm5vY2FzZSA/ICdpJyA6ICcnKSArICh1ZmxhZyA/ICd1JyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFJlZ0V4cChgXiR7cmV9JGAsIGZsYWdzKSwge1xuICAgICAgICAgICAgX3NyYzogcmUsXG4gICAgICAgICAgICBfZ2xvYjogZ2xvYixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jb3B0aW9ucztcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgc3RyaW5nIG1hdGNoLCB0aGUgcmVnZXhwIHNvdXJjZSwgd2hldGhlciB0aGVyZSdzIG1hZ2ljXG4gICAgLy8gaW4gdGhlIHJlZ2V4cCAoc28gYSByZWd1bGFyIGV4cHJlc3Npb24gaXMgcmVxdWlyZWQpIGFuZCB3aGV0aGVyIG9yXG4gICAgLy8gbm90IHRoZSB1ZmxhZyBpcyBuZWVkZWQgZm9yIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gKGZvciBwb3NpeCBjbGFzc2VzKVxuICAgIC8vIFRPRE86IGluc3RlYWQgb2YgaW5qZWN0aW5nIHRoZSBzdGFydC9lbmQgYXQgdGhpcyBwb2ludCwganVzdCByZXR1cm5cbiAgICAvLyB0aGUgQk9EWSBvZiB0aGUgcmVnZXhwLCBhbG9uZyB3aXRoIHRoZSBzdGFydC9lbmQgcG9ydGlvbnMgc3VpdGFibGVcbiAgICAvLyBmb3IgYmluZGluZyB0aGUgc3RhcnQvZW5kIGluIGVpdGhlciBhIGpvaW5lZCBmdWxsLXBhdGggbWFrZVJlIGNvbnRleHRcbiAgICAvLyAod2hlcmUgd2UgYmluZCB0byAoXnwvKSwgb3IgYSBzdGFuZGFsb25lIG1hdGNoUGFydCBjb250ZXh0ICh3aGVyZVxuICAgIC8vIHdlIGJpbmQgdG8gXiwgYW5kIG5vdCAvKS4gIE90aGVyd2lzZSBzbGFzaGVzIGdldCBkdXBlZCFcbiAgICAvL1xuICAgIC8vIEluIHBhcnQtbWF0Y2hpbmcgbW9kZSwgdGhlIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiBeKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiBeXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogXig/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBub3QgaXNFbmQoKTogbm90aGluZ1xuICAgIC8vIC0gZWxzZTogJFxuICAgIC8vXG4gICAgLy8gSW4gZnVsbC1wYXRoIG1hdGNoaW5nIG1vZGUsIHdlIHB1dCB0aGUgc2xhc2ggYXQgdGhlIFNUQVJUIG9mIHRoZVxuICAgIC8vIHBhdHRlcm4sIHNvIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgZmlyc3QgcGF0dGVybjogc2FtZSBhcyBwYXJ0LW1hdGNoaW5nIG1vZGVcbiAgICAvLyAtIGlmIG5vdCBpc1N0YXJ0KCk6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAvKD8hXFwuXFwuPyg/OiR8LykpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAvXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogLyg/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBsYXN0IHBhdHRlcm4sIHNhbWUgYXMgcGFydC1tYXRjaGluZyBtb2RlXG4gICAgLy8gLSBlbHNlIG5vdGhpbmdcbiAgICAvL1xuICAgIC8vIEFsd2F5cyBwdXQgdGhlICg/OiR8Lykgb24gbmVnYXRlZCB0YWlscywgdGhvdWdoLCBiZWNhdXNlIHRoYXQgaGFzIHRvIGJlXG4gICAgLy8gdGhlcmUgdG8gYmluZCB0aGUgZW5kIG9mIHRoZSBuZWdhdGVkIHBhdHRlcm4gcG9ydGlvbiwgYW5kIGl0J3MgZWFzaWVyIHRvXG4gICAgLy8ganVzdCBzdGljayBpdCBpbiBub3cgcmF0aGVyIHRoYW4gdHJ5IHRvIGluamVjdCBpdCBsYXRlciBpbiB0aGUgbWlkZGxlIG9mXG4gICAgLy8gdGhlIHBhdHRlcm4uXG4gICAgLy9cbiAgICAvLyBXZSBjYW4ganVzdCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGVuZCwgYW5kIGxlYXZlIGl0IHVwIHRvIHRoZSBjYWxsZXJcbiAgICAvLyB0byBrbm93IHdoZXRoZXIgaXQncyBnb2luZyB0byBiZSB1c2VkIGpvaW5lZCBvciBpbiBwYXJ0cy5cbiAgICAvLyBBbmQsIGlmIHRoZSBzdGFydCBpcyBhZGp1c3RlZCBzbGlnaHRseSwgY2FuIGRvIHRoZSBzYW1lIHRoZXJlOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAoPzovfF4pKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAoPzovfF4pXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogKD86L3xeKSg/IVxcLilcbiAgICAvL1xuICAgIC8vIEJ1dCBpdCdzIGJldHRlciB0byBoYXZlIGEgc2ltcGxlciBiaW5kaW5nIHdpdGhvdXQgYSBjb25kaXRpb25hbCwgZm9yXG4gICAgLy8gcGVyZm9ybWFuY2UsIHNvIHByb2JhYmx5IGJldHRlciB0byByZXR1cm4gYm90aCBzdGFydCBvcHRpb25zLlxuICAgIC8vXG4gICAgLy8gVGhlbiB0aGUgY2FsbGVyIGp1c3QgaWdub3JlcyB0aGUgZW5kIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBwYXR0ZXJuLFxuICAgIC8vIGFuZCB0aGUgc3RhcnQgYWx3YXlzIGdldHMgYXBwbGllZC5cbiAgICAvL1xuICAgIC8vIEJ1dCB0aGF0J3MgYWx3YXlzIGdvaW5nIHRvIGJlICQgaWYgaXQncyB0aGUgZW5kaW5nIHBhdHRlcm4sIG9yIG5vdGhpbmcsXG4gICAgLy8gc28gdGhlIGNhbGxlciBjYW4ganVzdCBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gYnVpbGRpbmcuXG4gICAgLy9cbiAgICAvLyBTbyB0aGUgdG9kbyBpczpcbiAgICAvLyAtIGJldHRlciBkZXRlY3Qgd2hhdCBraW5kIG9mIHN0YXJ0IGlzIG5lZWRlZFxuICAgIC8vIC0gcmV0dXJuIGJvdGggZmxhdm9ycyBvZiBzdGFydGluZyBwYXR0ZXJuXG4gICAgLy8gLSBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gY3JlYXRpbmcgdGhlIGFjdHVhbCBSZWdFeHBcbiAgICAvL1xuICAgIC8vIEFoLCBidXQgd2FpdCwgbm8sIHRoYXQgYWxsIG9ubHkgYXBwbGllcyB0byB0aGUgcm9vdCB3aGVuIHRoZSBmaXJzdCBwYXR0ZXJuXG4gICAgLy8gaXMgbm90IGFuIGV4dGdsb2IuIElmIHRoZSBmaXJzdCBwYXR0ZXJuIElTIGFuIGV4dGdsb2IsIHRoZW4gd2UgbmVlZCBhbGxcbiAgICAvLyB0aGF0IGRvdCBwcmV2ZW50aW9uIGJpeiB0byBsaXZlIGluIHRoZSBleHRnbG9iIHBvcnRpb25zLCBiZWNhdXNlIGVnXG4gICAgLy8gKygqfC54KikgY2FuIG1hdGNoIC54eSBidXQgbm90IC55eC5cbiAgICAvL1xuICAgIC8vIFNvLCByZXR1cm4gdGhlIHR3byBmbGF2b3JzIGlmIGl0J3MgI3Jvb3QgYW5kIHRoZSBmaXJzdCBjaGlsZCBpcyBub3QgYW5cbiAgICAvLyBBU1QsIG90aGVyd2lzZSBsZWF2ZSBpdCB0byB0aGUgY2hpbGQgQVNUIHRvIGhhbmRsZSBpdCwgYW5kIHRoZXJlLFxuICAgIC8vIHVzZSB0aGUgKD86XnwvKSBzdHlsZSBvZiBzdGFydCBiaW5kaW5nLlxuICAgIC8vXG4gICAgLy8gRXZlbiBzaW1wbGlmaWVkIGZ1cnRoZXI6XG4gICAgLy8gLSBTaW5jZSB0aGUgc3RhcnQgZm9yIGEgam9pbiBpcyBlZyAvKD8hXFwuKSBhbmQgdGhlIHN0YXJ0IGZvciBhIHBhcnRcbiAgICAvLyBpcyBeKD8hXFwuKSwgd2UgY2FuIGp1c3QgcHJlcGVuZCAoPyFcXC4pIHRvIHRoZSBwYXR0ZXJuIChlaXRoZXIgcm9vdFxuICAgIC8vIG9yIHN0YXJ0IG9yIHdoYXRldmVyKSBhbmQgcHJlcGVuZCBeIG9yIC8gYXQgdGhlIFJlZ2V4cCBjb25zdHJ1Y3Rpb24uXG4gICAgdG9SZWdFeHBTb3VyY2UoYWxsb3dEb3QpIHtcbiAgICAgICAgY29uc3QgZG90ID0gYWxsb3dEb3QgPz8gISF0aGlzLiNvcHRpb25zLmRvdDtcbiAgICAgICAgaWYgKHRoaXMuI3Jvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiNmaWxsTmVncygpO1xuICAgICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9FbXB0eSA9IHRoaXMuaXNTdGFydCgpICYmIHRoaXMuaXNFbmQoKTtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuI3BhcnRzXG4gICAgICAgICAgICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbcmUsIF8sIGhhc01hZ2ljLCB1ZmxhZ10gPSB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBBU1QuI3BhcnNlR2xvYihwLCB0aGlzLiNoYXNNYWdpYywgbm9FbXB0eSlcbiAgICAgICAgICAgICAgICAgICAgOiBwLnRvUmVnRXhwU291cmNlKGFsbG93RG90KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyA9IHRoaXMuI2hhc01hZ2ljIHx8IGhhc01hZ2ljO1xuICAgICAgICAgICAgICAgIHRoaXMuI3VmbGFnID0gdGhpcy4jdWZsYWcgfHwgdWZsYWc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy4jcGFydHNbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHN0cmluZyB0aGF0IHdpbGwgbWF0Y2ggdGhlIHN0YXJ0IG9mIHRoZSBwYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHByb3RlY3QgYWdhaW5zdCBkb3RzIGFuZCBzdWNoLlxuICAgICAgICAgICAgICAgICAgICAvLyAnLicgYW5kICcuLicgY2Fubm90IG1hdGNoIHVubGVzcyB0aGUgcGF0dGVybiBpcyB0aGF0IGV4YWN0bHksXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgaXQgc3RhcnRzIHdpdGggLiBvciBkb3Q6dHJ1ZSBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdFRyYXZBbGxvd2VkID0gdGhpcy4jcGFydHMubGVuZ3RoID09PSAxICYmIGp1c3REb3RzLmhhcyh0aGlzLiNwYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG90VHJhdkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcyA9IGFkZFBhdHRlcm5TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBwb3NzaWJpbGl0eSBvZiBtYXRjaGluZyAuIG9yIC4uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHByZXZlbnQgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb1RyYXYgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvdHMgYXJlIGFsbG93ZWQsIGFuZCB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBbIG9yIC5cbiAgICAgICAgICAgICAgICAgICAgICAgIChkb3QgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDApKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBcXC4sIGFuZCB0aGVuIFsgb3IgLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcmMuc3RhcnRzV2l0aCgnXFxcXC4nKSAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoMikpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIFxcLlxcLiwgYW5kIHRoZW4gWyBvciAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNyYy5zdGFydHNXaXRoKCdcXFxcLlxcXFwuJykgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDQpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIHByZXZlbnQgZG90cyBpZiBpdCBjYW4ndCBtYXRjaCBhIGRvdCwgb3IgaWYgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ViLXBhdHRlcm4gd2lsbCBiZSBwcmV2ZW50aW5nIGl0IGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb0RvdCA9ICFkb3QgJiYgIWFsbG93RG90ICYmIGFwcy5oYXMoc3JjLmNoYXJBdCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG5lZWROb1RyYXYgPyBzdGFydE5vVHJhdmVyc2FsIDogbmVlZE5vRG90ID8gc3RhcnROb0RvdCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBcImVuZCBvZiBwYXRoIHBvcnRpb25cIiBwYXR0ZXJuIHRvIG5lZ2F0aW9uIHRhaWxzXG4gICAgICAgICAgICBsZXQgZW5kID0gJyc7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuZCgpICYmXG4gICAgICAgICAgICAgICAgdGhpcy4jcm9vdC4jZmlsbGVkTmVncyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuI3BhcmVudD8udHlwZSA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gJyg/OiR8XFxcXC8pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsID0gc3RhcnQgKyBzcmMgKyBlbmQ7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGZpbmFsLFxuICAgICAgICAgICAgICAgIHVuZXNjYXBlKHNyYyksXG4gICAgICAgICAgICAgICAgKHRoaXMuI2hhc01hZ2ljID0gISF0aGlzLiNoYXNNYWdpYyksXG4gICAgICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBib2R5ICp0d2ljZSogaWYgaXQncyBhIHJlcGVhdCBwYXR0ZXJuXG4gICAgICAgIC8vIGF0IHRoZSBzdGFydCwgb25jZSBpbiBub2RvdCBtb2RlLCB0aGVuIGFnYWluIGluIGRvdCBtb2RlLCBzbyBhXG4gICAgICAgIC8vIHBhdHRlcm4gbGlrZSAqKD8pIGNhbiBtYXRjaCAneC55J1xuICAgICAgICBjb25zdCByZXBlYXRlZCA9IHRoaXMudHlwZSA9PT0gJyonIHx8IHRoaXMudHlwZSA9PT0gJysnO1xuICAgICAgICAvLyBzb21lIGtpbmQgb2YgZXh0Z2xvYlxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMudHlwZSA9PT0gJyEnID8gJyg/Oig/ISg/OicgOiAnKD86JztcbiAgICAgICAgbGV0IGJvZHkgPSB0aGlzLiNwYXJ0c1RvUmVnRXhwKGRvdCk7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSAmJiB0aGlzLmlzRW5kKCkgJiYgIWJvZHkgJiYgdGhpcy50eXBlICE9PSAnIScpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgZXh0Z2xvYiwgaGFzIHRvIGF0IGxlYXN0IGJlICpzb21ldGhpbmcqIHByZXNlbnQsIGlmIGl0J3NcbiAgICAgICAgICAgIC8vIHRoZSBlbnRpcmUgcGF0aCBwb3J0aW9uLlxuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuI3BhcnRzID0gW3NdO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIFtzLCB1bmVzY2FwZSh0aGlzLnRvU3RyaW5nKCkpLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFhYWCBhYnN0cmFjdCBvdXQgdGhpcyBtYXAgbWV0aG9kXG4gICAgICAgIGxldCBib2R5RG90QWxsb3dlZCA9ICFyZXBlYXRlZCB8fCBhbGxvd0RvdCB8fCBkb3QgfHwgIXN0YXJ0Tm9Eb3RcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogdGhpcy4jcGFydHNUb1JlZ0V4cCh0cnVlKTtcbiAgICAgICAgaWYgKGJvZHlEb3RBbGxvd2VkID09PSBib2R5KSB7XG4gICAgICAgICAgICBib2R5RG90QWxsb3dlZCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5RG90QWxsb3dlZCkge1xuICAgICAgICAgICAgYm9keSA9IGAoPzoke2JvZHl9KSg/OiR7Ym9keURvdEFsbG93ZWR9KSo/YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiBlbXB0eSAhKCkgaXMgZXhhY3RseSBlcXVpdmFsZW50IHRvIGEgc3Rhck5vRW1wdHlcbiAgICAgICAgbGV0IGZpbmFsID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICchJyAmJiB0aGlzLiNlbXB0eUV4dCkge1xuICAgICAgICAgICAgZmluYWwgPSAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCA/IHN0YXJ0Tm9Eb3QgOiAnJykgKyBzdGFyTm9FbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlID0gdGhpcy50eXBlID09PSAnISdcbiAgICAgICAgICAgICAgICA/IC8vICEoKSBtdXN0IG1hdGNoIHNvbWV0aGluZyxidXQgISh4KSBjYW4gbWF0Y2ggJydcbiAgICAgICAgICAgICAgICAgICAgJykpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCAmJiAhYWxsb3dEb3QgPyBzdGFydE5vRG90IDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICdAJ1xuICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcpPydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKycgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKicgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgKT9gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCkke3RoaXMudHlwZX1gO1xuICAgICAgICAgICAgZmluYWwgPSBzdGFydCArIGJvZHkgKyBjbG9zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZmluYWwsXG4gICAgICAgICAgICB1bmVzY2FwZShib2R5KSxcbiAgICAgICAgICAgICh0aGlzLiNoYXNNYWdpYyA9ICEhdGhpcy4jaGFzTWFnaWMpLFxuICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgIF07XG4gICAgfVxuICAgICNwYXJ0c1RvUmVnRXhwKGRvdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFydHNcbiAgICAgICAgICAgIC5tYXAocCA9PiB7XG4gICAgICAgICAgICAvLyBleHRnbG9iIEFTVHMgc2hvdWxkIG9ubHkgY29udGFpbiBwYXJlbnQgQVNUc1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgdHlwZSBpbiBleHRnbG9iIGFzdD8/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgLy8gY2FuIGlnbm9yZSBoYXNNYWdpYywgYmVjYXVzZSBleHRnbG9icyBhcmUgYWxyZWFkeSBhbHdheXMgbWFnaWNcbiAgICAgICAgICAgIGNvbnN0IFtyZSwgXywgX2hhc01hZ2ljLCB1ZmxhZ10gPSBwLnRvUmVnRXhwU291cmNlKGRvdCk7XG4gICAgICAgICAgICB0aGlzLiN1ZmxhZyA9IHRoaXMuI3VmbGFnIHx8IHVmbGFnO1xuICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihwID0+ICEodGhpcy5pc1N0YXJ0KCkgJiYgdGhpcy5pc0VuZCgpKSB8fCAhIXApXG4gICAgICAgICAgICAuam9pbignfCcpO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlR2xvYihnbG9iLCBoYXNNYWdpYywgbm9FbXB0eSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgcmUgPSAnJztcbiAgICAgICAgbGV0IHVmbGFnID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZSArPSAocmVTcGVjaWFscy5oYXMoYykgPyAnXFxcXCcgOiAnJykgKyBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBnbG9iLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gJ1xcXFxcXFxcJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3NyYywgbmVlZFVmbGFnLCBjb25zdW1lZCwgbWFnaWNdID0gcGFyc2VDbGFzcyhnbG9iLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3JjO1xuICAgICAgICAgICAgICAgICAgICB1ZmxhZyA9IHVmbGFnIHx8IG5lZWRVZmxhZztcbiAgICAgICAgICAgICAgICAgICAgaSArPSBjb25zdW1lZCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgbWFnaWM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9FbXB0eSAmJiBnbG9iID09PSAnKicpXG4gICAgICAgICAgICAgICAgICAgIHJlICs9IHN0YXJOb0VtcHR5O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3RhcjtcbiAgICAgICAgICAgICAgICBoYXNNYWdpYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgICAgcmUgKz0gcW1hcms7XG4gICAgICAgICAgICAgICAgaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmUgKz0gcmVnRXhwRXNjYXBlKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmUsIHVuZXNjYXBlKGdsb2IpLCAhIWhhc01hZ2ljLCB1ZmxhZ107XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0LmpzLm1hcCIsIi8qKlxuICogRXNjYXBlIGFsbCBtYWdpYyBjaGFyYWN0ZXJzIGluIGEgZ2xvYiBwYXR0ZXJuLlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGUgfCBHbG9iT3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZX1cbiAqIG9wdGlvbiBpcyB1c2VkLCB0aGVuIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQgYnkgd3JhcHBpbmcgaW4gYFtdYCwgYmVjYXVzZVxuICogYSBtYWdpYyBjaGFyYWN0ZXIgd3JhcHBlZCBpbiBhIGNoYXJhY3RlciBjbGFzcyBjYW4gb25seSBiZSBzYXRpc2ZpZWQgYnlcbiAqIHRoYXQgZXhhY3QgY2hhcmFjdGVyLiAgSW4gdGhpcyBtb2RlLCBgXFxgIGlzIF9ub3RfIGVzY2FwZWQsIGJlY2F1c2UgaXQgaXNcbiAqIG5vdCBpbnRlcnByZXRlZCBhcyBhIG1hZ2ljIGNoYXJhY3RlciwgYnV0IGluc3RlYWQgYXMgYSBwYXRoIHNlcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGVzY2FwZSA9IChzLCB7IHdpbmRvd3NQYXRoc05vRXNjYXBlID0gZmFsc2UsIH0gPSB7fSkgPT4ge1xuICAgIC8vIGRvbid0IG5lZWQgdG8gZXNjYXBlICtAISBiZWNhdXNlIHdlIGVzY2FwZSB0aGUgcGFyZW5zXG4gICAgLy8gdGhhdCBtYWtlIHRob3NlIG1hZ2ljLCBhbmQgZXNjYXBpbmcgISBhcyBbIV0gaXNuJ3QgdmFsaWQsXG4gICAgLy8gYmVjYXVzZSBbIV1dIGlzIGEgdmFsaWQgZ2xvYiBjbGFzcyBtZWFuaW5nIG5vdCAnXScuXG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9bPyooKVtcXF1dL2csICdbJCZdJylcbiAgICAgICAgOiBzLnJlcGxhY2UoL1s/KigpW1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lc2NhcGUuanMubWFwIiwiaW1wb3J0IGV4cGFuZCBmcm9tICdicmFjZS1leHBhbnNpb24nO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRQYXR0ZXJuIH0gZnJvbSAnLi9hc3NlcnQtdmFsaWQtcGF0dGVybi5qcyc7XG5pbXBvcnQgeyBBU1QgfSBmcm9tICcuL2FzdC5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuL2VzY2FwZS5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuZXhwb3J0IGNvbnN0IG1pbmltYXRjaCA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gc2hvcnRjdXQ6IGNvbW1lbnRzIG1hdGNoIG5vdGhpbmcuXG4gICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWF0Y2gocCk7XG59O1xuLy8gT3B0aW1pemVkIGNoZWNraW5nIGZvciB0aGUgbW9zdCBjb21tb24gZ2xvYiBwYXR0ZXJucy5cbmNvbnN0IHN0YXJEb3RFeHRSRSA9IC9eXFwqKyhbXitAIT9cXCpcXFtcXChdKikkLztcbmNvbnN0IHN0YXJEb3RFeHRUZXN0ID0gKGV4dCkgPT4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdERvdCA9IChleHQpID0+IChmKSA9PiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZSA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZURvdCA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+IGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHN0YXJEb3RTdGFyUkUgPSAvXlxcKitcXC5cXCorJC87XG5jb25zdCBzdGFyRG90U3RhclRlc3QgPSAoZikgPT4gIWYuc3RhcnRzV2l0aCgnLicpICYmIGYuaW5jbHVkZXMoJy4nKTtcbmNvbnN0IHN0YXJEb3RTdGFyVGVzdERvdCA9IChmKSA9PiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJyAmJiBmLmluY2x1ZGVzKCcuJyk7XG5jb25zdCBkb3RTdGFyUkUgPSAvXlxcLlxcKiskLztcbmNvbnN0IGRvdFN0YXJUZXN0ID0gKGYpID0+IGYgIT09ICcuJyAmJiBmICE9PSAnLi4nICYmIGYuc3RhcnRzV2l0aCgnLicpO1xuY29uc3Qgc3RhclJFID0gL15cXCorJC87XG5jb25zdCBzdGFyVGVzdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG5jb25zdCBzdGFyVGVzdERvdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJztcbmNvbnN0IHFtYXJrc1JFID0gL15cXD8rKFteK0AhP1xcKlxcW1xcKF0qKT8kLztcbmNvbnN0IHFtYXJrc1Rlc3ROb2Nhc2UgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dChbJDBdKTtcbiAgICBpZiAoIWV4dClcbiAgICAgICAgcmV0dXJuIG5vZXh0O1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gbm9leHQoZikgJiYgZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vY2FzZURvdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0RG90KFskMF0pO1xuICAgIGlmICghZXh0KVxuICAgICAgICByZXR1cm4gbm9leHQ7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiBub2V4dChmKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0RG90ID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHREb3QoWyQwXSk7XG4gICAgcmV0dXJuICFleHQgPyBub2V4dCA6IChmKSA9PiBub2V4dChmKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0KFskMF0pO1xuICAgIHJldHVybiAhZXh0ID8gbm9leHQgOiAoZikgPT4gbm9leHQoZikgJiYgZi5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3ROb0V4dCA9IChbJDBdKSA9PiB7XG4gICAgY29uc3QgbGVuID0gJDAubGVuZ3RoO1xuICAgIHJldHVybiAoZikgPT4gZi5sZW5ndGggPT09IGxlbiAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vRXh0RG90ID0gKFskMF0pID0+IHtcbiAgICBjb25zdCBsZW4gPSAkMC5sZW5ndGg7XG4gICAgcmV0dXJuIChmKSA9PiBmLmxlbmd0aCA9PT0gbGVuICYmIGYgIT09ICcuJyAmJiBmICE9PSAnLi4nO1xufTtcbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuY29uc3QgZGVmYXVsdFBsYXRmb3JtID0gKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiBwcm9jZXNzXG4gICAgPyAodHlwZW9mIHByb2Nlc3MuZW52ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwcm9jZXNzLmVudiAmJlxuICAgICAgICBwcm9jZXNzLmVudi5fX01JTklNQVRDSF9URVNUSU5HX1BMQVRGT1JNX18pIHx8XG4gICAgICAgIHByb2Nlc3MucGxhdGZvcm1cbiAgICA6ICdwb3NpeCcpO1xuY29uc3QgcGF0aCA9IHtcbiAgICB3aW4zMjogeyBzZXA6ICdcXFxcJyB9LFxuICAgIHBvc2l4OiB7IHNlcDogJy8nIH0sXG59O1xuLyogYzggaWdub3JlIHN0b3AgKi9cbmV4cG9ydCBjb25zdCBzZXAgPSBkZWZhdWx0UGxhdGZvcm0gPT09ICd3aW4zMicgPyBwYXRoLndpbjMyLnNlcCA6IHBhdGgucG9zaXguc2VwO1xubWluaW1hdGNoLnNlcCA9IHNlcDtcbmV4cG9ydCBjb25zdCBHTE9CU1RBUiA9IFN5bWJvbCgnZ2xvYnN0YXIgKionKTtcbm1pbmltYXRjaC5HTE9CU1RBUiA9IEdMT0JTVEFSO1xuLy8gYW55IHNpbmdsZSB0aGluZyBvdGhlciB0aGFuIC9cbi8vIGRvbid0IG5lZWQgdG8gZXNjYXBlIC8gd2hlbiB1c2luZyBuZXcgUmVnRXhwKClcbmNvbnN0IHFtYXJrID0gJ1teL10nO1xuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbmNvbnN0IHN0YXIgPSBxbWFyayArICcqPyc7XG4vLyAqKiB3aGVuIGRvdHMgYXJlIGFsbG93ZWQuICBBbnl0aGluZyBnb2VzLCBleGNlcHQgLi4gYW5kIC5cbi8vIG5vdCAoXiBvciAvIGZvbGxvd2VkIGJ5IG9uZSBvciB0d28gZG90cyBmb2xsb3dlZCBieSAkIG9yIC8pLFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG5jb25zdCB0d29TdGFyRG90ID0gJyg/Oig/ISg/OlxcXFwvfF4pKD86XFxcXC57MSwyfSkoJHxcXFxcLykpLikqPyc7XG4vLyBub3QgYSBeIG9yIC8gZm9sbG93ZWQgYnkgYSBkb3QsXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbmNvbnN0IHR3b1N0YXJOb0RvdCA9ICcoPzooPyEoPzpcXFxcL3xeKVxcXFwuKS4pKj8nO1xuZXhwb3J0IGNvbnN0IGZpbHRlciA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IChwKSA9PiBtaW5pbWF0Y2gocCwgcGF0dGVybiwgb3B0aW9ucyk7XG5taW5pbWF0Y2guZmlsdGVyID0gZmlsdGVyO1xuY29uc3QgZXh0ID0gKGEsIGIgPSB7fSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYSwgYik7XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSAoZGVmKSA9PiB7XG4gICAgaWYgKCFkZWYgfHwgdHlwZW9mIGRlZiAhPT0gJ29iamVjdCcgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBtaW5pbWF0Y2g7XG4gICAgfVxuICAgIGNvbnN0IG9yaWcgPSBtaW5pbWF0Y2g7XG4gICAgY29uc3QgbSA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcocCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG0sIHtcbiAgICAgICAgTWluaW1hdGNoOiBjbGFzcyBNaW5pbWF0Y2ggZXh0ZW5kcyBvcmlnLk1pbmltYXRjaCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICBzdXBlcihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKS5NaW5pbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEFTVDogY2xhc3MgQVNUIGV4dGVuZHMgb3JpZy5BU1Qge1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgICAgIHN1cGVyKHR5cGUsIHBhcmVudCwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5BU1QuZnJvbUdsb2IocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bmVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy51bmVzY2FwZShzLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5lc2NhcGUocywgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBmaWx0ZXI6IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcuZmlsdGVyKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgZGVmYXVsdHM6IChvcHRpb25zKSA9PiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWFrZVJlOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLm1ha2VSZShwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGJyYWNlRXhwYW5kOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLmJyYWNlRXhwYW5kKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWF0Y2g6IChsaXN0LCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcubWF0Y2gobGlzdCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBzZXA6IG9yaWcuc2VwLFxuICAgICAgICBHTE9CU1RBUjogR0xPQlNUQVIsXG4gICAgfSk7XG59O1xubWluaW1hdGNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4vLyBCcmFjZSBleHBhbnNpb246XG4vLyBhe2IsY31kIC0+IGFiZCBhY2Rcbi8vIGF7Yix9YyAtPiBhYmMgYWNcbi8vIGF7MC4uM31kIC0+IGEwZCBhMWQgYTJkIGEzZFxuLy8gYXtiLGN7ZCxlfWZ9ZyAtPiBhYmcgYWNkZmcgYWNlZmdcbi8vIGF7YixjfWR7ZSxmfWcgLT4gYWJkZWcgYWNkZWcgYWJkZWcgYWJkZmdcbi8vXG4vLyBJbnZhbGlkIHNldHMgYXJlIG5vdCBleHBhbmRlZC5cbi8vIGF7Mi4ufWIgLT4gYXsyLi59YlxuLy8gYXtifWMgLT4gYXtifWNcbmV4cG9ydCBjb25zdCBicmFjZUV4cGFuZCA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gVGhhbmtzIHRvIFlldGluZyBMaSA8aHR0cHM6Ly9naXRodWIuY29tL3lldGluZ2xpPiBmb3JcbiAgICAvLyBpbXByb3ZpbmcgdGhpcyByZWdleHAgdG8gYXZvaWQgYSBSZURPUyB2dWxuZXJhYmlsaXR5LlxuICAgIGlmIChvcHRpb25zLm5vYnJhY2UgfHwgIS9cXHsoPzooPyFcXHspLikqXFx9Ly50ZXN0KHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIHNob3J0Y3V0LiBubyBuZWVkIHRvIGV4cGFuZC5cbiAgICAgICAgcmV0dXJuIFtwYXR0ZXJuXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGFuZChwYXR0ZXJuKTtcbn07XG5taW5pbWF0Y2guYnJhY2VFeHBhbmQgPSBicmFjZUV4cGFuZDtcbi8vIHBhcnNlIGEgY29tcG9uZW50IG9mIHRoZSBleHBhbmRlZCBzZXQuXG4vLyBBdCB0aGlzIHBvaW50LCBubyBwYXR0ZXJuIG1heSBjb250YWluIFwiL1wiIGluIGl0XG4vLyBzbyB3ZSdyZSBnb2luZyB0byByZXR1cm4gYSAyZCBhcnJheSwgd2hlcmUgZWFjaCBlbnRyeSBpcyB0aGUgZnVsbFxuLy8gcGF0dGVybiwgc3BsaXQgb24gJy8nLCBhbmQgdGhlbiB0dXJuZWQgaW50byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbi8vIEEgcmVnZXhwIGlzIG1hZGUgYXQgdGhlIGVuZCB3aGljaCBqb2lucyBlYWNoIGFycmF5IHdpdGggYW5cbi8vIGVzY2FwZWQgLywgYW5kIGFub3RoZXIgZnVsbCBvbmUgd2hpY2ggam9pbnMgZWFjaCByZWdleHAgd2l0aCB8LlxuLy9cbi8vIEZvbGxvd2luZyB0aGUgbGVhZCBvZiBCYXNoIDQuMSwgbm90ZSB0aGF0IFwiKipcIiBvbmx5IGhhcyBzcGVjaWFsIG1lYW5pbmdcbi8vIHdoZW4gaXQgaXMgdGhlICpvbmx5KiB0aGluZyBpbiBhIHBhdGggcG9ydGlvbi4gIE90aGVyd2lzZSwgYW55IHNlcmllc1xuLy8gb2YgKiBpcyBlcXVpdmFsZW50IHRvIGEgc2luZ2xlICouICBHbG9ic3RhciBiZWhhdmlvciBpcyBlbmFibGVkIGJ5XG4vLyBkZWZhdWx0LCBhbmQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgb3B0aW9ucy5ub2dsb2JzdGFyLlxuZXhwb3J0IGNvbnN0IG1ha2VSZSA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWFrZVJlKCk7XG5taW5pbWF0Y2gubWFrZVJlID0gbWFrZVJlO1xuZXhwb3J0IGNvbnN0IG1hdGNoID0gKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1tID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICBsaXN0ID0gbGlzdC5maWx0ZXIoZiA9PiBtbS5tYXRjaChmKSk7XG4gICAgaWYgKG1tLm9wdGlvbnMubm9udWxsICYmICFsaXN0Lmxlbmd0aCkge1xuICAgICAgICBsaXN0LnB1c2gocGF0dGVybik7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufTtcbm1pbmltYXRjaC5tYXRjaCA9IG1hdGNoO1xuLy8gcmVwbGFjZSBzdHVmZiBsaWtlIFxcKiB3aXRoICpcbmNvbnN0IGdsb2JNYWdpYyA9IC9bPypdfFsrQCFdXFwoLio/XFwpfFxcW3xcXF0vO1xuY29uc3QgcmVnRXhwRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbmV4cG9ydCBjbGFzcyBNaW5pbWF0Y2gge1xuICAgIG9wdGlvbnM7XG4gICAgc2V0O1xuICAgIHBhdHRlcm47XG4gICAgd2luZG93c1BhdGhzTm9Fc2NhcGU7XG4gICAgbm9uZWdhdGU7XG4gICAgbmVnYXRlO1xuICAgIGNvbW1lbnQ7XG4gICAgZW1wdHk7XG4gICAgcHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgcGFydGlhbDtcbiAgICBnbG9iU2V0O1xuICAgIGdsb2JQYXJ0cztcbiAgICBub2Nhc2U7XG4gICAgaXNXaW5kb3dzO1xuICAgIHBsYXRmb3JtO1xuICAgIHdpbmRvd3NOb01hZ2ljUm9vdDtcbiAgICByZWdleHA7XG4gICAgY29uc3RydWN0b3IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBvcHRpb25zLnBsYXRmb3JtIHx8IGRlZmF1bHRQbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5pc1dpbmRvd3MgPSB0aGlzLnBsYXRmb3JtID09PSAnd2luMzInO1xuICAgICAgICB0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlID1cbiAgICAgICAgICAgICEhb3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZSB8fCBvcHRpb25zLmFsbG93V2luZG93c0VzY2FwZSA9PT0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSB0aGlzLnBhdHRlcm4ucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMgPSAhIW9wdGlvbnMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgICAgIHRoaXMucmVnZXhwID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub25lZ2F0ZSA9ICEhb3B0aW9ucy5ub25lZ2F0ZTtcbiAgICAgICAgdGhpcy5jb21tZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJ0aWFsID0gISFvcHRpb25zLnBhcnRpYWw7XG4gICAgICAgIHRoaXMubm9jYXNlID0gISF0aGlzLm9wdGlvbnMubm9jYXNlO1xuICAgICAgICB0aGlzLndpbmRvd3NOb01hZ2ljUm9vdCA9XG4gICAgICAgICAgICBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdFxuICAgICAgICAgICAgICAgIDogISEodGhpcy5pc1dpbmRvd3MgJiYgdGhpcy5ub2Nhc2UpO1xuICAgICAgICB0aGlzLmdsb2JTZXQgPSBbXTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXQgPSBbXTtcbiAgICAgICAgLy8gbWFrZSB0aGUgc2V0IG9mIHJlZ2V4cHMgZXRjLlxuICAgICAgICB0aGlzLm1ha2UoKTtcbiAgICB9XG4gICAgaGFzTWFnaWMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFnaWNhbEJyYWNlcyAmJiB0aGlzLnNldC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdGhpcy5zZXQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWJ1ZyguLi5fKSB7IH1cbiAgICBtYWtlKCkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyBlbXB0eSBwYXR0ZXJucyBhbmQgY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGF0dGVybikge1xuICAgICAgICAgICAgdGhpcy5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcCAxOiBmaWd1cmUgb3V0IG5lZ2F0aW9uLCBldGMuXG4gICAgICAgIHRoaXMucGFyc2VOZWdhdGUoKTtcbiAgICAgICAgLy8gc3RlcCAyOiBleHBhbmQgYnJhY2VzXG4gICAgICAgIHRoaXMuZ2xvYlNldCA9IFsuLi5uZXcgU2V0KHRoaXMuYnJhY2VFeHBhbmQoKSldO1xuICAgICAgICBpZiAob3B0aW9ucy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9ICguLi5hcmdzKSA9PiBjb25zb2xlLmVycm9yKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCB0aGlzLmdsb2JTZXQpO1xuICAgICAgICAvLyBzdGVwIDM6IG5vdyB3ZSBoYXZlIGEgc2V0LCBzbyB0dXJuIGVhY2ggb25lIGludG8gYSBzZXJpZXMgb2ZcbiAgICAgICAgLy8gcGF0aC1wb3J0aW9uIG1hdGNoaW5nIHBhdHRlcm5zLlxuICAgICAgICAvLyBUaGVzZSB3aWxsIGJlIHJlZ2V4cHMsIGV4Y2VwdCBpbiB0aGUgY2FzZSBvZiBcIioqXCIsIHdoaWNoIGlzXG4gICAgICAgIC8vIHNldCB0byB0aGUgR0xPQlNUQVIgb2JqZWN0IGZvciBnbG9ic3RhciBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHdpbGwgbm90IGNvbnRhaW4gYW55IC8gY2hhcmFjdGVyc1xuICAgICAgICAvL1xuICAgICAgICAvLyBGaXJzdCwgd2UgcHJlcHJvY2VzcyB0byBtYWtlIHRoZSBnbG9iIHBhdHRlcm4gc2V0cyBhIGJpdCBzaW1wbGVyXG4gICAgICAgIC8vIGFuZCBkZWR1cGVkLiAgVGhlcmUgYXJlIHNvbWUgcGVyZi1raWxsaW5nIHBhdHRlcm5zIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHByb2JsZW1zIHdpdGggYSBnbG9iIHdhbGssIGJ1dCB3ZSBjYW4gc2ltcGxpZnkgdGhlbSBkb3duIGEgYml0LlxuICAgICAgICBjb25zdCByYXdHbG9iUGFydHMgPSB0aGlzLmdsb2JTZXQubWFwKHMgPT4gdGhpcy5zbGFzaFNwbGl0KHMpKTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSB0aGlzLnByZXByb2Nlc3MocmF3R2xvYlBhcnRzKTtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuZ2xvYlBhcnRzKTtcbiAgICAgICAgLy8gZ2xvYiAtLT4gcmVnZXhwc1xuICAgICAgICBsZXQgc2V0ID0gdGhpcy5nbG9iUGFydHMubWFwKChzLCBfLCBfXykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzICYmIHRoaXMud2luZG93c05vTWFnaWNSb290KSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXQncyBhIGRyaXZlIG9yIHVuYyBwYXRoLlxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVU5DID0gc1swXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgc1sxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNbMl0gPT09ICc/JyB8fCAhZ2xvYk1hZ2ljLnRlc3Qoc1syXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICFnbG9iTWFnaWMudGVzdChzWzNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0RyaXZlID0gL15bYS16XTovaS50ZXN0KHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChpc1VOQykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnMuc2xpY2UoMCwgNCksIC4uLnMuc2xpY2UoNCkubWFwKHNzID0+IHRoaXMucGFyc2Uoc3MpKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzWzBdLCAuLi5zLnNsaWNlKDEpLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KTtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgZGlkbid0IGNvbXBpbGUgcHJvcGVybHkuXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0LmZpbHRlcihzID0+IHMuaW5kZXhPZihmYWxzZSkgPT09IC0xKTtcbiAgICAgICAgLy8gZG8gbm90IHRyZWF0IHRoZSA/IGluIFVOQyBwYXRocyBhcyBtYWdpY1xuICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5zZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBbMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHBbMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYlBhcnRzW2ldWzJdID09PSAnPycgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBbM10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFsyXSA9ICc/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuc2V0KTtcbiAgICB9XG4gICAgLy8gdmFyaW91cyB0cmFuc2Zvcm1zIHRvIGVxdWl2YWxlbnQgcGF0dGVybiBzZXRzIHRoYXQgYXJlXG4gICAgLy8gZmFzdGVyIHRvIHByb2Nlc3MgaW4gYSBmaWxlc3lzdGVtIHdhbGsuICBUaGUgZ29hbCBpcyB0b1xuICAgIC8vIGVsaW1pbmF0ZSB3aGF0IHdlIGNhbiwgYW5kIHB1c2ggYWxsICoqIHBhdHRlcm5zIGFzIGZhclxuICAgIC8vIHRvIHRoZSByaWdodCBhcyBwb3NzaWJsZSwgZXZlbiBpZiBpdCBpbmNyZWFzZXMgdGhlIG51bWJlclxuICAgIC8vIG9mIHBhdHRlcm5zIHRoYXQgd2UgaGF2ZSB0byBwcm9jZXNzLlxuICAgIHByZXByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIG5vdCBpbiBnbG9ic3RhciBtb2RlLCB0aGVuIHR1cm4gYWxsICoqIGludG8gKlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vZ2xvYnN0YXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYlBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnbG9iUGFydHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JQYXJ0c1tpXVtqXSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2ldW2pdID0gJyonO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3B0aW1pemF0aW9uTGV2ZWwgPSAxIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICAvLyBhZ2dyZXNzaXZlIG9wdGltaXphdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2YgZnMgd2Fsa2luZ1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5maXJzdFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpO1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5zZWNvbmRQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAxKSB7XG4gICAgICAgICAgICAvLyBqdXN0IGJhc2ljIG9wdGltaXphdGlvbnMgdG8gcmVtb3ZlIHNvbWUgLi4gcGFydHNcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMubGV2ZWxPbmVPcHRpbWl6ZShnbG9iUGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8ganVzdCBjb2xsYXBzZSBtdWx0aXBsZSAqKiBwb3J0aW9ucyBpbnRvIG9uZVxuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5hZGphc2NlbnRHbG9ic3Rhck9wdGltaXplKGdsb2JQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cztcbiAgICB9XG4gICAgLy8ganVzdCBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBwb3J0aW9uc1xuICAgIGFkamFzY2VudEdsb2JzdGFyT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIGxldCBncyA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZ3MgPSBwYXJ0cy5pbmRleE9mKCcqKicsIGdzICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSBncztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbaSArIDFdID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShncywgaSAtIGdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBhbmQgcmVzb2x2ZSAuLiBwb3J0aW9uc1xuICAgIGxldmVsT25lT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIHBhcnRzID0gcGFydHMucmVkdWNlKChzZXQsIHBhcnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocGFydCA9PT0gJyoqJyAmJiBwcmV2ID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ICYmIHByZXYgIT09ICcuLicgJiYgcHJldiAhPT0gJy4nICYmIHByZXYgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDAgPyBbJyddIDogcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXZlbFR3b0ZpbGVPcHRpbWl6ZShwYXJ0cykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IHRoaXMuc2xhc2hTcGxpdChwYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIDxwcmU+LzxlPi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNxdWVlemUgb3V0IFVOQyBwYXR0ZXJuc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09ICcuJyB8fCBwID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJyAmJlxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhcnRzWzFdID09PSAnLicgfHwgcGFydHNbMV0gPT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgbGV0IGRkID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGRkID0gcGFydHMuaW5kZXhPZignLi4nLCBkZCArIDEpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwICYmIHAgIT09ICcuJyAmJiBwICE9PSAnLi4nICYmIHAgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMik7XG4gICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRTb21ldGhpbmcpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID09PSAwID8gWycnXSA6IHBhcnRzO1xuICAgIH1cbiAgICAvLyBGaXJzdCBwaGFzZTogc2luZ2xlLXBhdHRlcm4gcHJvY2Vzc2luZ1xuICAgIC8vIDxwcmU+IGlzIDEgb3IgbW9yZSBwb3J0aW9uc1xuICAgIC8vIDxyZXN0PiBpcyAxIG9yIG1vcmUgcG9ydGlvbnNcbiAgICAvLyA8cD4gaXMgYW55IHBvcnRpb24gb3RoZXIgdGhhbiAuLCAuLiwgJycsIG9yICoqXG4gICAgLy8gPGU+IGlzIC4gb3IgJydcbiAgICAvL1xuICAgIC8vICoqLy4uIGlzICpicnV0YWwqIGZvciBmaWxlc3lzdGVtIHdhbGtpbmcgcGVyZm9ybWFuY2UsIGJlY2F1c2VcbiAgICAvLyBpdCBlZmZlY3RpdmVseSByZXNldHMgdGhlIHJlY3Vyc2l2ZSB3YWxrIGVhY2ggdGltZSBpdCBvY2N1cnMsXG4gICAgLy8gYW5kICoqIGNhbm5vdCBiZSByZWR1Y2VkIG91dCBieSBhIC4uIHBhdHRlcm4gcGFydCBsaWtlIGEgcmVnZXhwXG4gICAgLy8gb3IgbW9zdCBzdHJpbmdzIChvdGhlciB0aGFuIC4uLCAuLCBhbmQgJycpIGNhbiBiZS5cbiAgICAvL1xuICAgIC8vIDxwcmU+LyoqLy4uLzxwPi88cD4vPHJlc3Q+IC0+IHs8cHJlPi8uLi88cD4vPHA+LzxyZXN0Piw8cHJlPi8qKi88cD4vPHA+LzxyZXN0Pn1cbiAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIDxwcmU+LzxwPi8uLi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgLy8gKiovKiovPHJlc3Q+IC0+ICoqLzxyZXN0PlxuICAgIC8vXG4gICAgLy8gKiovKi88cmVzdD4gLT4gKi8qKi88cmVzdD4gPD09IG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZXNuJ3QgZm9sbG93XG4gICAgLy8gdGhpcyBXT1VMRCBiZSBhbGxvd2VkIGlmICoqIGRpZCBmb2xsb3cgc3ltbGlua3MsIG9yICogZGlkbid0XG4gICAgZmlyc3RQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIGxldCBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyA8cHJlPi8qKi8uLi88cD4vPHA+LzxyZXN0PiAtPiB7PHByZT4vLi4vPHA+LzxwPi88cmVzdD4sPHByZT4vKiovPHA+LzxwPi88cmVzdD59XG4gICAgICAgICAgICBmb3IgKGxldCBwYXJ0cyBvZiBnbG9iUGFydHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZ3MgPSAtMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLTEgIT09IChncyA9IHBhcnRzLmluZGV4T2YoJyoqJywgZ3MgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzcyA9IGdzO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbZ3NzICsgMV0gPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxwcmU+LyoqLyoqLzxyZXN0PiAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdzcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVnLCBpZiBncyBpcyAyIGFuZCBnc3MgaXMgNCwgdGhhdCBtZWFucyB3ZSBoYXZlIDMgKipcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydHMsIGFuZCBjYW4gcmVtb3ZlIDIgb2YgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdzcyA+IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZ3MgKyAxLCBnc3MgLSBncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwYXJ0c1tncyArIDFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbZ3MgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcDIgPSBwYXJ0c1tncyArIDNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gJy4uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIXAyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWRpdCBwYXJ0cyBpbiBwbGFjZSwgYW5kIHB1c2ggdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGdzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYXJ0cy5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJbZ3NdID0gJyoqJztcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzLnB1c2gob3RoZXIpO1xuICAgICAgICAgICAgICAgICAgICBncy0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3F1ZWV6ZSBvdXQgVU5DIHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCA9PT0gJy4nIHx8IHAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1swXSA9PT0gJy4nICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0c1sxXSA9PT0gJy4nIHx8IHBhcnRzWzFdID09PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGxldCBkZCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZGQgPSBwYXJ0cy5pbmRleE9mKCcuLicsIGRkICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAmJiBwICE9PSAnLicgJiYgcCAhPT0gJy4uJyAmJiBwICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZERvdCA9IGRkID09PSAxICYmIHBhcnRzW2RkICsgMV0gPT09ICcqKic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpbiA9IG5lZWREb3QgPyBbJy4nXSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMiwgLi4uc3BsaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpZFNvbWV0aGluZyk7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHM7XG4gICAgfVxuICAgIC8vIHNlY29uZCBwaGFzZTogbXVsdGktcGF0dGVybiBkZWR1cGVzXG4gICAgLy8gezxwcmU+LyovPHJlc3Q+LDxwcmU+LzxwPi88cmVzdD59IC0+IDxwcmU+LyovPHJlc3Q+XG4gICAgLy8gezxwcmU+LzxyZXN0Piw8cHJlPi88cmVzdD59IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vPHJlc3Q+fSAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAvL1xuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vKiovPHA+LzxyZXN0Pn0gLT4gPHByZT4vKiovPHJlc3Q+XG4gICAgLy8gXi0tIG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZW5zJ3QgZm9sbG93IHN5bWxpbmtzXG4gICAgc2Vjb25kUGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2JQYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGdsb2JQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSB0aGlzLnBhcnRzTWF0Y2goZ2xvYlBhcnRzW2ldLCBnbG9iUGFydHNbal0sICF0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHNbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2pdID0gbWF0Y2hlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMuZmlsdGVyKGdzID0+IGdzLmxlbmd0aCk7XG4gICAgfVxuICAgIHBhcnRzTWF0Y2goYSwgYiwgZW1wdHlHU01hdGNoID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGFpID0gMDtcbiAgICAgICAgbGV0IGJpID0gMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgd2hpY2ggPSAnJztcbiAgICAgICAgd2hpbGUgKGFpIDwgYS5sZW5ndGggJiYgYmkgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGFbYWldID09PSBiW2JpXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdoaWNoID09PSAnYicgPyBiW2JpXSA6IGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbXB0eUdTTWF0Y2ggJiYgYVthaV0gPT09ICcqKicgJiYgYltiaV0gPT09IGFbYWkgKyAxXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW1wdHlHU01hdGNoICYmIGJbYmldID09PSAnKionICYmIGFbYWldID09PSBiW2JpICsgMV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFbYWldID09PSAnKicgJiZcbiAgICAgICAgICAgICAgICBiW2JpXSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZG90IHx8ICFiW2JpXS5zdGFydHNXaXRoKCcuJykpICYmXG4gICAgICAgICAgICAgICAgYltiaV0gIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICBpZiAod2hpY2ggPT09ICdiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWNoID0gJ2EnO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiW2JpXSA9PT0gJyonICYmXG4gICAgICAgICAgICAgICAgYVthaV0gJiZcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRvdCB8fCAhYVthaV0uc3RhcnRzV2l0aCgnLicpKSAmJlxuICAgICAgICAgICAgICAgIGFbYWldICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoID09PSAnYScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGljaCA9ICdiJztcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGZhbGwgb3V0IG9mIHRoZSBsb29wLCBpdCBtZWFucyB0aGV5IHR3byBhcmUgaWRlbnRpY2FsXG4gICAgICAgIC8vIGFzIGxvbmcgYXMgdGhlaXIgbGVuZ3RocyBtYXRjaFxuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIHJlc3VsdDtcbiAgICB9XG4gICAgcGFyc2VOZWdhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vbmVnYXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgICAgIGxldCBuZWdhdGVPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoICYmIHBhdHRlcm4uY2hhckF0KGkpID09PSAnISc7IGkrKykge1xuICAgICAgICAgICAgbmVnYXRlID0gIW5lZ2F0ZTtcbiAgICAgICAgICAgIG5lZ2F0ZU9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWdhdGVPZmZzZXQpXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKG5lZ2F0ZU9mZnNldCk7XG4gICAgICAgIHRoaXMubmVnYXRlID0gbmVnYXRlO1xuICAgIH1cbiAgICAvLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuICAgIC8vIFwiL2EvYlwiIG1hdGNoZXMgdGhlIHN0YXJ0IG9mIFwiLyovYi8qL2RcIlxuICAgIC8vIFBhcnRpYWwgbWVhbnMsIGlmIHlvdSBydW4gb3V0IG9mIGZpbGUgYmVmb3JlIHlvdSBydW5cbiAgICAvLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbiAgICAvLyB0aGUgcGFydHMgbWF0Y2guXG4gICAgbWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIFVOQyBwYXRocyBsaWtlIC8vPy9YOi8uLi4gY2FuIG1hdGNoIFg6Ly4uLiBhbmQgdmljZSB2ZXJzYVxuICAgICAgICAvLyBEcml2ZSBsZXR0ZXJzIGluIGFic29sdXRlIGRyaXZlIG9yIHVuYyBwYXRocyBhcmUgYWx3YXlzIGNvbXBhcmVkXG4gICAgICAgIC8vIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlRHJpdmUgPSB0eXBlb2YgZmlsZVswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChmaWxlWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVVTkMgPSAhZmlsZURyaXZlICYmXG4gICAgICAgICAgICAgICAgZmlsZVswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBmaWxlWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIGZpbGVbMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QoZmlsZVszXSk7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuRHJpdmUgPSB0eXBlb2YgcGF0dGVyblswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChwYXR0ZXJuWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5VTkMgPSAhcGF0dGVybkRyaXZlICYmXG4gICAgICAgICAgICAgICAgcGF0dGVyblswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBwYXR0ZXJuWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIHBhdHRlcm5bMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBwYXR0ZXJuWzNdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocGF0dGVyblszXSk7XG4gICAgICAgICAgICBjb25zdCBmZGkgPSBmaWxlVU5DID8gMyA6IGZpbGVEcml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBwZGkgPSBwYXR0ZXJuVU5DID8gMyA6IHBhdHRlcm5Ecml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZkaSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHBkaSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbZmQsIHBkXSA9IFtmaWxlW2ZkaV0sIHBhdHRlcm5bcGRpXV07XG4gICAgICAgICAgICAgICAgaWYgKGZkLnRvTG93ZXJDYXNlKCkgPT09IHBkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybltwZGldID0gZmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZGkgPiBmZGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKHBkaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmRpID4gcGRpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gZmlsZS5zbGljZShmZGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgYW5kIHJlZHVjZSAuIGFuZCAuLiBwb3J0aW9ucyBpbiB0aGUgZmlsZSBhcyB3ZWxsLlxuICAgICAgICAvLyBkb250JyBuZWVkIHRvIGRvIHRoZSBzZWNvbmQgcGhhc2UsIGJlY2F1c2UgaXQncyBvbmx5IG9uZSBzdHJpbmdbXVxuICAgICAgICBjb25zdCB7IG9wdGltaXphdGlvbkxldmVsID0gMSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW1pemF0aW9uTGV2ZWwgPj0gMikge1xuICAgICAgICAgICAgZmlsZSA9IHRoaXMubGV2ZWxUd29GaWxlT3B0aW1pemUoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLCB0aGlzLCB7IGZpbGUsIHBhdHRlcm4gfSk7XG4gICAgICAgIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgZmkgPSAwLCBwaSA9IDAsIGZsID0gZmlsZS5sZW5ndGgsIHBsID0gcGF0dGVybi5sZW5ndGg7IGZpIDwgZmwgJiYgcGkgPCBwbDsgZmkrKywgcGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUgbG9vcCcpO1xuICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuW3BpXTtcbiAgICAgICAgICAgIHZhciBmID0gZmlsZVtmaV07XG4gICAgICAgICAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpO1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGUuXG4gICAgICAgICAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGlmIChwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICBpZiAocCA9PT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdHTE9CU1RBUicsIFtwYXR0ZXJuLCBwLCBmXSk7XG4gICAgICAgICAgICAgICAgLy8gXCIqKlwiXG4gICAgICAgICAgICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgICAgICAgICAgICAvLyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIGEveC95L3ovYi9jXG4gICAgICAgICAgICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgICAgICAgICAgICAvLyBhL2IvY1xuICAgICAgICAgICAgICAgIC8vIFRvIGRvIHRoaXMsIHRha2UgdGhlIHJlc3Qgb2YgdGhlIHBhdHRlcm4gYWZ0ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgIC8vIElmIHNvLCByZXR1cm4gc3VjY2Vzcy5cbiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIHRoZSAqKiBcInN3YWxsb3dzXCIgYSBzZWdtZW50LCBhbmQgdHJ5IGFnYWluLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBhLyoqL2IvKiovYyBtYXRjaGluZyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgICAgICAgICAgICAvLyAtIGRvdWJsZXN0YXJcbiAgICAgICAgICAgICAgICAvLyAgIC0gbWF0Y2hPbmUoYi94L3kvei9jLCBiLyoqL2MpXG4gICAgICAgICAgICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgICAgICAgICAgICAvLyAgICAgLSBkb3VibGVzdGFyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh4L3kvei9jLCBjKSAtPiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh6L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZShjLCBjKSB5ZXMsIGhpdFxuICAgICAgICAgICAgICAgIHZhciBmciA9IGZpO1xuICAgICAgICAgICAgICAgIHZhciBwciA9IHBpICsgMTtcbiAgICAgICAgICAgICAgICBpZiAocHIgPT09IHBsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJyoqIGF0IHRoZSBlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYSAqKiBhdCB0aGUgZW5kIHdpbGwganVzdCBzd2FsbG93IHRoZSByZXN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgIC8vIGhvd2V2ZXIsIGl0IHdpbGwgbm90IHN3YWxsb3cgLy54LCB1bmxlc3NcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucy5kb3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyAuIGFuZCAuLiBhcmUgKm5ldmVyKiBtYXRjaGVkIGJ5ICoqLCBmb3IgZXhwbG9zaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgcmVhc29ucy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGZpIDwgZmw7IGZpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlW2ZpXSA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW9wdGlvbnMuZG90ICYmIGZpbGVbZmldLmNoYXJBdCgwKSA9PT0gJy4nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9rLCBsZXQncyBzZWUgaWYgd2UgY2FuIHN3YWxsb3cgd2hhdGV2ZXIgd2UgY2FuLlxuICAgICAgICAgICAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnXFxuZ2xvYnN0YXIgd2hpbGUnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIsIHN3YWxsb3dlZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFhYWCByZW1vdmUgdGhpcyBzbGljZS4gIEp1c3QgcGFzcyB0aGUgc3RhcnQgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoT25lKGZpbGUuc2xpY2UoZnIpLCBwYXR0ZXJuLnNsaWNlKHByKSwgcGFydGlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IHN3YWxsb3cgXCIuXCIgb3IgXCIuLlwiIGV2ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBzd2FsbG93IFwiLmZvb1wiIHdoZW4gZXhwbGljaXRseSBhc2tlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWxsb3dlZSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2RvdCBkZXRlY3RlZCEnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdnbG9ic3RhciBzd2FsbG93IGEgc2VnbWVudCwgYW5kIGNvbnRpbnVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBpbiBwYXJ0aWFsIG1vZGUsIHdlIGNhbid0IHNheSB0aGlzIGlzIG5lY2Vzc2FyaWx5IG92ZXIuXG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ1xcbj4+PiBubyBtYXRjaCwgcGFydGlhbD8nLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnIgPT09IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuICoqXG4gICAgICAgICAgICAvLyBub24tbWFnaWMgcGF0dGVybnMganVzdCBoYXZlIHRvIG1hdGNoIGV4YWN0bHlcbiAgICAgICAgICAgIC8vIHBhdHRlcm5zIHdpdGggbWFnaWMgaGF2ZSBiZWVuIHR1cm5lZCBpbnRvIHJlZ2V4cHMuXG4gICAgICAgICAgICBsZXQgaGl0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGhpdCA9IGYgPT09IHA7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpdCA9IHAudGVzdChmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGl0KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiBlbmRpbmcgaW4gLyBtZWFucyB0aGF0IHdlJ2xsIGdldCBhIGZpbmFsIFwiXCJcbiAgICAgICAgLy8gYXQgdGhlIGVuZCBvZiB0aGUgcGF0dGVybi4gIFRoaXMgY2FuIG9ubHkgbWF0Y2ggYVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIFwiXCIgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZS5cbiAgICAgICAgLy8gSWYgdGhlIGZpbGUgZW5kcyBpbiAvLCB0aGVuIGl0IGNhbiBvbmx5IG1hdGNoIGFcbiAgICAgICAgLy8gYSBwYXR0ZXJuIHRoYXQgZW5kcyBpbiAvLCB1bmxlc3MgdGhlIHBhdHRlcm4ganVzdFxuICAgICAgICAvLyBkb2Vzbid0IGhhdmUgYW55IG1vcmUgZm9yIGl0LiBCdXQsIGEvYi8gc2hvdWxkICpub3QqXG4gICAgICAgIC8vIG1hdGNoIFwiYS9iLypcIiwgZXZlbiB0aG91Z2ggXCJcIiBtYXRjaGVzIGFnYWluc3QgdGhlXG4gICAgICAgIC8vIFteL10qPyBwYXR0ZXJuLCBleGNlcHQgaW4gcGFydGlhbCBtb2RlLCB3aGVyZSBpdCBtaWdodFxuICAgICAgICAvLyBzaW1wbHkgbm90IGJlIHJlYWNoZWQgeWV0LlxuICAgICAgICAvLyBIb3dldmVyLCBhL2IvIHNob3VsZCBzdGlsbCBzYXRpc2Z5IGEvKlxuICAgICAgICAvLyBub3cgZWl0aGVyIHdlIGZlbGwgb2ZmIHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4sIG9yIHdlJ3JlIGRvbmUuXG4gICAgICAgIGlmIChmaSA9PT0gZmwgJiYgcGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4gYW5kIGZpbGVuYW1lIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgICAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgZmlsZSwgYnV0IHN0aWxsIGhhZCBwYXR0ZXJuIGxlZnQuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9rIGlmIHdlJ3JlIGRvaW5nIHRoZSBtYXRjaCBhcyBwYXJ0IG9mXG4gICAgICAgICAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4sIHN0aWxsIGhhdmUgZmlsZSBsZWZ0LlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGFjY2VwdGFibGUgaWYgd2UncmUgb24gdGhlIHZlcnkgbGFzdFxuICAgICAgICAgICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgICAgICAgICAgLy8gYS8qIHNob3VsZCBtYXRjaCBhL2IvXG4gICAgICAgICAgICByZXR1cm4gZmkgPT09IGZsIC0gMSAmJiBmaWxlW2ZpXSA9PT0gJyc7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSB1bnJlYWNoYWJsZS5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignd3RmPycpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgfVxuICAgIGJyYWNlRXhwYW5kKCkge1xuICAgICAgICByZXR1cm4gYnJhY2VFeHBhbmQodGhpcy5wYXR0ZXJuLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICBwYXJzZShwYXR0ZXJuKSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gc2hvcnRjdXRzXG4gICAgICAgIGlmIChwYXR0ZXJuID09PSAnKionKVxuICAgICAgICAgICAgcmV0dXJuIEdMT0JTVEFSO1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gJycpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIC8vIGZhciBhbmQgYXdheSwgdGhlIG1vc3QgY29tbW9uIGdsb2IgcGF0dGVybiBwYXJ0cyBhcmVcbiAgICAgICAgLy8gKiwgKi4qLCBhbmQgKi48ZXh0PiAgQWRkIGEgZmFzdCBjaGVjayBtZXRob2QgZm9yIHRob3NlLlxuICAgICAgICBsZXQgbTtcbiAgICAgICAgbGV0IGZhc3RUZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKChtID0gcGF0dGVybi5tYXRjaChzdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJUZXN0RG90IDogc3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RFeHRSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBzdGFyRG90RXh0VGVzdE5vY2FzZURvdFxuICAgICAgICAgICAgICAgICAgICA6IHN0YXJEb3RFeHRUZXN0Tm9jYXNlXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHN0YXJEb3RFeHRUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogc3RhckRvdEV4dFRlc3QpKG1bMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChxbWFya3NSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0Tm9jYXNlRG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdE5vY2FzZVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdCkobSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RTdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJEb3RTdGFyVGVzdERvdCA6IHN0YXJEb3RTdGFyVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goZG90U3RhclJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gZG90U3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmUgPSBBU1QuZnJvbUdsb2IocGF0dGVybiwgdGhpcy5vcHRpb25zKS50b01NUGF0dGVybigpO1xuICAgICAgICBpZiAoZmFzdFRlc3QgJiYgdHlwZW9mIHJlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gQXZvaWRzIG92ZXJyaWRpbmcgaW4gZnJvemVuIGVudmlyb25tZW50c1xuICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShyZSwgJ3Rlc3QnLCB7IHZhbHVlOiBmYXN0VGVzdCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfVxuICAgIG1ha2VSZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVnZXhwIHx8IHRoaXMucmVnZXhwID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cDtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgdGhpcy5zZXQgaXMgYSAyZCBhcnJheSBvZiBwYXJ0aWFsXG4gICAgICAgIC8vIHBhdHRlcm4gc3RyaW5ncywgb3IgXCIqKlwiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJdCdzIGJldHRlciB0byB1c2UgLm1hdGNoKCkuICBUaGlzIGZ1bmN0aW9uIHNob3VsZG4ndFxuICAgICAgICAvLyBiZSB1c2VkLCByZWFsbHksIGJ1dCBpdCdzIHByZXR0eSBjb252ZW5pZW50IHNvbWV0aW1lcyxcbiAgICAgICAgLy8gd2hlbiB5b3UganVzdCB3YW50IHRvIHdvcmsgd2l0aCBhIHJlZ2V4LlxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLnNldDtcbiAgICAgICAgaWYgKCFzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2V4cCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHR3b1N0YXIgPSBvcHRpb25zLm5vZ2xvYnN0YXJcbiAgICAgICAgICAgID8gc3RhclxuICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgID8gdHdvU3RhckRvdFxuICAgICAgICAgICAgICAgIDogdHdvU3Rhck5vRG90O1xuICAgICAgICBjb25zdCBmbGFncyA9IG5ldyBTZXQob3B0aW9ucy5ub2Nhc2UgPyBbJ2knXSA6IFtdKTtcbiAgICAgICAgLy8gcmVnZXhwaWZ5IG5vbi1nbG9ic3RhciBwYXR0ZXJuc1xuICAgICAgICAvLyBpZiAqKiBpcyBvbmx5IGl0ZW0sIHRoZW4gd2UganVzdCBkbyBvbmUgdHdvU3RhclxuICAgICAgICAvLyBpZiAqKiBpcyBmaXJzdCwgYW5kIHRoZXJlIGFyZSBtb3JlLCBwcmVwZW5kIChcXC98dHdvU3RhclxcLyk/IHRvIG5leHRcbiAgICAgICAgLy8gaWYgKiogaXMgbGFzdCwgYXBwZW5kIChcXC90d29TdGFyfCkgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gaWYgKiogaXMgaW4gdGhlIG1pZGRsZSwgYXBwZW5kIChcXC98XFwvdHdvU3RhclxcLykgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gdGhlbiBmaWx0ZXIgb3V0IEdMT0JTVEFSIHN5bWJvbHNcbiAgICAgICAgbGV0IHJlID0gc2V0XG4gICAgICAgICAgICAubWFwKHBhdHRlcm4gPT4ge1xuICAgICAgICAgICAgY29uc3QgcHAgPSBwYXR0ZXJuLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5mbGFncy5zcGxpdCgnJykpXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncy5hZGQoZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyByZWdFeHBFc2NhcGUocClcbiAgICAgICAgICAgICAgICAgICAgOiBwID09PSBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLl9zcmM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBwLmZvckVhY2goKHAsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcHBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHAgIT09IEdMT0JTVEFSIHx8IHByZXYgPT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmIG5leHQgIT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSAnKD86XFxcXC98JyArIHR3b1N0YXIgKyAnXFxcXC8pPycgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHBbaV0gPSB0d29TdGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwcFtpIC0gMV0gPSBwcmV2ICsgJyg/OlxcXFwvfCcgKyB0d29TdGFyICsgJyk/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHBbaSAtIDFdID0gcHJldiArICcoPzpcXFxcL3xcXFxcLycgKyB0d29TdGFyICsgJ1xcXFwvKScgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSBHTE9CU1RBUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcC5maWx0ZXIocCA9PiBwICE9PSBHTE9CU1RBUikuam9pbignLycpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICAgICAgLy8gbmVlZCB0byB3cmFwIGluIHBhcmVucyBpZiB3ZSBoYWQgbW9yZSB0aGFuIG9uZSB0aGluZyB3aXRoIHwsXG4gICAgICAgIC8vIG90aGVyd2lzZSBvbmx5IHRoZSBmaXJzdCB3aWxsIGJlIGFuY2hvcmVkIHRvIF4gYW5kIHRoZSBsYXN0IHRvICRcbiAgICAgICAgY29uc3QgW29wZW4sIGNsb3NlXSA9IHNldC5sZW5ndGggPiAxID8gWycoPzonLCAnKSddIDogWycnLCAnJ107XG4gICAgICAgIC8vIG11c3QgbWF0Y2ggZW50aXJlIHBhdHRlcm5cbiAgICAgICAgLy8gZW5kaW5nIGluIGEgKiBvciAqKiB3aWxsIG1ha2UgaXQgbGVzcyBzdHJpY3QuXG4gICAgICAgIHJlID0gJ14nICsgb3BlbiArIHJlICsgY2xvc2UgKyAnJCc7XG4gICAgICAgIC8vIGNhbiBtYXRjaCBhbnl0aGluZywgYXMgbG9uZyBhcyBpdCdzIG5vdCB0aGlzLlxuICAgICAgICBpZiAodGhpcy5uZWdhdGUpXG4gICAgICAgICAgICByZSA9ICdeKD8hJyArIHJlICsgJykuKyQnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKHJlLCBbLi4uZmxhZ3NdLmpvaW4oJycpKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGVcbiAgICAgICAgICAgIHRoaXMucmVnZXhwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgIH1cbiAgICBzbGFzaFNwbGl0KHApIHtcbiAgICAgICAgLy8gaWYgcCBzdGFydHMgd2l0aCAvLyBvbiB3aW5kb3dzLCB3ZSBwcmVzZXJ2ZSB0aGF0XG4gICAgICAgIC8vIHNvIHRoYXQgVU5DIHBhdGhzIGFyZW4ndCBicm9rZW4uICBPdGhlcndpc2UsIGFueSBudW1iZXIgb2ZcbiAgICAgICAgLy8gLyBjaGFyYWN0ZXJzIGFyZSBjb2FsZXNjZWQgaW50byBvbmUsIHVubGVzc1xuICAgICAgICAvLyBwcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgaWYgKHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1dpbmRvd3MgJiYgL15cXC9cXC9bXlxcL10rLy50ZXN0KHApKSB7XG4gICAgICAgICAgICAvLyBhZGQgYW4gZXh0cmEgJycgZm9yIHRoZSBvbmUgd2UgbG9zZVxuICAgICAgICAgICAgcmV0dXJuIFsnJywgLi4ucC5zcGxpdCgvXFwvKy8pXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KC9cXC8rLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2goZiwgcGFydGlhbCA9IHRoaXMucGFydGlhbCkge1xuICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaCcsIGYsIHRoaXMucGF0dGVybik7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgICAgICAgLy8gY29tbWVudHMsIGV0Yy5cbiAgICAgICAgaWYgKHRoaXMuY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZiA9PT0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGYgPT09ICcvJyAmJiBwYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBmID0gZi5zcGxpdCgnXFxcXCcpLmpvaW4oJy8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgICAgICAgY29uc3QgZmYgPSB0aGlzLnNsYXNoU3BsaXQoZik7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCAnc3BsaXQnLCBmZik7XG4gICAgICAgIC8vIGp1c3QgT05FIG9mIHRoZSBwYXR0ZXJuIHNldHMgaW4gdGhpcy5zZXQgbmVlZHMgdG8gbWF0Y2hcbiAgICAgICAgLy8gaW4gb3JkZXIgZm9yIGl0IHRvIGJlIHZhbGlkLiAgSWYgbmVnYXRpbmcsIHRoZW4ganVzdCBvbmVcbiAgICAgICAgLy8gbWF0Y2ggbWVhbnMgdGhhdCB3ZSBoYXZlIGZhaWxlZC5cbiAgICAgICAgLy8gRWl0aGVyIHdheSwgcmV0dXJuIG9uIHRoZSBmaXJzdCBoaXQuXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMuc2V0O1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NldCcsIHNldCk7XG4gICAgICAgIC8vIEZpbmQgdGhlIGJhc2VuYW1lIG9mIHRoZSBwYXRoIGJ5IGxvb2tpbmcgZm9yIHRoZSBsYXN0IG5vbi1lbXB0eSBzZWdtZW50XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGZmW2ZmLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZmYubGVuZ3RoIC0gMjsgIWZpbGVuYW1lICYmIGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmZltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNldFtpXTtcbiAgICAgICAgICAgIGxldCBmaWxlID0gZmY7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBmaWxlID0gW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhpdCA9IHRoaXMubWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCk7XG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm5lZ2F0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAgICAgICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHRzKGRlZikge1xuICAgICAgICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoO1xuICAgIH1cbn1cbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuZXhwb3J0IHsgQVNUIH0gZnJvbSAnLi9hc3QuanMnO1xuZXhwb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi9lc2NhcGUuanMnO1xuZXhwb3J0IHsgdW5lc2NhcGUgfSBmcm9tICcuL3VuZXNjYXBlLmpzJztcbi8qIGM4IGlnbm9yZSBzdG9wICovXG5taW5pbWF0Y2guQVNUID0gQVNUO1xubWluaW1hdGNoLk1pbmltYXRjaCA9IE1pbmltYXRjaDtcbm1pbmltYXRjaC5lc2NhcGUgPSBlc2NhcGU7XG5taW5pbWF0Y2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlSGFzaChzb3VyY2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHNvdXJjZVxuICAgICAgICAucmVwbGFjZUFsbCgnICcsICctJylcbiAgICAgICAgLnJlcGxhY2VBbGwoL1teXFx3LV0vZ2ksICcnKVxuICAgICAgICAudG9Mb3dlckNhc2UoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIC8vW1xuICAgIC8vICAnKicsXG4gICAgLy8gICdleGFtcGxlLmNvbScsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnKi9hbGwnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdpbWFnZXMub3JnJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cvYXNkJyxcbiAgICAvL11cbiAgICAvLyBiZWNvbWVzIOKsh++4j1xuICAgIC8vW1xuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZy9hc2QnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnZXhhbXBsZS5jb20nLFxuICAgIC8vICAnaW1hZ2VzLm9yZycsXG4gICAgLy8gICcqL2FsbCcsXG4gICAgLy8gICcqJyxcbiAgICAvL11cblxuICAgIC8vXG4gICAgLy8gYCpgIG1lYW5zIGFsbCwgaXQgc2hvdWxkIGNvbWUgbGFzdFxuICAgIGlmICghYS5zdGFydHNXaXRoKCcqJykgJiYgYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAtMVxuICAgIGlmIChhLnN0YXJ0c1dpdGgoJyonKSAmJiAhYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAxXG5cbiAgICAvLyBwcmlvcml0aXplIHNwZWNpZmljaXR5XG4gICAgaWYgKGEuc3RhcnRzV2l0aChiKSkgcmV0dXJuIC0xXG4gICAgaWYgKGIuc3RhcnRzV2l0aChhKSkgcmV0dXJuIDFcblxuICAgIC8vIG9yZGVyIGFsZmFiZXRpY2FsbHlcbiAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIsICdlbicpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW1lRXh0KG1pbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gQFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvTWVkaWEvRm9ybWF0cy9JbWFnZV90eXBlc1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHN3aXRjaCAobWltZSkge1xuICAgICAgICAvLyBNSU1FIG1hcHMgdG8gbWFueSBFWFRcbiAgICAgICAgLy8gLSAnaW1hZ2UvanBlZyc6IGpwZyxqcGVnLCAuLi5ldGNcbiAgICAgICAgLy8gLSAnaW1hZ2UvdGlmZic6IHRpZix0aWZmXG4gICAgICAgIGNhc2UgJ2ltYWdlL2pwZWcnOiByZXR1cm4gJ2pwZydcbiAgICAgICAgY2FzZSAnaW1hZ2UvdGlmZic6IHJldHVybiAndGlmJ1xuXG4gICAgICAgIC8vIE1JTUUgY29tcG9zZWQgb2YgRVhUXG4gICAgICAgIC8vIC0gJ2ltYWdlL3thcG5nLGF2aWYsZ2lmLHBuZyx3ZWJwLGJtcH0nXG4gICAgICAgIC8vIC0gJ2ltYWdlL3N2Zyt4bWwnOiBzdmdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIG1pbWUuc3BsaXQoL1xcL3xcXCsvZ2kpWzFdXG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUge1xuICAgIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4sXG4gICAgQ2FjaGVDb25maWcsXG4gICAgQ2FjaGVNYXRjaGVyLFxuICAgIEZyb250bWF0dGVyTWF0Y2hlcixcbiAgICBQbHVnaW5TdGF0ZSxcbiAgICBSZW1vdGVNYXRjaGVyLFxufSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkksIFVSTCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IEFwcCwgcGFyc2VGcm9udE1hdHRlckVudHJ5LCByZXF1ZXN0VXJsIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBtaW5pbWF0Y2ggfSBmcm9tICdtaW5pbWF0Y2gnXG5pbXBvcnQgeyBBdHRhY2htZW50RXJyb3IgfSBmcm9tICcuL0F0dGFjaG1lbnRFcnJvcidcbmltcG9ydCB7IGdldE1pbWVFeHQgfSBmcm9tICcuL3N0cmluZ3MnXG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlU3RhdGUocGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKTogUGx1Z2luU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhY2hlX21hdGNoZXJzOiBjb25maWdNYXRjaGVycyhwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncyksXG4gICAgICAgIHVybF9jYWNoZV9tYXRjaGVyOiByZW1vdGVNYXRjaGVyKHBsdWdpbi5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpLFxuICAgICAgICB1cmxfaWdub3JlX21hdGNoZXI6IHJlbW90ZU1hdGNoZXIocGx1Z2luLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpLFxuICAgICAgICBub3RlX2NhY2hlX21hdGNoZXI6IGZyb250bWF0dGVyTWF0Y2hlcihcbiAgICAgICAgICAgIHBsdWdpbi5hcHAsXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3Mubm90ZV9wYXJhbV9jYWNoZSxcbiAgICAgICAgKSxcbiAgICAgICAgbm90ZV9pZ25vcmVfbWF0Y2hlcjogZnJvbnRtYXR0ZXJNYXRjaGVyKFxuICAgICAgICAgICAgcGx1Z2luLmFwcCxcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5ub3RlX3BhcmFtX2lnbm9yZSxcbiAgICAgICAgKSxcbiAgICB9XG59XG5cbi8qKiBHZW5lcmF0ZXMgYSBtYXRjaGVyLCB0aGF0IHVzZXJzIEZyb250bWF0dGVyIHBhcmFtcy4gKi9cbmZ1bmN0aW9uIGZyb250bWF0dGVyTWF0Y2hlcihcbiAgICBhcHA6IEFwcCxcbiAgICBub3RlX3BhcmFtID0gJ2ZhbGxiYWNrX3BhcmFtJyxcbik6IEZyb250bWF0dGVyTWF0Y2hlciB7XG4gICAgcmV0dXJuIChub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKG5vdGVwYXRoKVxuICAgICAgICBpZiAoIW1ldGFkYXRhPy5mcm9udG1hdHRlcikgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRnJvbnRNYXR0ZXJFbnRyeShtZXRhZGF0YS5mcm9udG1hdHRlciwgbm90ZV9wYXJhbSlcbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIC8vIHN1cHBvcnQgc3RyaW5ncyBsaWtlICdkb21haW4uY29tL2ltYWdlcydcbiAgICAgICAgaWYgKFN0cmluZy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybiB0ZXN0VXJsKHZhbHVlLCByZW1vdGUpXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiBmYWxzZVxuICAgICAgICAvLyBzdXBwb3J0IHN0cmluZy1hcnJheXMgbGlrZSBbJ2RvbWFpbi5jb20vaW1hZ2VzJ11cbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghU3RyaW5nLmlzU3RyaW5nKHZhbCkpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAodGVzdFVybCh2YWwsIHJlbW90ZSkpIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxufVxuXG5mdW5jdGlvbiB0ZXN0VXJsKHBhdHRlcm46IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIGlmIHRoZSB1c2VyIGFkZHMgJ2h0dHAnLCB0cnkgYW4gZXhhY3QgcHJlZml4IG1hdGNoXG4gICAgaWYgKHBhdHRlcm4uc3RhcnRzV2l0aCgnaHR0cCcpKSByZXR1cm4gdmFsdWUuc3RhcnRzV2l0aChwYXR0ZXJuKVxuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeaHR0cHM/Oi8vKFxcXFx3K1xcXFwuKSonICsgcGF0dGVybiwgJ2cnKS50ZXN0KHZhbHVlKVxufVxuXG4vKiogR2VuZXJhdGVzIGEgbWF0Y2hlciwgdGhhdCBkZXRlY3RzIHRoZSBwcmVzZW5jZSBvZiBhbiBVUkwgcGFyYW0uICovXG5mdW5jdGlvbiByZW1vdGVNYXRjaGVyKHVybF9wYXJhbSA9ICdmYWxsYmFja19wYXJhbScpOiBSZW1vdGVNYXRjaGVyIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJ1s/Jl0nICsgdXJsX3BhcmFtICsgJyhbJj1cXFxcc118JCknLCAnaScpXG4gICAgcmV0dXJuIChyZW1vdGU6IHN0cmluZykgPT4gcmVnZXgudGVzdChyZW1vdGUpXG59XG5cbmZ1bmN0aW9uIGNvbmZpZ01hdGNoZXJzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZU1hdGNoZXJbXSB7XG4gICAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25maWcpID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdDogYWxvbmdzaWRlIHRoZSBub3RlXG4gICAgICAgIC8vIHRoZSBwcmVmaXggJy8nIGlzIHVzZWQgdG8gZm9yY2UgdGhlIHBhdGggaW5zaWRlIHRoZSB2YXVsdFxuICAgICAgICBsZXQgcmVzb2x2ZSA9IChfcGF0aDogc3RyaW5nKSA9PiBVUkkuZ2V0UGFyZW50KF9wYXRoKSA/PyAnLydcblxuICAgICAgICBzd2l0Y2ggKGNvbmZpZy5tb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdOT1RFLUZPTERFUic6IC8vIGFsb25nc2lkZSB0aGUgbm90ZSBpbiBhIHN1YmZvbGRlciB3aXRoIHRoZSB0YXJnZXRQYXRoIGFzIG5hbWVcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgIFVSSS5qb2luKFVSSS5nZXRQYXJlbnQoX3BhdGgpLCBjb25maWcudGFyZ2V0KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdUQVJHRVQtUEFUSCc6IC8vIGluc2lkZSB0aGUgdGFyZ2V0UGF0aCByZXBsYXRpbmcgdGhlIG5vdGUtcGF0aCwgd2l0aG91dCBgLm1kYFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSAoX3BhdGg6IHN0cmluZykgPT5cbiAgICAgICAgICAgICAgICAgICAgVVJJLmpvaW4oY29uZmlnLnRhcmdldCwgVVJJLnJlbW92ZUV4dChfcGF0aCkpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ1RBUkdFVC1OT1RFJzogLy8gaW5zaWRlIHRoZSB0YXJnZXRQYXRoIGluIGEgZm9sZGVyIG5hbWVkIGFzIHRoZSBub3RlLCB3aXRob3V0IGAubWRgXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IChfcGF0aDogc3RyaW5nKSA9PlxuICAgICAgICAgICAgICAgICAgICBVUkkuam9pbihjb25maWcudGFyZ2V0LCBVUkkuZ2V0QmFzZW5hbWUoX3BhdGgpKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdUQVJHRVQnOiAvLyBkaXJlY3RseSBpbnNpZGUgdGhlIHRhcmdldFBhdGhcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gKCkgPT4gY29uZmlnLnRhcmdldFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXN0UGF0aCA9XG4gICAgICAgICAgICBjb25maWcucGF0dGVybiAhPT0gJyonXG4gICAgICAgICAgICAgICAgPyAoX25vdGVwYXRoOiBzdHJpbmcpID0+IG1pbmltYXRjaChfbm90ZXBhdGgsIGNvbmZpZy5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIDogKCkgPT4gdHJ1ZVxuICAgICAgICBjb25zdCB0ZXN0UmVtb3RlID0gKF9yZW1vdGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IHBhdHRlcm4sIHdoaXRlbGlzdGVkIH0gb2YgY29uZmlnLnJlbW90ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0dGVybiA9PT0gJyonKSByZXR1cm4gd2hpdGVsaXN0ZWRcbiAgICAgICAgICAgICAgICBpZiAodGVzdFVybChwYXR0ZXJuLCBfcmVtb3RlKSkgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2U6IE9iamVjdC5mcmVlemUoY29uZmlnKSxcbiAgICAgICAgICAgIGlzRW5hYmxlZDogKCkgPT4gY29uZmlnLmVuYWJsZWQsXG4gICAgICAgICAgICB0ZXN0UmVtb3RlLFxuICAgICAgICAgICAgdGVzdFBhdGgsXG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICB9XG4gICAgfSlcbn1cblxuLyoqXG4gKiBSZXF1ZXN0IHRoZSBtZXRhZGF0YSBvZiBhIGZpbGUsIHRvIGRldGVybWluZSB0aGUgZmlsZSBleHRlbnNpb24uXG4gKiBAdGhyb3dzIHtBdHRhY2htZW50RXJyb3J9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVFeHQodXJsOiBzdHJpbmcsIGxvZzogTG9nZ2VyKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsb2cuZGVidWcoYFJlc29sdmluZyBleHRlbnNpb24gZm9yICR7dXJsfWApXG5cbiAgICBjb25zdCByZWZlcmVyID0gVVJMLmdldE9yaWdpbih1cmwpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHRocm93OiBmYWxzZSxcbiAgICAgICAgbWV0aG9kOiAnSEVBRCcsXG4gICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogcmVmZXJlciA/IHJlZmVyZXIgKyAnLycgOiAnJyB9LFxuICAgIH0pXG5cbiAgICBBdHRhY2htZW50RXJyb3IuYXNzZXJ0UmVzcG9uc2UodXJsLCByZXNwb25zZSwgJ3VybC1yZXF1ZXN0LWhlYWQnKVxuICAgIHJldHVybiBnZXRNaW1lRXh0KHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddKVxufVxuXG4vKipcbiAqIERvd25sb2FkcyB0aGUgY29udGVudCBvZiBhIGZpbGUuXG4gKiBAdGhyb3dzIHtBdHRhY2htZW50RXJyb3J9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVDb250ZW50KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGxvZzogTG9nZ2VyLFxuKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGxvZy5kZWJ1ZyhgRG93bmxvYWRpbmcgJHt1cmx9YClcblxuICAgIGNvbnN0IHJlZmVyZXIgPSBVUkwuZ2V0T3JpZ2luKHVybClcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgdGhyb3c6IGZhbHNlLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHJlZmVyZXIgPyByZWZlcmVyICsgJy8nIDogJycgfSxcbiAgICB9KVxuXG4gICAgQXR0YWNobWVudEVycm9yLmFzc2VydFJlc3BvbnNlKHVybCwgcmVzcG9uc2UsICd1cmwtcmVxdWVzdC1nZXQnKVxuICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlclxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZVJlbW90ZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBjb21wYXJlQnlTcGVjaWZpY2l0eSB9IGZyb20gJy4vc3RyaW5ncydcblxuLyoqIEVuc3VyZXMgdW5pcXVlbmVzcyBhbmQgb3JkZXIgb2YgYSBsaXN0IG9mIHJlbW90ZXMuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJlbW90ZXMocmVtb3RlczogQ2FjaGVSZW1vdGVbXSk6IENhY2hlUmVtb3RlW10ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdIGFzIENhY2hlUmVtb3RlW11cbiAgICBsZXQgaGFzRmFsbGJhY2sgPSBmYWxzZVxuXG4gICAgLy8ga2VlcCBvbmx5IGZpcnN0IGFwcGVyZW5jZXNcbiAgICBmb3IgKGNvbnN0IGEgb2YgcmVtb3Rlcykge1xuICAgICAgICBpZiAocmVzdWx0LmV2ZXJ5KChiKSA9PiBiLnBhdHRlcm4gIT09IGEucGF0dGVybikpIHtcbiAgICAgICAgICAgIGlmIChhLnBhdHRlcm4gPT09ICcqJykgaGFzRmFsbGJhY2sgPSB0cnVlXG4gICAgICAgICAgICByZXN1bHQucHVzaChhKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNGYWxsYmFjaykgcmVzdWx0LnB1c2goeyBwYXR0ZXJuOiAnKicsIHdoaXRlbGlzdGVkOiBmYWxzZSB9KVxuICAgIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG4vKiogU2VyaWFsaXplIHJlbW90ZXMgYXMgYW4gc3RyaW5nLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVJlbW90ZXMocmVtb3RlczogQ2FjaGVSZW1vdGVbXSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHJlbW90ZXNcbiAgICAgICAgLm1hcCgoeyB3aGl0ZWxpc3RlZCwgcGF0dGVybiB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYCR7d2hpdGVsaXN0ZWQgPyAndycgOiAnYid9ICR7cGF0dGVybn1gXG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCdcXG4nKVxufVxuXG4vKipcbiAqIFBhcnNlcyBhIHJlbW90ZSBzdHJpbmcsIGtlZXBpbmcgd2hpdGVsaXN0ZWQgc3RhdHVzIGlmIHByZXNlbnQuXG4gKiAtIGAndyBleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIHRydWVdYFxuICogLSBgJ2IgZXhhbXBsZS5jb20nYCDihpIgYFsnZXhhbXBsZS5jb20nLCBmYWxzZV1gXG4gKiAtIGAnZXhhbXBsZS5jb20nYCDihpIgYFsnZXhhbXBsZS5jb20nLCB1bmRlZmluZWRdYFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZW1vdGUoc291cmNlOiBzdHJpbmcpOiBbc3RyaW5nLCBib29sZWFuIHwgdW5kZWZpbmVkXSB7XG4gICAgaWYgKCEvXFxzKy8udGVzdChzb3VyY2UpKSByZXR1cm4gW3NvdXJjZSwgdW5kZWZpbmVkXVxuXG4gICAgY29uc3QgcGFydHMgPSBzb3VyY2Uuc3BsaXQoL1xccysvZylcbiAgICBpZiAocGFydHNbMF0uc3RhcnRzV2l0aCgndycpKSByZXR1cm4gW3BhcnRzWzFdLCB0cnVlXVxuICAgIGlmIChwYXJ0c1swXS5zdGFydHNXaXRoKCdiJykpIHJldHVybiBbcGFydHNbMV0sIGZhbHNlXVxuICAgIHJldHVybiBbcGFydHNbMV0sIHVuZGVmaW5lZF1cbn1cblxuLyoqIFNwbGl0cyBhIHJlbW90ZXMgc3RyaW5nLCBrZWVwaW5nIHByZXZpb3VzIHN0YXRlcyB3aGVuIHBvc2libGUuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZW1vdGVzKFxuICAgIHJlbW90ZXM6IENhY2hlUmVtb3RlW10sXG4gICAgc291cmNlczogc3RyaW5nLFxuKTogQ2FjaGVSZW1vdGVbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVSZW1vdGVbXVxuICAgIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgICAvLyBvbmUgcmVtb3RlIHBlci1saW5lXG4gICAgZm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlcy5zcGxpdCgvXFxuKy9nKSkge1xuICAgICAgICBjb25zdCBbcGF0dGVybiwgd10gPSBwYXJzZVJlbW90ZShzb3VyY2UpXG4gICAgICAgIGlmIChwYXR0ZXJuID09PSAnKicpIGhhc0ZhbGxiYWNrID0gdHJ1ZVxuXG4gICAgICAgIC8vIGlnbm9yZSBkdXBsaWNhdGVkIGVudHJpZXNcbiAgICAgICAgaWYgKHJlc3VsdC5zb21lKChiKSA9PiBiLnBhdHRlcm4gPT09IHBhdHRlcm4pKSBjb250aW51ZVxuXG4gICAgICAgIC8vIGlmIGhhcyB3aGl0ZWxpc3RlZCBkZWZpbml0aW9uLCB1c2UgaXRcbiAgICAgICAgaWYgKHcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogdyB9KVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlYXJjaCBwcmV2aW91cyBkZWZpbml0aW9uXG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZW1vdGVzKSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gbWF0Y2ggc2FtZSBwYXR0ZXJuc1xuICAgICAgICAgICAgaWYgKHBhdHRlcm4gPT09IHMucGF0dGVybikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0cnkgdG8gbWF0Y2ggb25seSB3aXRoIGEgZGlmZXJlbmNlIG9mIG9uZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhwYXR0ZXJuLmxlbmd0aCAtIHMucGF0dGVybi5sZW5ndGgpICE9PSAxKSBjb250aW51ZVxuXG4gICAgICAgICAgICAvLyB0cnkgdG8gbWF0Y2ggdGhlIHBhdHRlcm5zXG4gICAgICAgICAgICBpZiAocy5wYXR0ZXJuLnN0YXJ0c1dpdGgocGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICAvLyBleGFtcGxlLmNvbS9wYXRoID0+IGV4YW1wbGUuY29tL3BhdFxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuLnN0YXJ0c1dpdGgocy5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGUuY29tL3BhdGggPT4gZXhhbXBsZS5jb20vcGF0aHNcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBzLndoaXRlbGlzdGVkIH0pXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGxiYWNrIGJlaGF2aW9yXG4gICAgICAgIGlmICghcmVzdWx0LnNvbWUoKGIpID0+IGIucGF0dGVybiA9PT0gcGF0dGVybikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc0ZhbGxiYWNrKSByZXN1bHQucHVzaCh7IHBhdHRlcm46ICcqJywgd2hpdGVsaXN0ZWQ6IGZhbHNlIH0pXG5cbiAgICAvLyBzb3J0aW5nXG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbi8qKiBEZXRlY3RzIHBvc2libGUgcHJvYmxlbXMgd2l0aCB0aGUgdXNlciBkZWZpbmVkIHJlbW90ZXMuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZW1vdGVzKHNvdXJjZXM6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBwcm9ibGVtczogc3RyaW5nW10gPSBbXVxuICAgIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgICAvLyBvbmUgcmVtb3RlIHBlci1saW5lXG4gICAgZm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlcy5zcGxpdCgvXFxuKy9nKSkge1xuICAgICAgICBjb25zdCB0cmltbWVkID0gc291cmNlLnRyaW0oKS5yZXBsYWNlKC9eW3diXVxccysvLCAnJylcbiAgICAgICAgaWYgKHRyaW1tZWQgPT09ICcqJykge1xuICAgICAgICAgICAgaGFzRmFsbGJhY2sgPSB0cnVlXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9eXFx3KzovZ2kudGVzdCh0cmltbWVkKSkge1xuICAgICAgICAgICAgcHJvYmxlbXMucHVzaChcInJlbW92ZSBwcm90b2NvbHMsIGV4OiAnaHR0cDovLydcIilcbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKFxcdytcXC4pK1xcdysvLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgICAgICAgIHByb2JsZW1zLnB1c2goXCJzaG91bGQgaW5jbHVkZSBkb21haW4sIGV4OiAnZXhhbXBsZS5vcmcvcGF0aCdcIilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzRmFsbGJhY2spIHByb2JsZW1zLnVuc2hpZnQoXCJzaG91bGQgaW5jbHVkZSBhIGZhbGxiYWNrICcqJ1wiKVxuXG4gICAgcmV0dXJuIHByb2JsZW1zXG59XG4iLCJpbXBvcnQgdHlwZSB7IENhY2hlQ29uZmlnIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IGNvbXBhcmVCeVNwZWNpZmljaXR5IH0gZnJvbSAnLi9zdHJpbmdzJ1xuaW1wb3J0IHsgcHJlcGFyZVJlbW90ZXMgfSBmcm9tICcuL3JlbW90ZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQ29uZmlncyhjb25maWdzOiBDYWNoZUNvbmZpZ1tdKTogQ2FjaGVDb25maWdbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVDb25maWdbXVxuXG4gICAgZm9yIChjb25zdCBhIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgLy8gaWYgaXMgdW5pcXVlLCBrZWVwIGl0XG4gICAgICAgIGNvbnN0IGJJbmRleCA9IHJlc3VsdC5maW5kSW5kZXgoKGIpID0+IGIucGF0dGVybiA9PT0gYS5wYXR0ZXJuKVxuICAgICAgICBpZiAoYkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIHJlbW90ZXMgYXJlIHNvcnRlZFxuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyAuLi5hLCByZW1vdGVzOiBwcmVwYXJlUmVtb3RlcyhhLnJlbW90ZXMpIH0pXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiBkdXBsaWNhdGVzLCBrZWVwIHRoZSBtb3JlIHNwZWNpZmljIG9uZVxuICAgICAgICBpZiAoYS5yZW1vdGVzLmxlbmd0aCA+IHJlc3VsdFtiSW5kZXhdLnJlbW90ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgcmVtb3RlcyBhcmUgc29ydGVkXG4gICAgICAgICAgICByZXN1bHRbYkluZGV4XSA9IHsgLi4uYSwgcmVtb3RlczogcHJlcGFyZVJlbW90ZXMoYS5yZW1vdGVzKSB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgc29ydGluZyBvZiBwYXRoc1xuICAgIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQYXR0ZXJuKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10sIF92YWx1ZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGlmICghX3ZhbHVlKSByZXR1cm4gWydpbnZhbGlkIHBhdHRlcm4nXVxuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wYXR0ZXJuID09PSBfdmFsdWUpIHJldHVybiBbYGR1cGxpY2F0ZWQgcGF0dGVybiAnJHtfdmFsdWV9J2BdXG4gICAgfVxuICAgIHJldHVybiBbXVxufVxuIiwiaW1wb3J0IHR5cGUgeyBMb2dMZXZlbCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcblxuLy8jcmVnaW9uIExvZ0xldmVsXG5leHBvcnQgdHlwZSBQbHVnaW5MZXZlbCA9IGtleW9mIHR5cGVvZiBMb2dMZXZlbFxuZXhwb3J0IGNvbnN0IExFVkVMX0xBQkVMUzogUmVjb3JkPFBsdWdpbkxldmVsLCBzdHJpbmc+ID0ge1xuICAgIEVSUk9SOiAnRVJST1InLFxuICAgIFdBUk46ICcgV0FSTicsXG4gICAgSU5GTzogJyBJTkZPJyxcbiAgICBERUJVRzogJ0RFQlVHJyxcbiAgICBUUkFDRTogJ1RSQUNFJyxcbn1cbi8vI2VuZHJlZ2lvbiBMb2dMZXZlbFxuXG4vLyNyZWdpb24gUHJpb3JpdGllc1xuLyoqIFV0aWxpdHkgdHlwZSB0byBtYXAgcHJpb3JpdHkgdmFsdWVzLiAqL1xuZXhwb3J0IHR5cGUgUGx1Z2luUHJpb3JpdHkgPSAnTE9XRVInIHwgJ05PUk1BTCcgfCAnSElHSEVSJ1xuLyoqIFByaW9yaXR5IGJlaGF2aW9yOiBgaGlnaGVyID0gYWZ0ZXJgICovXG5leHBvcnQgY29uc3QgUFJJT1JJVFk6IFJlY29yZDxQbHVnaW5Qcmlvcml0eSwgbnVtYmVyPiA9IHtcbiAgICAvLyAhIGFueSB2YWx1ZSBsb3dlciB0aGFuIDAgd2lsbCBpZ25vcmUgdXNlci13cml0dGVuIGVsZW1lbnRzXG4gICAgLyoqIE9ubHkgY2FjaGVzIHVzZXItd3JpdHRlbiBtYXJrZG93bi4gKi9cbiAgICBMT1dFUjogMCxcbiAgICAvKiogQ2FjaGVzICoqUG9zdFByb2Nlc3NvcnMqKiB3aXRoIGRlZmF1bHQgcHJpb3JpdHkgYDBgLiAqL1xuICAgIE5PUk1BTDogMSxcbiAgICAvKiogT25seSBpZ25vcmVzIHRoZSBoaWdoZXN0IHByaW9yaXR5IGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAgKi9cbiAgICBISUdIRVI6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMSxcbn1cbi8qKiBMYWJlbHMgZm9yIHByaW9yaXR5IHZhbHVlcyAqL1xuZXhwb3J0IGNvbnN0IFBSSU9SSVRZX0xBQkVMUzogUmVjb3JkPFBsdWdpblByaW9yaXR5LCBzdHJpbmc+ID0ge1xuICAgIExPV0VSOiAnT25seSBjYWNoZSBzdGF0aWMgYXR0YWNobWVudHMnLFxuICAgIE5PUk1BTDogJ0NhY2hlIG1ham9yaXR5IG9mIGF0dGFjaG1lbnRzJyxcbiAgICBISUdIRVI6ICdDYWNoZSBhbGwgcG9zaWJsZSBhdHRhY2htZW50cycsXG59XG4vLyNlbmRyZWdpb24gUHJpb3JpdGllc1xuXG4vLyNyZWdpb24gTW9kZXNcbi8qKlxuICogTW9kZSB0byBzdG9yZSB0aGUgdmFsdWVzOlxuICogLSBgJ05PVEUnYCBhbG9uZ3NpZGUgdGhlIG5vdGUuIChkb2Vzbid0IHVzZSB0YXJnZXQpXG4gKiAtIGAnTk9URS1GT0xERVInYCBhbG9uZ3NpZGUgdGhlIG5vdGUgaW4gYSBzdWJmb2xkZXIgd2l0aCB0aGUgdGFyZ2V0IGFzIG5hbWUuXG4gKiAtIGAnVEFSR0VUJ2AgZGlyZWN0bHkgaW5zaWRlIHRhcmdldCBwYXRoLlxuICogLSBgJ1RBUkdFVC1OT1RFJ2AgaW5zaWRlIHRhcmdldCBwYXRoIGluIGEgc3ViZm9sZGVyIHdpdGggdGhlIG5vdGUtbmFtZS5cbiAqIC0gYCdUQVJHRVQtUEFUSCdgIGluc2lkZSB0YXJnZXQgcGF0aCByZXBsaWNhdGluZyBub3RlLXBhdGhcbiAqL1xuZXhwb3J0IHR5cGUgQ2FjaGVNb2RlID1cbiAgICB8ICdOT1RFJ1xuICAgIHwgJ05PVEUtRk9MREVSJ1xuICAgIHwgJ1RBUkdFVCdcbiAgICB8ICdUQVJHRVQtTk9URSdcbiAgICB8ICdUQVJHRVQtUEFUSCdcbmludGVyZmFjZSBNb2RlRXhhbXBsZURldGFpbHMge1xuICAgIG1vZGU6IENhY2hlTW9kZVxuICAgIHRhcmdldDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBNT0RFX0xBQkVMUzogUmVjb3JkPENhY2hlTW9kZSwgc3RyaW5nPiA9IHtcbiAgICBOT1RFOiAvKiAgICAqLyAnQXR0YWNobWVudHMgbmV4dCB0byB0aGUgbm90ZScsXG4gICAgJ05PVEUtRk9MREVSJzogJ0F0dGFjaG1lbnRzIG9uIHN1YmZvbGRlcicsXG4gICAgVEFSR0VUOiAvKiAgKi8gJ0F0dGFjaG1lbnRzIG9uIGNhY2hlIGZvbGRlcicsXG4gICAgJ1RBUkdFVC1OT1RFJzogJ0F0dGFjaG1lbnRzIG9uIGNhY2hlIG5vdGUgZm9sZGVyJyxcbiAgICAnVEFSR0VULVBBVEgnOiAnQXR0YWNobWVudHMgb24gY2FjaGUgbm90ZSBwYXRoJyxcbn1cbmV4cG9ydCBjb25zdCBNT0RFX0RFU0M6IFJlY29yZDxDYWNoZU1vZGUsIHN0cmluZz4gPSB7XG4gICAgTk9URTogLyogICAgKi8gJ1N0b3JlIGluIHRoZSBzYW1lIGZvbGRlciBhcyB0aGUgbm90ZScsXG4gICAgJ05PVEUtRk9MREVSJzogJ1N0b3JlIG5leHQgdG8gdGhlIG5vdGUgaW4gc3ViZm9sZGVyJyxcbiAgICBUQVJHRVQ6IC8qICAqLyAnU3RvcmUgaW4gZm9sZGVyJyxcbiAgICAnVEFSR0VULU5PVEUnOiAnU3RvcmUgaW4gc3ViZm9sZGVyIHdpdGggdGhlIG5vdGUtbmFtZSB1bmRlcicsXG4gICAgJ1RBUkdFVC1QQVRIJzogJ1N0b3JlIGluIGEgcmVwbGF0ZWQgbm90ZS1wYXRoIHVuZGVyJyxcbn1cbmV4cG9ydCBjb25zdCBtb2RlRXhhbXBsZSA9ICh7IG1vZGUsIHRhcmdldCB9OiBNb2RlRXhhbXBsZURldGFpbHMpID0+IHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSAnTk9URSc6IC8qICAqLyByZXR1cm4gJ2ZvbGRlci9pbWcxLmpwZydcbiAgICAgICAgY2FzZSAnTk9URS1GT0xERVInOiByZXR1cm4gYGZvbGRlci8ke3RhcmdldH0vaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVCc6IC8qKi8gcmV0dXJuIGAke3RhcmdldH0vaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVC1OT1RFJzogcmV0dXJuIGAke3RhcmdldH0vbm90ZTEvaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVC1QQVRIJzogcmV0dXJuIGAke3RhcmdldH0vZm9sZGVyL25vdGUxL2ltZzEuanBnYFxuICAgIH1cbn1cbi8vI2VuZHJlZ2lvbiBNb2Rlc1xuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVSZW1vdGUgfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgU2V0dGluZywgVGV4dEFyZWFDb21wb25lbnQsIFRleHRDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IGNoZWNrUmVtb3RlcywgcGFyc2VSZW1vdGVzLCBzZXJpYWxpemVSZW1vdGVzIH0gZnJvbSAnQC91dGlsaXR5J1xuaW1wb3J0IHsgQ2FjaGVNb2RlLCBNT0RFX0RFU0MsIE1PREVfTEFCRUxTLCBtb2RlRXhhbXBsZSB9IGZyb20gJy4vdmFsdWVzJ1xuXG50eXBlIEV2ZW50Q2FsbGJhY2sgPSAoY2FjaGU6IENhY2hlQ29uZmlnKSA9PiB2b2lkXG5cbmV4cG9ydCBjbGFzcyBDYWNoZVNldHRpbmdzIHtcbiAgICAjY2FjaGU6IENhY2hlQ29uZmlnXG4gICAgI2NhY2hlSGVhZGVyOiBTZXR0aW5nXG4gICAgI2NhY2hlRGV0YWlsczogSFRNTEVsZW1lbnRcbiAgICAjY2FjaGVSZW1vdGVzOiBIVE1MRWxlbWVudFxuICAgICNyZW1vdGVzVGV4dD86IFRleHRBcmVhQ29tcG9uZW50XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEhUTUxFbGVtZW50LCBjYWNoZTogQ2FjaGVDb25maWcpIHtcbiAgICAgICAgLy8gY2xvbmVkIHRvIGNvbnRyb2wgZmxvdyBvZiB1cGRhdGVzXG4gICAgICAgIHRoaXMuI2NhY2hlID0geyAuLi5jYWNoZSwgcmVtb3RlczogWy4uLmNhY2hlLnJlbW90ZXNdIH1cblxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlciA9IG5ldyBTZXR0aW5nKHBhcmVudClcbiAgICAgICAgdGhpcy4jY2FjaGVEZXRhaWxzID1cbiAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5jcmVhdGVEaXYoJ2NhY2hlLWRldGFpbHMnKVxuICAgICAgICB0aGlzLiNjYWNoZVJlbW90ZXMgPVxuICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtcmVtb3RlcycpXG5cbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlSGVhZGVyKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlRGV0YWlscygpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICAgIH1cblxuICAgICNjYWNoZU5hbWUoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKGAke3RoaXMuI2NhY2hlLmVuYWJsZWQgPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnfSBwYXRoOiBgKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJykuYXBwZW5kVGV4dCh0aGlzLiNjYWNoZS5wYXR0ZXJuKVxuICAgICAgICB9KVxuICAgIH1cbiAgICAjY2FjaGVEZXNjKCk6IERvY3VtZW50RnJhZ21lbnQgfCBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy4jY2FjaGUubW9kZSA9PT0gJ05PVEUnKSByZXR1cm4gTU9ERV9ERVNDLk5PVEVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoTU9ERV9ERVNDW3RoaXMuI2NhY2hlLm1vZGVdKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJykuYXBwZW5kVGV4dCh0aGlzLiNjYWNoZS50YXJnZXQpXG4gICAgICAgIH0pXG4gICAgfVxuICAgICNkaXNwbGF5Q2FjaGVIZWFkZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldE5hbWUodGhpcy4jY2FjaGVOYW1lKCkpXG4gICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldERlc2ModGhpcy4jY2FjaGVEZXNjKCkpXG5cbiAgICAgICAgaWYgKHRoaXMuI2NhY2hlLnBhdHRlcm4gIT09ICcqJykge1xuICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCd0cmFzaC0yJykuc2V0VG9vbHRpcCgnUmVtb3ZlJylcbiAgICAgICAgICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNjYWNoZS5wYXR0ZXJuID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImZhbGxiYWNrIGNvbmZpZygnKicpIGNhbid0IGJlIHJlbW92ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuY2xlYXIoKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlUmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMuI2NhY2hlLmVuYWJsZWQpXG4gICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUuZW5hYmxlZCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldE5hbWUodGhpcy4jY2FjaGVOYW1lKCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBsZXQgdmlzaWJsZSA9IGZhbHNlXG4gICAgICAgICAgICBidXR0b24uc2V0SWNvbignY2hldnJvbi1kb3duJykuc2V0VG9vbHRpcCgnRGV0YWlscycpXG4gICAgICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZSA9ICF2aXNpYmxlXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ2NoZXZyb24tdXAnKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwuYWRkQ2xhc3MoJ3Nob3ctZGV0YWlscycpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ2NoZXZyb24tZG93bicpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5yZW1vdmVDbGFzcygnc2hvdy1kZXRhaWxzJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICN0YXJnZXREZXNjKCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgICAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoKGRpdikgPT4ge1xuICAgICAgICAgICAgZGl2LmFwcGVuZCgnQXR0YWNobWVudHMgc3RvcmFnZSBwYXRoLCBleDonKVxuXG4gICAgICAgICAgICBjb25zdCB1bCA9IGRpdi5jcmVhdGVFbCgndWwnKVxuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IHVsLmNyZWF0ZUVsKCdsaScpXG4gICAgICAgICAgICBub3RlLmFwcGVuZChcIk5vdGU6ICdcIilcbiAgICAgICAgICAgIG5vdGUuY3JlYXRlRWwoJ2InKS5hcHBlbmRUZXh0KCdmb2xkZXIvbm90ZTEubWQnKVxuICAgICAgICAgICAgbm90ZS5hcHBlbmQoXCInXCIpXG5cbiAgICAgICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB1bC5jcmVhdGVFbCgnbGknKVxuICAgICAgICAgICAgYXR0YWNobWVudC5hcHBlbmQoXCJBdHRhY2htZW50OiAnXCIpXG4gICAgICAgICAgICBhdHRhY2htZW50LmNyZWF0ZUVsKCdiJykuYXBwZW5kVGV4dChtb2RlRXhhbXBsZSh0aGlzLiNjYWNoZSkpXG4gICAgICAgICAgICBhdHRhY2htZW50LmFwcGVuZChcIidcIilcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2Rpc3BsYXlDYWNoZURldGFpbHMoKTogdm9pZCB7XG4gICAgICAgIGxldCB0YXJnZXRJbnB1dDogVGV4dENvbXBvbmVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuXG4gICAgICAgIGNvbnN0IGNhY2hlU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICAgICAgY2FjaGVTZXR0aW5nLnNldE5hbWUoJ1N0b3JhZ2UnKVxuICAgICAgICBjYWNoZVNldHRpbmcuc2V0RGVzYyh0aGlzLiN0YXJnZXREZXNjKCkpXG4gICAgICAgIGNhY2hlU2V0dGluZy5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbnMoTU9ERV9MQUJFTFMpXG4gICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLiNjYWNoZS5tb2RlKVxuICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUubW9kZSA9IHZhbHVlIGFzIENhY2hlTW9kZVxuICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgICAgICAgICBjYWNoZVNldHRpbmcuc2V0RGVzYyh0aGlzLiN0YXJnZXREZXNjKCkpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI2NhY2hlLm1vZGUgPT09ICdOT1RFJykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbnB1dD8uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldFZhbHVlKCcnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElucHV0Py5zZXREaXNhYmxlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldFZhbHVlKHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBjYWNoZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRhcmdldElucHV0ID0gaW5wdXRcbiAgICAgICAgICAgIGlmICh0aGlzLiNjYWNoZS5tb2RlID09PSAnTk9URScpIGlucHV0LnNldERpc2FibGVkKHRydWUpXG4gICAgICAgICAgICBlbHNlIGlucHV0LnNldFZhbHVlKHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLnRhcmdldCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICAgICAgICAgIGNhY2hlU2V0dGluZy5zZXREZXNjKHRoaXMuI3RhcmdldERlc2MoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcmVtb3Rlc0Rlc2MgPSBjcmVhdGVGcmFnbWVudCgpXG4gICAgICAgIGNvbnN0IHJlbW90ZXNEZXNjVWwgPSByZW1vdGVzRGVzYy5jcmVhdGVFbCgndWwnKVxuICAgICAgICBjb25zdCByZW1vdGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuc2V0Q2xhc3MoJ3JlbW90ZXMtaW5wdXQnKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5zZXROYW1lKCdSZW1vdGVzJylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuc2V0RGVzYyhyZW1vdGVzRGVzYylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuYWRkVGV4dEFyZWEoKHRleHRhcmVhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNyZW1vdGVzVGV4dCA9IHRleHRhcmVhXG4gICAgICAgICAgICB0ZXh0YXJlYS5zZXRWYWx1ZShzZXJpYWxpemVSZW1vdGVzKHRoaXMuI2NhY2hlLnJlbW90ZXMpKVxuICAgICAgICAgICAgdGV4dGFyZWEub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICByZW1vdGVzRGVzY1VsLmVtcHR5KClcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ibGVtcyA9IGNoZWNrUmVtb3Rlcyh2YWx1ZSlcbiAgICAgICAgICAgICAgICBpZiAocHJvYmxlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtcy5mb3JFYWNoKChwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3Rlc0Rlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLnJlbW90ZXMgPSBwYXJzZVJlbW90ZXModGhpcy4jY2FjaGUucmVtb3RlcywgdmFsdWUpXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVSZW1vdGVzKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI3JlbW90ZU5hbWUocjogQ2FjaGVSZW1vdGUpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoXG4gICAgICAgICAgICAgICAgYCR7ci53aGl0ZWxpc3RlZCA/ICdXaGl0ZWxpc3RlZCcgOiAnQmxhY2tsaXN0ZWQnfSByZW1vdGU6IGAsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2NvZGUnKS5hcHBlbmRUZXh0KHIucGF0dGVybilcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI2NhY2hlUmVtb3Rlcy5lbXB0eSgpXG5cbiAgICAgICAgZm9yIChjb25zdCByZW1vdGUgb2YgdGhpcy4jY2FjaGUucmVtb3Rlcykge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlUmVtb3RlcylcbiAgICAgICAgICAgIHNldHRpbmcuc2V0TmFtZSh0aGlzLiNyZW1vdGVOYW1lKHJlbW90ZSkpXG5cbiAgICAgICAgICAgIGlmIChyZW1vdGUucGF0dGVybiAhPT0gJyonKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCd0cmFzaC0yJykuc2V0VG9vbHRpcCgnUmVtb3ZlJylcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlcyA9IHRoaXMuI2NhY2hlLnJlbW90ZXMgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChyKSA9PiByLnBhdHRlcm4gIT09IHJlbW90ZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldHRpbmcuYWRkQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dChcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLndoaXRlbGlzdGVkID8gJ0JsYWNrbGlzdCcgOiAnV2hpdGVsaXN0JyxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVzID0gdGhpcy4jY2FjaGUucmVtb3Rlcy5tYXAoKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnBhdHRlcm4gIT09IHJlbW90ZS5wYXR0ZXJuKSByZXR1cm4gclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uciwgd2hpdGVsaXN0ZWQ6ICFyLndoaXRlbGlzdGVkIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgI3VwZGF0ZVJlbW90ZXMocmVtb3RlczogQ2FjaGVSZW1vdGVbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLiNjYWNoZS5yZW1vdGVzID0gcmVtb3Rlc1xuICAgICAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuXG4gICAgICAgIHRoaXMuI3JlbW90ZXNUZXh0Py5zZXRWYWx1ZShzZXJpYWxpemVSZW1vdGVzKHJlbW90ZXMpKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVSZW1vdGVzKClcbiAgICB9XG5cbiAgICAjY2hhbmdlTGlzdGVuZXJzOiBFdmVudENhbGxiYWNrW10gPSBbXVxuICAgICNyZW1vdmVMaXN0ZW5lcnM6IEV2ZW50Q2FsbGJhY2tbXSA9IFtdXG5cbiAgICAjaW52b2tlQ2hhbmdlKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuI2NoYW5nZUxpc3RlbmVycykgbGlzdGVuZXIodGhpcy4jY2FjaGUpXG4gICAgfVxuICAgICNpbnZva2VSZW1vdmUoKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4jcmVtb3ZlTGlzdGVuZXJzKSBsaXN0ZW5lcih0aGlzLiNjYWNoZSlcbiAgICB9XG5cbiAgICBvbkNoYW5nZShjYWxsYmFjazogRXZlbnRDYWxsYmFjayk6IHRoaXMge1xuICAgICAgICB0aGlzLiNjaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgb25SZW1vdmUoY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spOiB0aGlzIHtcbiAgICAgICAgdGhpcy4jcmVtb3ZlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUge1xuICAgIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4sXG4gICAgQ2FjaGVDb25maWcsXG4gICAgUGx1Z2luU2V0dGluZ3MsXG59IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQge1xuICAgIEJ1dHRvbkNvbXBvbmVudCxcbiAgICBEcm9wZG93bkNvbXBvbmVudCxcbiAgICBQbHVnaW5TZXR0aW5nVGFiLFxuICAgIFNldHRpbmcsXG4gICAgVGV4dENvbXBvbmVudCxcbn0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBjaGVja1BhdHRlcm4sIHByZXBhcmVDb25maWdzLCBwcmVwYXJlSGFzaCB9IGZyb20gJ0AvdXRpbGl0eSdcbmltcG9ydCB7IENhY2hlU2V0dGluZ3MgfSBmcm9tICcuL0NhY2hlU2V0dGluZ3MnXG5pbXBvcnQgeyBMRVZFTF9MQUJFTFMsIFBSSU9SSVRZX0xBQkVMUyB9IGZyb20gJy4vdmFsdWVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZG9jcyhuYW1lOiBzdHJpbmcsIGRlc2M6IHN0cmluZyk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgIGRpdi5hcHBlbmRUZXh0KGRlc2MgKyAnLiBDaGVjayB0aGUgJylcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdhJywge1xuICAgICAgICAgICAgdGV4dDogJ0RvY3MnLFxuICAgICAgICAgICAgaHJlZjogYGh0dHBzOi8vZ2l0aHViLmNvbS9sdWlzYnMvb2JzaWRpYW4tYXR0YWNobWVudHMtY2FjaGUvYmxvYi9tYWluL2RvY3Mvc2V0dGluZ3MubWQjJHtwcmVwYXJlSGFzaChuYW1lKX1gLFxuICAgICAgICB9KVxuICAgICAgICBkaXYuYXBwZW5kVGV4dCgnLicpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgI3BsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpblxuXG4gICAgI2NvbmZpZ3NMaXN0PzogSFRNTERpdkVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpbikge1xuICAgICAgICBzdXBlcihwbHVnaW4uYXBwLCBwbHVnaW4pXG4gICAgICAgIHRoaXMuI3BsdWdpbiA9IHBsdWdpblxuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKVxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmFkZENsYXNzKCdhdHRhY2htZW50cy1jYWNoZS1zZXR0aW5ncycpXG5cbiAgICAgICAgdGhpcy4jZGlzcGxheUdlbmVyYWxTZXR0aW5ncygpXG5cbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbCkuc2V0TmFtZSgnT3ZlcnJpZGVzJykuc2V0SGVhZGluZygpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlPdmVycmlkZVNldHRpbmdzKClcblxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKS5zZXROYW1lKCdSdWxlcycpLnNldEhlYWRpbmcoKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q29uZmlnc0hlYWRlcigpXG4gICAgICAgIHRoaXMuI2NvbmZpZ3NMaXN0ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ2NvbmZpZ3MtbGlzdCcpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDb25maWdzTGlzdCgpXG4gICAgfVxuXG4gICAgI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxldmVsU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIGxldmVsU2V0dGluZy5zZXROYW1lKCdMb2cgbGV2ZWwnKVxuICAgICAgICBsZXZlbFNldHRpbmcuc2V0RGVzYyhkb2NzKCdMb2cgbGV2ZWwnLCAnVG8gY2hlY2sgdGhlIHBsdWdpbiBsb2dzJykpXG4gICAgICAgIGxldmVsU2V0dGluZy5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbnMoTEVWRUxfTEFCRUxTKVxuICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLnBsdWdpbl9sZXZlbClcbiAgICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdwbHVnaW5fbGV2ZWwnKSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBwcmlvcml0eVNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICBwcmlvcml0eVNldHRpbmcuc2V0TmFtZSgnQ2FjaGUgcHJpb3JpdHknKVxuICAgICAgICBwcmlvcml0eVNldHRpbmcuc2V0RGVzYyhcbiAgICAgICAgICAgIGRvY3MoJ0NhY2hlIHByaW9yaXR5JywgJ0FmZmVjdHMgdGhlIGF0dGFjaG1lbnRzIGJlZW4gY2FjaGVkJyksXG4gICAgICAgIClcbiAgICAgICAgcHJpb3JpdHlTZXR0aW5nLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9ucyhQUklPUklUWV9MQUJFTFMpXG4gICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLiNwbHVnaW4uc2V0dGluZ3MucGx1Z2luX3ByaW9yaXR5KVxuICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ3BsdWdpbl9wcmlvcml0eScpKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGNoYXJzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIGNoYXJzU2V0dGluZy5zZXROYW1lKCdLZWVwIHNwZWNpYWwgY2hhcmFjdGVycycpXG4gICAgICAgIGNoYXJzU2V0dGluZy5zZXREZXNjKFxuICAgICAgICAgICAgJ0lmIHlvdSBhcmUgaGF2aW5nIHByb2JsZW1zIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIG9uIHBhdGhzLCBkaXNhYmxlIHRoaXMgc2V0dGluZy4nLFxuICAgICAgICApXG4gICAgICAgIGNoYXJzU2V0dGluZy5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzKVxuICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdhbGxvd19jaGFyYWN0ZXJzJykpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI2Rpc3BsYXlPdmVycmlkZVNldHRpbmdzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB1cmxpZ25vcmUgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICB1cmxpZ25vcmUuc2V0TmFtZShcIlVSTCdzIGlnbm9yZSBwYXJhbVwiKVxuICAgICAgICB1cmxpZ25vcmUuc2V0RGVzYygnT3ZlcnJpZGVzIHJ1bGVzIGFuZCBpZ25vcmVzIHRoZSBhdHRhY2htZW50LicpXG4gICAgICAgIHVybGlnbm9yZS5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2lnbm9yZScpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCB1cmxjYWNoZSA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIHVybGNhY2hlLnNldE5hbWUoXCJVUkwncyBjYWNoZSBwYXJhbVwiKVxuICAgICAgICB1cmxjYWNoZS5zZXREZXNjKCdPdmVycmlkZXMgcnVsZXMgYW5kIGNhY2hlcyB0aGUgYXR0YWNobWVudC4nKVxuICAgICAgICB1cmxjYWNoZS5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLnVybF9wYXJhbV9jYWNoZSlcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICd1cmxfcGFyYW1fY2FjaGUnKSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBub3RlaWdub3JlID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgbm90ZWlnbm9yZS5zZXROYW1lKFwiTm90ZSdzIGlnbm9yZSBmcm9udG1hdHRlciBhdHRyaWJ1dGVcIilcbiAgICAgICAgbm90ZWlnbm9yZS5zZXREZXNjKCdPdmVycmlkZXMgcnVsZXMgYW5kIGlnbm9yZXMgdGhlIE5vdGUgYXR0YWNobWVudHMuJylcbiAgICAgICAgbm90ZWlnbm9yZS5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLm5vdGVfcGFyYW1faWdub3JlKVxuICAgICAgICAgICAgaW5wdXQub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ25vdGVfcGFyYW1faWdub3JlJykpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IG5vdGVjYWNoZSA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIG5vdGVjYWNoZS5zZXROYW1lKFwiTm90ZSdzIGNhY2hlIGZyb250bWF0dGVyIGF0dHJpYnV0ZVwiKVxuICAgICAgICBub3RlY2FjaGUuc2V0RGVzYygnT3ZlcnJpZGVzIHJ1bGVzIGFuZCBjYWNoZXMgdGhlIE5vdGUgYXR0YWNobWVudHMuJylcbiAgICAgICAgbm90ZWNhY2hlLmFkZFRleHQoKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBpbnB1dC5zZXRWYWx1ZSh0aGlzLiNwbHVnaW4uc2V0dGluZ3Mubm90ZV9wYXJhbV9jYWNoZSlcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdub3RlX3BhcmFtX2NhY2hlJykpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI2Rpc3BsYXlDb25maWdzSGVhZGVyKCk6IHZvaWQge1xuICAgICAgICBsZXQgcGF0dGVybklucHV0OiBUZXh0Q29tcG9uZW50IHwgbnVsbCA9IG51bGxcbiAgICAgICAgbGV0IHNvdXJjZURyb3Bkb3duOiBEcm9wZG93bkNvbXBvbmVudCB8IG51bGwgPSBudWxsXG4gICAgICAgIGxldCBkdXBsaWNhdGVCdXR0b246IEJ1dHRvbkNvbXBvbmVudCB8IG51bGwgPSBudWxsXG5cbiAgICAgICAgY29uc3QgaGVhZGVyRGVzYyA9IGNyZWF0ZUZyYWdtZW50KClcbiAgICAgICAgY29uc3QgaGVhZGVyRGVzY1VsID0gaGVhZGVyRGVzYy5jcmVhdGVFbCgndWwnKVxuXG4gICAgICAgIGNvbnN0IGhlYWRlckVsID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgaGVhZGVyRWwuc2V0Q2xhc3MoJ2NvbmZpZ3MtaGVhZGVyJylcbiAgICAgICAgaGVhZGVyRWwuc2V0TmFtZSgnRHVwbGljYXRlIGNhY2hlIHJ1bGUnKVxuICAgICAgICBoZWFkZXJFbC5zZXREZXNjKGhlYWRlckRlc2MpXG4gICAgICAgIGhlYWRlckVsLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgc291cmNlRHJvcGRvd24gPSBkcm9wZG93blxuICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUoJyonKVxuICAgICAgICAgICAgZm9yIChjb25zdCBjb25maWcgb2YgdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oY29uZmlnLnBhdHRlcm4sIGNvbmZpZy5wYXR0ZXJuKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBoZWFkZXJFbC5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgcGF0dGVybklucHV0ID0gaW5wdXRcbiAgICAgICAgICAgIGlucHV0LnNldFBsYWNlaG9sZGVyKCdnbG9iOiAqKi8qLm1kJylcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGhlYWRlckRlc2NVbC5lbXB0eSgpXG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBkdXBsaWNhdGVCdXR0b24/LnNldERpc2FibGVkKHRydWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvYmxlbXMgPSBjaGVja1BhdHRlcm4oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5jYWNoZV9jb25maWdzLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKHByb2JsZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbXMuZm9yRWFjaCgocCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckRlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVCdXR0b24/LnNldERpc2FibGVkKHByb2JsZW1zLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBoZWFkZXJFbC5hZGRCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uID0gYnV0dG9uXG4gICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgnRHVwbGljYXRlJylcbiAgICAgICAgICAgIGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybklucHV0Py5nZXRWYWx1ZSgpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmID0gc291cmNlRHJvcGRvd24/LmdldFZhbHVlKCkgPz8gJyonXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLiNwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAoaSkgPT4gaS5wYXR0ZXJuID09PSByZWYsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2ggfHwgIXNyYykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VuZXhwZWN0ZWQgc3RhdGUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3NcbiAgICAgICAgICAgICAgICBjb25maWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBtYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3Rlczogc3JjLnJlbW90ZXMsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHNyYy5lbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHNyYy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHNyYy5tb2RlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQ29uZmlncyhjb25maWdzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAjZGlzcGxheUNvbmZpZ3NMaXN0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuI2NvbmZpZ3NMaXN0KSByZXR1cm5cbiAgICAgICAgdGhpcy4jY29uZmlnc0xpc3QuZW1wdHkoKVxuXG4gICAgICAgIGZvciAoY29uc3QgY2FjaGUgb2YgdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgQ2FjaGVTZXR0aW5ncyh0aGlzLiNjb25maWdzTGlzdCwgY2FjaGUpXG4gICAgICAgICAgICBzZXR0aW5nLm9uQ2hhbmdlKChfY2FjaGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZS1yZW5kZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgLy9cbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoYykgPT4gKGMucGF0dGVybiA9PT0gX2NhY2hlLnBhdHRlcm4gPyBfY2FjaGUgOiBjKSlcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2V0dGluZy5vblJlbW92ZSgoX2NhY2hlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgb2YgcmVkZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgLy9cbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoYykgPT4gYy5wYXR0ZXJuICE9PSBfY2FjaGUucGF0dGVybilcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgI2hhbmRsZShrZXk6IGtleW9mIFBsdWdpblNldHRpbmdzLCB2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGR5bmFtaWMgYXNzaWdubWVudFxuICAgICAgICB0aGlzLiNwbHVnaW4uc2V0dGluZ3Nba2V5XSA9IHZhbHVlXG4gICAgICAgIHZvaWQgdGhpcy4jcGx1Z2luLnNhdmVTZXR0aW5ncygpXG4gICAgfVxuICAgICN1cGRhdGVDb25maWdzKGNvbmZpZzogQ2FjaGVDb25maWdbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLiNwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGNvbmZpZylcbiAgICAgICAgdm9pZCB0aGlzLiNwbHVnaW4uc2F2ZVNldHRpbmdzKClcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4gfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBNYXJrZG93blBvc3RQcm9jZXNzb3IgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IFBSSU9SSVRZIH0gZnJvbSAnQC9zZXR0aW5ncy92YWx1ZXMnXG5cbmV4cG9ydCBjbGFzcyBNYXJrZG93bkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7fVxuXG4gICAgI21wcD86IE1hcmtkb3duUG9zdFByb2Nlc3NvclxuXG4gICAgLyoqXG4gICAgICogUHJpb3JpdGllcyBzb3J0cyB0aGUgKipQb3N0UHJvY2Vzb3JzKiogb3JkZXIgb2YgZXhlY3V0aW9uLCBgaGlnaGVyID09IGFmdGVyYC5cbiAgICAgKiBXaGVuICoqUG9zdFByb2Nlc29ycyoqIHVzZSBhbiBgYXN5bmNgIGZ1bmN0aW9uLCBpdCBpcyBub3QgYXdhaXRlZFxuICAgICAqIHNvIHRoZSBzb3J0T3JkZXIgaXMgbm90IGVuZm9yY2VkLlxuICAgICAqXG4gICAgICogV2hlbiBhICoqUG9zdFByb2Nlc29ycyoqIHJ1bnMgYWZ0ZXIgdGhlIGNhY2hlICoqUG9zdFByb2Nlc29yKiosXG4gICAgICogYW55IGF0dGFjaG1lbnQgZ2VuZXJhdGVkIHdpbGwgbm90IGJlIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogRm9yIGNvbnRleHQgb24gcHJpb3JpdHkgb2Ygb3RoZXIgcGx1Z2luczpcbiAgICAgKiAqIGx1aXNicy9vYnNpZGlhbi1jb21wb25lbnRzOiBgLTEwMGBcbiAgICAgKiAqIGJsYWNrc21pdGhndS9vYnNpZGlhbi1kYXRhdmlldzogYC0xMDBgXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBgMWAgY2FjaGVzIGF0dGFjaG1lbnRzIG9mIG5vcm1hbCBQb3N0UHJvY2Vzb3JzIChgcHJpb3JpdHkgPSAwYClcbiAgICAgKi9cbiAgICBwdWJsaWMgc3luY1ByaW9yaXR5KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuI21wcCkgcmV0dXJuXG4gICAgICAgIHRoaXMuI21wcC5zb3J0T3JkZXIgPSBQUklPUklUWVt0aGlzLnBsdWdpbi5zZXR0aW5ncy5wbHVnaW5fcHJpb3JpdHldXG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyTWFya2Rvd25Qcm9jZXNzb3IoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI21wcCA9IHRoaXMucGx1Z2luLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKFxuICAgICAgICAgICAgKGVsZW1lbnQsIHsgc291cmNlUGF0aCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW1pZGlhdGUgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnBsdWdpbl9wcmlvcml0eSA9PT0gJ0xPV0VSJykge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMuI2hhbmRsZShlbGVtZW50LCBzb3VyY2VQYXRoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmb3IgcGx1Z2lucyB0aGF0IHVzZSBhc3luYyBQb3N0UHJvY2Vzc29ycyBhd2FpdCBzb21lIHNlY29uZHNcbiAgICAgICAgICAgICAgICBjb25zdCBtaWxsaXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wbHVnaW5fcHJpb3JpdHkgPT09ICdISUdIRVInXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDEwMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDIwMDBcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHZvaWQgdGhpcy4jaGFuZGxlKGVsZW1lbnQsIHNvdXJjZVBhdGgpLCBtaWxsaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICApXG4gICAgICAgIHRoaXMuc3luY1ByaW9yaXR5KClcbiAgICB9XG5cbiAgICBhc3luYyAjaGFuZGxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzb3VyY2VQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaS5jYWNoZShzb3VyY2VQYXRoLCBlbC5zcmMpXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWQpIGVsLnNyYyA9IHJlc29sdmVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igb3RoZXIgdHlwZXMgb2YgYXR0YWNobWVudHNcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4sIENhY2hlTWF0Y2hlciB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5BUEkgfSBmcm9tICdAL2luZGV4J1xuaW1wb3J0IHsgVmF1bHQsIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IExvZ2dlciwgVVJJLCBVUkwgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQgeyBnZXRSZW1vdGVDb250ZW50LCBnZXRSZW1vdGVFeHQsIEF0dGFjaG1lbnRFcnJvciB9IGZyb20gJy4vdXRpbGl0eSdcblxuaW50ZXJmYWNlIFJlbW90ZURlZiB7XG4gICAgbm90ZXBhdGg6IHN0cmluZ1xuICAgIHJlbW90ZTogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50c0NhY2hlQVBJIGltcGxlbWVudHMgQXR0YWNobWVudHNDYWNoZVBsdWdpbkFQSSB7XG4gICAgI2xvZzogTG9nZ2VyXG4gICAgI3ZhdWx0OiBWYXVsdFxuICAgICNwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5cblxuICAgICNtZW1vID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4oKVxuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7XG4gICAgICAgIHRoaXMuI2xvZyA9IHBsdWdpbi5sb2cubWFrZShBdHRhY2htZW50c0NhY2hlQVBJLm5hbWUpXG4gICAgICAgIHRoaXMuI3ZhdWx0ID0gcGx1Z2luLmFwcC52YXVsdFxuICAgICAgICB0aGlzLiNwbHVnaW4gPSBwbHVnaW5cbiAgICB9XG5cbiAgICBtYXlDYWNoZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLiNmaW5kQ2FjaGVSdWxlKHsgbm90ZXBhdGgsIHJlbW90ZSB9LCB0aGlzLiNsb2cpXG4gICAgfVxuXG4gICAgYXN5bmMgaXNDYWNoZWQobm90ZXBhdGg6IHN0cmluZywgcmVtb3RlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy5yZXNvbHZlKG5vdGVwYXRoLCByZW1vdGUpXG4gICAgICAgIHJldHVybiAhIWxvY2FsUGF0aCAmJiAhIXRoaXMuI3ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChsb2NhbFBhdGgpXG4gICAgfVxuXG4gICAgYXN5bmMgcmVzb3VyY2UoXG4gICAgICAgIG5vdGVwYXRoOiBzdHJpbmcsXG4gICAgICAgIHJlbW90ZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMucmVzb2x2ZShub3RlcGF0aCwgcmVtb3RlKVxuICAgICAgICBpZiAoIWxvY2FsUGF0aCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuI3ZhdWx0LmdldEZpbGVCeVBhdGgobG9jYWxQYXRoKVxuICAgICAgICByZXR1cm4gZmlsZSA/IHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChmaWxlKSA6IHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGFzeW5jIHJlc29sdmUoXG4gICAgICAgIG5vdGVwYXRoOiBzdHJpbmcsXG4gICAgICAgIHJlbW90ZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy4jbG9nLmdyb3VwKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ3JvdXAuZGVidWcoJ1Jlc29sdmluZycsIHsgbm90ZXBhdGgsIHJlbW90ZSB9KVxuICAgICAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy4jcmVzb2x2ZSh7IG5vdGVwYXRoLCByZW1vdGUgfSwgZ3JvdXApXG4gICAgICAgICAgICBpZiAobG9jYWxQYXRoKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSByZXNvbHZlZCcsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxQYXRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBncm91cC5lcnJvcihlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmZsdXNoKCdyZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkJywgcmVtb3RlKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBhc3luYyBjYWNoZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmICghcmVtb3RlLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgdGhpcy4jbG9nLmRlYnVnKCdyZW1vdGVzIHNob3VsZCBhdCBsZWFzdCBzdGFydCB3aXRoIGh0dHAnKVxuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLiNsb2cuZ3JvdXAoKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ3JvdXAuZGVidWcoJ0NhY2hpbmcnLCB7IG5vdGVwYXRoLCByZW1vdGUgfSlcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMuI3Jlc29sdmUoeyBub3RlcGF0aCwgcmVtb3RlIH0sIGdyb3VwKVxuICAgICAgICAgICAgaWYgKCFsb2NhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBncm91cC5kZWJ1ZygncmVtb3RlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCcpXG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSB3YXMgbm90IGNhY2hlZCcsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2sgZXhpc3RlbmNlXG4gICAgICAgICAgICBjb25zdCBjYWNoZWRGaWxlID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChsb2NhbFBhdGgpXG4gICAgICAgICAgICBpZiAoY2FjaGVkRmlsZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmZsdXNoKCdyZW1vdGUgaXMgYWxyZWFkeSBpbiBjYWNoZScsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGNhY2hlZEZpbGUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRvd25sb2FkIGZpbGVcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBnZXRSZW1vdGVDb250ZW50KHJlbW90ZSwgZ3JvdXApXG4gICAgICAgICAgICAvLyBjcmVhdGVCaW5hcnkgZmFpbHMgaWYgcGFyZW50IGRpciBpcyBtaXNzaW5nXG4gICAgICAgICAgICBhd2FpdCB0aGlzLiN2YXVsdC5hZGFwdGVyLm1rZGlyKFVSSS5nZXRQYXJlbnQobG9jYWxQYXRoKSA/PyAnLycpXG4gICAgICAgICAgICBhd2FpdCB0aGlzLiN2YXVsdC5jcmVhdGVCaW5hcnkobG9jYWxQYXRoLCBjb250ZW50KVxuXG4gICAgICAgICAgICAvLyBjaGVjayByZXN1bHRcbiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkZWRGaWxlID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChsb2NhbFBhdGgpXG4gICAgICAgICAgICBpZiAoZG93bmxvYWRlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIHdhcyBjYWNoZWQnLCByZW1vdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChkb3dubG9hZGVkRmlsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGdyb3VwLmVycm9yKGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSBjb3VsZCBub3QgYmUgY2FjaGVkJywgcmVtb3RlKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAjZmluZENhY2hlUnVsZSh2OiBSZW1vdGVEZWYsIGxvZzogTG9nZ2VyKTogQ2FjaGVNYXRjaGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbG9nLmRlYnVnKCdzZWFyY2hpbmcgYW4gYWN0aXZlIGNhY2hlIHJ1bGUnKVxuICAgICAgICBjb25zdCBtYXRjaGVyID0gdGhpcy4jcGx1Z2luLnN0YXRlLmNhY2hlX21hdGNoZXJzIC8vXG4gICAgICAgICAgICAuZmluZCgobWF0Y2hlcikgPT4gbWF0Y2hlci50ZXN0UGF0aCh2Lm5vdGVwYXRoKSlcblxuICAgICAgICAvLyBub3QtZm91bmQgb3IgZGlzYWJsZWQgcGF0aHNcbiAgICAgICAgaWYgKCFtYXRjaGVyPy5pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdub3RlcGF0aCBkb2VzIG5vdCBtYXRjaCBhbmQgYWN0aXZlIHJ1bGUnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBVUkwgb3ZlcnJpZGVzXG4gICAgICAgIGlmICh0aGlzLiNwbHVnaW4uc3RhdGUudXJsX2lnbm9yZV9tYXRjaGVyKHYucmVtb3RlKSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgaGFzIHRvIGJlIGlnbm9yZWQgKFVSTCBwYXJhbSknKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfY2FjaGVfbWF0Y2hlcih2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIGhhcyB0byBiZSBjYWNoZWQgKFVSTCBwYXJhbSknKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZyb250bWF0dGVyIG92ZXJyaWRlc1xuICAgICAgICBpZiAodGhpcy4jcGx1Z2luLnN0YXRlLm5vdGVfaWdub3JlX21hdGNoZXIodi5ub3RlcGF0aCwgdi5yZW1vdGUpKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ3JlbW90ZSBoYXMgdG8gYmUgaWdub3JlZCAoRnJvbnRtYXR0ZXIgYXR0cmlidXRlKScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jcGx1Z2luLnN0YXRlLm5vdGVfY2FjaGVfbWF0Y2hlcih2Lm5vdGVwYXRoLCB2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIGhhcyB0byBiZSBjYWNoZWQgKEZyb250bWF0dGVyIGF0dHJpYnV0ZSknKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YW5kYXJkIGJlaGF2aW9yXG4gICAgICAgIGlmIChtYXRjaGVyLnRlc3RSZW1vdGUodi5yZW1vdGUpKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ3JlbW90ZSBtYXRjaGVzIGFuIGFjdGl2ZSBydWxlJylcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVyXG4gICAgICAgIH1cblxuICAgICAgICBsb2cuZGVidWcoJ3JlbW90ZSBkb2VzIG5vdCBtYXRjaCBhbmQgYWN0aXZlIHJ1bGUnKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLyoqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn0gKi9cbiAgICBhc3luYyAjcmVzb2x2ZSh2OiBSZW1vdGVEZWYsIGxvZzogTG9nZ2VyKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IFVSTC5nZXRCYXNldXJsKHYucmVtb3RlKVxuICAgICAgICBpZiAoIWJhc2VVcmwpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIGlzIG5vdCBhIHZhbGlkIFVSTCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQXR0YWNobWVudEVycm9yKCdyZW1vdGUtbm8tdXJsJywgYHJlbW90ZSgke3YucmVtb3RlfSlgKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFzdGVyIHJlc29sdXRpb25cbiAgICAgICAgY29uc3QgY2FjaGVkUGF0aCA9IHRoaXMuI21lbW8uZ2V0KGJhc2VVcmwpXG4gICAgICAgIGlmIChjYWNoZWRQYXRoKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ3JlbW90ZSByZXNvbHZlZCBmcm9tIGNhY2hlJywgY2FjaGVkUGF0aClcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRQYXRoXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZGVudGlmeSBiZWhhdmlvclxuICAgICAgICBjb25zdCBtYXRjaGVyID0gdGhpcy4jZmluZENhY2hlUnVsZSh2LCBsb2cpXG4gICAgICAgIGlmICghbWF0Y2hlcikge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdhIGNhY2hlIHJ1bGUgY291bGQgbm90IGJlIG1hdGNoZWQnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgbm9ybWFsaXphdGlvblxuICAgICAgICBjb25zdCBuYW1lID0gVVJJLmdldEJhc2VuYW1lKGJhc2VVcmwpXG4gICAgICAgIGNvbnN0IGV4dCA9IFVSSS5nZXRFeHQoYmFzZVVybCkgPz8gKGF3YWl0IGdldFJlbW90ZUV4dCh2LnJlbW90ZSwgbG9nKSlcbiAgICAgICAgaWYgKCFuYW1lIHx8ICFleHQpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhgbmFtZSgke25hbWV9KSBvciBleHQoJHtleHR9KSBjb3VsZCBub3QgYmUgcmVzb2x2ZWRgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEF0dGFjaG1lbnRFcnJvcigncmVtb3RlLW5vLWV4dCcpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlcGF0aCA9IFVSSS5qb2luKG1hdGNoZXIucmVzb2x2ZSh2Lm5vdGVwYXRoKSwgbmFtZSArICcuJyArIGV4dClcbiAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gIXRoaXMuI3BsdWdpbi5zZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzXG4gICAgICAgICAgICA/IG5vcm1hbGl6ZVBhdGgoVVJJLm5vcm1hbGl6ZShmaWxlcGF0aCkpXG4gICAgICAgICAgICA6IG5vcm1hbGl6ZVBhdGgoZmlsZXBhdGgpXG5cbiAgICAgICAgLy8gc2F2ZSBmb3IgZmFzdGVyIHJlc29sdXRpb25cbiAgICAgICAgdGhpcy4jbWVtby5zZXQoYmFzZVVybCwgbG9jYWxQYXRoKVxuXG4gICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIHJlc29sdmVkJywgbG9jYWxQYXRoKVxuICAgICAgICByZXR1cm4gbG9jYWxQYXRoXG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBQbHVnaW5TZXR0aW5ncywgUGx1Z2luU3RhdGUgfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpbk1hbmlmZXN0IH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBMb2dnZXIsIExvZ0xldmVsIH0gZnJvbSAnQGx1aXMuYnMvb2JzaWRpYW4tZm5jJ1xuaW1wb3J0IHsgcHJlcGFyZUNvbmZpZ3MsIHByZXBhcmVTdGF0ZSB9IGZyb20gJy4vdXRpbGl0eSdcbmltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi9zZXR0aW5ncy9TZXR0aW5nc1RhYidcbmltcG9ydCB7IE1hcmtkb3duSGFuZGxlciB9IGZyb20gJy4vZmlsZXN5c3RlbS9NYXJrZG93bkhhbmRsZXInXG5pbXBvcnQgeyBBdHRhY2htZW50c0NhY2hlQVBJIH0gZnJvbSAnLi9BdHRhY2htZW50c0NhY2hlQVBJJ1xuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcbiAgICAvLyAqICdXQVJOJyBsZXZlbCB0byBmb3JjZSB0aGUgdXNlciB0byBjaG9vc2UgYSBsb3dlciBsZXZlbCB3aGVuIGlzIHJlcXVpcmVkXG4gICAgLy8gKiB0aGlzIGRlY2l0aW9uLCBwcmV2ZW50cyB0aGUgY29uc29sZSBmcm9tIGJlZW4gb3ZlcnBvcHVsYXRlZCBieSBkZWZhdWx0XG4gICAgcGx1Z2luX2xldmVsOiAnV0FSTicsXG4gICAgLy8gKiAnTk9STUFMJyBwcmlvcml0eSB0byBjYWNoZSB1c2VyLXdyaXR0ZW4gbWFya2Rvd25cbiAgICAvLyAqIGFuZCBQb3N0UHJvY2Vzc29ycyB3aXRoIGRlZmF1bHQgcHJpb3JpdHlcbiAgICBwbHVnaW5fcHJpb3JpdHk6ICdOT1JNQUwnLFxuICAgIC8vXG4gICAgYWxsb3dfY2hhcmFjdGVyczogZmFsc2UsXG4gICAgdXJsX3BhcmFtX2NhY2hlOiAnY2FjaGVfZmlsZScsXG4gICAgdXJsX3BhcmFtX2lnbm9yZTogJ2lnbm9yZV9maWxlJyxcbiAgICBub3RlX3BhcmFtX2NhY2hlOiAnY2FjaGVfZnJvbScsXG4gICAgbm90ZV9wYXJhbV9pZ25vcmU6ICdjYWNoZV91bmxlc3MnLFxuICAgIGNhY2hlX2NvbmZpZ3M6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgcGF0dGVybjogJyonLFxuICAgICAgICAgICAgcmVtb3RlczogW3sgd2hpdGVsaXN0ZWQ6IGZhbHNlLCBwYXR0ZXJuOiAnKicgfV0sXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHRhcmdldDogJycsXG4gICAgICAgICAgICBtb2RlOiAnTk9URScsXG4gICAgICAgIH0sXG4gICAgXSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0YWNobWVudHNDYWNoZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgcHVibGljIGxvZyA9IExvZ2dlci5jb25zb2xlTG9nZ2VyKEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4ubmFtZSlcblxuICAgIHB1YmxpYyBzZXR0aW5ncyA9IHt9IGFzIFBsdWdpblNldHRpbmdzXG4gICAgcHVibGljIHN0YXRlID0ge30gYXMgUGx1Z2luU3RhdGVcblxuICAgIHB1YmxpYyBhcGk6IEF0dGFjaG1lbnRzQ2FjaGVBUElcbiAgICBwdWJsaWMgbWFya2Rvd246IE1hcmtkb3duSGFuZGxlclxuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xuICAgICAgICBzdXBlcihhcHAsIG1hbmlmZXN0KVxuXG4gICAgICAgIC8vICogYWx3YXlzIHByaW50aW5nIHRoZSBmaXJzdCBsb2FkU2V0dGluZ3MoKVxuICAgICAgICAvLyAqIGFmdGVyIHRoYXQsIHRoZSB1c2VyLWRlZmluZWQgbGV2ZWwgaXMgdXNlZFxuICAgICAgICB0aGlzLmxvZy5zZXRMZXZlbChMb2dMZXZlbC5ERUJVRylcbiAgICAgICAgdGhpcy5sb2cuc2V0Rm9ybWF0KCdbaGg6bW06c3MubXNdIGxldmVsOicpXG5cbiAgICAgICAgdGhpcy5hcGkgPSBuZXcgQXR0YWNobWVudHNDYWNoZUFQSSh0aGlzKVxuICAgICAgICB0aGlzLm1hcmtkb3duID0gbmV3IE1hcmtkb3duSGFuZGxlcih0aGlzKVxuXG4gICAgICAgIC8vIHRocmlkLXBhcnR5IEFQSVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vbi1zdGFuZGFyZCBBUElcbiAgICAgICAgd2luZG93LkF0dGFjaG1lbnRzQ2FjaGUgPSB0aGlzLmFwaVxuICAgIH1cblxuICAgIGFzeW5jIG9ubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKVxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdzVGFiKHRoaXMpKVxuICAgICAgICB0aGlzLm1hcmtkb3duLnJlZ2lzdGVyTWFya2Rvd25Qcm9jZXNzb3IoKVxuICAgIH1cblxuICAgIG9udW5sb2FkKCk6IHZvaWQge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vbi1zdGFuZGFyZCBBUElcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5BdHRhY2htZW50c0NhY2hlXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMubG9nLmdyb3VwKCdMb2FkaW5nIFNldHRpbmdzJylcbiAgICAgICAgY29uc3QgeyBjYWNoZV9jb25maWdzLCAuLi5wcmltaXRpdmVzIH0gPSAoKGF3YWl0IHRoaXMubG9hZERhdGEoKSkgfHxcbiAgICAgICAgICAgIHt9KSBhcyBQYXJ0aWFsPFBsdWdpblNldHRpbmdzPlxuXG4gICAgICAgIC8vIGVuc3VyZSBhIGZhbGxiYWNrIHZhbHVlIGlzIHByZXNlbnRcbiAgICAgICAgLy8gZW5zdXJlIG9yZGVyIG9mIGNvbmZpZ3MgYW5kIHJlbW90ZXNcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIHByaW1pdGl2ZXMpXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKFtcbiAgICAgICAgICAgIC4uLihjYWNoZV9jb25maWdzID8/IFtdKSxcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfU0VUVElOR1MuY2FjaGVfY29uZmlncyxcbiAgICAgICAgXSlcblxuICAgICAgICBncm91cC5kZWJ1ZygnTG9hZGVkOiAnLCB0aGlzLnNldHRpbmdzKVxuXG4gICAgICAgIHRoaXMuI3ByZXBhcmVTdGF0ZShncm91cClcbiAgICAgICAgZ3JvdXAuZmx1c2goJ0xvYWRlZCBTZXR0aW5ncycpXG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMubG9nLmdyb3VwKCdTYXZpbmcgU2V0dGluZ3MnKVxuICAgICAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZXR0aW5ncylcblxuICAgICAgICAvLyBzZXJpYWxpemUgc3BlY2lhbCBkYXRhIHR5cGVzIChNYXAsIFNldCwgZXRjKVxuICAgICAgICAvLyBlbnN1cmUgb3JkZXIgb2YgY29uZmlncyBhbmQgcmVtb3Rlc1xuICAgICAgICBkYXRhLmNhY2hlX2NvbmZpZ3MgPSBwcmVwYXJlQ29uZmlncyhkYXRhLmNhY2hlX2NvbmZpZ3MpXG5cbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YShkYXRhKVxuICAgICAgICBncm91cC5kZWJ1ZygnU2F2ZWQ6ICcsIGRhdGEpXG5cbiAgICAgICAgdGhpcy4jcHJlcGFyZVN0YXRlKGdyb3VwKVxuICAgICAgICBncm91cC5mbHVzaCgnU2F2ZWQgU2V0dGluZ3MnKVxuICAgIH1cblxuICAgICNwcmVwYXJlU3RhdGUobG9nOiBMb2dnZXIpOiB2b2lkIHtcbiAgICAgICAgbG9nLmluZm8oJ1ByZXBhcmluZyBzdGF0ZScpXG5cbiAgICAgICAgLy8gY2hhbmdlIFBsdWdpbiBiZWhhdmlvciBiYXNlZCBvbiB1c2VyIGlucHV0XG4gICAgICAgIHRoaXMubG9nLnNldExldmVsKExvZ0xldmVsW3RoaXMuc2V0dGluZ3MucGx1Z2luX2xldmVsXSlcbiAgICAgICAgdGhpcy5tYXJrZG93bi5zeW5jUHJpb3JpdHkoKVxuICAgICAgICB0aGlzLnN0YXRlID0gcHJlcGFyZVN0YXRlKHRoaXMpXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImR0IiwibiIsInAiLCJ3dCIsIlYiLCIjcyIsIiNlIiwiI24iLCJyIiwibXQiLCJvIiwiSnQiLCJRdCIsIkF0dGFjaG1lbnRFcnJvciIsImNvZGUiLCJjYXVzZSIsInVybCIsInJlc3BvbnNlIiwibWVzc2FnZSIsIiNkZXNjcmlwdGlvbiIsImJhbGFuY2VkTWF0Y2giLCJiYWxhbmNlZCIsImEiLCJiIiwic3RyIiwibWF5YmVNYXRjaCIsInJhbmdlIiwicmVnIiwibSIsImJlZ3MiLCJiZWciLCJsZWZ0IiwicmlnaHQiLCJyZXN1bHQiLCJhaSIsImJpIiwiaSIsInJlcXVpcmUkJDAiLCJicmFjZUV4cGFuc2lvbiIsImV4cGFuZFRvcCIsImVzY1NsYXNoIiwiZXNjT3BlbiIsImVzY0Nsb3NlIiwiZXNjQ29tbWEiLCJlc2NQZXJpb2QiLCJudW1lcmljIiwiZXNjYXBlQnJhY2VzIiwidW5lc2NhcGVCcmFjZXMiLCJwYXJzZUNvbW1hUGFydHMiLCJwYXJ0cyIsInByZSIsImJvZHkiLCJwb3N0IiwicG9zdFBhcnRzIiwiZXhwYW5kIiwiZW1icmFjZSIsImlzUGFkZGVkIiwiZWwiLCJsdGUiLCJ5IiwiZ3RlIiwiaXNUb3AiLCJleHBhbnNpb25zIiwiayIsImV4cGFuc2lvbiIsImlzTnVtZXJpY1NlcXVlbmNlIiwiaXNBbHBoYVNlcXVlbmNlIiwiaXNTZXF1ZW5jZSIsImlzT3B0aW9ucyIsIk4iLCJ4Iiwid2lkdGgiLCJpbmNyIiwidGVzdCIsInJldmVyc2UiLCJwYWQiLCJjIiwibmVlZCIsInoiLCJqIiwiTUFYX1BBVFRFUk5fTEVOR1RIIiwiYXNzZXJ0VmFsaWRQYXR0ZXJuIiwicGF0dGVybiIsInBvc2l4Q2xhc3NlcyIsImJyYWNlRXNjYXBlIiwicyIsInJlZ2V4cEVzY2FwZSIsInJhbmdlc1RvU3RyaW5nIiwicmFuZ2VzIiwicGFyc2VDbGFzcyIsImdsb2IiLCJwb3NpdGlvbiIsInBvcyIsIm5lZ3MiLCJzYXdTdGFydCIsInVmbGFnIiwiZXNjYXBpbmciLCJuZWdhdGUiLCJlbmRQb3MiLCJyYW5nZVN0YXJ0IiwiV0hJTEUiLCJjbHMiLCJ1bmlwIiwidSIsIm5lZyIsInNyYW5nZXMiLCJzbmVncyIsInVuZXNjYXBlIiwid2luZG93c1BhdGhzTm9Fc2NhcGUiLCJ0eXBlcyIsImlzRXh0Z2xvYlR5cGUiLCJzdGFydE5vVHJhdmVyc2FsIiwic3RhcnROb0RvdCIsImFkZFBhdHRlcm5TdGFydCIsImp1c3REb3RzIiwicmVTcGVjaWFscyIsInJlZ0V4cEVzY2FwZSIsInFtYXJrIiwic3RhciIsInN0YXJOb0VtcHR5IiwiQVNUIiwiI3Jvb3QiLCIjaGFzTWFnaWMiLCIjdWZsYWciLCIjcGFydHMiLCIjcGFyZW50IiwiI3BhcmVudEluZGV4IiwiI25lZ3MiLCIjZmlsbGVkTmVncyIsIiNvcHRpb25zIiwiI3RvU3RyaW5nIiwiI2VtcHR5RXh0IiwidHlwZSIsInBhcmVudCIsIm9wdGlvbnMiLCIjZmlsbE5lZ3MiLCJwcCIsInBhcnQiLCJyZXQiLCJwbCIsIiNwYXJzZUFTVCIsImFzdCIsIm9wdCIsImluQnJhY2UiLCJicmFjZVN0YXJ0IiwiYnJhY2VOZWciLCJhY2MiLCJleHQiLCJyZSIsImhhc01hZ2ljIiwiZmxhZ3MiLCJhbGxvd0RvdCIsImRvdCIsIm5vRW1wdHkiLCJzcmMiLCJfIiwiI3BhcnNlR2xvYiIsInN0YXJ0IiwiYXBzIiwibmVlZE5vVHJhdiIsIm5lZWROb0RvdCIsImVuZCIsInJlcGVhdGVkIiwiI3BhcnRzVG9SZWdFeHAiLCJib2R5RG90QWxsb3dlZCIsImZpbmFsIiwiY2xvc2UiLCJfaGFzTWFnaWMiLCJuZWVkVWZsYWciLCJjb25zdW1lZCIsIm1hZ2ljIiwiZXNjYXBlIiwibWluaW1hdGNoIiwiTWluaW1hdGNoIiwic3RhckRvdEV4dFJFIiwic3RhckRvdEV4dFRlc3QiLCJmIiwic3RhckRvdEV4dFRlc3REb3QiLCJzdGFyRG90RXh0VGVzdE5vY2FzZSIsInN0YXJEb3RFeHRUZXN0Tm9jYXNlRG90Iiwic3RhckRvdFN0YXJSRSIsInN0YXJEb3RTdGFyVGVzdCIsInN0YXJEb3RTdGFyVGVzdERvdCIsImRvdFN0YXJSRSIsImRvdFN0YXJUZXN0Iiwic3RhclJFIiwic3RhclRlc3QiLCJzdGFyVGVzdERvdCIsInFtYXJrc1JFIiwicW1hcmtzVGVzdE5vY2FzZSIsIiQwIiwibm9leHQiLCJxbWFya3NUZXN0Tm9FeHQiLCJxbWFya3NUZXN0Tm9jYXNlRG90IiwicW1hcmtzVGVzdE5vRXh0RG90IiwicW1hcmtzVGVzdERvdCIsInFtYXJrc1Rlc3QiLCJsZW4iLCJkZWZhdWx0UGxhdGZvcm0iLCJwYXRoIiwic2VwIiwiR0xPQlNUQVIiLCJ0d29TdGFyRG90IiwidHdvU3Rhck5vRG90IiwiZmlsdGVyIiwiZGVmYXVsdHMiLCJkZWYiLCJvcmlnIiwibGlzdCIsImJyYWNlRXhwYW5kIiwibWFrZVJlIiwibWF0Y2giLCJtbSIsImdsb2JNYWdpYyIsImFyZ3MiLCJyYXdHbG9iUGFydHMiLCJzZXQiLCJfXyIsImlzVU5DIiwiaXNEcml2ZSIsInNzIiwiZ2xvYlBhcnRzIiwib3B0aW1pemF0aW9uTGV2ZWwiLCJncyIsInByZXYiLCJkaWRTb21ldGhpbmciLCJkZCIsImdzcyIsIm5leHQiLCJwMiIsIm90aGVyIiwic3BsaW4iLCJtYXRjaGVkIiwiZW1wdHlHU01hdGNoIiwid2hpY2giLCJuZWdhdGVPZmZzZXQiLCJmaWxlIiwicGFydGlhbCIsImZpbGVEcml2ZSIsImZpbGVVTkMiLCJwYXR0ZXJuRHJpdmUiLCJwYXR0ZXJuVU5DIiwiZmRpIiwicGRpIiwiZmQiLCJwZCIsImZpIiwicGkiLCJmbCIsImZyIiwicHIiLCJzd2FsbG93ZWUiLCJoaXQiLCJmYXN0VGVzdCIsInR3b1N0YXIiLCJvcGVuIiwiZmYiLCJmaWxlbmFtZSIsInByZXBhcmVIYXNoIiwic291cmNlIiwiY29tcGFyZUJ5U3BlY2lmaWNpdHkiLCJnZXRNaW1lRXh0IiwibWltZSIsInByZXBhcmVTdGF0ZSIsInBsdWdpbiIsImNvbmZpZ01hdGNoZXJzIiwicmVtb3RlTWF0Y2hlciIsImZyb250bWF0dGVyTWF0Y2hlciIsImFwcCIsIm5vdGVfcGFyYW0iLCJub3RlcGF0aCIsInJlbW90ZSIsIm1ldGFkYXRhIiwidmFsdWUiLCJwYXJzZUZyb250TWF0dGVyRW50cnkiLCJ0ZXN0VXJsIiwidmFsIiwidXJsX3BhcmFtIiwicmVnZXgiLCJjb25maWdzIiwiY29uZmlnIiwicmVzb2x2ZSIsIl9wYXRoIiwiVVJJIiwidGVzdFBhdGgiLCJfbm90ZXBhdGgiLCJ0ZXN0UmVtb3RlIiwiX3JlbW90ZSIsIndoaXRlbGlzdGVkIiwiZ2V0UmVtb3RlRXh0IiwibG9nIiwicmVmZXJlciIsIlVSTCIsInJlcXVlc3RVcmwiLCJnZXRSZW1vdGVDb250ZW50IiwicHJlcGFyZVJlbW90ZXMiLCJyZW1vdGVzIiwiaGFzRmFsbGJhY2siLCJzZXJpYWxpemVSZW1vdGVzIiwicGFyc2VSZW1vdGUiLCJwYXJzZVJlbW90ZXMiLCJzb3VyY2VzIiwidyIsImNoZWNrUmVtb3RlcyIsInByb2JsZW1zIiwidHJpbW1lZCIsInByZXBhcmVDb25maWdzIiwiYkluZGV4IiwiY2hlY2tQYXR0ZXJuIiwiX3ZhbHVlIiwiTEVWRUxfTEFCRUxTIiwiUFJJT1JJVFkiLCJQUklPUklUWV9MQUJFTFMiLCJNT0RFX0xBQkVMUyIsIk1PREVfREVTQyIsIm1vZGVFeGFtcGxlIiwibW9kZSIsInRhcmdldCIsIkNhY2hlU2V0dGluZ3MiLCIjY2FjaGUiLCIjY2FjaGVIZWFkZXIiLCIjY2FjaGVEZXRhaWxzIiwiI2NhY2hlUmVtb3RlcyIsIiNyZW1vdGVzVGV4dCIsImNhY2hlIiwiU2V0dGluZyIsIiNkaXNwbGF5Q2FjaGVIZWFkZXIiLCIjZGlzcGxheUNhY2hlRGV0YWlscyIsIiNkaXNwbGF5Q2FjaGVSZW1vdGVzIiwiI2NhY2hlTmFtZSIsImRpdiIsIiNjYWNoZURlc2MiLCJidXR0b24iLCIjaW52b2tlUmVtb3ZlIiwidG9nZ2xlIiwiI2ludm9rZUNoYW5nZSIsInZpc2libGUiLCIjdGFyZ2V0RGVzYyIsInVsIiwibm90ZSIsImF0dGFjaG1lbnQiLCJ0YXJnZXRJbnB1dCIsImNhY2hlU2V0dGluZyIsImRyb3Bkb3duIiwiaW5wdXQiLCJyZW1vdGVzRGVzYyIsInJlbW90ZXNEZXNjVWwiLCJyZW1vdGVzU2V0dGluZyIsInRleHRhcmVhIiwiI3JlbW90ZU5hbWUiLCJzZXR0aW5nIiwiI3VwZGF0ZVJlbW90ZXMiLCIjY2hhbmdlTGlzdGVuZXJzIiwiI3JlbW92ZUxpc3RlbmVycyIsImxpc3RlbmVyIiwiY2FsbGJhY2siLCJkb2NzIiwibmFtZSIsImRlc2MiLCJTZXR0aW5nc1RhYiIsIlBsdWdpblNldHRpbmdUYWIiLCIjcGx1Z2luIiwiI2NvbmZpZ3NMaXN0IiwiI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MiLCIjZGlzcGxheU92ZXJyaWRlU2V0dGluZ3MiLCIjZGlzcGxheUNvbmZpZ3NIZWFkZXIiLCIjZGlzcGxheUNvbmZpZ3NMaXN0IiwibGV2ZWxTZXR0aW5nIiwiI2hhbmRsZSIsInByaW9yaXR5U2V0dGluZyIsImNoYXJzU2V0dGluZyIsInVybGlnbm9yZSIsInVybGNhY2hlIiwibm90ZWlnbm9yZSIsIm5vdGVjYWNoZSIsInBhdHRlcm5JbnB1dCIsInNvdXJjZURyb3Bkb3duIiwiZHVwbGljYXRlQnV0dG9uIiwiaGVhZGVyRGVzYyIsImhlYWRlckRlc2NVbCIsImhlYWRlckVsIiwicmVmIiwiI3VwZGF0ZUNvbmZpZ3MiLCJfY2FjaGUiLCJrZXkiLCJNYXJrZG93bkhhbmRsZXIiLCIjbXBwIiwiZWxlbWVudCIsInNvdXJjZVBhdGgiLCJtaWxsaXMiLCJyZXNvbHZlZCIsIkF0dGFjaG1lbnRzQ2FjaGVBUEkiLCIjbG9nIiwiI3ZhdWx0IiwiI21lbW8iLCIjZmluZENhY2hlUnVsZSIsImxvY2FsUGF0aCIsImdyb3VwIiwiI3Jlc29sdmUiLCJlcnJvciIsImNhY2hlZEZpbGUiLCJjb250ZW50IiwiZG93bmxvYWRlZEZpbGUiLCJ2IiwibWF0Y2hlciIsImJhc2VVcmwiLCJjYWNoZWRQYXRoIiwiZmlsZXBhdGgiLCJub3JtYWxpemVQYXRoIiwiREVGQVVMVF9TRVRUSU5HUyIsIkF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4iLCJQbHVnaW4iLCJMb2dnZXIiLCJtYW5pZmVzdCIsIkxvZ0xldmVsIiwiY2FjaGVfY29uZmlncyIsInByaW1pdGl2ZXMiLCIjcHJlcGFyZVN0YXRlIiwiZGF0YSJdLCJtYXBwaW5ncyI6InlDQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FNQSxNQUFNQSxFQUFHLENBQ1AsTUFBTSxFQUFHQyxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLEtBQUssRUFBR0EsRUFBRyxDQUNULFFBQVEsS0FBSyxFQUFHLEdBQUdBLENBQUMsQ0FDeEIsQ0FDRSxLQUFLLEVBQUdBLEVBQUcsQ0FDVCxRQUFRLEtBQUssRUFBRyxHQUFHQSxDQUFDLENBQ3hCLENBQ0UsTUFBTSxFQUFHQSxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLE1BQU0sRUFBR0EsRUFBRyxDQUNWLFFBQVEsTUFBTSxFQUFHLEdBQUdBLENBQUMsQ0FDekIsQ0FDRSxNQUFNLEVBQUdBLEVBQUcsQ0FDVixPQUFPLFFBQVEsZUFBZSxFQUFHLEdBQUdBLENBQUMsRUFBRyxRQUFRLFFBQ3BELENBQ0EsQ0FDQSxNQUFNQyxFQUFJLE9BQU8sT0FBTyxDQUN0QixNQUFPLEVBQ1AsTUFBTyxFQUNQLEtBQU0sRUFDTixLQUFNLEVBQ04sTUFBTyxDQUNULENBQUMsRUFBR0MsR0FBSyxPQUFPLE9BQU8sQ0FDckIsRUFBRyxRQUNILEVBQUcsUUFDSCxFQUFHLFFBQ0gsRUFBRyxRQUNILEVBQUcsT0FDTCxDQUFDLEVBQ0QsTUFBTUMsQ0FBRSxDQUNOLEdBQ0FDLEdBQ0FDLEdBQ0FDLEdBQUssQ0FBRSxFQUNQLEdBQUssQ0FBRSxFQUVQ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
