/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var __defProp=Object.defineProperty;var __typeError=msg=>{throw TypeError(msg)};var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),__accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg);var __privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>member.has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value),__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),__privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const obsidian=require("obsidian"),_URI=class _URI{static join(...paths){return paths.reduce((path2,value)=>value?path2?path2.replace(/[\\/]+$/gi,"")+"/"+value.replace(/^[\\/]+/gi,""):value:path2,"")}static normalize(uri){return uri.replaceAll(/[^\w-\\/#?&=':,. ]+/gi,"_")}static hasExt(uri){return/\.[^\\/]*$/gi.test(uri)}static getExt(uri){return/(?<=\.)([^\\/#?]*)([#?].*)?$/gi.exec(uri)?.at(1)}static removeExt(uri){return uri.replace(/(\.[^\\/]*)?([#?].*)?$/gi,"")}static getBasename(uri){const name=_URI.getName(uri);return name?_URI.removeExt(name):void 0}static getName(uri){return uri.match(/[^\\/]+$/gi)?.at(0)}static getParent(uri){return uri.replace(/[\\/][^\\/]*$/gi,"")}};__name(_URI,"URI");let URI=_URI;const _URL=class _URL{static isUrl(uri){return/^https?:\/\//gi.test(uri)}static getOrigin(url){return/^https?:\/\/[^\\/]+/gi.exec(url)?.at(0)}static getBaseurl(url){return/^https?:\/\/[^#?]*/gi.exec(url)?.at(0)}static getHash(url){return/(?<=#)[^?]*/gi.exec(url)?.at(0)}static getparams(url){return/(?<=\?).*/gi.exec(url)?.at(0)}};__name(_URL,"URL");let URL=_URL;const LogLevel={ERROR:0,WARN:1,INFO:2,DEBUG:3,TRACE:4},LogLevelReverse={0:"ERROR",1:"WARN ",2:"INFO ",3:"DEBUG",4:"TRACE"},_ConsoleLoggerDriver=class _ConsoleLoggerDriver{error(prefix,data){console.error(prefix,...data)}warn(prefix,data){console.warn(prefix,...data)}info(prefix,data){console.info(prefix,...data)}debug(prefix,data){console.debug(prefix,...data)}trace(prefix,data){console.trace(prefix,...data)}group(prefix,data){return console.groupCollapsed(...data),console.groupEnd}};__name(_ConsoleLoggerDriver,"ConsoleLoggerDriver");let ConsoleLoggerDriver=_ConsoleLoggerDriver;const _Logger=class _Logger{constructor(namespace){this.namespace=namespace}static prefix(timestamp,namespace,level){return"["+String(timestamp.getHours()).padStart(2,"0")+":"+String(timestamp.getMinutes()).padStart(2,"0")+":"+String(timestamp.getSeconds()).padStart(2,"0")+"."+String(timestamp.getMilliseconds()).padStart(3,"0")+"] "+LogLevelReverse[level]+" ("+namespace+"):"}log(timestamp,namespace,level,data){const prefix=_Logger.prefix(timestamp,namespace,level);switch(level){case LogLevel.ERROR:return _Logger.drivers.forEach(driver=>driver.error(prefix,data));case LogLevel.WARN:return _Logger.drivers.forEach(driver=>driver.warn(prefix,data));case LogLevel.INFO:return _Logger.drivers.forEach(driver=>driver.info(prefix,data));case LogLevel.DEBUG:return _Logger.drivers.forEach(driver=>driver.debug(prefix,data));default:return _Logger.drivers.forEach(driver=>driver.trace(prefix,data))}}error(...data){this.log(new Date,this.namespace,LogLevel.ERROR,data)}warn(...data){this.log(new Date,this.namespace,LogLevel.WARN,data)}info(...data){this.log(new Date,this.namespace,LogLevel.INFO,data)}debug(...data){this.log(new Date,this.namespace,LogLevel.DEBUG,data)}trace(...data){this.log(new Date,this.namespace,LogLevel.TRACE,data)}on(logger){return logger&&logger instanceof _Logger?new LoggerWrapper(this.namespace,logger):this}group(...data){return new LoggingGroup(this.namespace,...data)}};__name(_Logger,"Logger"),_Logger.drivers=[new ConsoleLoggerDriver];let Logger=_Logger;const _LoggerWrapper=class _LoggerWrapper extends Logger{constructor(namespace,logger){super(namespace),this.logger=logger}error(...data){this.logger.log(new Date,this.namespace,LogLevel.ERROR,data)}warn(...data){this.logger.log(new Date,this.namespace,LogLevel.WARN,data)}info(...data){this.logger.log(new Date,this.namespace,LogLevel.INFO,data)}debug(...data){this.logger.log(new Date,this.namespace,LogLevel.DEBUG,data)}trace(...data){this.logger.log(new Date,this.namespace,LogLevel.TRACE,data)}flush(...data){this.logger instanceof LoggingGroup?this.logger.flush(...data):this.logger.log(new Date,this.namespace,LogLevel.INFO,data)}};__name(_LoggerWrapper,"LoggerWrapper");let LoggerWrapper=_LoggerWrapper;var _logs;const _LoggingGroup=class _LoggingGroup extends Logger{constructor(namespace,...data){super(namespace);__privateAdd(this,_logs,[]);data.length>0&&this.info(...data)}log(timestamp,namespace,level,data){__privateGet(this,_logs).push({timestamp,namespace,level,data})}flush(...data){const prefix=Logger.prefix(new Date,this.namespace,LogLevel.INFO),closers=Logger.drivers.map(driver=>driver.group(prefix,data));for(const{timestamp,namespace,level,data:data2}of __privateGet(this,_logs))super.log(timestamp,namespace,level,data2);for(const closer of closers)closer();__privateSet(this,_logs,[])}};_logs=new WeakMap,__name(_LoggingGroup,"LoggingGroup");let LoggingGroup=_LoggingGroup;var _ImageError_static,description_fn;const _ImageError=class _ImageError extends Error{constructor(code,cause){super(),this.code=code,this.cause=cause,this.name=`ImageError(${this.code})`,this.message=this.toStringMessage()}static assertResponse(url,response,code){if(!(response.status<400))throw new _ImageError(code,`requested url: ${url}
response status: ${response.status}
response headers:
${JSON.stringify(response.headers)}`)}toString(){return`${this.name}: ${this.toStringMessage()}`}toStringMessage(){var _a;const message=__privateMethod(_a=_ImageError,_ImageError_static,description_fn).call(_a,this.code);return this.cause?`${message}, context:

${this.cause}`:message}};_ImageError_static=new WeakSet,description_fn=__name(function(code){switch(code){case"remote-no-url":return"remote param should be an URL";case"remote-no-ext":return"a file-extension could not be determined";case"url-request-head":return"the request to get the file-extension failed";case"url-request-get":return"the request to download the file failed";default:return"try-reloading Obsidian"}},"#description"),__privateAdd(_ImageError,_ImageError_static),__name(_ImageError,"ImageError");let ImageError=_ImageError;function compareBySpecificity(a,b){return!a.startsWith("*")&&b.startsWith("*")?-1:a.startsWith("*")&&!b.startsWith("*")?1:a.startsWith(b)?-1:b.startsWith(a)?1:a.localeCompare(b,"en")}__name(compareBySpecificity,"compareBySpecificity");function getMimeExt(mime){switch(mime){case"image/jpeg":return"jpg";case"image/tiff":return"tif";default:return mime.split(/\/|\+/gi)[1]}}__name(getMimeExt,"getMimeExt");function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}__name(getDefaultExportFromCjs,"getDefaultExportFromCjs");var balancedMatch=balanced$1;function balanced$1(a,b,str){a instanceof RegExp&&(a=maybeMatch(a,str)),b instanceof RegExp&&(b=maybeMatch(b,str));var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}__name(balanced$1,"balanced$1");function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}__name(maybeMatch,"maybeMatch");balanced$1.range=range;function range(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){if(a===b)return[ai,bi];for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):begs.length==1?result=[begs.pop(),bi]:(beg=begs.pop(),beg<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=ai<bi&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}__name(range,"range");var balanced=balancedMatch,braceExpansion=expandTop,escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0)}__name(numeric,"numeric");function escapeBraces(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}__name(escapeBraces,"escapeBraces");function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}__name(unescapeBraces,"unescapeBraces");function parseCommaParts(str){if(!str)return[""];var parts=[],m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre,body=m.body,post=m.post,p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);return post.length&&(p[p.length-1]+=postParts.shift(),p.push.apply(p,postParts)),parts.push.apply(parts,p),parts}__name(parseCommaParts,"parseCommaParts");function expandTop(str){return str?(str.substr(0,2)==="{}"&&(str="\\{\\}"+str.substr(2)),expand(escapeBraces(str),!0).map(unescapeBraces)):[]}__name(expandTop,"expandTop");function embrace(str){return"{"+str+"}"}__name(embrace,"embrace");function isPadded(el){return/^-?0\d/.test(el)}__name(isPadded,"isPadded");function lte(i,y){return i<=y}__name(lte,"lte");function gte(i,y){return i>=y}__name(gte,"gte");function expand(str,isTop){var expansions=[],m=balanced("{","}",str);if(!m)return[str];var pre=m.pre,post=m.post.length?expand(m.post,!1):[""];if(/\$$/.test(m.pre))for(var k=0;k<post.length;k++){var expansion=pre+"{"+m.body+"}"+post[k];expansions.push(expansion)}else{var isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body),isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body),isSequence=isNumericSequence||isAlphaSequence,isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions)return m.post.match(/,.*\}/)?(str=m.pre+"{"+m.body+escClose+m.post,expand(str)):[str];var n;if(isSequence)n=m.body.split(/\.\./);else if(n=parseCommaParts(m.body),n.length===1&&(n=expand(n[0],!1).map(embrace),n.length===1))return post.map(function(p){return m.pre+n[0]+p});var N;if(isSequence){var x=numeric(n[0]),y=numeric(n[1]),width=Math.max(n[0].length,n[1].length),incr=n.length==3?Math.abs(numeric(n[2])):1,test=lte,reverse=y<x;reverse&&(incr*=-1,test=gte);var pad=n.some(isPadded);N=[];for(var i=x;test(i,y);i+=incr){var c;if(isAlphaSequence)c=String.fromCharCode(i),c==="\\"&&(c="");else if(c=String(i),pad){var need=width-c.length;if(need>0){var z=new Array(need+1).join("0");i<0?c="-"+z+c.slice(1):c=z+c}}N.push(c)}}else{N=[];for(var j=0;j<n.length;j++)N.push.apply(N,expand(n[j],!1))}for(var j=0;j<N.length;j++)for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];(!isTop||isSequence||expansion)&&expansions.push(expansion)}}return expansions}__name(expand,"expand");const expand$1=getDefaultExportFromCjs(braceExpansion),MAX_PATTERN_LENGTH=1024*64,assertValidPattern=__name(pattern=>{if(typeof pattern!="string")throw new TypeError("invalid pattern");if(pattern.length>MAX_PATTERN_LENGTH)throw new TypeError("pattern is too long")},"assertValidPattern"),posixClasses={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},braceEscape=__name(s=>s.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),regexpEscape=__name(s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),rangesToString=__name(ranges=>ranges.join(""),"rangesToString"),parseClass=__name((glob,position)=>{const pos=position;if(glob.charAt(pos)!=="[")throw new Error("not in a brace expression");const ranges=[],negs=[];let i=pos+1,sawStart=!1,uflag=!1,escaping=!1,negate=!1,endPos=pos,rangeStart="";WHILE:for(;i<glob.length;){const c=glob.charAt(i);if((c==="!"||c==="^")&&i===pos+1){negate=!0,i++;continue}if(c==="]"&&sawStart&&!escaping){endPos=i+1;break}if(sawStart=!0,c==="\\"&&!escaping){escaping=!0,i++;continue}if(c==="["&&!escaping){for(const[cls,[unip,u,neg]]of Object.entries(posixClasses))if(glob.startsWith(cls,i)){if(rangeStart)return["$.",!1,glob.length-pos,!0];i+=cls.length,neg?negs.push(unip):ranges.push(unip),uflag=uflag||u;continue WHILE}}if(escaping=!1,rangeStart){c>rangeStart?ranges.push(braceEscape(rangeStart)+"-"+braceEscape(c)):c===rangeStart&&ranges.push(braceEscape(c)),rangeStart="",i++;continue}if(glob.startsWith("-]",i+1)){ranges.push(braceEscape(c+"-")),i+=2;continue}if(glob.startsWith("-",i+1)){rangeStart=c,i+=2;continue}ranges.push(braceEscape(c)),i++}if(endPos<i)return["",!1,0,!1];if(!ranges.length&&!negs.length)return["$.",!1,glob.length-pos,!0];if(negs.length===0&&ranges.length===1&&/^\\?.$/.test(ranges[0])&&!negate){const r=ranges[0].length===2?ranges[0].slice(-1):ranges[0];return[regexpEscape(r),!1,endPos-pos,!1]}const sranges="["+(negate?"^":"")+rangesToString(ranges)+"]",snegs="["+(negate?"":"^")+rangesToString(negs)+"]";return[ranges.length&&negs.length?"("+sranges+"|"+snegs+")":ranges.length?sranges:snegs,uflag,endPos-pos,!0]},"parseClass"),unescape=__name((s,{windowsPathsNoEscape=!1}={})=>windowsPathsNoEscape?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape"),types=new Set(["!","?","+","*","@"]),isExtglobType=__name(c=>types.has(c),"isExtglobType"),startNoTraversal="(?!(?:^|/)\\.\\.?(?:$|/))",startNoDot="(?!\\.)",addPatternStart=new Set(["[","."]),justDots=new Set(["..","."]),reSpecials=new Set("().*{}+?[]^$\\!"),regExpEscape$1=__name(s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape$1"),qmark$1="[^/]",star$1=qmark$1+"*?",starNoEmpty=qmark$1+"+?";var _root,_hasMagic,_uflag,_parts,_parent,_parentIndex,_negs,_filledNegs,_options,_toString,_emptyExt,_AST_instances,fillNegs_fn,_AST_static,parseAST_fn,partsToRegExp_fn,parseGlob_fn;const _AST=class _AST{constructor(type,parent,options={}){__privateAdd(this,_AST_instances);__publicField(this,"type");__privateAdd(this,_root);__privateAdd(this,_hasMagic);__privateAdd(this,_uflag,!1);__privateAdd(this,_parts,[]);__privateAdd(this,_parent);__privateAdd(this,_parentIndex);__privateAdd(this,_negs);__privateAdd(this,_filledNegs,!1);__privateAdd(this,_options);__privateAdd(this,_toString);__privateAdd(this,_emptyExt,!1);this.type=type,type&&__privateSet(this,_hasMagic,!0),__privateSet(this,_parent,parent),__privateSet(this,_root,__privateGet(this,_parent)?__privateGet(__privateGet(this,_parent),_root):this),__privateSet(this,_options,__privateGet(this,_root)===this?options:__privateGet(__privateGet(this,_root),_options)),__privateSet(this,_negs,__privateGet(this,_root)===this?[]:__privateGet(__privateGet(this,_root),_negs)),type==="!"&&!__privateGet(__privateGet(this,_root),_filledNegs)&&__privateGet(this,_negs).push(this),__privateSet(this,_parentIndex,__privateGet(this,_parent)?__privateGet(__privateGet(this,_parent),_parts).length:0)}get hasMagic(){if(__privateGet(this,_hasMagic)!==void 0)return __privateGet(this,_hasMagic);for(const p of __privateGet(this,_parts))if(typeof p!="string"&&(p.type||p.hasMagic))return __privateSet(this,_hasMagic,!0);return __privateGet(this,_hasMagic)}toString(){return __privateGet(this,_toString)!==void 0?__privateGet(this,_toString):this.type?__privateSet(this,_toString,this.type+"("+__privateGet(this,_parts).map(p=>String(p)).join("|")+")"):__privateSet(this,_toString,__privateGet(this,_parts).map(p=>String(p)).join(""))}push(...parts){for(const p of parts)if(p!==""){if(typeof p!="string"&&!(p instanceof _AST&&__privateGet(p,_parent)===this))throw new Error("invalid part: "+p);__privateGet(this,_parts).push(p)}}toJSON(){const ret=this.type===null?__privateGet(this,_parts).slice().map(p=>typeof p=="string"?p:p.toJSON()):[this.type,...__privateGet(this,_parts).map(p=>p.toJSON())];return this.isStart()&&!this.type&&ret.unshift([]),this.isEnd()&&(this===__privateGet(this,_root)||__privateGet(__privateGet(this,_root),_filledNegs)&&__privateGet(this,_parent)?.type==="!")&&ret.push({}),ret}isStart(){if(__privateGet(this,_root)===this)return!0;if(!__privateGet(this,_parent)?.isStart())return!1;if(__privateGet(this,_parentIndex)===0)return!0;const p=__privateGet(this,_parent);for(let i=0;i<__privateGet(this,_parentIndex);i++){const pp=__privateGet(p,_parts)[i];if(!(pp instanceof _AST&&pp.type==="!"))return!1}return!0}isEnd(){if(__privateGet(this,_root)===this||__privateGet(this,_parent)?.type==="!")return!0;if(!__privateGet(this,_parent)?.isEnd())return!1;if(!this.type)return __privateGet(this,_parent)?.isEnd();const pl=__privateGet(this,_parent)?__privateGet(__privateGet(this,_parent),_parts).length:0;return __privateGet(this,_parentIndex)===pl-1}copyIn(part){typeof part=="string"?this.push(part):this.push(part.clone(this))}clone(parent){const c=new _AST(this.type,parent);for(const p of __privateGet(this,_parts))c.copyIn(p);return c}static fromGlob(pattern,options={}){var _a;const ast=new _AST(null,void 0,options);return __privateMethod(_a=_AST,_AST_static,parseAST_fn).call(_a,pattern,ast,0,options),ast}toMMPattern(){if(this!==__privateGet(this,_root))return __privateGet(this,_root).toMMPattern();const glob=this.toString(),[re,body,hasMagic,uflag]=this.toRegExpSource();if(!(hasMagic||__privateGet(this,_hasMagic)||__privateGet(this,_options).nocase&&!__privateGet(this,_options).nocaseMagicOnly&&glob.toUpperCase()!==glob.toLowerCase()))return body;const flags=(__privateGet(this,_options).nocase?"i":"")+(uflag?"u":"");return Object.assign(new RegExp(`^${re}$`,flags),{_src:re,_glob:glob})}get options(){return __privateGet(this,_options)}toRegExpSource(allowDot){const dot=allowDot??!!__privateGet(this,_options).dot;if(__privateGet(this,_root)===this&&__privateMethod(this,_AST_instances,fillNegs_fn).call(this),!this.type){const noEmpty=this.isStart()&&this.isEnd(),src=__privateGet(this,_parts).map(p=>{var _a;const[re,_,hasMagic,uflag]=typeof p=="string"?__privateMethod(_a=_AST,_AST_static,parseGlob_fn).call(_a,p,__privateGet(this,_hasMagic),noEmpty):p.toRegExpSource(allowDot);return __privateSet(this,_hasMagic,__privateGet(this,_hasMagic)||hasMagic),__privateSet(this,_uflag,__privateGet(this,_uflag)||uflag),re}).join("");let start2="";if(this.isStart()&&typeof __privateGet(this,_parts)[0]=="string"&&!(__privateGet(this,_parts).length===1&&justDots.has(__privateGet(this,_parts)[0]))){const aps=addPatternStart,needNoTrav=dot&&aps.has(src.charAt(0))||src.startsWith("\\.")&&aps.has(src.charAt(2))||src.startsWith("\\.\\.")&&aps.has(src.charAt(4)),needNoDot=!dot&&!allowDot&&aps.has(src.charAt(0));start2=needNoTrav?startNoTraversal:needNoDot?startNoDot:""}let end="";return this.isEnd()&&__privateGet(__privateGet(this,_root),_filledNegs)&&__privateGet(this,_parent)?.type==="!"&&(end="(?:$|\\/)"),[start2+src+end,unescape(src),__privateSet(this,_hasMagic,!!__privateGet(this,_hasMagic)),__privateGet(this,_uflag)]}const repeated=this.type==="*"||this.type==="+",start=this.type==="!"?"(?:(?!(?:":"(?:";let body=__privateMethod(this,_AST_instances,partsToRegExp_fn).call(this,dot);if(this.isStart()&&this.isEnd()&&!body&&this.type!=="!"){const s=this.toString();return __privateSet(this,_parts,[s]),this.type=null,__privateSet(this,_hasMagic,void 0),[s,unescape(this.toString()),!1,!1]}let bodyDotAllowed=!repeated||allowDot||dot||!startNoDot?"":__privateMethod(this,_AST_instances,partsToRegExp_fn).call(this,!0);bodyDotAllowed===body&&(bodyDotAllowed=""),bodyDotAllowed&&(body=`(?:${body})(?:${bodyDotAllowed})*?`);let final="";if(this.type==="!"&&__privateGet(this,_emptyExt))final=(this.isStart()&&!dot?startNoDot:"")+starNoEmpty;else{const close=this.type==="!"?"))"+(this.isStart()&&!dot&&!allowDot?startNoDot:"")+star$1+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&bodyDotAllowed?")":this.type==="*"&&bodyDotAllowed?")?":`)${this.type}`;final=start+body+close}return[final,unescape(body),__privateSet(this,_hasMagic,!!__privateGet(this,_hasMagic)),__privateGet(this,_uflag)]}};_root=new WeakMap,_hasMagic=new WeakMap,_uflag=new WeakMap,_parts=new WeakMap,_parent=new WeakMap,_parentIndex=new WeakMap,_negs=new WeakMap,_filledNegs=new WeakMap,_options=new WeakMap,_toString=new WeakMap,_emptyExt=new WeakMap,_AST_instances=new WeakSet,fillNegs_fn=__name(function(){if(this!==__privateGet(this,_root))throw new Error("should only call on root");if(__privateGet(this,_filledNegs))return this;this.toString(),__privateSet(this,_filledNegs,!0);let n;for(;n=__privateGet(this,_negs).pop();){if(n.type!=="!")continue;let p=n,pp=__privateGet(p,_parent);for(;pp;){for(let i=__privateGet(p,_parentIndex)+1;!pp.type&&i<__privateGet(pp,_parts).length;i++)for(const part of __privateGet(n,_parts)){if(typeof part=="string")throw new Error("string part in extglob AST??");part.copyIn(__privateGet(pp,_parts)[i])}p=pp,pp=__privateGet(p,_parent)}}return this},"#fillNegs"),_AST_static=new WeakSet,parseAST_fn=__name(function(str,ast,pos,opt){var _a,_b;let escaping=!1,inBrace=!1,braceStart=-1,braceNeg=!1;if(ast.type===null){let i2=pos,acc2="";for(;i2<str.length;){const c=str.charAt(i2++);if(escaping||c==="\\"){escaping=!escaping,acc2+=c;continue}if(inBrace){i2===braceStart+1?(c==="^"||c==="!")&&(braceNeg=!0):c==="]"&&!(i2===braceStart+2&&braceNeg)&&(inBrace=!1),acc2+=c;continue}else if(c==="["){inBrace=!0,braceStart=i2,braceNeg=!1,acc2+=c;continue}if(!opt.noext&&isExtglobType(c)&&str.charAt(i2)==="("){ast.push(acc2),acc2="";const ext2=new _AST(c,ast);i2=__privateMethod(_a=_AST,_AST_static,parseAST_fn).call(_a,str,ext2,i2,opt),ast.push(ext2);continue}acc2+=c}return ast.push(acc2),i2}let i=pos+1,part=new _AST(null,ast);const parts=[];let acc="";for(;i<str.length;){const c=str.charAt(i++);if(escaping||c==="\\"){escaping=!escaping,acc+=c;continue}if(inBrace){i===braceStart+1?(c==="^"||c==="!")&&(braceNeg=!0):c==="]"&&!(i===braceStart+2&&braceNeg)&&(inBrace=!1),acc+=c;continue}else if(c==="["){inBrace=!0,braceStart=i,braceNeg=!1,acc+=c;continue}if(isExtglobType(c)&&str.charAt(i)==="("){part.push(acc),acc="";const ext2=new _AST(c,part);part.push(ext2),i=__privateMethod(_b=_AST,_AST_static,parseAST_fn).call(_b,str,ext2,i,opt);continue}if(c==="|"){part.push(acc),acc="",parts.push(part),part=new _AST(null,ast);continue}if(c===")")return acc===""&&__privateGet(ast,_parts).length===0&&__privateSet(ast,_emptyExt,!0),part.push(acc),acc="",ast.push(...parts,part),i;acc+=c}return ast.type=null,__privateSet(ast,_hasMagic,void 0),__privateSet(ast,_parts,[str.substring(pos-1)]),i},"#parseAST"),partsToRegExp_fn=__name(function(dot){return __privateGet(this,_parts).map(p=>{if(typeof p=="string")throw new Error("string type in extglob ast??");const[re,_,_hasMagic2,uflag]=p.toRegExpSource(dot);return __privateSet(this,_uflag,__privateGet(this,_uflag)||uflag),re}).filter(p=>!(this.isStart()&&this.isEnd())||!!p).join("|")},"#partsToRegExp"),parseGlob_fn=__name(function(glob,hasMagic,noEmpty=!1){let escaping=!1,re="",uflag=!1;for(let i=0;i<glob.length;i++){const c=glob.charAt(i);if(escaping){escaping=!1,re+=(reSpecials.has(c)?"\\":"")+c;continue}if(c==="\\"){i===glob.length-1?re+="\\\\":escaping=!0;continue}if(c==="["){const[src,needUflag,consumed,magic]=parseClass(glob,i);if(consumed){re+=src,uflag=uflag||needUflag,i+=consumed-1,hasMagic=hasMagic||magic;continue}}if(c==="*"){noEmpty&&glob==="*"?re+=starNoEmpty:re+=star$1,hasMagic=!0;continue}if(c==="?"){re+=qmark$1,hasMagic=!0;continue}re+=regExpEscape$1(c)}return[re,unescape(glob),!!hasMagic,uflag]},"#parseGlob"),__privateAdd(_AST,_AST_static),__name(_AST,"AST");let AST=_AST;const escape=__name((s,{windowsPathsNoEscape=!1}={})=>windowsPathsNoEscape?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&"),"escape"),minimatch=__name((p,pattern,options={})=>(assertValidPattern(pattern),!options.nocomment&&pattern.charAt(0)==="#"?!1:new Minimatch(pattern,options).match(p)),"minimatch"),starDotExtRE=/^\*+([^+@!?\*\[\(]*)$/,starDotExtTest=__name(ext2=>f=>!f.startsWith(".")&&f.endsWith(ext2),"starDotExtTest"),starDotExtTestDot=__name(ext2=>f=>f.endsWith(ext2),"starDotExtTestDot"),starDotExtTestNocase=__name(ext2=>(ext2=ext2.toLowerCase(),f=>!f.startsWith(".")&&f.toLowerCase().endsWith(ext2)),"starDotExtTestNocase"),starDotExtTestNocaseDot=__name(ext2=>(ext2=ext2.toLowerCase(),f=>f.toLowerCase().endsWith(ext2)),"starDotExtTestNocaseDot"),starDotStarRE=/^\*+\.\*+$/,starDotStarTest=__name(f=>!f.startsWith(".")&&f.includes("."),"starDotStarTest"),starDotStarTestDot=__name(f=>f!=="."&&f!==".."&&f.includes("."),"starDotStarTestDot"),dotStarRE=/^\.\*+$/,dotStarTest=__name(f=>f!=="."&&f!==".."&&f.startsWith("."),"dotStarTest"),starRE=/^\*+$/,starTest=__name(f=>f.length!==0&&!f.startsWith("."),"starTest"),starTestDot=__name(f=>f.length!==0&&f!=="."&&f!=="..","starTestDot"),qmarksRE=/^\?+([^+@!?\*\[\(]*)?$/,qmarksTestNocase=__name(([$0,ext2=""])=>{const noext=qmarksTestNoExt([$0]);return ext2?(ext2=ext2.toLowerCase(),f=>noext(f)&&f.toLowerCase().endsWith(ext2)):noext},"qmarksTestNocase"),qmarksTestNocaseDot=__name(([$0,ext2=""])=>{const noext=qmarksTestNoExtDot([$0]);return ext2?(ext2=ext2.toLowerCase(),f=>noext(f)&&f.toLowerCase().endsWith(ext2)):noext},"qmarksTestNocaseDot"),qmarksTestDot=__name(([$0,ext2=""])=>{const noext=qmarksTestNoExtDot([$0]);return ext2?f=>noext(f)&&f.endsWith(ext2):noext},"qmarksTestDot"),qmarksTest=__name(([$0,ext2=""])=>{const noext=qmarksTestNoExt([$0]);return ext2?f=>noext(f)&&f.endsWith(ext2):noext},"qmarksTest"),qmarksTestNoExt=__name(([$0])=>{const len=$0.length;return f=>f.length===len&&!f.startsWith(".")},"qmarksTestNoExt"),qmarksTestNoExtDot=__name(([$0])=>{const len=$0.length;return f=>f.length===len&&f!=="."&&f!==".."},"qmarksTestNoExtDot"),defaultPlatform=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",path={win32:{sep:"\\"},posix:{sep:"/"}},sep=defaultPlatform==="win32"?path.win32.sep:path.posix.sep;minimatch.sep=sep;const GLOBSTAR=Symbol("globstar **");minimatch.GLOBSTAR=GLOBSTAR;const qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",filter=__name((pattern,options={})=>p=>minimatch(p,pattern,options),"filter");minimatch.filter=filter;const ext=__name((a,b={})=>Object.assign({},a,b),"ext"),defaults=__name(def=>{var _a,_b;if(!def||typeof def!="object"||!Object.keys(def).length)return minimatch;const orig=minimatch;return Object.assign(__name((p,pattern,options={})=>orig(p,pattern,ext(def,options)),"m"),{Minimatch:(_a=class extends orig.Minimatch{constructor(pattern,options={}){super(pattern,ext(def,options))}static defaults(options){return orig.defaults(ext(def,options)).Minimatch}},__name(_a,"Minimatch"),_a),AST:(_b=class extends orig.AST{constructor(type,parent,options={}){super(type,parent,ext(def,options))}static fromGlob(pattern,options={}){return orig.AST.fromGlob(pattern,ext(def,options))}},__name(_b,"AST"),_b),unescape:__name((s,options={})=>orig.unescape(s,ext(def,options)),"unescape"),escape:__name((s,options={})=>orig.escape(s,ext(def,options)),"escape"),filter:__name((pattern,options={})=>orig.filter(pattern,ext(def,options)),"filter"),defaults:__name(options=>orig.defaults(ext(def,options)),"defaults"),makeRe:__name((pattern,options={})=>orig.makeRe(pattern,ext(def,options)),"makeRe"),braceExpand:__name((pattern,options={})=>orig.braceExpand(pattern,ext(def,options)),"braceExpand"),match:__name((list,pattern,options={})=>orig.match(list,pattern,ext(def,options)),"match"),sep:orig.sep,GLOBSTAR})},"defaults");minimatch.defaults=defaults;const braceExpand=__name((pattern,options={})=>(assertValidPattern(pattern),options.nobrace||!/\{(?:(?!\{).)*\}/.test(pattern)?[pattern]:expand$1(pattern)),"braceExpand");minimatch.braceExpand=braceExpand;const makeRe=__name((pattern,options={})=>new Minimatch(pattern,options).makeRe(),"makeRe");minimatch.makeRe=makeRe;const match=__name((list,pattern,options={})=>{const mm=new Minimatch(pattern,options);return list=list.filter(f=>mm.match(f)),mm.options.nonull&&!list.length&&list.push(pattern),list},"match");minimatch.match=match;const globMagic=/[?*]|[+@!]\(.*?\)|\[|\]/,regExpEscape=__name(s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),_Minimatch=class _Minimatch{constructor(pattern,options={}){__publicField(this,"options");__publicField(this,"set");__publicField(this,"pattern");__publicField(this,"windowsPathsNoEscape");__publicField(this,"nonegate");__publicField(this,"negate");__publicField(this,"comment");__publicField(this,"empty");__publicField(this,"preserveMultipleSlashes");__publicField(this,"partial");__publicField(this,"globSet");__publicField(this,"globParts");__publicField(this,"nocase");__publicField(this,"isWindows");__publicField(this,"platform");__publicField(this,"windowsNoMagicRoot");__publicField(this,"regexp");assertValidPattern(pattern),options=options||{},this.options=options,this.pattern=pattern,this.platform=options.platform||defaultPlatform,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!options.windowsPathsNoEscape||options.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!options.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!options.nonegate,this.comment=!1,this.empty=!1,this.partial=!!options.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=options.windowsNoMagicRoot!==void 0?options.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const pattern of this.set)for(const part of pattern)if(typeof part!="string")return!0;return!1}debug(..._){}make(){const pattern=this.pattern,options=this.options;if(!options.nocomment&&pattern.charAt(0)==="#"){this.comment=!0;return}if(!pattern){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],options.debug&&(this.debug=(...args)=>console.error(...args)),this.debug(this.pattern,this.globSet);const rawGlobParts=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(rawGlobParts),this.debug(this.pattern,this.globParts);let set=this.globParts.map((s,_,__)=>{if(this.isWindows&&this.windowsNoMagicRoot){const isUNC=s[0]===""&&s[1]===""&&(s[2]==="?"||!globMagic.test(s[2]))&&!globMagic.test(s[3]),isDrive=/^[a-z]:/i.test(s[0]);if(isUNC)return[...s.slice(0,4),...s.slice(4).map(ss=>this.parse(ss))];if(isDrive)return[s[0],...s.slice(1).map(ss=>this.parse(ss))]}return s.map(ss=>this.parse(ss))});if(this.debug(this.pattern,set),this.set=set.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const p=this.set[i];p[0]===""&&p[1]===""&&this.globParts[i][2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3])&&(p[2]="?")}this.debug(this.pattern,this.set)}preprocess(globParts){if(this.options.noglobstar)for(let i=0;i<globParts.length;i++)for(let j=0;j<globParts[i].length;j++)globParts[i][j]==="**"&&(globParts[i][j]="*");const{optimizationLevel=1}=this.options;return optimizationLevel>=2?(globParts=this.firstPhasePreProcess(globParts),globParts=this.secondPhasePreProcess(globParts)):optimizationLevel>=1?globParts=this.levelOneOptimize(globParts):globParts=this.adjascentGlobstarOptimize(globParts),globParts}adjascentGlobstarOptimize(globParts){return globParts.map(parts=>{let gs=-1;for(;(gs=parts.indexOf("**",gs+1))!==-1;){let i=gs;for(;parts[i+1]==="**";)i++;i!==gs&&parts.splice(gs,i-gs)}return parts})}levelOneOptimize(globParts){return globParts.map(parts=>(parts=parts.reduce((set,part)=>{const prev=set[set.length-1];return part==="**"&&prev==="**"?set:part===".."&&prev&&prev!==".."&&prev!=="."&&prev!=="**"?(set.pop(),set):(set.push(part),set)},[]),parts.length===0?[""]:parts))}levelTwoFileOptimize(parts){Array.isArray(parts)||(parts=this.slashSplit(parts));let didSomething=!1;do{if(didSomething=!1,!this.preserveMultipleSlashes){for(let i=1;i<parts.length-1;i++){const p=parts[i];i===1&&p===""&&parts[0]===""||(p==="."||p==="")&&(didSomething=!0,parts.splice(i,1),i--)}parts[0]==="."&&parts.length===2&&(parts[1]==="."||parts[1]==="")&&(didSomething=!0,parts.pop())}let dd=0;for(;(dd=parts.indexOf("..",dd+1))!==-1;){const p=parts[dd-1];p&&p!=="."&&p!==".."&&p!=="**"&&(didSomething=!0,parts.splice(dd-1,2),dd-=2)}}while(didSomething);return parts.length===0?[""]:parts}firstPhasePreProcess(globParts){let didSomething=!1;do{didSomething=!1;for(let parts of globParts){let gs=-1;for(;(gs=parts.indexOf("**",gs+1))!==-1;){let gss=gs;for(;parts[gss+1]==="**";)gss++;gss>gs&&parts.splice(gs+1,gss-gs);let next=parts[gs+1];const p=parts[gs+2],p2=parts[gs+3];if(next!==".."||!p||p==="."||p===".."||!p2||p2==="."||p2==="..")continue;didSomething=!0,parts.splice(gs,1);const other=parts.slice(0);other[gs]="**",globParts.push(other),gs--}if(!this.preserveMultipleSlashes){for(let i=1;i<parts.length-1;i++){const p=parts[i];i===1&&p===""&&parts[0]===""||(p==="."||p==="")&&(didSomething=!0,parts.splice(i,1),i--)}parts[0]==="."&&parts.length===2&&(parts[1]==="."||parts[1]==="")&&(didSomething=!0,parts.pop())}let dd=0;for(;(dd=parts.indexOf("..",dd+1))!==-1;){const p=parts[dd-1];if(p&&p!=="."&&p!==".."&&p!=="**"){didSomething=!0;const splin=dd===1&&parts[dd+1]==="**"?["."]:[];parts.splice(dd-1,2,...splin),parts.length===0&&parts.push(""),dd-=2}}}}while(didSomething);return globParts}secondPhasePreProcess(globParts){for(let i=0;i<globParts.length-1;i++)for(let j=i+1;j<globParts.length;j++){const matched=this.partsMatch(globParts[i],globParts[j],!this.preserveMultipleSlashes);if(matched){globParts[i]=[],globParts[j]=matched;break}}return globParts.filter(gs=>gs.length)}partsMatch(a,b,emptyGSMatch=!1){let ai=0,bi=0,result=[],which="";for(;ai<a.length&&bi<b.length;)if(a[ai]===b[bi])result.push(which==="b"?b[bi]:a[ai]),ai++,bi++;else if(emptyGSMatch&&a[ai]==="**"&&b[bi]===a[ai+1])result.push(a[ai]),ai++;else if(emptyGSMatch&&b[bi]==="**"&&a[ai]===b[bi+1])result.push(b[bi]),bi++;else if(a[ai]==="*"&&b[bi]&&(this.options.dot||!b[bi].startsWith("."))&&b[bi]!=="**"){if(which==="b")return!1;which="a",result.push(a[ai]),ai++,bi++}else if(b[bi]==="*"&&a[ai]&&(this.options.dot||!a[ai].startsWith("."))&&a[ai]!=="**"){if(which==="a")return!1;which="b",result.push(b[bi]),ai++,bi++}else return!1;return a.length===b.length&&result}parseNegate(){if(this.nonegate)return;const pattern=this.pattern;let negate=!1,negateOffset=0;for(let i=0;i<pattern.length&&pattern.charAt(i)==="!";i++)negate=!negate,negateOffset++;negateOffset&&(this.pattern=pattern.slice(negateOffset)),this.negate=negate}matchOne(file,pattern,partial=!1){const options=this.options;if(this.isWindows){const fileDrive=typeof file[0]=="string"&&/^[a-z]:$/i.test(file[0]),fileUNC=!fileDrive&&file[0]===""&&file[1]===""&&file[2]==="?"&&/^[a-z]:$/i.test(file[3]),patternDrive=typeof pattern[0]=="string"&&/^[a-z]:$/i.test(pattern[0]),patternUNC=!patternDrive&&pattern[0]===""&&pattern[1]===""&&pattern[2]==="?"&&typeof pattern[3]=="string"&&/^[a-z]:$/i.test(pattern[3]),fdi=fileUNC?3:fileDrive?0:void 0,pdi=patternUNC?3:patternDrive?0:void 0;if(typeof fdi=="number"&&typeof pdi=="number"){const[fd,pd]=[file[fdi],pattern[pdi]];fd.toLowerCase()===pd.toLowerCase()&&(pattern[pdi]=fd,pdi>fdi?pattern=pattern.slice(pdi):fdi>pdi&&(file=file.slice(fdi)))}}const{optimizationLevel=1}=this.options;optimizationLevel>=2&&(file=this.levelTwoFileOptimize(file)),this.debug("matchOne",this,{file,pattern}),this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){this.debug("matchOne loop");var p=pattern[pi],f=file[fi];if(this.debug(pattern,p,f),p===!1)return!1;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){for(this.debug("** at the end");fi<fl;fi++)if(file[fi]==="."||file[fi]===".."||!options.dot&&file[fi].charAt(0)===".")return!1;return!0}for(;fr<fl;){var swallowee=file[fr];if(this.debug(`
globstar while`,file,fr,pattern,pr,swallowee),this.matchOne(file.slice(fr),pattern.slice(pr),partial))return this.debug("globstar found match!",fr,fl,swallowee),!0;if(swallowee==="."||swallowee===".."||!options.dot&&swallowee.charAt(0)==="."){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue"),fr++}return!!(partial&&(this.debug(`
>>> no match, partial?`,file,fr,pattern,pr),fr===fl))}let hit;if(typeof p=="string"?(hit=f===p,this.debug("string match",p,f,hit)):(hit=p.test(f),this.debug("pattern match",p,f,hit)),!hit)return!1}if(fi===fl&&pi===pl)return!0;if(fi===fl)return partial;if(pi===pl)return fi===fl-1&&file[fi]==="";throw new Error("wtf?")}braceExpand(){return braceExpand(this.pattern,this.options)}parse(pattern){assertValidPattern(pattern);const options=this.options;if(pattern==="**")return GLOBSTAR;if(pattern==="")return"";let m,fastTest=null;(m=pattern.match(starRE))?fastTest=options.dot?starTestDot:starTest:(m=pattern.match(starDotExtRE))?fastTest=(options.nocase?options.dot?starDotExtTestNocaseDot:starDotExtTestNocase:options.dot?starDotExtTestDot:starDotExtTest)(m[1]):(m=pattern.match(qmarksRE))?fastTest=(options.nocase?options.dot?qmarksTestNocaseDot:qmarksTestNocase:options.dot?qmarksTestDot:qmarksTest)(m):(m=pattern.match(starDotStarRE))?fastTest=options.dot?starDotStarTestDot:starDotStarTest:(m=pattern.match(dotStarRE))&&(fastTest=dotStarTest);const re=AST.fromGlob(pattern,this.options).toMMPattern();return fastTest&&typeof re=="object"&&Reflect.defineProperty(re,"test",{value:fastTest}),re}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const set=this.set;if(!set.length)return this.regexp=!1,this.regexp;const options=this.options,twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot,flags=new Set(options.nocase?["i"]:[]);let re=set.map(pattern=>{const pp=pattern.map(p=>{if(p instanceof RegExp)for(const f of p.flags.split(""))flags.add(f);return typeof p=="string"?regExpEscape(p):p===GLOBSTAR?GLOBSTAR:p._src});return pp.forEach((p,i)=>{const next=pp[i+1],prev=pp[i-1];p!==GLOBSTAR||prev===GLOBSTAR||(prev===void 0?next!==void 0&&next!==GLOBSTAR?pp[i+1]="(?:\\/|"+twoStar+"\\/)?"+next:pp[i]=twoStar:next===void 0?pp[i-1]=prev+"(?:\\/|"+twoStar+")?":next!==GLOBSTAR&&(pp[i-1]=prev+"(?:\\/|\\/"+twoStar+"\\/)"+next,pp[i+1]=GLOBSTAR))}),pp.filter(p=>p!==GLOBSTAR).join("/")}).join("|");const[open,close]=set.length>1?["(?:",")"]:["",""];re="^"+open+re+close+"$",this.negate&&(re="^(?!"+re+").+$");try{this.regexp=new RegExp(re,[...flags].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(p){return this.preserveMultipleSlashes?p.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(p)?["",...p.split(/\/+/)]:p.split(/\/+/)}match(f,partial=this.partial){if(this.debug("match",f,this.pattern),this.comment)return!1;if(this.empty)return f==="";if(f==="/"&&partial)return!0;const options=this.options;this.isWindows&&(f=f.split("\\").join("/"));const ff=this.slashSplit(f);this.debug(this.pattern,"split",ff);const set=this.set;this.debug(this.pattern,"set",set);let filename=ff[ff.length-1];if(!filename)for(let i=ff.length-2;!filename&&i>=0;i--)filename=ff[i];for(let i=0;i<set.length;i++){const pattern=set[i];let file=ff;if(options.matchBase&&pattern.length===1&&(file=[filename]),this.matchOne(file,pattern,partial))return options.flipNegate?!0:!this.negate}return options.flipNegate?!1:this.negate}static defaults(def){return minimatch.defaults(def).Minimatch}};__name(_Minimatch,"Minimatch");let Minimatch=_Minimatch;minimatch.AST=AST;minimatch.Minimatch=Minimatch;minimatch.escape=escape;minimatch.unescape=unescape;function prepareRemotes(remotes){const result=[];let hasFallback=!1;for(const a of remotes)result.every(b=>b.pattern!==a.pattern)&&(a.pattern==="*"&&(hasFallback=!0),result.push(a));return hasFallback||result.push({pattern:"*",whitelisted:!1}),result.sort((a,b)=>compareBySpecificity(a.pattern,b.pattern))}__name(prepareRemotes,"prepareRemotes");function serializeRemotes(remotes){return remotes.map(({whitelisted,pattern})=>`${whitelisted?"w":"b"} ${pattern}`).join(`
`)}__name(serializeRemotes,"serializeRemotes");function parseRemote(source){if(!/\s+/.test(source))return[source,void 0];const parts=source.split(/\s+/g);return parts[0].startsWith("w")?[parts[1],!0]:parts[0].startsWith("b")?[parts[1],!1]:[parts[1],void 0]}__name(parseRemote,"parseRemote");function parseRemotes(remotes,sources){const result=[];let hasFallback=!1;for(const source of sources.split(/\n+/g)){const[pattern,w]=parseRemote(source);if(pattern==="*"&&(hasFallback=!0),!result.some(b=>b.pattern===pattern)){if(w!==void 0){result.push({pattern,whitelisted:w});continue}for(const s of remotes){if(pattern===s.pattern){result.push({pattern,whitelisted:s.whitelisted});break}if(Math.abs(pattern.length-s.pattern.length)===1){if(s.pattern.startsWith(pattern)){result.push({pattern,whitelisted:s.whitelisted});break}else if(pattern.startsWith(s.pattern)){result.push({pattern,whitelisted:s.whitelisted});break}}}result.some(b=>b.pattern===pattern)||result.push({pattern,whitelisted:!1})}}return hasFallback||result.push({pattern:"*",whitelisted:!1}),result.sort((a,b)=>compareBySpecificity(a.pattern,b.pattern))}__name(parseRemotes,"parseRemotes");function checkRemotes(sources){const problems=[];let hasFallback=!1;for(const source of sources.split(/\n+/g)){const trimmed=source.trim().replace(/^[wb]\s+/,"");if(trimmed==="*"){hasFallback=!0;continue}/^\w+:/gi.test(trimmed)&&problems.push("remove protocols, ex: 'http://'"),/^(\w+\.)+\w+/.test(trimmed)||problems.push("should include domain, ex: 'example.org/path'")}return hasFallback||problems.unshift("should include a fallback '*'"),problems}__name(checkRemotes,"checkRemotes");function prepareRemoteMatcher(url_param="fallback_param"){const regex=new RegExp("[?&]"+url_param+"([&=\\s]|$)","i");return remote=>regex.test(remote)}__name(prepareRemoteMatcher,"prepareRemoteMatcher");async function getRemoteExt(url){const referer=URL.getOrigin(url),response=await obsidian.requestUrl({url,throw:!1,method:"HEAD",headers:{Referer:referer?referer+"/":""}});return ImageError.assertResponse(url,response,"url-request-head"),getMimeExt(response.headers["content-type"])}__name(getRemoteExt,"getRemoteExt");async function getRemoteContent(url){const referer=URL.getOrigin(url),response=await obsidian.requestUrl({url,throw:!1,method:"GET",headers:{Referer:referer?referer+"/":""}});return ImageError.assertResponse(url,response,"url-request-get"),response.arrayBuffer}__name(getRemoteContent,"getRemoteContent");function prepareConfigMatchers(configs){return configs.map(config=>{let resolve=__name(_path=>URI.getParent(_path),"resolve");switch(config.mode){case"NOTE-FOLDER":resolve=__name(_path=>URI.join(URI.getParent(_path),config.target),"resolve");break;case"TARGET-PATH":resolve=__name(_path=>URI.join(config.target,URI.removeExt(_path)),"resolve");break;case"TARGET-NOTE":resolve=__name(_path=>URI.join(config.target,URI.getBasename(_path)),"resolve");break;case"TARGET":resolve=__name(_path=>config.target,"resolve");break}const testPath=config.pattern!=="*"?_notepath=>minimatch(_notepath,config.pattern):_notepath=>!0,testRemote=__name(_remote=>{for(const{pattern,whitelisted}of config.remotes)if(pattern==="*"||new RegExp("^https?://(\\w+\\.)*"+pattern,"g").test(_remote))return whitelisted;return!1},"testRemote");return{source:Object.freeze(config),isEnabled:__name(()=>config.enabled,"isEnabled"),testRemote,testPath,resolve}})}__name(prepareConfigMatchers,"prepareConfigMatchers");function prepareConfigs(configs){const result=[];for(const a of configs){const bIndex=result.findIndex(b=>b.pattern===a.pattern);if(bIndex===-1){result.push({...a,remotes:prepareRemotes(a.remotes)});continue}a.remotes.length>result[bIndex].remotes.length&&(result[bIndex]={...a,remotes:prepareRemotes(a.remotes)})}return result.sort((a,b)=>compareBySpecificity(a.pattern,b.pattern))}__name(prepareConfigs,"prepareConfigs");function checkPattern(configs,_value){if(!_value)return["invalid pattern"];for(const config of configs)if(config.pattern===_value)return[`duplicated pattern '${_value}'`];return[]}__name(checkPattern,"checkPattern");const MODES={NOTE:"Attachments next to the Note","NOTE-FOLDER":"Attachments on Subfolder",TARGET:"Attachments on Cache Folder","TARGET-NOTE":"Attachments on Cache Note Folder","TARGET-PATH":"Attachments on Cache Note Path"},MODES_DESC={NOTE:"Store in the same folder as the note","NOTE-FOLDER":"Store next to the note in subfolder ",TARGET:"Store in folder ","TARGET-NOTE":"Store in subfolder with the note-name under ","TARGET-PATH":"Store in a replated note-path under "};var _cache,_cacheHeader,_cacheDetails,_cacheRemotes,_remotesText,_CacheSettings_instances,cacheName_fn,cacheDesc_fn,displayCacheHeader_fn,targetDesc_fn,displayCacheDetails_fn,remoteName_fn,displayCacheRemotes_fn,updateRemotes_fn,_changeListeners,_removeListeners,invokeChange_fn,invokeRemove_fn;const _CacheSettings=class _CacheSettings{constructor(parent,cache){__privateAdd(this,_CacheSettings_instances);__privateAdd(this,_cache);__privateAdd(this,_cacheHeader);__privateAdd(this,_cacheDetails);__privateAdd(this,_cacheRemotes);__privateAdd(this,_remotesText);__privateAdd(this,_changeListeners,[]);__privateAdd(this,_removeListeners,[]);__privateSet(this,_cache,{...cache,remotes:[...cache.remotes]}),__privateSet(this,_cacheHeader,new obsidian.Setting(parent)),__privateSet(this,_cacheDetails,__privateGet(this,_cacheHeader).settingEl.createDiv("cache-details")),__privateSet(this,_cacheRemotes,__privateGet(this,_cacheHeader).settingEl.createDiv("cache-remotes")),__privateMethod(this,_CacheSettings_instances,displayCacheHeader_fn).call(this),__privateMethod(this,_CacheSettings_instances,displayCacheDetails_fn).call(this),__privateMethod(this,_CacheSettings_instances,displayCacheRemotes_fn).call(this)}onChange(callback){return __privateGet(this,_changeListeners).push(callback),this}onRemove(callback){return __privateGet(this,_removeListeners).push(callback),this}};_cache=new WeakMap,_cacheHeader=new WeakMap,_cacheDetails=new WeakMap,_cacheRemotes=new WeakMap,_remotesText=new WeakMap,_CacheSettings_instances=new WeakSet,cacheName_fn=__name(function(){return createFragment(div=>{div.append(`${__privateGet(this,_cache).enabled?"Enabled":"Disabled"} path: `),div.createEl("code").appendText(__privateGet(this,_cache).pattern)})},"#cacheName"),cacheDesc_fn=__name(function(){return __privateGet(this,_cache).mode==="NOTE"?MODES_DESC.NOTE:createFragment(div=>{div.append(MODES_DESC[__privateGet(this,_cache).mode]),div.createEl("code").appendText(__privateGet(this,_cache).target)})},"#cacheDesc"),displayCacheHeader_fn=__name(function(){__privateGet(this,_cacheHeader).setName(__privateMethod(this,_CacheSettings_instances,cacheName_fn).call(this)),__privateGet(this,_cacheHeader).setDesc(__privateMethod(this,_CacheSettings_instances,cacheDesc_fn).call(this)),__privateGet(this,_cache).pattern!=="*"&&__privateGet(this,_cacheHeader).addExtraButton(button=>{button.setIcon("trash-2").setTooltip("Remove"),button.onClick(()=>{if(__privateGet(this,_cache).pattern==="*"){console.warn("fallback config('*') can't be removed");return}__privateGet(this,_cacheHeader).clear(),__privateGet(this,_cacheHeader).settingEl.remove(),__privateMethod(this,_CacheSettings_instances,invokeRemove_fn).call(this)})}),__privateGet(this,_cacheHeader).addToggle(toggle=>{toggle.setValue(__privateGet(this,_cache).enabled),toggle.onChange(value=>{__privateGet(this,_cache).enabled=value,__privateMethod(this,_CacheSettings_instances,invokeChange_fn).call(this),__privateGet(this,_cacheHeader).setName(__privateMethod(this,_CacheSettings_instances,cacheName_fn).call(this))})}),__privateGet(this,_cacheHeader).addExtraButton(button=>{let visible=!1;button.setIcon("chevron-down").setTooltip("Details"),button.onClick(()=>{visible=!visible,visible?(button.setIcon("chevron-up"),__privateGet(this,_cacheHeader).settingEl.addClass("show-details")):(button.setIcon("chevron-down"),__privateGet(this,_cacheHeader).settingEl.removeClass("show-details"))})})},"#displayCacheHeader"),targetDesc_fn=__name(function(){return createFragment(div=>{div.append("Attachments storage path, ex:");const ul=div.createEl("ul"),note=ul.createEl("li");note.append("Note: '"),note.createEl("b").appendText("folder/note1.md"),note.append("'");const attachment=ul.createEl("li");attachment.append("Attachment: '");const b=attachment.createEl("b"),{mode,target}=__privateGet(this,_cache);mode==="NOTE"?b.appendText("folder/img1.jpg"):mode==="NOTE-FOLDER"?b.appendText(`folder/${target}/img1.jpg`):mode==="TARGET"?b.appendText(`${target}/img1.jpg`):mode==="TARGET-NOTE"?b.appendText(`${target}/note1/img1.jpg`):mode==="TARGET-PATH"&&b.appendText(`${target}/folder/note1/img1.jpg`),attachment.append("'")})},"#targetDesc"),displayCacheDetails_fn=__name(function(){let targetInput;const cacheSetting=new obsidian.Setting(__privateGet(this,_cacheDetails));cacheSetting.setName("Attachments Storage"),cacheSetting.setDesc(__privateMethod(this,_CacheSettings_instances,targetDesc_fn).call(this)),cacheSetting.addDropdown(dropdown=>{dropdown.addOptions(MODES),dropdown.setValue(__privateGet(this,_cache).mode),dropdown.onChange(value=>{__privateGet(this,_cache).mode=value,__privateMethod(this,_CacheSettings_instances,invokeChange_fn).call(this),cacheSetting.setDesc(__privateMethod(this,_CacheSettings_instances,targetDesc_fn).call(this)),__privateGet(this,_cache).mode==="NOTE"?(targetInput?.setDisabled(!0),targetInput?.setValue("")):(targetInput?.setDisabled(!1),targetInput?.setValue(__privateGet(this,_cache).target))})}),cacheSetting.addText(input=>{targetInput=input,__privateGet(this,_cache).mode==="NOTE"?input.setDisabled(!0):input.setValue(__privateGet(this,_cache).target),input.onChange(value=>{__privateGet(this,_cache).target=value,__privateMethod(this,_CacheSettings_instances,invokeChange_fn).call(this),cacheSetting.setDesc(__privateMethod(this,_CacheSettings_instances,targetDesc_fn).call(this))})});const remotesDesc=createFragment(),remotesDescUl=remotesDesc.createEl("ul"),remotesSetting=new obsidian.Setting(__privateGet(this,_cacheDetails));remotesSetting.setClass("remotes-input"),remotesSetting.setName("Remotes List"),remotesSetting.setDesc(remotesDesc),remotesSetting.addTextArea(textarea=>{__privateSet(this,_remotesText,textarea),textarea.setValue(serializeRemotes(__privateGet(this,_cache).remotes)),textarea.onChange(value=>{remotesDescUl.empty();const problems=checkRemotes(value);if(problems.length>0){problems.forEach(p=>remotesDescUl.createEl("li").appendText(p));return}__privateGet(this,_cache).remotes=parseRemotes(__privateGet(this,_cache).remotes,value),__privateMethod(this,_CacheSettings_instances,invokeChange_fn).call(this),__privateMethod(this,_CacheSettings_instances,displayCacheRemotes_fn).call(this)})})},"#displayCacheDetails"),remoteName_fn=__name(function(r){return createFragment(div=>{div.append(`${r.whitelisted?"Whitelisted":"Blacklisted"} remote: `),div.createEl("code").appendText(r.pattern)})},"#remoteName"),displayCacheRemotes_fn=__name(function(){__privateGet(this,_cacheRemotes).empty();for(const remote of __privateGet(this,_cache).remotes){const setting=new obsidian.Setting(__privateGet(this,_cacheRemotes));setting.setName(__privateMethod(this,_CacheSettings_instances,remoteName_fn).call(this,remote)),remote.pattern!=="*"&&setting.addExtraButton(button=>{button.setIcon("trash-2").setTooltip("Remove"),button.onClick(()=>{const remotes=__privateGet(this,_cache).remotes.filter(r=>r.pattern!==remote.pattern);__privateMethod(this,_CacheSettings_instances,updateRemotes_fn).call(this,remotes)})}),setting.addButton(button=>{button.setButtonText(remote.whitelisted?"Blacklist":"Whitelist"),button.onClick(()=>{const remotes=__privateGet(this,_cache).remotes.map(r=>r.pattern!==remote.pattern?r:{...r,whitelisted:!r.whitelisted});__privateMethod(this,_CacheSettings_instances,updateRemotes_fn).call(this,remotes)})})}},"#displayCacheRemotes"),updateRemotes_fn=__name(function(remotes){__privateGet(this,_cache).remotes=remotes,__privateMethod(this,_CacheSettings_instances,invokeChange_fn).call(this),__privateGet(this,_remotesText)?.setValue(serializeRemotes(remotes)),__privateMethod(this,_CacheSettings_instances,displayCacheRemotes_fn).call(this)},"#updateRemotes"),_changeListeners=new WeakMap,_removeListeners=new WeakMap,invokeChange_fn=__name(function(){for(const listener of __privateGet(this,_changeListeners))listener(__privateGet(this,_cache))},"#invokeChange"),invokeRemove_fn=__name(function(){for(const listener of __privateGet(this,_removeListeners))listener(__privateGet(this,_cache))},"#invokeRemove"),__name(_CacheSettings,"CacheSettings");let CacheSettings=_CacheSettings;var _plugin,_settings,_configsList,_SettingsTab_instances,newSetting_fn,newSettingAt_fn,displayGeneralSettings_fn,displayConfigsHeader_fn,displayConfigsList_fn,handle_fn,updateConfigs_fn;const _SettingsTab=class _SettingsTab extends obsidian.PluginSettingTab{constructor(plugin){super(plugin.app,plugin);__privateAdd(this,_SettingsTab_instances);__privateAdd(this,_plugin);__privateAdd(this,_settings);__privateAdd(this,_configsList);__privateSet(this,_plugin,plugin),__privateSet(this,_settings,plugin.settings)}hide(){}display(){this.containerEl.empty(),this.containerEl.addClass("image-caching-settings"),__privateMethod(this,_SettingsTab_instances,displayGeneralSettings_fn).call(this),__privateMethod(this,_SettingsTab_instances,newSetting_fn).call(this).setName("Paths Settings").setHeading(),__privateMethod(this,_SettingsTab_instances,displayConfigsHeader_fn).call(this),__privateSet(this,_configsList,this.containerEl.createDiv("configs-list")),__privateMethod(this,_SettingsTab_instances,displayConfigsList_fn).call(this)}};_plugin=new WeakMap,_settings=new WeakMap,_configsList=new WeakMap,_SettingsTab_instances=new WeakSet,newSetting_fn=__name(function(){return __privateMethod(this,_SettingsTab_instances,newSettingAt_fn).call(this,this.containerEl)},"#newSetting"),newSettingAt_fn=__name(function(container){return new obsidian.Setting(container)},"#newSettingAt"),displayGeneralSettings_fn=__name(function(){const charsSetting=__privateMethod(this,_SettingsTab_instances,newSetting_fn).call(this);charsSetting.setName("Keep Special Characters"),charsSetting.setDesc("If you are having problems with special characters on image paths, disable this setting."),charsSetting.addToggle(toggle=>{toggle.setValue(__privateGet(this,_settings).allow_characters),toggle.onChange(__privateMethod(this,_SettingsTab_instances,handle_fn).bind(this,"allow_characters"))});const urlcacheSetting=__privateMethod(this,_SettingsTab_instances,newSetting_fn).call(this);urlcacheSetting.setName("URL Param Cache"),urlcacheSetting.setDesc("Overrides standard rules and stores the file."),urlcacheSetting.addText(input=>{input.setValue(__privateGet(this,_settings).url_param_cache),input.onChange(__privateMethod(this,_SettingsTab_instances,handle_fn).bind(this,"url_param_cache"))});const urlignoreSetting=__privateMethod(this,_SettingsTab_instances,newSetting_fn).call(this);urlignoreSetting.setName("URL Param Ignore"),urlignoreSetting.setDesc("Overrides standard rules and ignores the file."),urlignoreSetting.addText(input=>{input.setValue(__privateGet(this,_settings).url_param_ignore),input.onChange(__privateMethod(this,_SettingsTab_instances,handle_fn).bind(this,"url_param_ignore"))})},"#displayGeneralSettings"),displayConfigsHeader_fn=__name(function(){let patternInput=null,sourceDropdown=null,duplicateButton=null;const headerDesc=createFragment(),headerDescUl=headerDesc.createEl("ul"),headerEl=__privateMethod(this,_SettingsTab_instances,newSetting_fn).call(this);headerEl.setClass("configs-header"),headerEl.setName("Duplicate Vault Path"),headerEl.setDesc(headerDesc),headerEl.addText(input=>{patternInput=input,input.setPlaceholder("glob: **/*.md"),input.onChange(value=>{if(headerDescUl.empty(),!value){duplicateButton?.setDisabled(!0);return}const problems=checkPattern(__privateGet(this,_settings).cache_configs,value);if(problems.length>0){problems.forEach(p=>headerDescUl.createEl("li").appendText(p));return}duplicateButton?.setDisabled(problems.length>0)})}),headerEl.addDropdown(dropdown=>{sourceDropdown=dropdown,dropdown.setValue("*");for(const config of __privateGet(this,_settings).cache_configs)dropdown.addOption(config.pattern,config.pattern)}),headerEl.addButton(button=>{duplicateButton=button,button.setButtonText("Duplicate"),button.setDisabled(!0),button.onClick(()=>{const match2=patternInput?.getValue(),ref=sourceDropdown?.getValue()||"*",src=__privateGet(this,_settings).cache_configs.find(i=>i.pattern===ref);if(!match2||!src){console.warn("unexpected state");return}const configs=__privateGet(this,_settings).cache_configs;configs.push({pattern:match2,remotes:src.remotes,enabled:src.enabled,target:src.target,mode:src.mode}),__privateMethod(this,_SettingsTab_instances,updateConfigs_fn).call(this,configs)})})},"#displayConfigsHeader"),displayConfigsList_fn=__name(function(){if(__privateGet(this,_configsList)){__privateGet(this,_configsList).empty();for(const cache of __privateGet(this,_settings).cache_configs){const setting=new CacheSettings(__privateGet(this,_configsList),cache);setting.onChange(_cache2=>{const configs=__privateGet(this,_settings).cache_configs.map(c=>c.pattern===_cache2.pattern?_cache2:c);__privateMethod(this,_SettingsTab_instances,updateConfigs_fn).call(this,configs)}),setting.onRemove(_cache2=>{const configs=__privateGet(this,_settings).cache_configs.filter(c=>c.pattern!==_cache2.pattern);__privateMethod(this,_SettingsTab_instances,updateConfigs_fn).call(this,configs)})}}},"#displayConfigsList"),handle_fn=__name(function(key,value){__privateGet(this,_settings)[key]=value,__privateGet(this,_plugin).saveSettings()},"#handle"),updateConfigs_fn=__name(function(config){__privateGet(this,_settings).cache_configs=prepareConfigs(config),__privateGet(this,_plugin).saveSettings()},"#updateConfigs"),__name(_SettingsTab,"SettingsTab");let SettingsTab=_SettingsTab;const _MarkdownHandler=class _MarkdownHandler{constructor(plugin){this.plugin=plugin}registerMarkdownProcessor(){this.plugin.registerMarkdownPostProcessor((element,ctx)=>{element.querySelectorAll("img").forEach(async el=>{const resolved=await this.plugin.api.cache(ctx.sourcePath,el.src);resolved&&(el.src=resolved)})})}};__name(_MarkdownHandler,"MarkdownHandler");let MarkdownHandler=_MarkdownHandler;var _log,_plugin2,_vault,_memo,_ImageCachingAPI_instances,findCache_fn;const _ImageCachingAPI=class _ImageCachingAPI{constructor(plugin){__privateAdd(this,_ImageCachingAPI_instances);__privateAdd(this,_log,new Logger("ImageCachingAPI"));__privateAdd(this,_plugin2);__privateAdd(this,_vault);__privateAdd(this,_memo,new Map);__privateSet(this,_plugin2,plugin),__privateSet(this,_vault,plugin.app.vault)}mayCache(notepath,remote){return!!__privateMethod(this,_ImageCachingAPI_instances,findCache_fn).call(this,notepath,remote)}async isCached(notepath,remote){const resolved=await this.resolve(notepath,remote);return resolved?await __privateGet(this,_vault).adapter.exists(resolved):!1}async resource(notepath,remote){const resolved=await this.resolve(notepath,remote);if(!resolved)return;const file=__privateGet(this,_vault).getFileByPath(resolved);return file?__privateGet(this,_vault).getResourcePath(file):void 0}async resolve(notepath,remote){if(!URL.isUrl(remote))throw new ImageError("remote-no-url",`remote('${remote}')`);const baseUrl=URL.getBaseurl(remote);if(!baseUrl)throw new ImageError("remote-no-url",`remote('${remote}')`);if(__privateGet(this,_memo).has(baseUrl))return __privateGet(this,_memo).get(baseUrl);const matcher=__privateMethod(this,_ImageCachingAPI_instances,findCache_fn).call(this,notepath,remote);if(!matcher)return;const name=URI.getBasename(baseUrl),ext2=URI.getExt(baseUrl)||await getRemoteExt(remote);if(!ext2)throw new ImageError("remote-no-ext");const path2=URI.join(matcher.resolve(notepath),name+"."+ext2),res=__privateGet(this,_plugin2).settings.allow_characters?obsidian.normalizePath(path2):obsidian.normalizePath(URI.normalize(path2));return __privateGet(this,_memo).set(baseUrl,res),res}async cache(notepath,remote){const log=__privateGet(this,_log).group(`Caching <${remote}>`),resolved=await this.resolve(notepath,remote);if(!resolved){log.flush("Caching avoided",{notepath,remote});return}log.debug(`Resolved <${resolved}>`,{notepath,remote});const file1=__privateGet(this,_vault).getFileByPath(resolved);if(file1)return log.flush(`Already cached <${resolved}>`),__privateGet(this,_vault).getResourcePath(file1);const content=await getRemoteContent(remote);await __privateGet(this,_vault).adapter.mkdir(URI.getParent(resolved)),await __privateGet(this,_vault).adapter.writeBinary(resolved,content);const file2=__privateGet(this,_vault).getFileByPath(resolved);if(file2)return log.flush(`Freshly cached <${resolved}>`),__privateGet(this,_vault).getResourcePath(file2);log.flush(`Error caching <${resolved}>`)}async remove(path2){throw Error("not yet implemented")}};_log=new WeakMap,_plugin2=new WeakMap,_vault=new WeakMap,_memo=new WeakMap,_ImageCachingAPI_instances=new WeakSet,findCache_fn=__name(function(notepath,remote){const matcher=__privateGet(this,_plugin2).state.cache_matchers.find(matcher2=>matcher2.testPath(notepath));if(matcher?.isEnabled()&&!__privateGet(this,_plugin2).state.url_ignore_matcher(remote))return __privateGet(this,_plugin2).state.url_cache_matcher(remote)||matcher.testRemote(remote)?matcher:void 0},"#findCache"),__name(_ImageCachingAPI,"ImageCachingAPI");let ImageCachingAPI=_ImageCachingAPI;const DEFAULT_SETTINGS={allow_characters:!1,url_param_cache:"cache_image",url_param_ignore:"ignore_image",cache_configs:[{pattern:"*",remotes:[{whitelisted:!1,pattern:"*"}],enabled:!1,target:"",mode:"NOTE"}]};var _log2,_ImageCachingPlugin_instances,prepareState_fn;const _ImageCachingPlugin=class _ImageCachingPlugin extends obsidian.Plugin{constructor(app,manifest){super(app,manifest);__privateAdd(this,_ImageCachingPlugin_instances);__privateAdd(this,_log2);__privateSet(this,_log2,new Logger("ImageCachingPlugin")),this.settings={},this.state={},this.api=new ImageCachingAPI(this),this.markdown=new MarkdownHandler(this),globalThis.ImageCaching=this.api}async onload(){await this.loadSettings(),this.addSettingTab(new SettingsTab(this)),this.markdown.registerMarkdownProcessor()}async onunload(){}async loadSettings(){const log=__privateGet(this,_log2).group("Loading Settings"),{cache_configs,...primitives}=await this.loadData()||{};this.settings=Object.assign({},DEFAULT_SETTINGS,primitives),this.settings.cache_configs=prepareConfigs([...cache_configs||[],...DEFAULT_SETTINGS.cache_configs]),log.debug("Loaded: ",this.settings),log.flush("Loaded Settings"),__privateMethod(this,_ImageCachingPlugin_instances,prepareState_fn).call(this)}async saveSettings(){const log=__privateGet(this,_log2).group("Saving Settings"),data=Object.assign({},this.settings);data.cache_configs=prepareConfigs(data.cache_configs),await this.saveData(data),log.debug("Saved: ",data),log.flush("Saved Settings"),__privateMethod(this,_ImageCachingPlugin_instances,prepareState_fn).call(this)}};_log2=new WeakMap,_ImageCachingPlugin_instances=new WeakSet,prepareState_fn=__name(function(){__privateGet(this,_log2).info("Prepare state"),this.state={cache_matchers:prepareConfigMatchers(this.settings.cache_configs),url_cache_matcher:prepareRemoteMatcher(this.settings.url_param_cache),url_ignore_matcher:prepareRemoteMatcher(this.settings.url_param_ignore)}},"#prepareState"),__name(_ImageCachingPlugin,"ImageCachingPlugin");let ImageCachingPlugin=_ImageCachingPlugin;exports.DEFAULT_SETTINGS=DEFAULT_SETTINGS;exports.default=ImageCachingPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbHVpc2JzK29ic2lkaWFuLWZuY0A5OTA5MzFlNTE0MzZhZmQ2MWJhYzg3ZGNhYjc5YmUzYmE5YmM1ZGRmL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1mbmMvc3JjL3V0aWxpdHkvdXJpLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbHVpc2JzK29ic2lkaWFuLWZuY0A5OTA5MzFlNTE0MzZhZmQ2MWJhYzg3ZGNhYjc5YmUzYmE5YmM1ZGRmL25vZGVfbW9kdWxlcy9vYnNpZGlhbi1mbmMvc3JjL3V0aWxpdHkvbG9nZ2luZy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L0ltYWdlRXJyb3IudHMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbGl0eS9zdHJpbmdzLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2JhbGFuY2VkLW1hdGNoQDEuMC4yL25vZGVfbW9kdWxlcy9iYWxhbmNlZC1tYXRjaC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9icmFjZS1leHBhbnNpb25AMi4wLjEvbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2JyYWNlLWV4cHJlc3Npb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS91bmVzY2FwZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9lc2NhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvcmVtb3Rlcy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L2NvbmZpZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvQ2FjaGVTZXR0aW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy9zZXR0aW5ncy9TZXR0aW5nc1RhYi50cyIsIi4uLy4uLy4uLy4uL3NyYy9maWxlc3lzdGVtL01hcmtkb3duSGFuZGxlci50cyIsIi4uLy4uLy4uLy4uL3NyYy9JbWFnZUNhY2hpbmdBUEkudHMiLCIuLi8uLi8uLi8uLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVVJJIHtcbiAgc3RhdGljIGpvaW4oLi4ucGF0aHM6IEFycmF5PHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGw+KSB7XG4gICAgcmV0dXJuIHBhdGhzLnJlZHVjZSgocGF0aDogc3RyaW5nLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHBhdGhcbiAgICAgIGlmICghcGF0aCkgcmV0dXJuIHZhbHVlXG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIHBhdGgucmVwbGFjZSgvW1xcXFwvXSskL2dpLCAnJykgKyAvL1xuICAgICAgICAnLycgK1xuICAgICAgICB2YWx1ZS5yZXBsYWNlKC9eW1xcXFwvXSsvZ2ksICcnKVxuICAgICAgKVxuICAgIH0sICcnKVxuICB9XG5cbiAgc3RhdGljIG5vcm1hbGl6ZSh1cmk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHVyaS5yZXBsYWNlQWxsKC9bXlxcdy1cXFxcLyM/Jj0nOiwuIF0rL2dpLCAnXycpXG4gIH1cblxuICBzdGF0aWMgaGFzRXh0KHVyaTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIC9cXC5bXlxcXFwvXSokL2dpLnRlc3QodXJpKVxuICB9XG5cbiAgLyoqIFNob3VsZCB1c2UgYGhhc0V4dCgpYCBiZWZvcmUgKi9cbiAgc3RhdGljIGdldEV4dCh1cmk6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIC8oPzw9XFwuKShbXlxcXFwvIz9dKikoWyM/XS4qKT8kL2dpLmV4ZWModXJpKT8uYXQoMSlcbiAgfVxuXG4gIHN0YXRpYyByZW1vdmVFeHQodXJpOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB1cmkucmVwbGFjZSgvKFxcLlteXFxcXC9dKik/KFsjP10uKik/JC9naSwgJycpXG4gIH1cblxuICBzdGF0aWMgZ2V0QmFzZW5hbWUodXJpOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IG5hbWUgPSBVUkkuZ2V0TmFtZSh1cmkpXG4gICAgcmV0dXJuIG5hbWUgPyBVUkkucmVtb3ZlRXh0KG5hbWUpIDogdW5kZWZpbmVkXG4gIH1cblxuICBzdGF0aWMgZ2V0TmFtZSh1cmk6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHVyaS5tYXRjaCgvW15cXFxcL10rJC9naSk/LmF0KDApXG4gIH1cblxuICBzdGF0aWMgZ2V0UGFyZW50KHVyaTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdXJpLnJlcGxhY2UoL1tcXFxcL11bXlxcXFwvXSokL2dpLCAnJylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVVJMIHtcbiAgc3RhdGljIGlzVXJsKHVyaTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy9naS50ZXN0KHVyaSlcbiAgfVxuXG4gIC8qKiBTaG91bGQgdXNlIGBpc1VybCgpYCBiZWZvcmUgKi9cbiAgc3RhdGljIGdldE9yaWdpbih1cmw6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcL1teXFxcXC9dKy9naS5leGVjKHVybCk/LmF0KDApXG4gIH1cblxuICAvKiogU2hvdWxkIHVzZSBgaXNVcmwoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRCYXNldXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvW14jP10qL2dpLmV4ZWModXJsKT8uYXQoMClcbiAgfVxuXG4gIHN0YXRpYyBnZXRIYXNoKHVybDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gLyg/PD0jKVteP10qL2dpLmV4ZWModXJsKT8uYXQoMClcbiAgfVxuXG4gIHN0YXRpYyBnZXRwYXJhbXModXJsOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiAvKD88PVxcPykuKi9naS5leGVjKHVybCk/LmF0KDApXG4gIH1cbn1cbiIsImV4cG9ydCB0eXBlIExvZ0xldmVsVmFsdWUgPSAwYjAwMCB8IDBiMDAxIHwgMGIwMTAgfCAwYjAxMSB8IDBiMTAwXG5leHBvcnQgY29uc3QgTG9nTGV2ZWwgPSB7XG4gIEVSUk9SOiAwYjAwMCBhcyBMb2dMZXZlbFZhbHVlLFxuICBXQVJOOiAwYjAwMSBhcyBMb2dMZXZlbFZhbHVlLFxuICBJTkZPOiAwYjAxMCBhcyBMb2dMZXZlbFZhbHVlLFxuICBERUJVRzogMGIwMTEgYXMgTG9nTGV2ZWxWYWx1ZSxcbiAgVFJBQ0U6IDBiMTAwIGFzIExvZ0xldmVsVmFsdWUsXG59XG5leHBvcnQgY29uc3QgTG9nTGV2ZWxSZXZlcnNlOiBSZWNvcmQ8TG9nTGV2ZWxWYWx1ZSwgc3RyaW5nPiA9IHtcbiAgWzBiMDAwXTogJ0VSUk9SJyxcbiAgWzBiMDAxXTogJ1dBUk4gJyxcbiAgWzBiMDEwXTogJ0lORk8gJyxcbiAgWzBiMDExXTogJ0RFQlVHJyxcbiAgWzBiMTAwXTogJ1RSQUNFJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dFbnRyeSB7XG4gIHRpbWVzdGFtcDogRGF0ZVxuICBuYW1lc3BhY2U6IHN0cmluZ1xuICBsZXZlbDogTG9nTGV2ZWxWYWx1ZVxuICBkYXRhOiB1bmtub3duW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dnZXJEcml2ZXIge1xuICBlcnJvcihwcmVmaXg6IHN0cmluZywgZGF0YTogdW5rbm93bltdKTogdm9pZFxuICB3YXJuKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiB2b2lkXG4gIGluZm8ocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWRcbiAgZGVidWcocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWRcbiAgdHJhY2UocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWRcblxuICAvKiogU3RhcnRzIGEgbG9ncyBncm91cCwgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0byBlbmQgdGhlIGdyb3VwLiAqL1xuICBncm91cChwcmVmaXg6IHN0cmluZywgZGF0YTogdW5rbm93bltdKTogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgY2xhc3MgQ29uc29sZUxvZ2dlckRyaXZlciBpbXBsZW1lbnRzIExvZ2dlckRyaXZlciB7XG4gIHB1YmxpYyBlcnJvcihwcmVmaXg6IHN0cmluZywgZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcihwcmVmaXgsIC4uLmRhdGEpXG4gIH1cbiAgcHVibGljIHdhcm4ocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIGNvbnNvbGUud2FybihwcmVmaXgsIC4uLmRhdGEpXG4gIH1cbiAgcHVibGljIGluZm8ocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIGNvbnNvbGUuaW5mbyhwcmVmaXgsIC4uLmRhdGEpXG4gIH1cbiAgcHVibGljIGRlYnVnKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICBjb25zb2xlLmRlYnVnKHByZWZpeCwgLi4uZGF0YSlcbiAgfVxuICBwdWJsaWMgdHJhY2UocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIGNvbnNvbGUudHJhY2UocHJlZml4LCAuLi5kYXRhKVxuICB9XG5cbiAgcHVibGljIGdyb3VwKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiAoKSA9PiB2b2lkIHtcbiAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKC4uLmRhdGEpXG4gICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZUxvZ2dlckRyaXZlciBpbXBsZW1lbnRzIExvZ2dlckRyaXZlciB7XG4gIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuICBwdWJsaWMgZXJyb3IocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcignRmlsZUxvZ2dlciBub3QgaW1wbGVtZW50ZWQnKVxuICB9XG4gIHB1YmxpYyB3YXJuKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMb2dnZXIgbm90IGltcGxlbWVudGVkJylcbiAgfVxuICBwdWJsaWMgaW5mbyhwcmVmaXg6IHN0cmluZywgZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlTG9nZ2VyIG5vdCBpbXBsZW1lbnRlZCcpXG4gIH1cbiAgcHVibGljIGRlYnVnKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMb2dnZXIgbm90IGltcGxlbWVudGVkJylcbiAgfVxuICBwdWJsaWMgdHJhY2UocHJlZml4OiBzdHJpbmcsIGRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcignRmlsZUxvZ2dlciBub3QgaW1wbGVtZW50ZWQnKVxuICB9XG5cbiAgcHVibGljIGdyb3VwKHByZWZpeDogc3RyaW5nLCBkYXRhOiB1bmtub3duW10pOiAoKSA9PiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMb2dnZXIgbm90IGltcGxlbWVudGVkJylcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIGZpbGUgbG9nZ2luZ1xuICBwcm90ZWN0ZWQgc3RhdGljIGRyaXZlcnM6IExvZ2dlckRyaXZlcltdID0gW25ldyBDb25zb2xlTG9nZ2VyRHJpdmVyKCldXG4gIC8vIHB1YmxpYyBzdGF0aWMgc2V0RHJpdmVycygpOiB2b2lkIHt9XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIG5hbWVzcGFjZTogc3RyaW5nKSB7fVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgcHJlZml4KHRpbWVzdGFtcDogRGF0ZSwgbmFtZXNwYWNlOiBzdHJpbmcsIGxldmVsOiBMb2dMZXZlbFZhbHVlKTogc3RyaW5nIHtcbiAgICAvLyBbMTM6MTQ6MTUuMDEyXSBMRVZFTCAobmFtZXNwYWNlKTogPG1lc3NhZ2U+XG4gICAgLy9gWyR7aGh9OiR7bW19OiR7c3N9LiR7bXN9XSAke2x2bH0gKCR7bmFtZXNwYWNlfSk6YFxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoXG4gICAgICAnWycgKyBTdHJpbmcodGltZXN0YW1wLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICAgJzonICsgU3RyaW5nKHRpbWVzdGFtcC5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICAgJzonICsgU3RyaW5nKHRpbWVzdGFtcC5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICAgJy4nICsgU3RyaW5nKHRpbWVzdGFtcC5nZXRNaWxsaXNlY29uZHMoKSkucGFkU3RhcnQoMywgJzAnKSArXG4gICAgICAnXSAnICsgTG9nTGV2ZWxSZXZlcnNlW2xldmVsXSArICcgKCcgKyBuYW1lc3BhY2UgKyAnKTonXG4gICAgKVxuICB9XG5cbiAgcHVibGljIGxvZyh0aW1lc3RhbXA6IERhdGUsIG5hbWVzcGFjZTogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWxWYWx1ZSwgZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgY29uc3QgcHJlZml4ID0gTG9nZ2VyLnByZWZpeCh0aW1lc3RhbXAsIG5hbWVzcGFjZSwgbGV2ZWwpXG5cbiAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxuICAgICAgICByZXR1cm4gTG9nZ2VyLmRyaXZlcnMuZm9yRWFjaCgoZHJpdmVyKSA9PiBkcml2ZXIuZXJyb3IocHJlZml4LCBkYXRhKSlcbiAgICAgIGNhc2UgTG9nTGV2ZWwuV0FSTjpcbiAgICAgICAgcmV0dXJuIExvZ2dlci5kcml2ZXJzLmZvckVhY2goKGRyaXZlcikgPT4gZHJpdmVyLndhcm4ocHJlZml4LCBkYXRhKSlcbiAgICAgIGNhc2UgTG9nTGV2ZWwuSU5GTzpcbiAgICAgICAgcmV0dXJuIExvZ2dlci5kcml2ZXJzLmZvckVhY2goKGRyaXZlcikgPT4gZHJpdmVyLmluZm8ocHJlZml4LCBkYXRhKSlcbiAgICAgIGNhc2UgTG9nTGV2ZWwuREVCVUc6XG4gICAgICAgIHJldHVybiBMb2dnZXIuZHJpdmVycy5mb3JFYWNoKChkcml2ZXIpID0+IGRyaXZlci5kZWJ1ZyhwcmVmaXgsIGRhdGEpKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIExvZ2dlci5kcml2ZXJzLmZvckVhY2goKGRyaXZlcikgPT4gZHJpdmVyLnRyYWNlKHByZWZpeCwgZGF0YSkpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGVycm9yKC4uLmRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMubG9nKG5ldyBEYXRlKCksIHRoaXMubmFtZXNwYWNlLCBMb2dMZXZlbC5FUlJPUiwgZGF0YSlcbiAgfVxuICBwdWJsaWMgd2FybiguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhuZXcgRGF0ZSgpLCB0aGlzLm5hbWVzcGFjZSwgTG9nTGV2ZWwuV0FSTiwgZGF0YSlcbiAgfVxuICBwdWJsaWMgaW5mbyguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhuZXcgRGF0ZSgpLCB0aGlzLm5hbWVzcGFjZSwgTG9nTGV2ZWwuSU5GTywgZGF0YSlcbiAgfVxuICBwdWJsaWMgZGVidWcoLi4uZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5sb2cobmV3IERhdGUoKSwgdGhpcy5uYW1lc3BhY2UsIExvZ0xldmVsLkRFQlVHLCBkYXRhKVxuICB9XG4gIHB1YmxpYyB0cmFjZSguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhuZXcgRGF0ZSgpLCB0aGlzLm5hbWVzcGFjZSwgTG9nTGV2ZWwuVFJBQ0UsIGRhdGEpXG4gIH1cblxuICBwdWJsaWMgb24obG9nZ2VyOiB1bmtub3duKTogTG9nZ2VyIHtcbiAgICByZXR1cm4gbG9nZ2VyICYmIGxvZ2dlciBpbnN0YW5jZW9mIExvZ2dlciA/IG5ldyBMb2dnZXJXcmFwcGVyKHRoaXMubmFtZXNwYWNlLCBsb2dnZXIpIDogdGhpc1xuICB9XG5cbiAgcHVibGljIGdyb3VwKC4uLmRhdGE6IHVua25vd25bXSk6IExvZ2dpbmdHcm91cCB7XG4gICAgcmV0dXJuIG5ldyBMb2dnaW5nR3JvdXAodGhpcy5uYW1lc3BhY2UsIC4uLmRhdGEpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvZ2dlcldyYXBwZXIgZXh0ZW5kcyBMb2dnZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VyLFxuICApIHtcbiAgICBzdXBlcihuYW1lc3BhY2UpXG4gIH1cblxuICBwdWJsaWMgZXJyb3IoLi4uZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5sb2dnZXIubG9nKG5ldyBEYXRlKCksIHRoaXMubmFtZXNwYWNlLCBMb2dMZXZlbC5FUlJPUiwgZGF0YSlcbiAgfVxuICBwdWJsaWMgd2FybiguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZ2dlci5sb2cobmV3IERhdGUoKSwgdGhpcy5uYW1lc3BhY2UsIExvZ0xldmVsLldBUk4sIGRhdGEpXG4gIH1cbiAgcHVibGljIGluZm8oLi4uZGF0YTogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5sb2dnZXIubG9nKG5ldyBEYXRlKCksIHRoaXMubmFtZXNwYWNlLCBMb2dMZXZlbC5JTkZPLCBkYXRhKVxuICB9XG4gIHB1YmxpYyBkZWJ1ZyguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZ2dlci5sb2cobmV3IERhdGUoKSwgdGhpcy5uYW1lc3BhY2UsIExvZ0xldmVsLkRFQlVHLCBkYXRhKVxuICB9XG4gIHB1YmxpYyB0cmFjZSguLi5kYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLmxvZ2dlci5sb2cobmV3IERhdGUoKSwgdGhpcy5uYW1lc3BhY2UsIExvZ0xldmVsLlRSQUNFLCBkYXRhKVxuICB9XG5cbiAgcHVibGljIGZsdXNoKC4uLmRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ2dlciBpbnN0YW5jZW9mIExvZ2dpbmdHcm91cCkgdGhpcy5sb2dnZXIuZmx1c2goLi4uZGF0YSlcbiAgICBlbHNlIHRoaXMubG9nZ2VyLmxvZyhuZXcgRGF0ZSgpLCB0aGlzLm5hbWVzcGFjZSwgTG9nTGV2ZWwuSU5GTywgZGF0YSlcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2luZ0dyb3VwIGV4dGVuZHMgTG9nZ2VyIHtcbiAgI2xvZ3M6IExvZ0VudHJ5W10gPSBbXVxuXG4gIGNvbnN0cnVjdG9yKG5hbWVzcGFjZTogc3RyaW5nLCAuLi5kYXRhOiB1bmtub3duW10pIHtcbiAgICBzdXBlcihuYW1lc3BhY2UpXG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgdGhpcy5pbmZvKC4uLmRhdGEpXG4gIH1cblxuICBwdWJsaWMgbG9nKHRpbWVzdGFtcDogRGF0ZSwgbmFtZXNwYWNlOiBzdHJpbmcsIGxldmVsOiBMb2dMZXZlbFZhbHVlLCBkYXRhOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLiNsb2dzLnB1c2goeyB0aW1lc3RhbXAsIG5hbWVzcGFjZSwgbGV2ZWwsIGRhdGEgfSlcbiAgfVxuXG4gIGZsdXNoKC4uLmRhdGE6IHVua25vd25bXSk6IHZvaWQge1xuICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBmaWxlIGxvZ2dpbmdcbiAgICBjb25zdCBwcmVmaXggPSBMb2dnZXIucHJlZml4KG5ldyBEYXRlKCksIHRoaXMubmFtZXNwYWNlLCBMb2dMZXZlbC5JTkZPKVxuXG4gICAgLy8gc3RhcnRzIGxvZ2dpbmcgZ3JvdXBzXG4gICAgY29uc3QgY2xvc2VycyA9IExvZ2dlci5kcml2ZXJzLm1hcCgoZHJpdmVyKSA9PiBkcml2ZXIuZ3JvdXAocHJlZml4LCBkYXRhKSlcblxuICAgIC8vIGxvZ3Mgc3RvcmVkIGVudHJpZXNcbiAgICBmb3IgKGNvbnN0IHsgdGltZXN0YW1wLCBuYW1lc3BhY2UsIGxldmVsLCBkYXRhIH0gb2YgdGhpcy4jbG9ncykge1xuICAgICAgc3VwZXIubG9nKHRpbWVzdGFtcCwgbmFtZXNwYWNlLCBsZXZlbCwgZGF0YSlcbiAgICB9XG5cbiAgICAvLyBlbmRzIGxvZ2dpbmcgZ3JvdXBzXG4gICAgZm9yIChjb25zdCBjbG9zZXIgb2YgY2xvc2VycykgY2xvc2VyKClcblxuICAgIHRoaXMuI2xvZ3MgPSBbXVxuICB9XG59XG4iLCJpbXBvcnQgeyBSZXF1ZXN0VXJsUmVzcG9uc2UgfSBmcm9tICdvYnNpZGlhbidcblxudHlwZSBFcnJvckNvZGUgPVxuICB8ICdyZW1vdGUtbm8tdXJsJ1xuICB8ICdyZW1vdGUtbm8tZXh0J1xuICB8ICd1cmwtcmVxdWVzdC1oZWFkJ1xuICB8ICd1cmwtcmVxdWVzdC1nZXQnXG5cbmV4cG9ydCBjbGFzcyBJbWFnZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ2hlY2sgdGhlIHJlc3BvbnNlIGhhcyBhIF8qKnN0YXR1c0NvZGUqKl9cbiAgICogQHRocm93cyB7SW1hZ2VFcnJvcn1cbiAgICovXG4gIHN0YXRpYyBhc3NlcnRSZXNwb25zZShcbiAgICB1cmw6IHN0cmluZyxcbiAgICByZXNwb25zZTogUmVxdWVzdFVybFJlc3BvbnNlLFxuICAgIGNvZGU6IEVycm9yQ29kZSxcbiAgKTogdm9pZCB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgcmV0dXJuXG5cbiAgICB0aHJvdyBuZXcgSW1hZ2VFcnJvcihcbiAgICAgIGNvZGUsXG4gICAgICBgcmVxdWVzdGVkIHVybDogJHt1cmx9YCArXG4gICAgICAgIGBcXG5yZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWAgK1xuICAgICAgICBgXFxucmVzcG9uc2UgaGVhZGVyczpcXG4ke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmhlYWRlcnMpfWAsXG4gICAgKVxuICB9XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNvZGU6IEVycm9yQ29kZSwgcHVibGljIGNhdXNlPzogdW5rbm93bikge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm5hbWUgPSBgSW1hZ2VFcnJvcigke3RoaXMuY29kZX0pYFxuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMudG9TdHJpbmdNZXNzYWdlKClcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMubmFtZX06ICR7dGhpcy50b1N0cmluZ01lc3NhZ2UoKX1gXG4gIH1cblxuICB0b1N0cmluZ01lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICBjb25zdCBtZXNzYWdlID0gSW1hZ2VFcnJvci4jZGVzY3JpcHRpb24odGhpcy5jb2RlKVxuICAgIGlmICghdGhpcy5jYXVzZSkgcmV0dXJuIG1lc3NhZ2VcbiAgICByZXR1cm4gYCR7bWVzc2FnZX0sIGNvbnRleHQ6XFxuXFxuJHt0aGlzLmNhdXNlfWBcbiAgfVxuXG4gIHN0YXRpYyAjZGVzY3JpcHRpb24oY29kZTogRXJyb3JDb2RlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgIGNhc2UgJ3JlbW90ZS1uby11cmwnOlxuICAgICAgICByZXR1cm4gJ3JlbW90ZSBwYXJhbSBzaG91bGQgYmUgYW4gVVJMJ1xuICAgICAgY2FzZSAncmVtb3RlLW5vLWV4dCc6XG4gICAgICAgIHJldHVybiAnYSBmaWxlLWV4dGVuc2lvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCdcblxuICAgICAgY2FzZSAndXJsLXJlcXVlc3QtaGVhZCc6XG4gICAgICAgIHJldHVybiAndGhlIHJlcXVlc3QgdG8gZ2V0IHRoZSBmaWxlLWV4dGVuc2lvbiBmYWlsZWQnXG4gICAgICBjYXNlICd1cmwtcmVxdWVzdC1nZXQnOlxuICAgICAgICByZXR1cm4gJ3RoZSByZXF1ZXN0IHRvIGRvd25sb2FkIHRoZSBmaWxlIGZhaWxlZCdcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0cnktcmVsb2FkaW5nIE9ic2lkaWFuJ1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVCeVNwZWNpZmljaXR5KGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyIHtcbiAgLy9bXG4gIC8vICAnKicsXG4gIC8vICAnZXhhbXBsZS5jb20nLFxuICAvLyAgJ2V4YW1wbGUuY29tL2ltYWdlcycsXG4gIC8vICAnKi9hbGwnLFxuICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cnLFxuICAvLyAgJ2ltYWdlcy5vcmcnLFxuICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cvYXNkJyxcbiAgLy9dXG4gIC8vIGJlY29tZXMg4qyH77iPXG4gIC8vW1xuICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cvYXNkJyxcbiAgLy8gICdleGFtcGxlLmNvbS9ibG9nJyxcbiAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAvLyAgJ2V4YW1wbGUuY29tJyxcbiAgLy8gICdpbWFnZXMub3JnJyxcbiAgLy8gICcqL2FsbCcsXG4gIC8vICAnKicsXG4gIC8vXVxuXG4gIC8vXG4gIC8vIGAqYCBtZWFucyBhbGwsIGl0IHNob3VsZCBjb21lIGxhc3RcbiAgaWYgKCFhLnN0YXJ0c1dpdGgoJyonKSAmJiBiLnN0YXJ0c1dpdGgoJyonKSkgcmV0dXJuIC0xXG4gIGlmIChhLnN0YXJ0c1dpdGgoJyonKSAmJiAhYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAxXG5cbiAgLy8gcHJpb3JpdGl6ZSBzcGVjaWZpY2l0eVxuICBpZiAoYS5zdGFydHNXaXRoKGIpKSByZXR1cm4gLTFcbiAgaWYgKGIuc3RhcnRzV2l0aChhKSkgcmV0dXJuIDFcblxuICAvLyBvcmRlciBhbGZhYmV0aWNhbGx5XG4gIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYiwgJ2VuJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbWVFeHQobWltZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIHN3aXRjaCAobWltZSkge1xuICAgIC8vIEBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL01lZGlhL0Zvcm1hdHMvSW1hZ2VfdHlwZXNcbiAgICAvL1xuICAgIC8vIE1JTUUgbWFwcyB0byBtYW55IEVYVFxuICAgIC8vIC0gJ2ltYWdlL2pwZWcnOiBqcGcsanBlZywgLi4uZXRjXG4gICAgLy8gLSAnaW1hZ2UvdGlmZic6IHRpZix0aWZmXG4gICAgY2FzZSAnaW1hZ2UvanBlZyc6IHJldHVybiAnanBnJ1xuICAgIGNhc2UgJ2ltYWdlL3RpZmYnOiByZXR1cm4gJ3RpZidcblxuICAgIC8vIE1JTUUgY29tcG9zZWQgb2YgRVhUXG4gICAgLy8gLSAnaW1hZ2Uve2FwbmcsYXZpZixnaWYscG5nLHdlYnAsYm1wfSdcbiAgICAvLyAtICdpbWFnZS9zdmcreG1sJzogc3ZnXG4gICAgZGVmYXVsdDogcmV0dXJuIG1pbWUuc3BsaXQoL1xcL3xcXCsvZ2kpWzFdXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gYmFsYW5jZWQ7XG5mdW5jdGlvbiBiYWxhbmNlZChhLCBiLCBzdHIpIHtcbiAgaWYgKGEgaW5zdGFuY2VvZiBSZWdFeHApIGEgPSBtYXliZU1hdGNoKGEsIHN0cik7XG4gIGlmIChiIGluc3RhbmNlb2YgUmVnRXhwKSBiID0gbWF5YmVNYXRjaChiLCBzdHIpO1xuXG4gIHZhciByID0gcmFuZ2UoYSwgYiwgc3RyKTtcblxuICByZXR1cm4gciAmJiB7XG4gICAgc3RhcnQ6IHJbMF0sXG4gICAgZW5kOiByWzFdLFxuICAgIHByZTogc3RyLnNsaWNlKDAsIHJbMF0pLFxuICAgIGJvZHk6IHN0ci5zbGljZShyWzBdICsgYS5sZW5ndGgsIHJbMV0pLFxuICAgIHBvc3Q6IHN0ci5zbGljZShyWzFdICsgYi5sZW5ndGgpXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1heWJlTWF0Y2gocmVnLCBzdHIpIHtcbiAgdmFyIG0gPSBzdHIubWF0Y2gocmVnKTtcbiAgcmV0dXJuIG0gPyBtWzBdIDogbnVsbDtcbn1cblxuYmFsYW5jZWQucmFuZ2UgPSByYW5nZTtcbmZ1bmN0aW9uIHJhbmdlKGEsIGIsIHN0cikge1xuICB2YXIgYmVncywgYmVnLCBsZWZ0LCByaWdodCwgcmVzdWx0O1xuICB2YXIgYWkgPSBzdHIuaW5kZXhPZihhKTtcbiAgdmFyIGJpID0gc3RyLmluZGV4T2YoYiwgYWkgKyAxKTtcbiAgdmFyIGkgPSBhaTtcblxuICBpZiAoYWkgPj0gMCAmJiBiaSA+IDApIHtcbiAgICBpZihhPT09Yikge1xuICAgICAgcmV0dXJuIFthaSwgYmldO1xuICAgIH1cbiAgICBiZWdzID0gW107XG4gICAgbGVmdCA9IHN0ci5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA+PSAwICYmICFyZXN1bHQpIHtcbiAgICAgIGlmIChpID09IGFpKSB7XG4gICAgICAgIGJlZ3MucHVzaChpKTtcbiAgICAgICAgYWkgPSBzdHIuaW5kZXhPZihhLCBpICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKGJlZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgcmVzdWx0ID0gWyBiZWdzLnBvcCgpLCBiaSBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVnID0gYmVncy5wb3AoKTtcbiAgICAgICAgaWYgKGJlZyA8IGxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0gYmVnO1xuICAgICAgICAgIHJpZ2h0ID0gYmk7XG4gICAgICAgIH1cblxuICAgICAgICBiaSA9IHN0ci5pbmRleE9mKGIsIGkgKyAxKTtcbiAgICAgIH1cblxuICAgICAgaSA9IGFpIDwgYmkgJiYgYWkgPj0gMCA/IGFpIDogYmk7XG4gICAgfVxuXG4gICAgaWYgKGJlZ3MubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBbIGxlZnQsIHJpZ2h0IF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsInZhciBiYWxhbmNlZCA9IHJlcXVpcmUoJ2JhbGFuY2VkLW1hdGNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwYW5kVG9wO1xuXG52YXIgZXNjU2xhc2ggPSAnXFwwU0xBU0gnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjT3BlbiA9ICdcXDBPUEVOJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0Nsb3NlID0gJ1xcMENMT1NFJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0NvbW1hID0gJ1xcMENPTU1BJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY1BlcmlvZCA9ICdcXDBQRVJJT0QnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG5cbmZ1bmN0aW9uIG51bWVyaWMoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKSA9PSBzdHJcbiAgICA/IHBhcnNlSW50KHN0ciwgMTApXG4gICAgOiBzdHIuY2hhckNvZGVBdCgwKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCdcXFxcXFxcXCcpLmpvaW4oZXNjU2xhc2gpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx7Jykuam9pbihlc2NPcGVuKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcfScpLmpvaW4oZXNjQ2xvc2UpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFwsJykuam9pbihlc2NDb21tYSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXC4nKS5qb2luKGVzY1BlcmlvZCk7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KGVzY1NsYXNoKS5qb2luKCdcXFxcJylcbiAgICAgICAgICAgIC5zcGxpdChlc2NPcGVuKS5qb2luKCd7JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDbG9zZSkuam9pbignfScpXG4gICAgICAgICAgICAuc3BsaXQoZXNjQ29tbWEpLmpvaW4oJywnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY1BlcmlvZCkuam9pbignLicpO1xufVxuXG5cbi8vIEJhc2ljYWxseSBqdXN0IHN0ci5zcGxpdChcIixcIiksIGJ1dCBoYW5kbGluZyBjYXNlc1xuLy8gd2hlcmUgd2UgaGF2ZSBuZXN0ZWQgYnJhY2VkIHNlY3Rpb25zLCB3aGljaCBzaG91bGQgYmVcbi8vIHRyZWF0ZWQgYXMgaW5kaXZpZHVhbCBtZW1iZXJzLCBsaWtlIHthLHtiLGN9LGR9XG5mdW5jdGlvbiBwYXJzZUNvbW1hUGFydHMoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbJyddO1xuXG4gIHZhciBwYXJ0cyA9IFtdO1xuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuXG4gIGlmICghbSlcbiAgICByZXR1cm4gc3RyLnNwbGl0KCcsJyk7XG5cbiAgdmFyIHByZSA9IG0ucHJlO1xuICB2YXIgYm9keSA9IG0uYm9keTtcbiAgdmFyIHBvc3QgPSBtLnBvc3Q7XG4gIHZhciBwID0gcHJlLnNwbGl0KCcsJyk7XG5cbiAgcFtwLmxlbmd0aC0xXSArPSAneycgKyBib2R5ICsgJ30nO1xuICB2YXIgcG9zdFBhcnRzID0gcGFyc2VDb21tYVBhcnRzKHBvc3QpO1xuICBpZiAocG9zdC5sZW5ndGgpIHtcbiAgICBwW3AubGVuZ3RoLTFdICs9IHBvc3RQYXJ0cy5zaGlmdCgpO1xuICAgIHAucHVzaC5hcHBseShwLCBwb3N0UGFydHMpO1xuICB9XG5cbiAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcCk7XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG5mdW5jdGlvbiBleHBhbmRUb3Aoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbXTtcblxuICAvLyBJIGRvbid0IGtub3cgd2h5IEJhc2ggNC4zIGRvZXMgdGhpcywgYnV0IGl0IGRvZXMuXG4gIC8vIEFueXRoaW5nIHN0YXJ0aW5nIHdpdGgge30gd2lsbCBoYXZlIHRoZSBmaXJzdCB0d28gYnl0ZXMgcHJlc2VydmVkXG4gIC8vIGJ1dCAqb25seSogYXQgdGhlIHRvcCBsZXZlbCwgc28ge30sYX1iIHdpbGwgbm90IGV4cGFuZCB0byBhbnl0aGluZyxcbiAgLy8gYnV0IGF7fSxifWMgd2lsbCBiZSBleHBhbmRlZCB0byBbYX1jLGFiY10uXG4gIC8vIE9uZSBjb3VsZCBhcmd1ZSB0aGF0IHRoaXMgaXMgYSBidWcgaW4gQmFzaCwgYnV0IHNpbmNlIHRoZSBnb2FsIG9mXG4gIC8vIHRoaXMgbW9kdWxlIGlzIHRvIG1hdGNoIEJhc2gncyBydWxlcywgd2UgZXNjYXBlIGEgbGVhZGluZyB7fVxuICBpZiAoc3RyLnN1YnN0cigwLCAyKSA9PT0gJ3t9Jykge1xuICAgIHN0ciA9ICdcXFxce1xcXFx9JyArIHN0ci5zdWJzdHIoMik7XG4gIH1cblxuICByZXR1cm4gZXhwYW5kKGVzY2FwZUJyYWNlcyhzdHIpLCB0cnVlKS5tYXAodW5lc2NhcGVCcmFjZXMpO1xufVxuXG5mdW5jdGlvbiBlbWJyYWNlKHN0cikge1xuICByZXR1cm4gJ3snICsgc3RyICsgJ30nO1xufVxuZnVuY3Rpb24gaXNQYWRkZWQoZWwpIHtcbiAgcmV0dXJuIC9eLT8wXFxkLy50ZXN0KGVsKTtcbn1cblxuZnVuY3Rpb24gbHRlKGksIHkpIHtcbiAgcmV0dXJuIGkgPD0geTtcbn1cbmZ1bmN0aW9uIGd0ZShpLCB5KSB7XG4gIHJldHVybiBpID49IHk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZChzdHIsIGlzVG9wKSB7XG4gIHZhciBleHBhbnNpb25zID0gW107XG5cbiAgdmFyIG0gPSBiYWxhbmNlZCgneycsICd9Jywgc3RyKTtcbiAgaWYgKCFtKSByZXR1cm4gW3N0cl07XG5cbiAgLy8gbm8gbmVlZCB0byBleHBhbmQgcHJlLCBzaW5jZSBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIGZyZWUgb2YgYnJhY2Utc2V0c1xuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBwb3N0ID0gbS5wb3N0Lmxlbmd0aFxuICAgID8gZXhwYW5kKG0ucG9zdCwgZmFsc2UpXG4gICAgOiBbJyddO1xuXG4gIGlmICgvXFwkJC8udGVzdChtLnByZSkpIHsgICAgXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb3N0Lmxlbmd0aDsgaysrKSB7XG4gICAgICB2YXIgZXhwYW5zaW9uID0gcHJlKyAneycgKyBtLmJvZHkgKyAnfScgKyBwb3N0W2tdO1xuICAgICAgZXhwYW5zaW9ucy5wdXNoKGV4cGFuc2lvbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBpc051bWVyaWNTZXF1ZW5jZSA9IC9eLT9cXGQrXFwuXFwuLT9cXGQrKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gICAgdmFyIGlzQWxwaGFTZXF1ZW5jZSA9IC9eW2EtekEtWl1cXC5cXC5bYS16QS1aXSg/OlxcLlxcLi0/XFxkKyk/JC8udGVzdChtLmJvZHkpO1xuICAgIHZhciBpc1NlcXVlbmNlID0gaXNOdW1lcmljU2VxdWVuY2UgfHwgaXNBbHBoYVNlcXVlbmNlO1xuICAgIHZhciBpc09wdGlvbnMgPSBtLmJvZHkuaW5kZXhPZignLCcpID49IDA7XG4gICAgaWYgKCFpc1NlcXVlbmNlICYmICFpc09wdGlvbnMpIHtcbiAgICAgIC8vIHthfSxifVxuICAgICAgaWYgKG0ucG9zdC5tYXRjaCgvLC4qXFx9LykpIHtcbiAgICAgICAgc3RyID0gbS5wcmUgKyAneycgKyBtLmJvZHkgKyBlc2NDbG9zZSArIG0ucG9zdDtcbiAgICAgICAgcmV0dXJuIGV4cGFuZChzdHIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtzdHJdO1xuICAgIH1cblxuICAgIHZhciBuO1xuICAgIGlmIChpc1NlcXVlbmNlKSB7XG4gICAgICBuID0gbS5ib2R5LnNwbGl0KC9cXC5cXC4vKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbiA9IHBhcnNlQ29tbWFQYXJ0cyhtLmJvZHkpO1xuICAgICAgaWYgKG4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIHh7e2EsYn19eSA9PT4geHthfXkgeHtifXlcbiAgICAgICAgbiA9IGV4cGFuZChuWzBdLCBmYWxzZSkubWFwKGVtYnJhY2UpO1xuICAgICAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gcG9zdC5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgcmV0dXJuIG0ucHJlICsgblswXSArIHA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBuIGlzIHRoZSBwYXJ0cywgYW5kIHdlIGtub3cgaXQncyBub3QgYSBjb21tYSBzZXRcbiAgICAvLyB3aXRoIGEgc2luZ2xlIGVudHJ5LlxuICAgIHZhciBOO1xuXG4gICAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICAgIHZhciB4ID0gbnVtZXJpYyhuWzBdKTtcbiAgICAgIHZhciB5ID0gbnVtZXJpYyhuWzFdKTtcbiAgICAgIHZhciB3aWR0aCA9IE1hdGgubWF4KG5bMF0ubGVuZ3RoLCBuWzFdLmxlbmd0aClcbiAgICAgIHZhciBpbmNyID0gbi5sZW5ndGggPT0gM1xuICAgICAgICA/IE1hdGguYWJzKG51bWVyaWMoblsyXSkpXG4gICAgICAgIDogMTtcbiAgICAgIHZhciB0ZXN0ID0gbHRlO1xuICAgICAgdmFyIHJldmVyc2UgPSB5IDwgeDtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIGluY3IgKj0gLTE7XG4gICAgICAgIHRlc3QgPSBndGU7XG4gICAgICB9XG4gICAgICB2YXIgcGFkID0gbi5zb21lKGlzUGFkZGVkKTtcblxuICAgICAgTiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0geDsgdGVzdChpLCB5KTsgaSArPSBpbmNyKSB7XG4gICAgICAgIHZhciBjO1xuICAgICAgICBpZiAoaXNBbHBoYVNlcXVlbmNlKSB7XG4gICAgICAgICAgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG4gICAgICAgICAgaWYgKGMgPT09ICdcXFxcJylcbiAgICAgICAgICAgIGMgPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjID0gU3RyaW5nKGkpO1xuICAgICAgICAgIGlmIChwYWQpIHtcbiAgICAgICAgICAgIHZhciBuZWVkID0gd2lkdGggLSBjLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChuZWVkID4gMCkge1xuICAgICAgICAgICAgICB2YXIgeiA9IG5ldyBBcnJheShuZWVkICsgMSkuam9pbignMCcpO1xuICAgICAgICAgICAgICBpZiAoaSA8IDApXG4gICAgICAgICAgICAgICAgYyA9ICctJyArIHogKyBjLnNsaWNlKDEpO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYyA9IHogKyBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBOLnB1c2goYyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIE4gPSBbXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIE4ucHVzaC5hcHBseShOLCBleHBhbmQobltqXSwgZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IE4ubGVuZ3RoOyBqKyspIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcG9zdC5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgZXhwYW5zaW9uID0gcHJlICsgTltqXSArIHBvc3Rba107XG4gICAgICAgIGlmICghaXNUb3AgfHwgaXNTZXF1ZW5jZSB8fCBleHBhbnNpb24pXG4gICAgICAgICAgZXhwYW5zaW9ucy5wdXNoKGV4cGFuc2lvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cGFuc2lvbnM7XG59XG5cbiIsImNvbnN0IE1BWF9QQVRURVJOX0xFTkdUSCA9IDEwMjQgKiA2NDtcbmV4cG9ydCBjb25zdCBhc3NlcnRWYWxpZFBhdHRlcm4gPSAocGF0dGVybikgPT4ge1xuICAgIGlmICh0eXBlb2YgcGF0dGVybiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBwYXR0ZXJuJyk7XG4gICAgfVxuICAgIGlmIChwYXR0ZXJuLmxlbmd0aCA+IE1BWF9QQVRURVJOX0xFTkdUSCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXR0ZXJuIGlzIHRvbyBsb25nJyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VydC12YWxpZC1wYXR0ZXJuLmpzLm1hcCIsIi8vIHRyYW5zbGF0ZSB0aGUgdmFyaW91cyBwb3NpeCBjaGFyYWN0ZXIgY2xhc3NlcyBpbnRvIHVuaWNvZGUgcHJvcGVydGllc1xuLy8gdGhpcyB3b3JrcyBhY3Jvc3MgYWxsIHVuaWNvZGUgbG9jYWxlc1xuLy8geyA8cG9zaXggY2xhc3M+OiBbPHRyYW5zbGF0aW9uPiwgL3UgZmxhZyByZXF1aXJlZCwgbmVnYXRlZF1cbmNvbnN0IHBvc2l4Q2xhc3NlcyA9IHtcbiAgICAnWzphbG51bTpdJzogWydcXFxccHtMfVxcXFxwe05sfVxcXFxwe05kfScsIHRydWVdLFxuICAgICdbOmFscGhhOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9JywgdHJ1ZV0sXG4gICAgJ1s6YXNjaWk6XSc6IFsnXFxcXHgnICsgJzAwLVxcXFx4JyArICc3ZicsIGZhbHNlXSxcbiAgICAnWzpibGFuazpdJzogWydcXFxccHtac31cXFxcdCcsIHRydWVdLFxuICAgICdbOmNudHJsOl0nOiBbJ1xcXFxwe0NjfScsIHRydWVdLFxuICAgICdbOmRpZ2l0Ol0nOiBbJ1xcXFxwe05kfScsIHRydWVdLFxuICAgICdbOmdyYXBoOl0nOiBbJ1xcXFxwe1p9XFxcXHB7Q30nLCB0cnVlLCB0cnVlXSxcbiAgICAnWzpsb3dlcjpdJzogWydcXFxccHtMbH0nLCB0cnVlXSxcbiAgICAnWzpwcmludDpdJzogWydcXFxccHtDfScsIHRydWVdLFxuICAgICdbOnB1bmN0Ol0nOiBbJ1xcXFxwe1B9JywgdHJ1ZV0sXG4gICAgJ1s6c3BhY2U6XSc6IFsnXFxcXHB7Wn1cXFxcdFxcXFxyXFxcXG5cXFxcdlxcXFxmJywgdHJ1ZV0sXG4gICAgJ1s6dXBwZXI6XSc6IFsnXFxcXHB7THV9JywgdHJ1ZV0sXG4gICAgJ1s6d29yZDpdJzogWydcXFxccHtMfVxcXFxwe05sfVxcXFxwe05kfVxcXFxwe1BjfScsIHRydWVdLFxuICAgICdbOnhkaWdpdDpdJzogWydBLUZhLWYwLTknLCBmYWxzZV0sXG59O1xuLy8gb25seSBuZWVkIHRvIGVzY2FwZSBhIGZldyB0aGluZ3MgaW5zaWRlIG9mIGJyYWNlIGV4cHJlc3Npb25zXG4vLyBlc2NhcGVzOiBbIFxcIF0gLVxuY29uc3QgYnJhY2VFc2NhcGUgPSAocykgPT4gcy5yZXBsYWNlKC9bW1xcXVxcXFwtXS9nLCAnXFxcXCQmJyk7XG4vLyBlc2NhcGUgYWxsIHJlZ2V4cCBtYWdpYyBjaGFyYWN0ZXJzXG5jb25zdCByZWdleHBFc2NhcGUgPSAocykgPT4gcy5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuLy8gZXZlcnl0aGluZyBoYXMgYWxyZWFkeSBiZWVuIGVzY2FwZWQsIHdlIGp1c3QgaGF2ZSB0byBqb2luXG5jb25zdCByYW5nZXNUb1N0cmluZyA9IChyYW5nZXMpID0+IHJhbmdlcy5qb2luKCcnKTtcbi8vIHRha2VzIGEgZ2xvYiBzdHJpbmcgYXQgYSBwb3NpeCBicmFjZSBleHByZXNzaW9uLCBhbmQgcmV0dXJuc1xuLy8gYW4gZXF1aXZhbGVudCByZWd1bGFyIGV4cHJlc3Npb24gc291cmNlLCBhbmQgYm9vbGVhbiBpbmRpY2F0aW5nXG4vLyB3aGV0aGVyIHRoZSAvdSBmbGFnIG5lZWRzIHRvIGJlIGFwcGxpZWQsIGFuZCB0aGUgbnVtYmVyIG9mIGNoYXJzXG4vLyBjb25zdW1lZCB0byBwYXJzZSB0aGUgY2hhcmFjdGVyIGNsYXNzLlxuLy8gVGhpcyBhbHNvIHJlbW92ZXMgb3V0IG9mIG9yZGVyIHJhbmdlcywgYW5kIHJldHVybnMgKCQuKSBpZiB0aGVcbi8vIGVudGlyZSBjbGFzcyBqdXN0IG5vIGdvb2QuXG5leHBvcnQgY29uc3QgcGFyc2VDbGFzcyA9IChnbG9iLCBwb3NpdGlvbikgPT4ge1xuICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uO1xuICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgIGlmIChnbG9iLmNoYXJBdChwb3MpICE9PSAnWycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW4gYSBicmFjZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgY29uc3QgcmFuZ2VzID0gW107XG4gICAgY29uc3QgbmVncyA9IFtdO1xuICAgIGxldCBpID0gcG9zICsgMTtcbiAgICBsZXQgc2F3U3RhcnQgPSBmYWxzZTtcbiAgICBsZXQgdWZsYWcgPSBmYWxzZTtcbiAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgbGV0IGVuZFBvcyA9IHBvcztcbiAgICBsZXQgcmFuZ2VTdGFydCA9ICcnO1xuICAgIFdISUxFOiB3aGlsZSAoaSA8IGdsb2IubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGMgPSBnbG9iLmNoYXJBdChpKTtcbiAgICAgICAgaWYgKChjID09PSAnIScgfHwgYyA9PT0gJ14nKSAmJiBpID09PSBwb3MgKyAxKSB7XG4gICAgICAgICAgICBuZWdhdGUgPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09ICddJyAmJiBzYXdTdGFydCAmJiAhZXNjYXBpbmcpIHtcbiAgICAgICAgICAgIGVuZFBvcyA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2F3U3RhcnQgPSB0cnVlO1xuICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBpZiAoIWVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzY2FwZWQgXFwgY2hhciwgZmFsbCB0aHJvdWdoIGFuZCB0cmVhdCBsaWtlIG5vcm1hbCBjaGFyXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09ICdbJyAmJiAhZXNjYXBpbmcpIHtcbiAgICAgICAgICAgIC8vIGVpdGhlciBhIHBvc2l4IGNsYXNzLCBhIGNvbGxhdGlvbiBlcXVpdmFsZW50LCBvciBqdXN0IGEgW1xuICAgICAgICAgICAgZm9yIChjb25zdCBbY2xzLCBbdW5pcCwgdSwgbmVnXV0gb2YgT2JqZWN0LmVudHJpZXMocG9zaXhDbGFzc2VzKSkge1xuICAgICAgICAgICAgICAgIGlmIChnbG9iLnN0YXJ0c1dpdGgoY2xzLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnZhbGlkLCBbYS1bXSBpcyBmaW5lLCBidXQgbm90IFthLVs6YWxwaGFdXVxuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsnJC4nLCBmYWxzZSwgZ2xvYi5sZW5ndGggLSBwb3MsIHRydWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gY2xzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZylcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZ3MucHVzaCh1bmlwKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2godW5pcCk7XG4gICAgICAgICAgICAgICAgICAgIHVmbGFnID0gdWZsYWcgfHwgdTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgV0hJTEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBpdCdzIGp1c3QgYSBub3JtYWwgY2hhcmFjdGVyLCBlZmZlY3RpdmVseVxuICAgICAgICBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAocmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgLy8gdGhyb3cgdGhpcyByYW5nZSBhd2F5IGlmIGl0J3Mgbm90IHZhbGlkLCBidXQgb3RoZXJzXG4gICAgICAgICAgICAvLyBjYW4gc3RpbGwgbWF0Y2guXG4gICAgICAgICAgICBpZiAoYyA+IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShyYW5nZVN0YXJ0KSArICctJyArIGJyYWNlRXNjYXBlKGMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShjKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZVN0YXJ0ID0gJyc7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3cgbWlnaHQgYmUgdGhlIHN0YXJ0IG9mIGEgcmFuZ2UuXG4gICAgICAgIC8vIGNhbiBiZSBlaXRoZXIgYy1kIG9yIGMtXSBvciBjPG1vcmUuLi4+XSBvciBjXSBhdCB0aGlzIHBvaW50XG4gICAgICAgIGlmIChnbG9iLnN0YXJ0c1dpdGgoJy1dJywgaSArIDEpKSB7XG4gICAgICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShjICsgJy0nKSk7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xvYi5zdGFydHNXaXRoKCctJywgaSArIDEpKSB7XG4gICAgICAgICAgICByYW5nZVN0YXJ0ID0gYztcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdCB0aGUgc3RhcnQgb2YgYSByYW5nZSwganVzdCBhIHNpbmdsZSBjaGFyYWN0ZXJcbiAgICAgICAgcmFuZ2VzLnB1c2goYnJhY2VFc2NhcGUoYykpO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChlbmRQb3MgPCBpKSB7XG4gICAgICAgIC8vIGRpZG4ndCBzZWUgdGhlIGVuZCBvZiB0aGUgY2xhc3MsIG5vdCBhIHZhbGlkIGNsYXNzLFxuICAgICAgICAvLyBidXQgbWlnaHQgc3RpbGwgYmUgdmFsaWQgYXMgYSBsaXRlcmFsIG1hdGNoLlxuICAgICAgICByZXR1cm4gWycnLCBmYWxzZSwgMCwgZmFsc2VdO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBnb3Qgbm8gcmFuZ2VzIGFuZCBubyBuZWdhdGVzLCB0aGVuIHdlIGhhdmUgYSByYW5nZSB0aGF0XG4gICAgLy8gY2Fubm90IHBvc3NpYmx5IG1hdGNoIGFueXRoaW5nLCBhbmQgdGhhdCBwb2lzb25zIHRoZSB3aG9sZSBnbG9iXG4gICAgaWYgKCFyYW5nZXMubGVuZ3RoICYmICFuZWdzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gWyckLicsIGZhbHNlLCBnbG9iLmxlbmd0aCAtIHBvcywgdHJ1ZV07XG4gICAgfVxuICAgIC8vIGlmIHdlIGdvdCBvbmUgcG9zaXRpdmUgcmFuZ2UsIGFuZCBpdCdzIGEgc2luZ2xlIGNoYXJhY3RlciwgdGhlbiB0aGF0J3NcbiAgICAvLyBub3QgYWN0dWFsbHkgYSBtYWdpYyBwYXR0ZXJuLCBpdCdzIGp1c3QgdGhhdCBvbmUgbGl0ZXJhbCBjaGFyYWN0ZXIuXG4gICAgLy8gd2Ugc2hvdWxkIG5vdCB0cmVhdCB0aGF0IGFzIFwibWFnaWNcIiwgd2Ugc2hvdWxkIGp1c3QgcmV0dXJuIHRoZSBsaXRlcmFsXG4gICAgLy8gY2hhcmFjdGVyLiBbX10gaXMgYSBwZXJmZWN0bHkgdmFsaWQgd2F5IHRvIGVzY2FwZSBnbG9iIG1hZ2ljIGNoYXJzLlxuICAgIGlmIChuZWdzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICByYW5nZXMubGVuZ3RoID09PSAxICYmXG4gICAgICAgIC9eXFxcXD8uJC8udGVzdChyYW5nZXNbMF0pICYmXG4gICAgICAgICFuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgciA9IHJhbmdlc1swXS5sZW5ndGggPT09IDIgPyByYW5nZXNbMF0uc2xpY2UoLTEpIDogcmFuZ2VzWzBdO1xuICAgICAgICByZXR1cm4gW3JlZ2V4cEVzY2FwZShyKSwgZmFsc2UsIGVuZFBvcyAtIHBvcywgZmFsc2VdO1xuICAgIH1cbiAgICBjb25zdCBzcmFuZ2VzID0gJ1snICsgKG5lZ2F0ZSA/ICdeJyA6ICcnKSArIHJhbmdlc1RvU3RyaW5nKHJhbmdlcykgKyAnXSc7XG4gICAgY29uc3Qgc25lZ3MgPSAnWycgKyAobmVnYXRlID8gJycgOiAnXicpICsgcmFuZ2VzVG9TdHJpbmcobmVncykgKyAnXSc7XG4gICAgY29uc3QgY29tYiA9IHJhbmdlcy5sZW5ndGggJiYgbmVncy5sZW5ndGhcbiAgICAgICAgPyAnKCcgKyBzcmFuZ2VzICsgJ3wnICsgc25lZ3MgKyAnKSdcbiAgICAgICAgOiByYW5nZXMubGVuZ3RoXG4gICAgICAgICAgICA/IHNyYW5nZXNcbiAgICAgICAgICAgIDogc25lZ3M7XG4gICAgcmV0dXJuIFtjb21iLCB1ZmxhZywgZW5kUG9zIC0gcG9zLCB0cnVlXTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFjZS1leHByZXNzaW9ucy5qcy5tYXAiLCIvKipcbiAqIFVuLWVzY2FwZSBhIHN0cmluZyB0aGF0IGhhcyBiZWVuIGVzY2FwZWQgd2l0aCB7QGxpbmsgZXNjYXBlfS5cbiAqXG4gKiBJZiB0aGUge0BsaW5rIHdpbmRvd3NQYXRoc05vRXNjYXBlfSBvcHRpb24gaXMgdXNlZCwgdGhlbiBzcXVhcmUtYnJhY2VcbiAqIGVzY2FwZXMgYXJlIHJlbW92ZWQsIGJ1dCBub3QgYmFja3NsYXNoIGVzY2FwZXMuICBGb3IgZXhhbXBsZSwgaXQgd2lsbCB0dXJuXG4gKiB0aGUgc3RyaW5nIGAnWypdJ2AgaW50byBgKmAsIGJ1dCBpdCB3aWxsIG5vdCB0dXJuIGAnXFxcXConYCBpbnRvIGAnKidgLFxuICogYmVjdWFzZSBgXFxgIGlzIGEgcGF0aCBzZXBhcmF0b3IgaW4gYHdpbmRvd3NQYXRoc05vRXNjYXBlYCBtb2RlLlxuICpcbiAqIFdoZW4gYHdpbmRvd3NQYXRoc05vRXNjYXBlYCBpcyBub3Qgc2V0LCB0aGVuIGJvdGggYnJhY2UgZXNjYXBlcyBhbmRcbiAqIGJhY2tzbGFzaCBlc2NhcGVzIGFyZSByZW1vdmVkLlxuICpcbiAqIFNsYXNoZXMgKGFuZCBiYWNrc2xhc2hlcyBpbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIG1vZGUpIGNhbm5vdCBiZSBlc2NhcGVkXG4gKiBvciB1bmVzY2FwZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bmVzY2FwZSA9IChzLCB7IHdpbmRvd3NQYXRoc05vRXNjYXBlID0gZmFsc2UsIH0gPSB7fSkgPT4ge1xuICAgIHJldHVybiB3aW5kb3dzUGF0aHNOb0VzY2FwZVxuICAgICAgICA/IHMucmVwbGFjZSgvXFxbKFteXFwvXFxcXF0pXFxdL2csICckMScpXG4gICAgICAgIDogcy5yZXBsYWNlKC8oKD8hXFxcXCkufF4pXFxbKFteXFwvXFxcXF0pXFxdL2csICckMSQyJykucmVwbGFjZSgvXFxcXChbXlxcL10pL2csICckMScpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZXNjYXBlLmpzLm1hcCIsIi8vIHBhcnNlIGEgc2luZ2xlIHBhdGggcG9ydGlvblxuaW1wb3J0IHsgcGFyc2VDbGFzcyB9IGZyb20gJy4vYnJhY2UtZXhwcmVzc2lvbnMuanMnO1xuaW1wb3J0IHsgdW5lc2NhcGUgfSBmcm9tICcuL3VuZXNjYXBlLmpzJztcbmNvbnN0IHR5cGVzID0gbmV3IFNldChbJyEnLCAnPycsICcrJywgJyonLCAnQCddKTtcbmNvbnN0IGlzRXh0Z2xvYlR5cGUgPSAoYykgPT4gdHlwZXMuaGFzKGMpO1xuLy8gUGF0dGVybnMgdGhhdCBnZXQgcHJlcGVuZGVkIHRvIGJpbmQgdG8gdGhlIHN0YXJ0IG9mIGVpdGhlciB0aGVcbi8vIGVudGlyZSBzdHJpbmcsIG9yIGp1c3QgYSBzaW5nbGUgcGF0aCBwb3J0aW9uLCB0byBwcmV2ZW50IGRvdHNcbi8vIGFuZC9vciB0cmF2ZXJzYWwgcGF0dGVybnMsIHdoZW4gbmVlZGVkLlxuLy8gRXh0cyBkb24ndCBuZWVkIHRoZSBeIG9yIC8gYml0LCBiZWNhdXNlIHRoZSByb290IGJpbmRzIHRoYXQgYWxyZWFkeS5cbmNvbnN0IHN0YXJ0Tm9UcmF2ZXJzYWwgPSAnKD8hKD86XnwvKVxcXFwuXFxcXC4/KD86JHwvKSknO1xuY29uc3Qgc3RhcnROb0RvdCA9ICcoPyFcXFxcLiknO1xuLy8gY2hhcmFjdGVycyB0aGF0IGluZGljYXRlIGEgc3RhcnQgb2YgcGF0dGVybiBuZWVkcyB0aGUgXCJubyBkb3RzXCIgYml0LFxuLy8gYmVjYXVzZSBhIGRvdCAqbWlnaHQqIGJlIG1hdGNoZWQuICggaXMgbm90IGluIHRoZSBsaXN0LCBiZWNhdXNlIGluXG4vLyB0aGUgY2FzZSBvZiBhIGNoaWxkIGV4dGdsb2IsIGl0IHdpbGwgaGFuZGxlIHRoZSBwcmV2ZW50aW9uIGl0c2VsZi5cbmNvbnN0IGFkZFBhdHRlcm5TdGFydCA9IG5ldyBTZXQoWydbJywgJy4nXSk7XG4vLyBjYXNlcyB3aGVyZSB0cmF2ZXJzYWwgaXMgQS1PSywgbm8gZG90IHByZXZlbnRpb24gbmVlZGVkXG5jb25zdCBqdXN0RG90cyA9IG5ldyBTZXQoWycuLicsICcuJ10pO1xuY29uc3QgcmVTcGVjaWFscyA9IG5ldyBTZXQoJygpLip7fSs/W11eJFxcXFwhJyk7XG5jb25zdCByZWdFeHBFc2NhcGUgPSAocykgPT4gcy5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuLy8gYW55IHNpbmdsZSB0aGluZyBvdGhlciB0aGFuIC9cbmNvbnN0IHFtYXJrID0gJ1teL10nO1xuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbmNvbnN0IHN0YXIgPSBxbWFyayArICcqPyc7XG4vLyB1c2UgKyB3aGVuIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgKnNvbWV0aGluZyogbWF0Y2hlcywgYmVjYXVzZSB0aGUgKiBpc1xuLy8gdGhlIG9ubHkgdGhpbmcgaW4gdGhlIHBhdGggcG9ydGlvbi5cbmNvbnN0IHN0YXJOb0VtcHR5ID0gcW1hcmsgKyAnKz8nO1xuLy8gcmVtb3ZlIHRoZSBcXCBjaGFycyB0aGF0IHdlIGFkZGVkIGlmIHdlIGVuZCB1cCBkb2luZyBhIG5vbm1hZ2ljIGNvbXBhcmVcbi8vIGNvbnN0IGRlc2xhc2ggPSAoczogc3RyaW5nKSA9PiBzLnJlcGxhY2UoL1xcXFwoLikvZywgJyQxJylcbmV4cG9ydCBjbGFzcyBBU1Qge1xuICAgIHR5cGU7XG4gICAgI3Jvb3Q7XG4gICAgI2hhc01hZ2ljO1xuICAgICN1ZmxhZyA9IGZhbHNlO1xuICAgICNwYXJ0cyA9IFtdO1xuICAgICNwYXJlbnQ7XG4gICAgI3BhcmVudEluZGV4O1xuICAgICNuZWdzO1xuICAgICNmaWxsZWROZWdzID0gZmFsc2U7XG4gICAgI29wdGlvbnM7XG4gICAgI3RvU3RyaW5nO1xuICAgIC8vIHNldCB0byB0cnVlIGlmIGl0J3MgYW4gZXh0Z2xvYiB3aXRoIG5vIGNoaWxkcmVuXG4gICAgLy8gKHdoaWNoIHJlYWxseSBtZWFucyBvbmUgY2hpbGQgb2YgJycpXG4gICAgI2VtcHR5RXh0ID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3IodHlwZSwgcGFyZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgLy8gZXh0Z2xvYnMgYXJlIGluaGVyZW50bHkgbWFnaWNhbFxuICAgICAgICBpZiAodHlwZSlcbiAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4jcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLiNyb290ID0gdGhpcy4jcGFyZW50ID8gdGhpcy4jcGFyZW50LiNyb290IDogdGhpcztcbiAgICAgICAgdGhpcy4jb3B0aW9ucyA9IHRoaXMuI3Jvb3QgPT09IHRoaXMgPyBvcHRpb25zIDogdGhpcy4jcm9vdC4jb3B0aW9ucztcbiAgICAgICAgdGhpcy4jbmVncyA9IHRoaXMuI3Jvb3QgPT09IHRoaXMgPyBbXSA6IHRoaXMuI3Jvb3QuI25lZ3M7XG4gICAgICAgIGlmICh0eXBlID09PSAnIScgJiYgIXRoaXMuI3Jvb3QuI2ZpbGxlZE5lZ3MpXG4gICAgICAgICAgICB0aGlzLiNuZWdzLnB1c2godGhpcyk7XG4gICAgICAgIHRoaXMuI3BhcmVudEluZGV4ID0gdGhpcy4jcGFyZW50ID8gdGhpcy4jcGFyZW50LiNwYXJ0cy5sZW5ndGggOiAwO1xuICAgIH1cbiAgICBnZXQgaGFzTWFnaWMoKSB7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBpZiAodGhpcy4jaGFzTWFnaWMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNoYXNNYWdpYztcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgZm9yIChjb25zdCBwIG9mIHRoaXMuI3BhcnRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHAudHlwZSB8fCBwLmhhc01hZ2ljKVxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy4jaGFzTWFnaWMgPSB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RlOiB3aWxsIGJlIHVuZGVmaW5lZCB1bnRpbCB3ZSBnZW5lcmF0ZSB0aGUgcmVnZXhwIHNyYyBhbmQgZmluZCBvdXRcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhc01hZ2ljO1xuICAgIH1cbiAgICAvLyByZWNvbnN0cnVjdHMgdGhlIHBhdHRlcm5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuI3RvU3RyaW5nICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jdG9TdHJpbmc7XG4gICAgICAgIGlmICghdGhpcy50eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuI3RvU3RyaW5nID0gdGhpcy4jcGFydHMubWFwKHAgPT4gU3RyaW5nKHApKS5qb2luKCcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuI3RvU3RyaW5nID1cbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgKyAnKCcgKyB0aGlzLiNwYXJ0cy5tYXAocCA9PiBTdHJpbmcocCkpLmpvaW4oJ3wnKSArICcpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI2ZpbGxOZWdzKCkge1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgaWYgKHRoaXMgIT09IHRoaXMuI3Jvb3QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Nob3VsZCBvbmx5IGNhbGwgb24gcm9vdCcpO1xuICAgICAgICBpZiAodGhpcy4jZmlsbGVkTmVncylcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAvLyBjYWxsIHRvU3RyaW5nKCkgb25jZSB0byBmaWxsIHRoaXMgb3V0XG4gICAgICAgIHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy4jZmlsbGVkTmVncyA9IHRydWU7XG4gICAgICAgIGxldCBuO1xuICAgICAgICB3aGlsZSAoKG4gPSB0aGlzLiNuZWdzLnBvcCgpKSkge1xuICAgICAgICAgICAgaWYgKG4udHlwZSAhPT0gJyEnKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gd2FsayB1cCB0aGUgdHJlZSwgYXBwZW5kaW5nIGV2ZXJ0aGluZyB0aGF0IGNvbWVzIEFGVEVSIHBhcmVudEluZGV4XG4gICAgICAgICAgICBsZXQgcCA9IG47XG4gICAgICAgICAgICBsZXQgcHAgPSBwLiNwYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocHApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcC4jcGFyZW50SW5kZXggKyAxOyAhcHAudHlwZSAmJiBpIDwgcHAuI3BhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBuLiNwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgcGFydCBpbiBleHRnbG9iIEFTVD8/Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5jb3B5SW4ocHAuI3BhcnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwID0gcHA7XG4gICAgICAgICAgICAgICAgcHAgPSBwLiNwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHB1c2goLi4ucGFydHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIHBhcnRzKSB7XG4gICAgICAgICAgICBpZiAocCA9PT0gJycpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycgJiYgIShwIGluc3RhbmNlb2YgQVNUICYmIHAuI3BhcmVudCA9PT0gdGhpcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcGFydDogJyArIHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIHRoaXMuI3BhcnRzLnB1c2gocCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCByZXQgPSB0aGlzLnR5cGUgPT09IG51bGxcbiAgICAgICAgICAgID8gdGhpcy4jcGFydHMuc2xpY2UoKS5tYXAocCA9PiAodHlwZW9mIHAgPT09ICdzdHJpbmcnID8gcCA6IHAudG9KU09OKCkpKVxuICAgICAgICAgICAgOiBbdGhpcy50eXBlLCAuLi50aGlzLiNwYXJ0cy5tYXAocCA9PiBwLnRvSlNPTigpKV07XG4gICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSAmJiAhdGhpcy50eXBlKVxuICAgICAgICAgICAgcmV0LnVuc2hpZnQoW10pO1xuICAgICAgICBpZiAodGhpcy5pc0VuZCgpICYmXG4gICAgICAgICAgICAodGhpcyA9PT0gdGhpcy4jcm9vdCB8fFxuICAgICAgICAgICAgICAgICh0aGlzLiNyb290LiNmaWxsZWROZWdzICYmIHRoaXMuI3BhcmVudD8udHlwZSA9PT0gJyEnKSkpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBpc1N0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy4jcm9vdCA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBpZiAodGhpcy50eXBlKSByZXR1cm4gISF0aGlzLiNwYXJlbnQ/LmlzU3RhcnQoKVxuICAgICAgICBpZiAoIXRoaXMuI3BhcmVudD8uaXNTdGFydCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy4jcGFyZW50SW5kZXggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gaWYgZXZlcnl0aGluZyBBSEVBRCBvZiB0aGlzIGlzIGEgbmVnYXRpb24sIHRoZW4gaXQncyBzdGlsbCB0aGUgXCJzdGFydFwiXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLiNwYXJlbnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jcGFyZW50SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHAgPSBwLiNwYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmICghKHBwIGluc3RhbmNlb2YgQVNUICYmIHBwLnR5cGUgPT09ICchJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlzRW5kKCkge1xuICAgICAgICBpZiAodGhpcy4jcm9vdCA9PT0gdGhpcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy4jcGFyZW50Py50eXBlID09PSAnIScpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLiNwYXJlbnQ/LmlzRW5kKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy50eXBlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3BhcmVudD8uaXNFbmQoKTtcbiAgICAgICAgLy8gaWYgbm90IHJvb3QsIGl0J2xsIGFsd2F5cyBoYXZlIGEgcGFyZW50XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBjb25zdCBwbCA9IHRoaXMuI3BhcmVudCA/IHRoaXMuI3BhcmVudC4jcGFydHMubGVuZ3RoIDogMDtcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMuI3BhcmVudEluZGV4ID09PSBwbCAtIDE7XG4gICAgfVxuICAgIGNvcHlJbihwYXJ0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICB0aGlzLnB1c2gocGFydCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucHVzaChwYXJ0LmNsb25lKHRoaXMpKTtcbiAgICB9XG4gICAgY2xvbmUocGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGMgPSBuZXcgQVNUKHRoaXMudHlwZSwgcGFyZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIHRoaXMuI3BhcnRzKSB7XG4gICAgICAgICAgICBjLmNvcHlJbihwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgc3RhdGljICNwYXJzZUFTVChzdHIsIGFzdCwgcG9zLCBvcHQpIHtcbiAgICAgICAgbGV0IGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBpbkJyYWNlID0gZmFsc2U7XG4gICAgICAgIGxldCBicmFjZVN0YXJ0ID0gLTE7XG4gICAgICAgIGxldCBicmFjZU5lZyA9IGZhbHNlO1xuICAgICAgICBpZiAoYXN0LnR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG91dHNpZGUgb2YgYSBleHRnbG9iLCBhcHBlbmQgdW50aWwgd2UgZmluZCBhIHN0YXJ0XG4gICAgICAgICAgICBsZXQgaSA9IHBvcztcbiAgICAgICAgICAgIGxldCBhY2MgPSAnJztcbiAgICAgICAgICAgIHdoaWxlIChpIDwgc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkrKyk7XG4gICAgICAgICAgICAgICAgLy8gc3RpbGwgYWNjdW11bGF0ZSBlc2NhcGVzIGF0IHRoaXMgcG9pbnQsIGJ1dCB3ZSBkbyBpZ25vcmVcbiAgICAgICAgICAgICAgICAvLyBzdGFydHMgdGhhdCBhcmUgZXNjYXBlZFxuICAgICAgICAgICAgICAgIGlmIChlc2NhcGluZyB8fCBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBpbmcgPSAhZXNjYXBpbmc7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluQnJhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGJyYWNlU3RhcnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ14nIHx8IGMgPT09ICchJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWNlTmVnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAnXScgJiYgIShpID09PSBicmFjZVN0YXJ0ICsgMiAmJiBicmFjZU5lZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICdbJykge1xuICAgICAgICAgICAgICAgICAgICBpbkJyYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJhY2VTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyYWNlTmVnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvcHQubm9leHQgJiYgaXNFeHRnbG9iVHlwZShjKSAmJiBzdHIuY2hhckF0KGkpID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IG5ldyBBU1QoYywgYXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IEFTVC4jcGFyc2VBU1Qoc3RyLCBleHQsIGksIG9wdCk7XG4gICAgICAgICAgICAgICAgICAgIGFzdC5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzdC5wdXNoKGFjYyk7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzb21lIGtpbmQgb2YgZXh0Z2xvYiwgcG9zIGlzIGF0IHRoZSAoXG4gICAgICAgIC8vIGZpbmQgdGhlIG5leHQgfCBvciApXG4gICAgICAgIGxldCBpID0gcG9zICsgMTtcbiAgICAgICAgbGV0IHBhcnQgPSBuZXcgQVNUKG51bGwsIGFzdCk7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgICAgIGxldCBhY2MgPSAnJztcbiAgICAgICAgd2hpbGUgKGkgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKyspO1xuICAgICAgICAgICAgLy8gc3RpbGwgYWNjdW11bGF0ZSBlc2NhcGVzIGF0IHRoaXMgcG9pbnQsIGJ1dCB3ZSBkbyBpZ25vcmVcbiAgICAgICAgICAgIC8vIHN0YXJ0cyB0aGF0IGFyZSBlc2NhcGVkXG4gICAgICAgICAgICBpZiAoZXNjYXBpbmcgfHwgYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBpbmcgPSAhZXNjYXBpbmc7XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5CcmFjZSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBicmFjZVN0YXJ0ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ14nIHx8IGMgPT09ICchJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICddJyAmJiAhKGkgPT09IGJyYWNlU3RhcnQgKyAyICYmIGJyYWNlTmVnKSkge1xuICAgICAgICAgICAgICAgICAgICBpbkJyYWNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgaW5CcmFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJhY2VTdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgYnJhY2VOZWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0V4dGdsb2JUeXBlKGMpICYmIHN0ci5jaGFyQXQoaSkgPT09ICcoJykge1xuICAgICAgICAgICAgICAgIHBhcnQucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IG5ldyBBU1QoYywgcGFydCk7XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgaSA9IEFTVC4jcGFyc2VBU1Qoc3RyLCBleHQsIGksIG9wdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ3wnKSB7XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IEFTVChudWxsLCBhc3QpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgICAgIGlmIChhY2MgPT09ICcnICYmIGFzdC4jcGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzdC4jZW1wdHlFeHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICBhc3QucHVzaCguLi5wYXJ0cywgcGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgfVxuICAgICAgICAvLyB1bmZpbmlzaGVkIGV4dGdsb2JcbiAgICAgICAgLy8gaWYgd2UgZ290IGhlcmUsIGl0IHdhcyBhIG1hbGZvcm1lZCBleHRnbG9iISBub3QgYW4gZXh0Z2xvYiwgYnV0XG4gICAgICAgIC8vIG1heWJlIHNvbWV0aGluZyBlbHNlIGluIHRoZXJlLlxuICAgICAgICBhc3QudHlwZSA9IG51bGw7XG4gICAgICAgIGFzdC4jaGFzTWFnaWMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGFzdC4jcGFydHMgPSBbc3RyLnN1YnN0cmluZyhwb3MgLSAxKV07XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUdsb2IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGFzdCA9IG5ldyBBU1QobnVsbCwgdW5kZWZpbmVkLCBvcHRpb25zKTtcbiAgICAgICAgQVNULiNwYXJzZUFTVChwYXR0ZXJuLCBhc3QsIDAsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH1cbiAgICAvLyByZXR1cm5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gaWYgdGhlcmUncyBtYWdpYywgb3IgdGhlIHVuZXNjYXBlZFxuICAgIC8vIHN0cmluZyBpZiBub3QuXG4gICAgdG9NTVBhdHRlcm4oKSB7XG4gICAgICAgIC8vIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiByb290XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBpZiAodGhpcyAhPT0gdGhpcy4jcm9vdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNyb290LnRvTU1QYXR0ZXJuKCk7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIGNvbnN0IGdsb2IgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IFtyZSwgYm9keSwgaGFzTWFnaWMsIHVmbGFnXSA9IHRoaXMudG9SZWdFeHBTb3VyY2UoKTtcbiAgICAgICAgLy8gaWYgd2UncmUgaW4gbm9jYXNlIG1vZGUsIGFuZCBub3Qgbm9jYXNlTWFnaWNPbmx5LCB0aGVuIHdlIGRvXG4gICAgICAgIC8vIHN0aWxsIG5lZWQgYSByZWd1bGFyIGV4cHJlc3Npb24gaWYgd2UgaGF2ZSB0byBjYXNlLWluc2Vuc2l0aXZlbHlcbiAgICAgICAgLy8gbWF0Y2ggY2FwaXRhbC9sb3dlcmNhc2UgY2hhcmFjdGVycy5cbiAgICAgICAgY29uc3QgYW55TWFnaWMgPSBoYXNNYWdpYyB8fFxuICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgfHxcbiAgICAgICAgICAgICh0aGlzLiNvcHRpb25zLm5vY2FzZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLiNvcHRpb25zLm5vY2FzZU1hZ2ljT25seSAmJlxuICAgICAgICAgICAgICAgIGdsb2IudG9VcHBlckNhc2UoKSAhPT0gZ2xvYi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKCFhbnlNYWdpYykge1xuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmxhZ3MgPSAodGhpcy4jb3B0aW9ucy5ub2Nhc2UgPyAnaScgOiAnJykgKyAodWZsYWcgPyAndScgOiAnJyk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBSZWdFeHAoYF4ke3JlfSRgLCBmbGFncyksIHtcbiAgICAgICAgICAgIF9zcmM6IHJlLFxuICAgICAgICAgICAgX2dsb2I6IGdsb2IsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI29wdGlvbnM7XG4gICAgfVxuICAgIC8vIHJldHVybnMgdGhlIHN0cmluZyBtYXRjaCwgdGhlIHJlZ2V4cCBzb3VyY2UsIHdoZXRoZXIgdGhlcmUncyBtYWdpY1xuICAgIC8vIGluIHRoZSByZWdleHAgKHNvIGEgcmVndWxhciBleHByZXNzaW9uIGlzIHJlcXVpcmVkKSBhbmQgd2hldGhlciBvclxuICAgIC8vIG5vdCB0aGUgdWZsYWcgaXMgbmVlZGVkIGZvciB0aGUgcmVndWxhciBleHByZXNzaW9uIChmb3IgcG9zaXggY2xhc3NlcylcbiAgICAvLyBUT0RPOiBpbnN0ZWFkIG9mIGluamVjdGluZyB0aGUgc3RhcnQvZW5kIGF0IHRoaXMgcG9pbnQsIGp1c3QgcmV0dXJuXG4gICAgLy8gdGhlIEJPRFkgb2YgdGhlIHJlZ2V4cCwgYWxvbmcgd2l0aCB0aGUgc3RhcnQvZW5kIHBvcnRpb25zIHN1aXRhYmxlXG4gICAgLy8gZm9yIGJpbmRpbmcgdGhlIHN0YXJ0L2VuZCBpbiBlaXRoZXIgYSBqb2luZWQgZnVsbC1wYXRoIG1ha2VSZSBjb250ZXh0XG4gICAgLy8gKHdoZXJlIHdlIGJpbmQgdG8gKF58LyksIG9yIGEgc3RhbmRhbG9uZSBtYXRjaFBhcnQgY29udGV4dCAod2hlcmVcbiAgICAvLyB3ZSBiaW5kIHRvIF4sIGFuZCBub3QgLykuICBPdGhlcndpc2Ugc2xhc2hlcyBnZXQgZHVwZWQhXG4gICAgLy9cbiAgICAvLyBJbiBwYXJ0LW1hdGNoaW5nIG1vZGUsIHRoZSBzdGFydCBpczpcbiAgICAvLyAtIGlmIG5vdCBpc1N0YXJ0OiBub3RoaW5nXG4gICAgLy8gLSBpZiB0cmF2ZXJzYWwgcG9zc2libGUsIGJ1dCBub3QgYWxsb3dlZDogXig/IVxcLlxcLj8kKVxuICAgIC8vIC0gaWYgZG90cyBhbGxvd2VkIG9yIG5vdCBwb3NzaWJsZTogXlxuICAgIC8vIC0gaWYgZG90cyBwb3NzaWJsZSBhbmQgbm90IGFsbG93ZWQ6IF4oPyFcXC4pXG4gICAgLy8gZW5kIGlzOlxuICAgIC8vIC0gaWYgbm90IGlzRW5kKCk6IG5vdGhpbmdcbiAgICAvLyAtIGVsc2U6ICRcbiAgICAvL1xuICAgIC8vIEluIGZ1bGwtcGF0aCBtYXRjaGluZyBtb2RlLCB3ZSBwdXQgdGhlIHNsYXNoIGF0IHRoZSBTVEFSVCBvZiB0aGVcbiAgICAvLyBwYXR0ZXJuLCBzbyBzdGFydCBpczpcbiAgICAvLyAtIGlmIGZpcnN0IHBhdHRlcm46IHNhbWUgYXMgcGFydC1tYXRjaGluZyBtb2RlXG4gICAgLy8gLSBpZiBub3QgaXNTdGFydCgpOiBub3RoaW5nXG4gICAgLy8gLSBpZiB0cmF2ZXJzYWwgcG9zc2libGUsIGJ1dCBub3QgYWxsb3dlZDogLyg/IVxcLlxcLj8oPzokfC8pKVxuICAgIC8vIC0gaWYgZG90cyBhbGxvd2VkIG9yIG5vdCBwb3NzaWJsZTogL1xuICAgIC8vIC0gaWYgZG90cyBwb3NzaWJsZSBhbmQgbm90IGFsbG93ZWQ6IC8oPyFcXC4pXG4gICAgLy8gZW5kIGlzOlxuICAgIC8vIC0gaWYgbGFzdCBwYXR0ZXJuLCBzYW1lIGFzIHBhcnQtbWF0Y2hpbmcgbW9kZVxuICAgIC8vIC0gZWxzZSBub3RoaW5nXG4gICAgLy9cbiAgICAvLyBBbHdheXMgcHV0IHRoZSAoPzokfC8pIG9uIG5lZ2F0ZWQgdGFpbHMsIHRob3VnaCwgYmVjYXVzZSB0aGF0IGhhcyB0byBiZVxuICAgIC8vIHRoZXJlIHRvIGJpbmQgdGhlIGVuZCBvZiB0aGUgbmVnYXRlZCBwYXR0ZXJuIHBvcnRpb24sIGFuZCBpdCdzIGVhc2llciB0b1xuICAgIC8vIGp1c3Qgc3RpY2sgaXQgaW4gbm93IHJhdGhlciB0aGFuIHRyeSB0byBpbmplY3QgaXQgbGF0ZXIgaW4gdGhlIG1pZGRsZSBvZlxuICAgIC8vIHRoZSBwYXR0ZXJuLlxuICAgIC8vXG4gICAgLy8gV2UgY2FuIGp1c3QgYWx3YXlzIHJldHVybiB0aGUgc2FtZSBlbmQsIGFuZCBsZWF2ZSBpdCB1cCB0byB0aGUgY2FsbGVyXG4gICAgLy8gdG8ga25vdyB3aGV0aGVyIGl0J3MgZ29pbmcgdG8gYmUgdXNlZCBqb2luZWQgb3IgaW4gcGFydHMuXG4gICAgLy8gQW5kLCBpZiB0aGUgc3RhcnQgaXMgYWRqdXN0ZWQgc2xpZ2h0bHksIGNhbiBkbyB0aGUgc2FtZSB0aGVyZTpcbiAgICAvLyAtIGlmIG5vdCBpc1N0YXJ0OiBub3RoaW5nXG4gICAgLy8gLSBpZiB0cmF2ZXJzYWwgcG9zc2libGUsIGJ1dCBub3QgYWxsb3dlZDogKD86L3xeKSg/IVxcLlxcLj8kKVxuICAgIC8vIC0gaWYgZG90cyBhbGxvd2VkIG9yIG5vdCBwb3NzaWJsZTogKD86L3xeKVxuICAgIC8vIC0gaWYgZG90cyBwb3NzaWJsZSBhbmQgbm90IGFsbG93ZWQ6ICg/Oi98XikoPyFcXC4pXG4gICAgLy9cbiAgICAvLyBCdXQgaXQncyBiZXR0ZXIgdG8gaGF2ZSBhIHNpbXBsZXIgYmluZGluZyB3aXRob3V0IGEgY29uZGl0aW9uYWwsIGZvclxuICAgIC8vIHBlcmZvcm1hbmNlLCBzbyBwcm9iYWJseSBiZXR0ZXIgdG8gcmV0dXJuIGJvdGggc3RhcnQgb3B0aW9ucy5cbiAgICAvL1xuICAgIC8vIFRoZW4gdGhlIGNhbGxlciBqdXN0IGlnbm9yZXMgdGhlIGVuZCBpZiBpdCdzIG5vdCB0aGUgZmlyc3QgcGF0dGVybixcbiAgICAvLyBhbmQgdGhlIHN0YXJ0IGFsd2F5cyBnZXRzIGFwcGxpZWQuXG4gICAgLy9cbiAgICAvLyBCdXQgdGhhdCdzIGFsd2F5cyBnb2luZyB0byBiZSAkIGlmIGl0J3MgdGhlIGVuZGluZyBwYXR0ZXJuLCBvciBub3RoaW5nLFxuICAgIC8vIHNvIHRoZSBjYWxsZXIgY2FuIGp1c3QgYXR0YWNoICQgYXQgdGhlIGVuZCBvZiB0aGUgcGF0dGVybiB3aGVuIGJ1aWxkaW5nLlxuICAgIC8vXG4gICAgLy8gU28gdGhlIHRvZG8gaXM6XG4gICAgLy8gLSBiZXR0ZXIgZGV0ZWN0IHdoYXQga2luZCBvZiBzdGFydCBpcyBuZWVkZWRcbiAgICAvLyAtIHJldHVybiBib3RoIGZsYXZvcnMgb2Ygc3RhcnRpbmcgcGF0dGVyblxuICAgIC8vIC0gYXR0YWNoICQgYXQgdGhlIGVuZCBvZiB0aGUgcGF0dGVybiB3aGVuIGNyZWF0aW5nIHRoZSBhY3R1YWwgUmVnRXhwXG4gICAgLy9cbiAgICAvLyBBaCwgYnV0IHdhaXQsIG5vLCB0aGF0IGFsbCBvbmx5IGFwcGxpZXMgdG8gdGhlIHJvb3Qgd2hlbiB0aGUgZmlyc3QgcGF0dGVyblxuICAgIC8vIGlzIG5vdCBhbiBleHRnbG9iLiBJZiB0aGUgZmlyc3QgcGF0dGVybiBJUyBhbiBleHRnbG9iLCB0aGVuIHdlIG5lZWQgYWxsXG4gICAgLy8gdGhhdCBkb3QgcHJldmVudGlvbiBiaXogdG8gbGl2ZSBpbiB0aGUgZXh0Z2xvYiBwb3J0aW9ucywgYmVjYXVzZSBlZ1xuICAgIC8vICsoKnwueCopIGNhbiBtYXRjaCAueHkgYnV0IG5vdCAueXguXG4gICAgLy9cbiAgICAvLyBTbywgcmV0dXJuIHRoZSB0d28gZmxhdm9ycyBpZiBpdCdzICNyb290IGFuZCB0aGUgZmlyc3QgY2hpbGQgaXMgbm90IGFuXG4gICAgLy8gQVNULCBvdGhlcndpc2UgbGVhdmUgaXQgdG8gdGhlIGNoaWxkIEFTVCB0byBoYW5kbGUgaXQsIGFuZCB0aGVyZSxcbiAgICAvLyB1c2UgdGhlICg/Ol58Lykgc3R5bGUgb2Ygc3RhcnQgYmluZGluZy5cbiAgICAvL1xuICAgIC8vIEV2ZW4gc2ltcGxpZmllZCBmdXJ0aGVyOlxuICAgIC8vIC0gU2luY2UgdGhlIHN0YXJ0IGZvciBhIGpvaW4gaXMgZWcgLyg/IVxcLikgYW5kIHRoZSBzdGFydCBmb3IgYSBwYXJ0XG4gICAgLy8gaXMgXig/IVxcLiksIHdlIGNhbiBqdXN0IHByZXBlbmQgKD8hXFwuKSB0byB0aGUgcGF0dGVybiAoZWl0aGVyIHJvb3RcbiAgICAvLyBvciBzdGFydCBvciB3aGF0ZXZlcikgYW5kIHByZXBlbmQgXiBvciAvIGF0IHRoZSBSZWdleHAgY29uc3RydWN0aW9uLlxuICAgIHRvUmVnRXhwU291cmNlKGFsbG93RG90KSB7XG4gICAgICAgIGNvbnN0IGRvdCA9IGFsbG93RG90ID8/ICEhdGhpcy4jb3B0aW9ucy5kb3Q7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgdGhpcy4jZmlsbE5lZ3MoKTtcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vRW1wdHkgPSB0aGlzLmlzU3RhcnQoKSAmJiB0aGlzLmlzRW5kKCk7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLiNwYXJ0c1xuICAgICAgICAgICAgICAgIC5tYXAocCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3JlLCBfLCBoYXNNYWdpYywgdWZsYWddID0gdHlwZW9mIHAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gQVNULiNwYXJzZUdsb2IocCwgdGhpcy4jaGFzTWFnaWMsIG5vRW1wdHkpXG4gICAgICAgICAgICAgICAgICAgIDogcC50b1JlZ0V4cFNvdXJjZShhbGxvd0RvdCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgPSB0aGlzLiNoYXNNYWdpYyB8fCBoYXNNYWdpYztcbiAgICAgICAgICAgICAgICB0aGlzLiN1ZmxhZyA9IHRoaXMuI3VmbGFnIHx8IHVmbGFnO1xuICAgICAgICAgICAgICAgIHJldHVybiByZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gJyc7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuI3BhcnRzWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzdHJpbmcgdGhhdCB3aWxsIG1hdGNoIHRoZSBzdGFydCBvZiB0aGUgcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBwcm90ZWN0IGFnYWluc3QgZG90cyBhbmQgc3VjaC5cbiAgICAgICAgICAgICAgICAgICAgLy8gJy4nIGFuZCAnLi4nIGNhbm5vdCBtYXRjaCB1bmxlc3MgdGhlIHBhdHRlcm4gaXMgdGhhdCBleGFjdGx5LFxuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIGlmIGl0IHN0YXJ0cyB3aXRoIC4gb3IgZG90OnRydWUgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3RUcmF2QWxsb3dlZCA9IHRoaXMuI3BhcnRzLmxlbmd0aCA9PT0gMSAmJiBqdXN0RG90cy5oYXModGhpcy4jcGFydHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvdFRyYXZBbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHMgPSBhZGRQYXR0ZXJuU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgcG9zc2liaWxpdHkgb2YgbWF0Y2hpbmcgLiBvciAuLixcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBwcmV2ZW50IHRoYXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkTm9UcmF2ID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb3RzIGFyZSBhbGxvd2VkLCBhbmQgdGhlIHBhdHRlcm4gc3RhcnRzIHdpdGggWyBvciAuXG4gICAgICAgICAgICAgICAgICAgICAgICAoZG90ICYmIGFwcy5oYXMoc3JjLmNoYXJBdCgwKSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBhdHRlcm4gc3RhcnRzIHdpdGggXFwuLCBhbmQgdGhlbiBbIG9yIC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3JjLnN0YXJ0c1dpdGgoJ1xcXFwuJykgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDIpKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBcXC5cXC4sIGFuZCB0aGVuIFsgb3IgLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcmMuc3RhcnRzV2l0aCgnXFxcXC5cXFxcLicpICYmIGFwcy5oYXMoc3JjLmNoYXJBdCg0KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBwcmV2ZW50IGRvdHMgaWYgaXQgY2FuJ3QgbWF0Y2ggYSBkb3QsIG9yIGlmIGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1Yi1wYXR0ZXJuIHdpbGwgYmUgcHJldmVudGluZyBpdCBhbnl3YXkuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkTm9Eb3QgPSAhZG90ICYmICFhbGxvd0RvdCAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBuZWVkTm9UcmF2ID8gc3RhcnROb1RyYXZlcnNhbCA6IG5lZWROb0RvdCA/IHN0YXJ0Tm9Eb3QgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFwcGVuZCB0aGUgXCJlbmQgb2YgcGF0aCBwb3J0aW9uXCIgcGF0dGVybiB0byBuZWdhdGlvbiB0YWlsc1xuICAgICAgICAgICAgbGV0IGVuZCA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQoKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuI3Jvb3QuI2ZpbGxlZE5lZ3MgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiNwYXJlbnQ/LnR5cGUgPT09ICchJykge1xuICAgICAgICAgICAgICAgIGVuZCA9ICcoPzokfFxcXFwvKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5hbCA9IHN0YXJ0ICsgc3JjICsgZW5kO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBmaW5hbCxcbiAgICAgICAgICAgICAgICB1bmVzY2FwZShzcmMpLFxuICAgICAgICAgICAgICAgICh0aGlzLiNoYXNNYWdpYyA9ICEhdGhpcy4jaGFzTWFnaWMpLFxuICAgICAgICAgICAgICAgIHRoaXMuI3VmbGFnLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgYm9keSAqdHdpY2UqIGlmIGl0J3MgYSByZXBlYXQgcGF0dGVyblxuICAgICAgICAvLyBhdCB0aGUgc3RhcnQsIG9uY2UgaW4gbm9kb3QgbW9kZSwgdGhlbiBhZ2FpbiBpbiBkb3QgbW9kZSwgc28gYVxuICAgICAgICAvLyBwYXR0ZXJuIGxpa2UgKig/KSBjYW4gbWF0Y2ggJ3gueSdcbiAgICAgICAgY29uc3QgcmVwZWF0ZWQgPSB0aGlzLnR5cGUgPT09ICcqJyB8fCB0aGlzLnR5cGUgPT09ICcrJztcbiAgICAgICAgLy8gc29tZSBraW5kIG9mIGV4dGdsb2JcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnR5cGUgPT09ICchJyA/ICcoPzooPyEoPzonIDogJyg/Oic7XG4gICAgICAgIGxldCBib2R5ID0gdGhpcy4jcGFydHNUb1JlZ0V4cChkb3QpO1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KCkgJiYgdGhpcy5pc0VuZCgpICYmICFib2R5ICYmIHRoaXMudHlwZSAhPT0gJyEnKSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIGV4dGdsb2IsIGhhcyB0byBhdCBsZWFzdCBiZSAqc29tZXRoaW5nKiBwcmVzZW50LCBpZiBpdCdzXG4gICAgICAgICAgICAvLyB0aGUgZW50aXJlIHBhdGggcG9ydGlvbi5cbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLiNwYXJ0cyA9IFtzXTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBbcywgdW5lc2NhcGUodGhpcy50b1N0cmluZygpKSwgZmFsc2UsIGZhbHNlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBYWFggYWJzdHJhY3Qgb3V0IHRoaXMgbWFwIG1ldGhvZFxuICAgICAgICBsZXQgYm9keURvdEFsbG93ZWQgPSAhcmVwZWF0ZWQgfHwgYWxsb3dEb3QgfHwgZG90IHx8ICFzdGFydE5vRG90XG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IHRoaXMuI3BhcnRzVG9SZWdFeHAodHJ1ZSk7XG4gICAgICAgIGlmIChib2R5RG90QWxsb3dlZCA9PT0gYm9keSkge1xuICAgICAgICAgICAgYm9keURvdEFsbG93ZWQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keURvdEFsbG93ZWQpIHtcbiAgICAgICAgICAgIGJvZHkgPSBgKD86JHtib2R5fSkoPzoke2JvZHlEb3RBbGxvd2VkfSkqP2A7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYW4gZW1wdHkgISgpIGlzIGV4YWN0bHkgZXF1aXZhbGVudCB0byBhIHN0YXJOb0VtcHR5XG4gICAgICAgIGxldCBmaW5hbCA9ICcnO1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnIScgJiYgdGhpcy4jZW1wdHlFeHQpIHtcbiAgICAgICAgICAgIGZpbmFsID0gKHRoaXMuaXNTdGFydCgpICYmICFkb3QgPyBzdGFydE5vRG90IDogJycpICsgc3Rhck5vRW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjbG9zZSA9IHRoaXMudHlwZSA9PT0gJyEnXG4gICAgICAgICAgICAgICAgPyAvLyAhKCkgbXVzdCBtYXRjaCBzb21ldGhpbmcsYnV0ICEoeCkgY2FuIG1hdGNoICcnXG4gICAgICAgICAgICAgICAgICAgICcpKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaXNTdGFydCgpICYmICFkb3QgJiYgIWFsbG93RG90ID8gc3RhcnROb0RvdCA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFyICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgPyAnKSdcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICc/J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnKT8nXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJysnICYmIGJvZHlEb3RBbGxvd2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJyonICYmIGJvZHlEb3RBbGxvd2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCk/YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGApJHt0aGlzLnR5cGV9YDtcbiAgICAgICAgICAgIGZpbmFsID0gc3RhcnQgKyBib2R5ICsgY2xvc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZpbmFsLFxuICAgICAgICAgICAgdW5lc2NhcGUoYm9keSksXG4gICAgICAgICAgICAodGhpcy4jaGFzTWFnaWMgPSAhIXRoaXMuI2hhc01hZ2ljKSxcbiAgICAgICAgICAgIHRoaXMuI3VmbGFnLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAjcGFydHNUb1JlZ0V4cChkb3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BhcnRzXG4gICAgICAgICAgICAubWFwKHAgPT4ge1xuICAgICAgICAgICAgLy8gZXh0Z2xvYiBBU1RzIHNob3VsZCBvbmx5IGNvbnRhaW4gcGFyZW50IEFTVHNcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIHR5cGUgaW4gZXh0Z2xvYiBhc3Q/PycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIC8vIGNhbiBpZ25vcmUgaGFzTWFnaWMsIGJlY2F1c2UgZXh0Z2xvYnMgYXJlIGFscmVhZHkgYWx3YXlzIG1hZ2ljXG4gICAgICAgICAgICBjb25zdCBbcmUsIF8sIF9oYXNNYWdpYywgdWZsYWddID0gcC50b1JlZ0V4cFNvdXJjZShkb3QpO1xuICAgICAgICAgICAgdGhpcy4jdWZsYWcgPSB0aGlzLiN1ZmxhZyB8fCB1ZmxhZztcbiAgICAgICAgICAgIHJldHVybiByZTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIocCA9PiAhKHRoaXMuaXNTdGFydCgpICYmIHRoaXMuaXNFbmQoKSkgfHwgISFwKVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICB9XG4gICAgc3RhdGljICNwYXJzZUdsb2IoZ2xvYiwgaGFzTWFnaWMsIG5vRW1wdHkgPSBmYWxzZSkge1xuICAgICAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJlID0gJyc7XG4gICAgICAgIGxldCB1ZmxhZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBnbG9iLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmIChlc2NhcGluZykge1xuICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmUgKz0gKHJlU3BlY2lhbHMuaGFzKGMpID8gJ1xcXFwnIDogJycpICsgYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gZ2xvYi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlICs9ICdcXFxcXFxcXCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdbJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtzcmMsIG5lZWRVZmxhZywgY29uc3VtZWQsIG1hZ2ljXSA9IHBhcnNlQ2xhc3MoZ2xvYiwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlICs9IHNyYztcbiAgICAgICAgICAgICAgICAgICAgdWZsYWcgPSB1ZmxhZyB8fCBuZWVkVWZsYWc7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gY29uc3VtZWQgLSAxO1xuICAgICAgICAgICAgICAgICAgICBoYXNNYWdpYyA9IGhhc01hZ2ljIHx8IG1hZ2ljO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vRW1wdHkgJiYgZ2xvYiA9PT0gJyonKVxuICAgICAgICAgICAgICAgICAgICByZSArPSBzdGFyTm9FbXB0eTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlICs9IHN0YXI7XG4gICAgICAgICAgICAgICAgaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgICAgIHJlICs9IHFtYXJrO1xuICAgICAgICAgICAgICAgIGhhc01hZ2ljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlICs9IHJlZ0V4cEVzY2FwZShjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3JlLCB1bmVzY2FwZShnbG9iKSwgISFoYXNNYWdpYywgdWZsYWddO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzdC5qcy5tYXAiLCIvKipcbiAqIEVzY2FwZSBhbGwgbWFnaWMgY2hhcmFjdGVycyBpbiBhIGdsb2IgcGF0dGVybi5cbiAqXG4gKiBJZiB0aGUge0BsaW5rIHdpbmRvd3NQYXRoc05vRXNjYXBlIHwgR2xvYk9wdGlvbnMud2luZG93c1BhdGhzTm9Fc2NhcGV9XG4gKiBvcHRpb24gaXMgdXNlZCwgdGhlbiBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkIGJ5IHdyYXBwaW5nIGluIGBbXWAsIGJlY2F1c2VcbiAqIGEgbWFnaWMgY2hhcmFjdGVyIHdyYXBwZWQgaW4gYSBjaGFyYWN0ZXIgY2xhc3MgY2FuIG9ubHkgYmUgc2F0aXNmaWVkIGJ5XG4gKiB0aGF0IGV4YWN0IGNoYXJhY3Rlci4gIEluIHRoaXMgbW9kZSwgYFxcYCBpcyBfbm90XyBlc2NhcGVkLCBiZWNhdXNlIGl0IGlzXG4gKiBub3QgaW50ZXJwcmV0ZWQgYXMgYSBtYWdpYyBjaGFyYWN0ZXIsIGJ1dCBpbnN0ZWFkIGFzIGEgcGF0aCBzZXBhcmF0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBlc2NhcGUgPSAocywgeyB3aW5kb3dzUGF0aHNOb0VzY2FwZSA9IGZhbHNlLCB9ID0ge30pID0+IHtcbiAgICAvLyBkb24ndCBuZWVkIHRvIGVzY2FwZSArQCEgYmVjYXVzZSB3ZSBlc2NhcGUgdGhlIHBhcmVuc1xuICAgIC8vIHRoYXQgbWFrZSB0aG9zZSBtYWdpYywgYW5kIGVzY2FwaW5nICEgYXMgWyFdIGlzbid0IHZhbGlkLFxuICAgIC8vIGJlY2F1c2UgWyFdXSBpcyBhIHZhbGlkIGdsb2IgY2xhc3MgbWVhbmluZyBub3QgJ10nLlxuICAgIHJldHVybiB3aW5kb3dzUGF0aHNOb0VzY2FwZVxuICAgICAgICA/IHMucmVwbGFjZSgvWz8qKClbXFxdXS9nLCAnWyQmXScpXG4gICAgICAgIDogcy5yZXBsYWNlKC9bPyooKVtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXNjYXBlLmpzLm1hcCIsImltcG9ydCBleHBhbmQgZnJvbSAnYnJhY2UtZXhwYW5zaW9uJztcbmltcG9ydCB7IGFzc2VydFZhbGlkUGF0dGVybiB9IGZyb20gJy4vYXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMnO1xuaW1wb3J0IHsgQVNUIH0gZnJvbSAnLi9hc3QuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi9lc2NhcGUuanMnO1xuaW1wb3J0IHsgdW5lc2NhcGUgfSBmcm9tICcuL3VuZXNjYXBlLmpzJztcbmV4cG9ydCBjb25zdCBtaW5pbWF0Y2ggPSAocCwgcGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgYXNzZXJ0VmFsaWRQYXR0ZXJuKHBhdHRlcm4pO1xuICAgIC8vIHNob3J0Y3V0OiBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICAgIGlmICghb3B0aW9ucy5ub2NvbW1lbnQgJiYgcGF0dGVybi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpLm1hdGNoKHApO1xufTtcbi8vIE9wdGltaXplZCBjaGVja2luZyBmb3IgdGhlIG1vc3QgY29tbW9uIGdsb2IgcGF0dGVybnMuXG5jb25zdCBzdGFyRG90RXh0UkUgPSAvXlxcKisoW14rQCE/XFwqXFxbXFwoXSopJC87XG5jb25zdCBzdGFyRG90RXh0VGVzdCA9IChleHQpID0+IChmKSA9PiAhZi5zdGFydHNXaXRoKCcuJykgJiYgZi5lbmRzV2l0aChleHQpO1xuY29uc3Qgc3RhckRvdEV4dFRlc3REb3QgPSAoZXh0KSA9PiAoZikgPT4gZi5lbmRzV2l0aChleHQpO1xuY29uc3Qgc3RhckRvdEV4dFRlc3ROb2Nhc2UgPSAoZXh0KSA9PiB7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiAhZi5zdGFydHNXaXRoKCcuJykgJiYgZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3Qgc3RhckRvdEV4dFRlc3ROb2Nhc2VEb3QgPSAoZXh0KSA9PiB7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBzdGFyRG90U3RhclJFID0gL15cXCorXFwuXFwqKyQvO1xuY29uc3Qgc3RhckRvdFN0YXJUZXN0ID0gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLmluY2x1ZGVzKCcuJyk7XG5jb25zdCBzdGFyRG90U3RhclRlc3REb3QgPSAoZikgPT4gZiAhPT0gJy4nICYmIGYgIT09ICcuLicgJiYgZi5pbmNsdWRlcygnLicpO1xuY29uc3QgZG90U3RhclJFID0gL15cXC5cXCorJC87XG5jb25zdCBkb3RTdGFyVGVzdCA9IChmKSA9PiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJyAmJiBmLnN0YXJ0c1dpdGgoJy4nKTtcbmNvbnN0IHN0YXJSRSA9IC9eXFwqKyQvO1xuY29uc3Qgc3RhclRlc3QgPSAoZikgPT4gZi5sZW5ndGggIT09IDAgJiYgIWYuc3RhcnRzV2l0aCgnLicpO1xuY29uc3Qgc3RhclRlc3REb3QgPSAoZikgPT4gZi5sZW5ndGggIT09IDAgJiYgZiAhPT0gJy4nICYmIGYgIT09ICcuLic7XG5jb25zdCBxbWFya3NSRSA9IC9eXFw/KyhbXitAIT9cXCpcXFtcXChdKik/JC87XG5jb25zdCBxbWFya3NUZXN0Tm9jYXNlID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHQoWyQwXSk7XG4gICAgaWYgKCFleHQpXG4gICAgICAgIHJldHVybiBub2V4dDtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+IG5vZXh0KGYpICYmIGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3ROb2Nhc2VEb3QgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dERvdChbJDBdKTtcbiAgICBpZiAoIWV4dClcbiAgICAgICAgcmV0dXJuIG5vZXh0O1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gbm9leHQoZikgJiYgZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdERvdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0RG90KFskMF0pO1xuICAgIHJldHVybiAhZXh0ID8gbm9leHQgOiAoZikgPT4gbm9leHQoZikgJiYgZi5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3QgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dChbJDBdKTtcbiAgICByZXR1cm4gIWV4dCA/IG5vZXh0IDogKGYpID0+IG5vZXh0KGYpICYmIGYuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0Tm9FeHQgPSAoWyQwXSkgPT4ge1xuICAgIGNvbnN0IGxlbiA9ICQwLmxlbmd0aDtcbiAgICByZXR1cm4gKGYpID0+IGYubGVuZ3RoID09PSBsZW4gJiYgIWYuc3RhcnRzV2l0aCgnLicpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3ROb0V4dERvdCA9IChbJDBdKSA9PiB7XG4gICAgY29uc3QgbGVuID0gJDAubGVuZ3RoO1xuICAgIHJldHVybiAoZikgPT4gZi5sZW5ndGggPT09IGxlbiAmJiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJztcbn07XG4vKiBjOCBpZ25vcmUgc3RhcnQgKi9cbmNvbnN0IGRlZmF1bHRQbGF0Zm9ybSA9ICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzc1xuICAgID8gKHR5cGVvZiBwcm9jZXNzLmVudiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYuX19NSU5JTUFUQ0hfVEVTVElOR19QTEFURk9STV9fKSB8fFxuICAgICAgICBwcm9jZXNzLnBsYXRmb3JtXG4gICAgOiAncG9zaXgnKTtcbmNvbnN0IHBhdGggPSB7XG4gICAgd2luMzI6IHsgc2VwOiAnXFxcXCcgfSxcbiAgICBwb3NpeDogeyBzZXA6ICcvJyB9LFxufTtcbi8qIGM4IGlnbm9yZSBzdG9wICovXG5leHBvcnQgY29uc3Qgc2VwID0gZGVmYXVsdFBsYXRmb3JtID09PSAnd2luMzInID8gcGF0aC53aW4zMi5zZXAgOiBwYXRoLnBvc2l4LnNlcDtcbm1pbmltYXRjaC5zZXAgPSBzZXA7XG5leHBvcnQgY29uc3QgR0xPQlNUQVIgPSBTeW1ib2woJ2dsb2JzdGFyICoqJyk7XG5taW5pbWF0Y2guR0xPQlNUQVIgPSBHTE9CU1RBUjtcbi8vIGFueSBzaW5nbGUgdGhpbmcgb3RoZXIgdGhhbiAvXG4vLyBkb24ndCBuZWVkIHRvIGVzY2FwZSAvIHdoZW4gdXNpbmcgbmV3IFJlZ0V4cCgpXG5jb25zdCBxbWFyayA9ICdbXi9dJztcbi8vICogPT4gYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzXG5jb25zdCBzdGFyID0gcW1hcmsgKyAnKj8nO1xuLy8gKiogd2hlbiBkb3RzIGFyZSBhbGxvd2VkLiAgQW55dGhpbmcgZ29lcywgZXhjZXB0IC4uIGFuZCAuXG4vLyBub3QgKF4gb3IgLyBmb2xsb3dlZCBieSBvbmUgb3IgdHdvIGRvdHMgZm9sbG93ZWQgYnkgJCBvciAvKSxcbi8vIGZvbGxvd2VkIGJ5IGFueXRoaW5nLCBhbnkgbnVtYmVyIG9mIHRpbWVzLlxuY29uc3QgdHdvU3RhckRvdCA9ICcoPzooPyEoPzpcXFxcL3xeKSg/OlxcXFwuezEsMn0pKCR8XFxcXC8pKS4pKj8nO1xuLy8gbm90IGEgXiBvciAvIGZvbGxvd2VkIGJ5IGEgZG90LFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG5jb25zdCB0d29TdGFyTm9Eb3QgPSAnKD86KD8hKD86XFxcXC98XilcXFxcLikuKSo/JztcbmV4cG9ydCBjb25zdCBmaWx0ZXIgPSAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiAocCkgPT4gbWluaW1hdGNoKHAsIHBhdHRlcm4sIG9wdGlvbnMpO1xubWluaW1hdGNoLmZpbHRlciA9IGZpbHRlcjtcbmNvbnN0IGV4dCA9IChhLCBiID0ge30pID0+IE9iamVjdC5hc3NpZ24oe30sIGEsIGIpO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzID0gKGRlZikgPT4ge1xuICAgIGlmICghZGVmIHx8IHR5cGVvZiBkZWYgIT09ICdvYmplY3QnIHx8ICFPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbWluaW1hdGNoO1xuICAgIH1cbiAgICBjb25zdCBvcmlnID0gbWluaW1hdGNoO1xuICAgIGNvbnN0IG0gPSAocCwgcGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnKHAsIHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtLCB7XG4gICAgICAgIE1pbmltYXRjaDogY2xhc3MgTWluaW1hdGNoIGV4dGVuZHMgb3JpZy5NaW5pbWF0Y2gge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICAgICAgc3VwZXIocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGljIGRlZmF1bHRzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5kZWZhdWx0cyhleHQoZGVmLCBvcHRpb25zKSkuTWluaW1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBBU1Q6IGNsYXNzIEFTVCBleHRlbmRzIG9yaWcuQVNUIHtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgY29uc3RydWN0b3IodHlwZSwgcGFyZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICBzdXBlcih0eXBlLCBwYXJlbnQsIGV4dChkZWYsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICBzdGF0aWMgZnJvbUdsb2IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuQVNULmZyb21HbG9iKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdW5lc2NhcGU6IChzLCBvcHRpb25zID0ge30pID0+IG9yaWcudW5lc2NhcGUocywgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBlc2NhcGU6IChzLCBvcHRpb25zID0ge30pID0+IG9yaWcuZXNjYXBlKHMsIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgZmlsdGVyOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLmZpbHRlcihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGRlZmF1bHRzOiAob3B0aW9ucykgPT4gb3JpZy5kZWZhdWx0cyhleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIG1ha2VSZTogKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5tYWtlUmUocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBicmFjZUV4cGFuZDogKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5icmFjZUV4cGFuZChwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIG1hdGNoOiAobGlzdCwgcGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLm1hdGNoKGxpc3QsIHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgc2VwOiBvcmlnLnNlcCxcbiAgICAgICAgR0xPQlNUQVI6IEdMT0JTVEFSLFxuICAgIH0pO1xufTtcbm1pbmltYXRjaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuLy8gQnJhY2UgZXhwYW5zaW9uOlxuLy8gYXtiLGN9ZCAtPiBhYmQgYWNkXG4vLyBhe2IsfWMgLT4gYWJjIGFjXG4vLyBhezAuLjN9ZCAtPiBhMGQgYTFkIGEyZCBhM2Rcbi8vIGF7Yixje2QsZX1mfWcgLT4gYWJnIGFjZGZnIGFjZWZnXG4vLyBhe2IsY31ke2UsZn1nIC0+IGFiZGVnIGFjZGVnIGFiZGVnIGFiZGZnXG4vL1xuLy8gSW52YWxpZCBzZXRzIGFyZSBub3QgZXhwYW5kZWQuXG4vLyBhezIuLn1iIC0+IGF7Mi4ufWJcbi8vIGF7Yn1jIC0+IGF7Yn1jXG5leHBvcnQgY29uc3QgYnJhY2VFeHBhbmQgPSAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgYXNzZXJ0VmFsaWRQYXR0ZXJuKHBhdHRlcm4pO1xuICAgIC8vIFRoYW5rcyB0byBZZXRpbmcgTGkgPGh0dHBzOi8vZ2l0aHViLmNvbS95ZXRpbmdsaT4gZm9yXG4gICAgLy8gaW1wcm92aW5nIHRoaXMgcmVnZXhwIHRvIGF2b2lkIGEgUmVET1MgdnVsbmVyYWJpbGl0eS5cbiAgICBpZiAob3B0aW9ucy5ub2JyYWNlIHx8ICEvXFx7KD86KD8hXFx7KS4pKlxcfS8udGVzdChwYXR0ZXJuKSkge1xuICAgICAgICAvLyBzaG9ydGN1dC4gbm8gbmVlZCB0byBleHBhbmQuXG4gICAgICAgIHJldHVybiBbcGF0dGVybl07XG4gICAgfVxuICAgIHJldHVybiBleHBhbmQocGF0dGVybik7XG59O1xubWluaW1hdGNoLmJyYWNlRXhwYW5kID0gYnJhY2VFeHBhbmQ7XG4vLyBwYXJzZSBhIGNvbXBvbmVudCBvZiB0aGUgZXhwYW5kZWQgc2V0LlxuLy8gQXQgdGhpcyBwb2ludCwgbm8gcGF0dGVybiBtYXkgY29udGFpbiBcIi9cIiBpbiBpdFxuLy8gc28gd2UncmUgZ29pbmcgdG8gcmV0dXJuIGEgMmQgYXJyYXksIHdoZXJlIGVhY2ggZW50cnkgaXMgdGhlIGZ1bGxcbi8vIHBhdHRlcm4sIHNwbGl0IG9uICcvJywgYW5kIHRoZW4gdHVybmVkIGludG8gYSByZWd1bGFyIGV4cHJlc3Npb24uXG4vLyBBIHJlZ2V4cCBpcyBtYWRlIGF0IHRoZSBlbmQgd2hpY2ggam9pbnMgZWFjaCBhcnJheSB3aXRoIGFuXG4vLyBlc2NhcGVkIC8sIGFuZCBhbm90aGVyIGZ1bGwgb25lIHdoaWNoIGpvaW5zIGVhY2ggcmVnZXhwIHdpdGggfC5cbi8vXG4vLyBGb2xsb3dpbmcgdGhlIGxlYWQgb2YgQmFzaCA0LjEsIG5vdGUgdGhhdCBcIioqXCIgb25seSBoYXMgc3BlY2lhbCBtZWFuaW5nXG4vLyB3aGVuIGl0IGlzIHRoZSAqb25seSogdGhpbmcgaW4gYSBwYXRoIHBvcnRpb24uICBPdGhlcndpc2UsIGFueSBzZXJpZXNcbi8vIG9mICogaXMgZXF1aXZhbGVudCB0byBhIHNpbmdsZSAqLiAgR2xvYnN0YXIgYmVoYXZpb3IgaXMgZW5hYmxlZCBieVxuLy8gZGVmYXVsdCwgYW5kIGNhbiBiZSBkaXNhYmxlZCBieSBzZXR0aW5nIG9wdGlvbnMubm9nbG9ic3Rhci5cbmV4cG9ydCBjb25zdCBtYWtlUmUgPSAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpLm1ha2VSZSgpO1xubWluaW1hdGNoLm1ha2VSZSA9IG1ha2VSZTtcbmV4cG9ydCBjb25zdCBtYXRjaCA9IChsaXN0LCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBtbSA9IG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucyk7XG4gICAgbGlzdCA9IGxpc3QuZmlsdGVyKGYgPT4gbW0ubWF0Y2goZikpO1xuICAgIGlmIChtbS5vcHRpb25zLm5vbnVsbCAmJiAhbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgbGlzdC5wdXNoKHBhdHRlcm4pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbn07XG5taW5pbWF0Y2gubWF0Y2ggPSBtYXRjaDtcbi8vIHJlcGxhY2Ugc3R1ZmYgbGlrZSBcXCogd2l0aCAqXG5jb25zdCBnbG9iTWFnaWMgPSAvWz8qXXxbK0AhXVxcKC4qP1xcKXxcXFt8XFxdLztcbmNvbnN0IHJlZ0V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG5leHBvcnQgY2xhc3MgTWluaW1hdGNoIHtcbiAgICBvcHRpb25zO1xuICAgIHNldDtcbiAgICBwYXR0ZXJuO1xuICAgIHdpbmRvd3NQYXRoc05vRXNjYXBlO1xuICAgIG5vbmVnYXRlO1xuICAgIG5lZ2F0ZTtcbiAgICBjb21tZW50O1xuICAgIGVtcHR5O1xuICAgIHByZXNlcnZlTXVsdGlwbGVTbGFzaGVzO1xuICAgIHBhcnRpYWw7XG4gICAgZ2xvYlNldDtcbiAgICBnbG9iUGFydHM7XG4gICAgbm9jYXNlO1xuICAgIGlzV2luZG93cztcbiAgICBwbGF0Zm9ybTtcbiAgICB3aW5kb3dzTm9NYWdpY1Jvb3Q7XG4gICAgcmVnZXhwO1xuICAgIGNvbnN0cnVjdG9yKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gb3B0aW9ucy5wbGF0Zm9ybSB8fCBkZWZhdWx0UGxhdGZvcm07XG4gICAgICAgIHRoaXMuaXNXaW5kb3dzID0gdGhpcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJztcbiAgICAgICAgdGhpcy53aW5kb3dzUGF0aHNOb0VzY2FwZSA9XG4gICAgICAgICAgICAhIW9wdGlvbnMud2luZG93c1BhdGhzTm9Fc2NhcGUgfHwgb3B0aW9ucy5hbGxvd1dpbmRvd3NFc2NhcGUgPT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy53aW5kb3dzUGF0aHNOb0VzY2FwZSkge1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy5wYXR0ZXJuLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzID0gISFvcHRpb25zLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzO1xuICAgICAgICB0aGlzLnJlZ2V4cCA9IG51bGw7XG4gICAgICAgIHRoaXMubmVnYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm9uZWdhdGUgPSAhIW9wdGlvbnMubm9uZWdhdGU7XG4gICAgICAgIHRoaXMuY29tbWVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGFydGlhbCA9ICEhb3B0aW9ucy5wYXJ0aWFsO1xuICAgICAgICB0aGlzLm5vY2FzZSA9ICEhdGhpcy5vcHRpb25zLm5vY2FzZTtcbiAgICAgICAgdGhpcy53aW5kb3dzTm9NYWdpY1Jvb3QgPVxuICAgICAgICAgICAgb3B0aW9ucy53aW5kb3dzTm9NYWdpY1Jvb3QgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy53aW5kb3dzTm9NYWdpY1Jvb3RcbiAgICAgICAgICAgICAgICA6ICEhKHRoaXMuaXNXaW5kb3dzICYmIHRoaXMubm9jYXNlKTtcbiAgICAgICAgdGhpcy5nbG9iU2V0ID0gW107XG4gICAgICAgIHRoaXMuZ2xvYlBhcnRzID0gW107XG4gICAgICAgIHRoaXMuc2V0ID0gW107XG4gICAgICAgIC8vIG1ha2UgdGhlIHNldCBvZiByZWdleHBzIGV0Yy5cbiAgICAgICAgdGhpcy5tYWtlKCk7XG4gICAgfVxuICAgIGhhc01hZ2ljKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1hZ2ljYWxCcmFjZXMgJiYgdGhpcy5zZXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHRoaXMuc2V0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGF0dGVybikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZGVidWcoLi4uXykgeyB9XG4gICAgbWFrZSgpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybjtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gZW1wdHkgcGF0dGVybnMgYW5kIGNvbW1lbnRzIG1hdGNoIG5vdGhpbmcuXG4gICAgICAgIGlmICghb3B0aW9ucy5ub2NvbW1lbnQgJiYgcGF0dGVybi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICAgICAgdGhpcy5jb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdHRlcm4pIHtcbiAgICAgICAgICAgIHRoaXMuZW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0ZXAgMTogZmlndXJlIG91dCBuZWdhdGlvbiwgZXRjLlxuICAgICAgICB0aGlzLnBhcnNlTmVnYXRlKCk7XG4gICAgICAgIC8vIHN0ZXAgMjogZXhwYW5kIGJyYWNlc1xuICAgICAgICB0aGlzLmdsb2JTZXQgPSBbLi4ubmV3IFNldCh0aGlzLmJyYWNlRXhwYW5kKCkpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcgPSAoLi4uYXJncykgPT4gY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgdGhpcy5nbG9iU2V0KTtcbiAgICAgICAgLy8gc3RlcCAzOiBub3cgd2UgaGF2ZSBhIHNldCwgc28gdHVybiBlYWNoIG9uZSBpbnRvIGEgc2VyaWVzIG9mXG4gICAgICAgIC8vIHBhdGgtcG9ydGlvbiBtYXRjaGluZyBwYXR0ZXJucy5cbiAgICAgICAgLy8gVGhlc2Ugd2lsbCBiZSByZWdleHBzLCBleGNlcHQgaW4gdGhlIGNhc2Ugb2YgXCIqKlwiLCB3aGljaCBpc1xuICAgICAgICAvLyBzZXQgdG8gdGhlIEdMT0JTVEFSIG9iamVjdCBmb3IgZ2xvYnN0YXIgYmVoYXZpb3IsXG4gICAgICAgIC8vIGFuZCB3aWxsIG5vdCBjb250YWluIGFueSAvIGNoYXJhY3RlcnNcbiAgICAgICAgLy9cbiAgICAgICAgLy8gRmlyc3QsIHdlIHByZXByb2Nlc3MgdG8gbWFrZSB0aGUgZ2xvYiBwYXR0ZXJuIHNldHMgYSBiaXQgc2ltcGxlclxuICAgICAgICAvLyBhbmQgZGVkdXBlZC4gIFRoZXJlIGFyZSBzb21lIHBlcmYta2lsbGluZyBwYXR0ZXJucyB0aGF0IGNhbiBjYXVzZVxuICAgICAgICAvLyBwcm9ibGVtcyB3aXRoIGEgZ2xvYiB3YWxrLCBidXQgd2UgY2FuIHNpbXBsaWZ5IHRoZW0gZG93biBhIGJpdC5cbiAgICAgICAgY29uc3QgcmF3R2xvYlBhcnRzID0gdGhpcy5nbG9iU2V0Lm1hcChzID0+IHRoaXMuc2xhc2hTcGxpdChzKSk7XG4gICAgICAgIHRoaXMuZ2xvYlBhcnRzID0gdGhpcy5wcmVwcm9jZXNzKHJhd0dsb2JQYXJ0cyk7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCB0aGlzLmdsb2JQYXJ0cyk7XG4gICAgICAgIC8vIGdsb2IgLS0+IHJlZ2V4cHNcbiAgICAgICAgbGV0IHNldCA9IHRoaXMuZ2xvYlBhcnRzLm1hcCgocywgXywgX18pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzV2luZG93cyAmJiB0aGlzLndpbmRvd3NOb01hZ2ljUm9vdCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0J3MgYSBkcml2ZSBvciB1bmMgcGF0aC5cbiAgICAgICAgICAgICAgICBjb25zdCBpc1VOQyA9IHNbMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHNbMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIChzWzJdID09PSAnPycgfHwgIWdsb2JNYWdpYy50ZXN0KHNbMl0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAhZ2xvYk1hZ2ljLnRlc3Qoc1szXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNEcml2ZSA9IC9eW2Etel06L2kudGVzdChzWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNVTkMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5zLnNsaWNlKDAsIDQpLCAuLi5zLnNsaWNlKDQpLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0RyaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc1swXSwgLi4ucy5zbGljZSgxKS5tYXAoc3MgPT4gdGhpcy5wYXJzZShzcykpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcy5tYXAoc3MgPT4gdGhpcy5wYXJzZShzcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldCk7XG4gICAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGRpZG4ndCBjb21waWxlIHByb3Blcmx5LlxuICAgICAgICB0aGlzLnNldCA9IHNldC5maWx0ZXIocyA9PiBzLmluZGV4T2YoZmFsc2UpID09PSAtMSk7XG4gICAgICAgIC8vIGRvIG5vdCB0cmVhdCB0aGUgPyBpbiBVTkMgcGF0aHMgYXMgbWFnaWNcbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuc2V0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChwWzBdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICBwWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JQYXJ0c1tpXVsyXSA9PT0gJz8nICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwWzNdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAvXlthLXpdOiQvaS50ZXN0KHBbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbMl0gPSAnPyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCB0aGlzLnNldCk7XG4gICAgfVxuICAgIC8vIHZhcmlvdXMgdHJhbnNmb3JtcyB0byBlcXVpdmFsZW50IHBhdHRlcm4gc2V0cyB0aGF0IGFyZVxuICAgIC8vIGZhc3RlciB0byBwcm9jZXNzIGluIGEgZmlsZXN5c3RlbSB3YWxrLiAgVGhlIGdvYWwgaXMgdG9cbiAgICAvLyBlbGltaW5hdGUgd2hhdCB3ZSBjYW4sIGFuZCBwdXNoIGFsbCAqKiBwYXR0ZXJucyBhcyBmYXJcbiAgICAvLyB0byB0aGUgcmlnaHQgYXMgcG9zc2libGUsIGV2ZW4gaWYgaXQgaW5jcmVhc2VzIHRoZSBudW1iZXJcbiAgICAvLyBvZiBwYXR0ZXJucyB0aGF0IHdlIGhhdmUgdG8gcHJvY2Vzcy5cbiAgICBwcmVwcm9jZXNzKGdsb2JQYXJ0cykge1xuICAgICAgICAvLyBpZiB3ZSdyZSBub3QgaW4gZ2xvYnN0YXIgbW9kZSwgdGhlbiB0dXJuIGFsbCAqKiBpbnRvICpcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ub2dsb2JzdGFyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2JQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2xvYlBhcnRzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbG9iUGFydHNbaV1bal0gPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JQYXJ0c1tpXVtqXSA9ICcqJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9wdGltaXphdGlvbkxldmVsID0gMSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW1pemF0aW9uTGV2ZWwgPj0gMikge1xuICAgICAgICAgICAgLy8gYWdncmVzc2l2ZSBvcHRpbWl6YXRpb24gZm9yIHRoZSBwdXJwb3NlIG9mIGZzIHdhbGtpbmdcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMuZmlyc3RQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKTtcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMuc2Vjb25kUGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW1pemF0aW9uTGV2ZWwgPj0gMSkge1xuICAgICAgICAgICAgLy8ganVzdCBiYXNpYyBvcHRpbWl6YXRpb25zIHRvIHJlbW92ZSBzb21lIC4uIHBhcnRzXG4gICAgICAgICAgICBnbG9iUGFydHMgPSB0aGlzLmxldmVsT25lT3B0aW1pemUoZ2xvYlBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGp1c3QgY29sbGFwc2UgbXVsdGlwbGUgKiogcG9ydGlvbnMgaW50byBvbmVcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMuYWRqYXNjZW50R2xvYnN0YXJPcHRpbWl6ZShnbG9iUGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iUGFydHM7XG4gICAgfVxuICAgIC8vIGp1c3QgZ2V0IHJpZCBvZiBhZGphc2NlbnQgKiogcG9ydGlvbnNcbiAgICBhZGphc2NlbnRHbG9ic3Rhck9wdGltaXplKGdsb2JQYXJ0cykge1xuICAgICAgICByZXR1cm4gZ2xvYlBhcnRzLm1hcChwYXJ0cyA9PiB7XG4gICAgICAgICAgICBsZXQgZ3MgPSAtMTtcbiAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGdzID0gcGFydHMuaW5kZXhPZignKionLCBncyArIDEpKSkge1xuICAgICAgICAgICAgICAgIGxldCBpID0gZ3M7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcnRzW2kgKyAxXSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpICE9PSBncykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZ3MsIGkgLSBncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZ2V0IHJpZCBvZiBhZGphc2NlbnQgKiogYW5kIHJlc29sdmUgLi4gcG9ydGlvbnNcbiAgICBsZXZlbE9uZU9wdGltaXplKGdsb2JQYXJ0cykge1xuICAgICAgICByZXR1cm4gZ2xvYlBhcnRzLm1hcChwYXJ0cyA9PiB7XG4gICAgICAgICAgICBwYXJ0cyA9IHBhcnRzLnJlZHVjZSgoc2V0LCBwYXJ0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHNldFtzZXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcqKicgJiYgcHJldiA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldiAmJiBwcmV2ICE9PSAnLi4nICYmIHByZXYgIT09ICcuJyAmJiBwcmV2ICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldC5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID09PSAwID8gWycnXSA6IHBhcnRzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV2ZWxUd29GaWxlT3B0aW1pemUocGFydHMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcnRzKSkge1xuICAgICAgICAgICAgcGFydHMgPSB0aGlzLnNsYXNoU3BsaXQocGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBzcXVlZXplIG91dCBVTkMgcGF0dGVybnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDEgJiYgcCA9PT0gJycgJiYgcGFydHNbMF0gPT09ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwID09PSAnLicgfHwgcCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09PSAnLicgJiZcbiAgICAgICAgICAgICAgICAgICAgcGFydHMubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICAgICAgICAgIChwYXJ0c1sxXSA9PT0gJy4nIHx8IHBhcnRzWzFdID09PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPHByZT4vPHA+Ly4uLzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAgICAgICAgIGxldCBkZCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoLTEgIT09IChkZCA9IHBhcnRzLmluZGV4T2YoJy4uJywgZGQgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbZGQgLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocCAmJiBwICE9PSAnLicgJiYgcCAhPT0gJy4uJyAmJiBwICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShkZCAtIDEsIDIpO1xuICAgICAgICAgICAgICAgICAgICBkZCAtPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZGlkU29tZXRoaW5nKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA9PT0gMCA/IFsnJ10gOiBwYXJ0cztcbiAgICB9XG4gICAgLy8gRmlyc3QgcGhhc2U6IHNpbmdsZS1wYXR0ZXJuIHByb2Nlc3NpbmdcbiAgICAvLyA8cHJlPiBpcyAxIG9yIG1vcmUgcG9ydGlvbnNcbiAgICAvLyA8cmVzdD4gaXMgMSBvciBtb3JlIHBvcnRpb25zXG4gICAgLy8gPHA+IGlzIGFueSBwb3J0aW9uIG90aGVyIHRoYW4gLiwgLi4sICcnLCBvciAqKlxuICAgIC8vIDxlPiBpcyAuIG9yICcnXG4gICAgLy9cbiAgICAvLyAqKi8uLiBpcyAqYnJ1dGFsKiBmb3IgZmlsZXN5c3RlbSB3YWxraW5nIHBlcmZvcm1hbmNlLCBiZWNhdXNlXG4gICAgLy8gaXQgZWZmZWN0aXZlbHkgcmVzZXRzIHRoZSByZWN1cnNpdmUgd2FsayBlYWNoIHRpbWUgaXQgb2NjdXJzLFxuICAgIC8vIGFuZCAqKiBjYW5ub3QgYmUgcmVkdWNlZCBvdXQgYnkgYSAuLiBwYXR0ZXJuIHBhcnQgbGlrZSBhIHJlZ2V4cFxuICAgIC8vIG9yIG1vc3Qgc3RyaW5ncyAob3RoZXIgdGhhbiAuLiwgLiwgYW5kICcnKSBjYW4gYmUuXG4gICAgLy9cbiAgICAvLyA8cHJlPi8qKi8uLi88cD4vPHA+LzxyZXN0PiAtPiB7PHByZT4vLi4vPHA+LzxwPi88cmVzdD4sPHByZT4vKiovPHA+LzxwPi88cmVzdD59XG4gICAgLy8gPHByZT4vPGU+LzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vICoqLyoqLzxyZXN0PiAtPiAqKi88cmVzdD5cbiAgICAvL1xuICAgIC8vICoqLyovPHJlc3Q+IC0+ICovKiovPHJlc3Q+IDw9PSBub3QgdmFsaWQgYmVjYXVzZSAqKiBkb2Vzbid0IGZvbGxvd1xuICAgIC8vIHRoaXMgV09VTEQgYmUgYWxsb3dlZCBpZiAqKiBkaWQgZm9sbG93IHN5bWxpbmtzLCBvciAqIGRpZG4ndFxuICAgIGZpcnN0UGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cykge1xuICAgICAgICBsZXQgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gPHByZT4vKiovLi4vPHA+LzxwPi88cmVzdD4gLT4gezxwcmU+Ly4uLzxwPi88cD4vPHJlc3Q+LDxwcmU+LyoqLzxwPi88cD4vPHJlc3Q+fVxuICAgICAgICAgICAgZm9yIChsZXQgcGFydHMgb2YgZ2xvYlBhcnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdzID0gLTE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZ3MgPSBwYXJ0cy5pbmRleE9mKCcqKicsIGdzICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBnc3MgPSBncztcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBhcnRzW2dzcyArIDFdID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA8cHJlPi8qKi8qKi88cmVzdD4gLT4gPHByZT4vKiovPHJlc3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICBnc3MrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBlZywgaWYgZ3MgaXMgMiBhbmQgZ3NzIGlzIDQsIHRoYXQgbWVhbnMgd2UgaGF2ZSAzICoqXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcnRzLCBhbmQgY2FuIHJlbW92ZSAyIG9mIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgIGlmIChnc3MgPiBncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGdzICsgMSwgZ3NzIC0gZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gcGFydHNbZ3MgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2dzICsgMl07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAyID0gcGFydHNbZ3MgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09ICcuLicpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwID09PSAnLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFwMiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcDIgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcDIgPT09ICcuLicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVkaXQgcGFydHMgaW4gcGxhY2UsIGFuZCBwdXNoIHRoZSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShncywgMSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gcGFydHMuc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyW2dzXSA9ICcqKic7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JQYXJ0cy5wdXNoKG90aGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZ3MtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gPHByZT4vPGU+LzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNxdWVlemUgb3V0IFVOQyBwYXR0ZXJuc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDEgJiYgcCA9PT0gJycgJiYgcGFydHNbMF0gPT09ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09ICcuJyB8fCBwID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocGFydHNbMV0gPT09ICcuJyB8fCBwYXJ0c1sxXSA9PT0gJycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gPHByZT4vPHA+Ly4uLzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAgICAgICAgICAgICBsZXQgZGQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGRkID0gcGFydHMuaW5kZXhPZignLi4nLCBkZCArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbZGQgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgJiYgcCAhPT0gJy4nICYmIHAgIT09ICcuLicgJiYgcCAhPT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWREb3QgPSBkZCA9PT0gMSAmJiBwYXJ0c1tkZCArIDFdID09PSAnKionO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaW4gPSBuZWVkRG90ID8gWycuJ10gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShkZCAtIDEsIDIsIC4uLnNwbGluKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZCAtPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRTb21ldGhpbmcpO1xuICAgICAgICByZXR1cm4gZ2xvYlBhcnRzO1xuICAgIH1cbiAgICAvLyBzZWNvbmQgcGhhc2U6IG11bHRpLXBhdHRlcm4gZGVkdXBlc1xuICAgIC8vIHs8cHJlPi8qLzxyZXN0Piw8cHJlPi88cD4vPHJlc3Q+fSAtPiA8cHJlPi8qLzxyZXN0PlxuICAgIC8vIHs8cHJlPi88cmVzdD4sPHByZT4vPHJlc3Q+fSAtPiA8cHJlPi88cmVzdD5cbiAgICAvLyB7PHByZT4vKiovPHJlc3Q+LDxwcmU+LzxyZXN0Pn0gLT4gPHByZT4vKiovPHJlc3Q+XG4gICAgLy9cbiAgICAvLyB7PHByZT4vKiovPHJlc3Q+LDxwcmU+LyoqLzxwPi88cmVzdD59IC0+IDxwcmU+LyoqLzxyZXN0PlxuICAgIC8vIF4tLSBub3QgdmFsaWQgYmVjYXVzZSAqKiBkb2Vucyd0IGZvbGxvdyBzeW1saW5rc1xuICAgIHNlY29uZFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iUGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBnbG9iUGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVkID0gdGhpcy5wYXJ0c01hdGNoKGdsb2JQYXJ0c1tpXSwgZ2xvYlBhcnRzW2pdLCAhdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcyk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2ldID0gW107XG4gICAgICAgICAgICAgICAgICAgIGdsb2JQYXJ0c1tqXSA9IG1hdGNoZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xvYlBhcnRzLmZpbHRlcihncyA9PiBncy5sZW5ndGgpO1xuICAgIH1cbiAgICBwYXJ0c01hdGNoKGEsIGIsIGVtcHR5R1NNYXRjaCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBhaSA9IDA7XG4gICAgICAgIGxldCBiaSA9IDA7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IHdoaWNoID0gJyc7XG4gICAgICAgIHdoaWxlIChhaSA8IGEubGVuZ3RoICYmIGJpIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChhW2FpXSA9PT0gYltiaV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh3aGljaCA9PT0gJ2InID8gYltiaV0gOiBhW2FpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW1wdHlHU01hdGNoICYmIGFbYWldID09PSAnKionICYmIGJbYmldID09PSBhW2FpICsgMV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhW2FpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVtcHR5R1NNYXRjaCAmJiBiW2JpXSA9PT0gJyoqJyAmJiBhW2FpXSA9PT0gYltiaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYltiaV0pO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhW2FpXSA9PT0gJyonICYmXG4gICAgICAgICAgICAgICAgYltiaV0gJiZcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRvdCB8fCAhYltiaV0uc3RhcnRzV2l0aCgnLicpKSAmJlxuICAgICAgICAgICAgICAgIGJbYmldICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoID09PSAnYicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGljaCA9ICdhJztcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhW2FpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYltiaV0gPT09ICcqJyAmJlxuICAgICAgICAgICAgICAgIGFbYWldICYmXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5kb3QgfHwgIWFbYWldLnN0YXJ0c1dpdGgoJy4nKSkgJiZcbiAgICAgICAgICAgICAgICBhW2FpXSAhPT0gJyoqJykge1xuICAgICAgICAgICAgICAgIGlmICh3aGljaCA9PT0gJ2EnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpY2ggPSAnYic7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYltiaV0pO1xuICAgICAgICAgICAgICAgIGFpKys7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBmYWxsIG91dCBvZiB0aGUgbG9vcCwgaXQgbWVhbnMgdGhleSB0d28gYXJlIGlkZW50aWNhbFxuICAgICAgICAvLyBhcyBsb25nIGFzIHRoZWlyIGxlbmd0aHMgbWF0Y2hcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiByZXN1bHQ7XG4gICAgfVxuICAgIHBhcnNlTmVnYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5ub25lZ2F0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybjtcbiAgICAgICAgbGV0IG5lZ2F0ZSA9IGZhbHNlO1xuICAgICAgICBsZXQgbmVnYXRlT2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aCAmJiBwYXR0ZXJuLmNoYXJBdChpKSA9PT0gJyEnOyBpKyspIHtcbiAgICAgICAgICAgIG5lZ2F0ZSA9ICFuZWdhdGU7XG4gICAgICAgICAgICBuZWdhdGVPZmZzZXQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRlT2Zmc2V0KVxuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybi5zbGljZShuZWdhdGVPZmZzZXQpO1xuICAgICAgICB0aGlzLm5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgICB9XG4gICAgLy8gc2V0IHBhcnRpYWwgdG8gdHJ1ZSB0byB0ZXN0IGlmLCBmb3IgZXhhbXBsZSxcbiAgICAvLyBcIi9hL2JcIiBtYXRjaGVzIHRoZSBzdGFydCBvZiBcIi8qL2IvKi9kXCJcbiAgICAvLyBQYXJ0aWFsIG1lYW5zLCBpZiB5b3UgcnVuIG91dCBvZiBmaWxlIGJlZm9yZSB5b3UgcnVuXG4gICAgLy8gb3V0IG9mIHBhdHRlcm4sIHRoZW4gdGhhdCdzIGZpbmUsIGFzIGxvbmcgYXMgYWxsXG4gICAgLy8gdGhlIHBhcnRzIG1hdGNoLlxuICAgIG1hdGNoT25lKGZpbGUsIHBhdHRlcm4sIHBhcnRpYWwgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyBVTkMgcGF0aHMgbGlrZSAvLz8vWDovLi4uIGNhbiBtYXRjaCBYOi8uLi4gYW5kIHZpY2UgdmVyc2FcbiAgICAgICAgLy8gRHJpdmUgbGV0dGVycyBpbiBhYnNvbHV0ZSBkcml2ZSBvciB1bmMgcGF0aHMgYXJlIGFsd2F5cyBjb21wYXJlZFxuICAgICAgICAvLyBjYXNlLWluc2Vuc2l0aXZlbHkuXG4gICAgICAgIGlmICh0aGlzLmlzV2luZG93cykge1xuICAgICAgICAgICAgY29uc3QgZmlsZURyaXZlID0gdHlwZW9mIGZpbGVbMF0gPT09ICdzdHJpbmcnICYmIC9eW2Etel06JC9pLnRlc3QoZmlsZVswXSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlVU5DID0gIWZpbGVEcml2ZSAmJlxuICAgICAgICAgICAgICAgIGZpbGVbMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgZmlsZVsxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBmaWxlWzJdID09PSAnPycgJiZcbiAgICAgICAgICAgICAgICAvXlthLXpdOiQvaS50ZXN0KGZpbGVbM10pO1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybkRyaXZlID0gdHlwZW9mIHBhdHRlcm5bMF0gPT09ICdzdHJpbmcnICYmIC9eW2Etel06JC9pLnRlc3QocGF0dGVyblswXSk7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuVU5DID0gIXBhdHRlcm5Ecml2ZSAmJlxuICAgICAgICAgICAgICAgIHBhdHRlcm5bMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgcGF0dGVyblsxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBwYXR0ZXJuWzJdID09PSAnPycgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgcGF0dGVyblszXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAvXlthLXpdOiQvaS50ZXN0KHBhdHRlcm5bM10pO1xuICAgICAgICAgICAgY29uc3QgZmRpID0gZmlsZVVOQyA/IDMgOiBmaWxlRHJpdmUgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcGRpID0gcGF0dGVyblVOQyA/IDMgOiBwYXR0ZXJuRHJpdmUgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmZGkgPT09ICdudW1iZXInICYmIHR5cGVvZiBwZGkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2ZkLCBwZF0gPSBbZmlsZVtmZGldLCBwYXR0ZXJuW3BkaV1dO1xuICAgICAgICAgICAgICAgIGlmIChmZC50b0xvd2VyQ2FzZSgpID09PSBwZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm5bcGRpXSA9IGZkO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGRpID4gZmRpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gcGF0dGVybi5zbGljZShwZGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZkaSA+IHBkaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGZpbGUuc2xpY2UoZmRpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXNvbHZlIGFuZCByZWR1Y2UgLiBhbmQgLi4gcG9ydGlvbnMgaW4gdGhlIGZpbGUgYXMgd2VsbC5cbiAgICAgICAgLy8gZG9udCcgbmVlZCB0byBkbyB0aGUgc2Vjb25kIHBoYXNlLCBiZWNhdXNlIGl0J3Mgb25seSBvbmUgc3RyaW5nW11cbiAgICAgICAgY29uc3QgeyBvcHRpbWl6YXRpb25MZXZlbCA9IDEgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGltaXphdGlvbkxldmVsID49IDIpIHtcbiAgICAgICAgICAgIGZpbGUgPSB0aGlzLmxldmVsVHdvRmlsZU9wdGltaXplKGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWcoJ21hdGNoT25lJywgdGhpcywgeyBmaWxlLCBwYXR0ZXJuIH0pO1xuICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaE9uZScsIGZpbGUubGVuZ3RoLCBwYXR0ZXJuLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGZpID0gMCwgcGkgPSAwLCBmbCA9IGZpbGUubGVuZ3RoLCBwbCA9IHBhdHRlcm4ubGVuZ3RoOyBmaSA8IGZsICYmIHBpIDwgcGw7IGZpKyssIHBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoJ21hdGNoT25lIGxvb3AnKTtcbiAgICAgICAgICAgIHZhciBwID0gcGF0dGVybltwaV07XG4gICAgICAgICAgICB2YXIgZiA9IGZpbGVbZmldO1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyhwYXR0ZXJuLCBwLCBmKTtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBpbXBvc3NpYmxlLlxuICAgICAgICAgICAgLy8gc29tZSBpbnZhbGlkIHJlZ2V4cCBzdHVmZiBpbiB0aGUgc2V0LlxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBpZiAocCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgaWYgKHAgPT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnR0xPQlNUQVInLCBbcGF0dGVybiwgcCwgZl0pO1xuICAgICAgICAgICAgICAgIC8vIFwiKipcIlxuICAgICAgICAgICAgICAgIC8vIGEvKiovYi8qKi9jIHdvdWxkIG1hdGNoIHRoZSBmb2xsb3dpbmc6XG4gICAgICAgICAgICAgICAgLy8gYS9iL3gveS96L2NcbiAgICAgICAgICAgICAgICAvLyBhL3gveS96L2IvY1xuICAgICAgICAgICAgICAgIC8vIGEvYi94L2IveC9jXG4gICAgICAgICAgICAgICAgLy8gYS9iL2NcbiAgICAgICAgICAgICAgICAvLyBUbyBkbyB0aGlzLCB0YWtlIHRoZSByZXN0IG9mIHRoZSBwYXR0ZXJuIGFmdGVyXG4gICAgICAgICAgICAgICAgLy8gdGhlICoqLCBhbmQgc2VlIGlmIGl0IHdvdWxkIG1hdGNoIHRoZSBmaWxlIHJlbWFpbmRlci5cbiAgICAgICAgICAgICAgICAvLyBJZiBzbywgcmV0dXJuIHN1Y2Nlc3MuXG4gICAgICAgICAgICAgICAgLy8gSWYgbm90LCB0aGUgKiogXCJzd2FsbG93c1wiIGEgc2VnbWVudCwgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHJlY3Vyc2l2ZWx5IGF3ZnVsLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gYS8qKi9iLyoqL2MgbWF0Y2hpbmcgYS9iL3gveS96L2NcbiAgICAgICAgICAgICAgICAvLyAtIGEgbWF0Y2hlcyBhXG4gICAgICAgICAgICAgICAgLy8gLSBkb3VibGVzdGFyXG4gICAgICAgICAgICAgICAgLy8gICAtIG1hdGNoT25lKGIveC95L3ovYywgYi8qKi9jKVxuICAgICAgICAgICAgICAgIC8vICAgICAtIGIgbWF0Y2hlcyBiXG4gICAgICAgICAgICAgICAgLy8gICAgIC0gZG91Ymxlc3RhclxuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeC95L3ovYywgYykgLT4gbm9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAtIG1hdGNoT25lKHkvei9jLCBjKSAtPiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoei9jLCBjKSAtPiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoYywgYykgeWVzLCBoaXRcbiAgICAgICAgICAgICAgICB2YXIgZnIgPSBmaTtcbiAgICAgICAgICAgICAgICB2YXIgcHIgPSBwaSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKHByID09PSBwbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCcqKiBhdCB0aGUgZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGEgKiogYXQgdGhlIGVuZCB3aWxsIGp1c3Qgc3dhbGxvdyB0aGUgcmVzdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoLlxuICAgICAgICAgICAgICAgICAgICAvLyBob3dldmVyLCBpdCB3aWxsIG5vdCBzd2FsbG93IC8ueCwgdW5sZXNzXG4gICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnMuZG90IGlzIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gLiBhbmQgLi4gYXJlICpuZXZlciogbWF0Y2hlZCBieSAqKiwgZm9yIGV4cGxvc2l2ZWx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIHJlYXNvbnMuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBmaSA8IGZsOyBmaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZVtmaV0gPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVbZmldID09PSAnLi4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFvcHRpb25zLmRvdCAmJiBmaWxlW2ZpXS5jaGFyQXQoMCkgPT09ICcuJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvaywgbGV0J3Mgc2VlIGlmIHdlIGNhbiBzd2FsbG93IHdoYXRldmVyIHdlIGNhbi5cbiAgICAgICAgICAgICAgICB3aGlsZSAoZnIgPCBmbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3dhbGxvd2VlID0gZmlsZVtmcl07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ1xcbmdsb2JzdGFyIHdoaWxlJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByLCBzd2FsbG93ZWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBYWFggcmVtb3ZlIHRoaXMgc2xpY2UuICBKdXN0IHBhc3MgdGhlIHN0YXJ0IGluZGV4LlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaE9uZShmaWxlLnNsaWNlKGZyKSwgcGF0dGVybi5zbGljZShwciksIHBhcnRpYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdnbG9ic3RhciBmb3VuZCBtYXRjaCEnLCBmciwgZmwsIHN3YWxsb3dlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIG1hdGNoLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW4ndCBzd2FsbG93IFwiLlwiIG9yIFwiLi5cIiBldmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgc3dhbGxvdyBcIi5mb29cIiB3aGVuIGV4cGxpY2l0bHkgYXNrZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3dhbGxvd2VlID09PSAnLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FsbG93ZWUgPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW9wdGlvbnMuZG90ICYmIHN3YWxsb3dlZS5jaGFyQXQoMCkgPT09ICcuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdkb3QgZGV0ZWN0ZWQhJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICoqIHN3YWxsb3dzIGEgc2VnbWVudCwgYW5kIGNvbnRpbnVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgc3dhbGxvdyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnIrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBubyBtYXRjaCB3YXMgZm91bmQuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgaW4gcGFydGlhbCBtb2RlLCB3ZSBjYW4ndCBzYXkgdGhpcyBpcyBuZWNlc3NhcmlseSBvdmVyLlxuICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgZmlsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdcXG4+Pj4gbm8gbWF0Y2gsIHBhcnRpYWw/JywgZmlsZSwgZnIsIHBhdHRlcm4sIHByKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyID09PSBmbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiAqKlxuICAgICAgICAgICAgLy8gbm9uLW1hZ2ljIHBhdHRlcm5zIGp1c3QgaGF2ZSB0byBtYXRjaCBleGFjdGx5XG4gICAgICAgICAgICAvLyBwYXR0ZXJucyB3aXRoIG1hZ2ljIGhhdmUgYmVlbiB0dXJuZWQgaW50byByZWdleHBzLlxuICAgICAgICAgICAgbGV0IGhpdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBoaXQgPSBmID09PSBwO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ3N0cmluZyBtYXRjaCcsIHAsIGYsIGhpdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoaXQgPSBwLnRlc3QoZik7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygncGF0dGVybiBtYXRjaCcsIHAsIGYsIGhpdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhpdClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogZW5kaW5nIGluIC8gbWVhbnMgdGhhdCB3ZSdsbCBnZXQgYSBmaW5hbCBcIlwiXG4gICAgICAgIC8vIGF0IHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4uICBUaGlzIGNhbiBvbmx5IG1hdGNoIGFcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBcIlwiIGF0IHRoZSBlbmQgb2YgdGhlIGZpbGUuXG4gICAgICAgIC8vIElmIHRoZSBmaWxlIGVuZHMgaW4gLywgdGhlbiBpdCBjYW4gb25seSBtYXRjaCBhXG4gICAgICAgIC8vIGEgcGF0dGVybiB0aGF0IGVuZHMgaW4gLywgdW5sZXNzIHRoZSBwYXR0ZXJuIGp1c3RcbiAgICAgICAgLy8gZG9lc24ndCBoYXZlIGFueSBtb3JlIGZvciBpdC4gQnV0LCBhL2IvIHNob3VsZCAqbm90KlxuICAgICAgICAvLyBtYXRjaCBcImEvYi8qXCIsIGV2ZW4gdGhvdWdoIFwiXCIgbWF0Y2hlcyBhZ2FpbnN0IHRoZVxuICAgICAgICAvLyBbXi9dKj8gcGF0dGVybiwgZXhjZXB0IGluIHBhcnRpYWwgbW9kZSwgd2hlcmUgaXQgbWlnaHRcbiAgICAgICAgLy8gc2ltcGx5IG5vdCBiZSByZWFjaGVkIHlldC5cbiAgICAgICAgLy8gSG93ZXZlciwgYS9iLyBzaG91bGQgc3RpbGwgc2F0aXNmeSBhLypcbiAgICAgICAgLy8gbm93IGVpdGhlciB3ZSBmZWxsIG9mZiB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLCBvciB3ZSdyZSBkb25lLlxuICAgICAgICBpZiAoZmkgPT09IGZsICYmIHBpID09PSBwbCkge1xuICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuIGFuZCBmaWxlbmFtZSBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAgICAgLy8gYW4gZXhhY3QgaGl0IVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmkgPT09IGZsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIGZpbGUsIGJ1dCBzdGlsbCBoYWQgcGF0dGVybiBsZWZ0LlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBvayBpZiB3ZSdyZSBkb2luZyB0aGUgbWF0Y2ggYXMgcGFydCBvZlxuICAgICAgICAgICAgLy8gYSBnbG9iIGZzIHRyYXZlcnNhbC5cbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWFsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBpID09PSBwbCkge1xuICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuLCBzdGlsbCBoYXZlIGZpbGUgbGVmdC5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBhY2NlcHRhYmxlIGlmIHdlJ3JlIG9uIHRoZSB2ZXJ5IGxhc3RcbiAgICAgICAgICAgIC8vIGVtcHR5IHNlZ21lbnQgb2YgYSBmaWxlIHdpdGggYSB0cmFpbGluZyBzbGFzaC5cbiAgICAgICAgICAgIC8vIGEvKiBzaG91bGQgbWF0Y2ggYS9iL1xuICAgICAgICAgICAgcmV0dXJuIGZpID09PSBmbCAtIDEgJiYgZmlsZVtmaV0gPT09ICcnO1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgdW5yZWFjaGFibGUuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3d0Zj8nKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgIH1cbiAgICBicmFjZUV4cGFuZCgpIHtcbiAgICAgICAgcmV0dXJuIGJyYWNlRXhwYW5kKHRoaXMucGF0dGVybiwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG4gICAgcGFyc2UocGF0dGVybikge1xuICAgICAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIHNob3J0Y3V0c1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gJyoqJylcbiAgICAgICAgICAgIHJldHVybiBHTE9CU1RBUjtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcnKVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAvLyBmYXIgYW5kIGF3YXksIHRoZSBtb3N0IGNvbW1vbiBnbG9iIHBhdHRlcm4gcGFydHMgYXJlXG4gICAgICAgIC8vICosICouKiwgYW5kICouPGV4dD4gIEFkZCBhIGZhc3QgY2hlY2sgbWV0aG9kIGZvciB0aG9zZS5cbiAgICAgICAgbGV0IG07XG4gICAgICAgIGxldCBmYXN0VGVzdCA9IG51bGw7XG4gICAgICAgIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goc3RhclJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gb3B0aW9ucy5kb3QgPyBzdGFyVGVzdERvdCA6IHN0YXJUZXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChzdGFyRG90RXh0UkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSAob3B0aW9ucy5ub2Nhc2VcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZG90XG4gICAgICAgICAgICAgICAgICAgID8gc3RhckRvdEV4dFRlc3ROb2Nhc2VEb3RcbiAgICAgICAgICAgICAgICAgICAgOiBzdGFyRG90RXh0VGVzdE5vY2FzZVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBzdGFyRG90RXh0VGVzdERvdFxuICAgICAgICAgICAgICAgICAgICA6IHN0YXJEb3RFeHRUZXN0KShtWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2gocW1hcmtzUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSAob3B0aW9ucy5ub2Nhc2VcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZG90XG4gICAgICAgICAgICAgICAgICAgID8gcW1hcmtzVGVzdE5vY2FzZURvdFxuICAgICAgICAgICAgICAgICAgICA6IHFtYXJrc1Rlc3ROb2Nhc2VcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZG90XG4gICAgICAgICAgICAgICAgICAgID8gcW1hcmtzVGVzdERvdFxuICAgICAgICAgICAgICAgICAgICA6IHFtYXJrc1Rlc3QpKG0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChzdGFyRG90U3RhclJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gb3B0aW9ucy5kb3QgPyBzdGFyRG90U3RhclRlc3REb3QgOiBzdGFyRG90U3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKGRvdFN0YXJSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IGRvdFN0YXJUZXN0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlID0gQVNULmZyb21HbG9iKHBhdHRlcm4sIHRoaXMub3B0aW9ucykudG9NTVBhdHRlcm4oKTtcbiAgICAgICAgaWYgKGZhc3RUZXN0ICYmIHR5cGVvZiByZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkcyBvdmVycmlkaW5nIGluIGZyb3plbiBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkocmUsICd0ZXN0JywgeyB2YWx1ZTogZmFzdFRlc3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlO1xuICAgIH1cbiAgICBtYWtlUmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZ2V4cCB8fCB0aGlzLnJlZ2V4cCA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdleHA7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIHRoaXMuc2V0IGlzIGEgMmQgYXJyYXkgb2YgcGFydGlhbFxuICAgICAgICAvLyBwYXR0ZXJuIHN0cmluZ3MsIG9yIFwiKipcIi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSXQncyBiZXR0ZXIgdG8gdXNlIC5tYXRjaCgpLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRuJ3RcbiAgICAgICAgLy8gYmUgdXNlZCwgcmVhbGx5LCBidXQgaXQncyBwcmV0dHkgY29udmVuaWVudCBzb21ldGltZXMsXG4gICAgICAgIC8vIHdoZW4geW91IGp1c3Qgd2FudCB0byB3b3JrIHdpdGggYSByZWdleC5cbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5zZXQ7XG4gICAgICAgIGlmICghc2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZWdleHAgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0d29TdGFyID0gb3B0aW9ucy5ub2dsb2JzdGFyXG4gICAgICAgICAgICA/IHN0YXJcbiAgICAgICAgICAgIDogb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICA/IHR3b1N0YXJEb3RcbiAgICAgICAgICAgICAgICA6IHR3b1N0YXJOb0RvdDtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBuZXcgU2V0KG9wdGlvbnMubm9jYXNlID8gWydpJ10gOiBbXSk7XG4gICAgICAgIC8vIHJlZ2V4cGlmeSBub24tZ2xvYnN0YXIgcGF0dGVybnNcbiAgICAgICAgLy8gaWYgKiogaXMgb25seSBpdGVtLCB0aGVuIHdlIGp1c3QgZG8gb25lIHR3b1N0YXJcbiAgICAgICAgLy8gaWYgKiogaXMgZmlyc3QsIGFuZCB0aGVyZSBhcmUgbW9yZSwgcHJlcGVuZCAoXFwvfHR3b1N0YXJcXC8pPyB0byBuZXh0XG4gICAgICAgIC8vIGlmICoqIGlzIGxhc3QsIGFwcGVuZCAoXFwvdHdvU3RhcnwpIHRvIHByZXZpb3VzXG4gICAgICAgIC8vIGlmICoqIGlzIGluIHRoZSBtaWRkbGUsIGFwcGVuZCAoXFwvfFxcL3R3b1N0YXJcXC8pIHRvIHByZXZpb3VzXG4gICAgICAgIC8vIHRoZW4gZmlsdGVyIG91dCBHTE9CU1RBUiBzeW1ib2xzXG4gICAgICAgIGxldCByZSA9IHNldFxuICAgICAgICAgICAgLm1hcChwYXR0ZXJuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBwID0gcGF0dGVybi5tYXAocCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIHAuZmxhZ3Muc3BsaXQoJycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYWRkKGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gcmVnRXhwRXNjYXBlKHApXG4gICAgICAgICAgICAgICAgICAgIDogcCA9PT0gR0xPQlNUQVJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gR0xPQlNUQVJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcC5fc3JjO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcC5mb3JFYWNoKChwLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHBwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gcHBbaSAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwICE9PSBHTE9CU1RBUiB8fCBwcmV2ID09PSBHTE9CU1RBUikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcmV2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiBuZXh0ICE9PSBHTE9CU1RBUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHBbaSArIDFdID0gJyg/OlxcXFwvfCcgKyB0d29TdGFyICsgJ1xcXFwvKT8nICsgbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBwW2ldID0gdHdvU3RhcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHBbaSAtIDFdID0gcHJldiArICcoPzpcXFxcL3wnICsgdHdvU3RhciArICcpPyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgIT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgIHBwW2kgLSAxXSA9IHByZXYgKyAnKD86XFxcXC98XFxcXC8nICsgdHdvU3RhciArICdcXFxcLyknICsgbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgcHBbaSArIDFdID0gR0xPQlNUQVI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHAuZmlsdGVyKHAgPT4gcCAhPT0gR0xPQlNUQVIpLmpvaW4oJy8nKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCd8Jyk7XG4gICAgICAgIC8vIG5lZWQgdG8gd3JhcCBpbiBwYXJlbnMgaWYgd2UgaGFkIG1vcmUgdGhhbiBvbmUgdGhpbmcgd2l0aCB8LFxuICAgICAgICAvLyBvdGhlcndpc2Ugb25seSB0aGUgZmlyc3Qgd2lsbCBiZSBhbmNob3JlZCB0byBeIGFuZCB0aGUgbGFzdCB0byAkXG4gICAgICAgIGNvbnN0IFtvcGVuLCBjbG9zZV0gPSBzZXQubGVuZ3RoID4gMSA/IFsnKD86JywgJyknXSA6IFsnJywgJyddO1xuICAgICAgICAvLyBtdXN0IG1hdGNoIGVudGlyZSBwYXR0ZXJuXG4gICAgICAgIC8vIGVuZGluZyBpbiBhICogb3IgKiogd2lsbCBtYWtlIGl0IGxlc3Mgc3RyaWN0LlxuICAgICAgICByZSA9ICdeJyArIG9wZW4gKyByZSArIGNsb3NlICsgJyQnO1xuICAgICAgICAvLyBjYW4gbWF0Y2ggYW55dGhpbmcsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhpcy5cbiAgICAgICAgaWYgKHRoaXMubmVnYXRlKVxuICAgICAgICAgICAgcmUgPSAnXig/IScgKyByZSArICcpLiskJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMucmVnZXhwID0gbmV3IFJlZ0V4cChyZSwgWy4uLmZsYWdzXS5qb2luKCcnKSk7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBpbXBvc3NpYmxlXG4gICAgICAgICAgICB0aGlzLnJlZ2V4cCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cDtcbiAgICB9XG4gICAgc2xhc2hTcGxpdChwKSB7XG4gICAgICAgIC8vIGlmIHAgc3RhcnRzIHdpdGggLy8gb24gd2luZG93cywgd2UgcHJlc2VydmUgdGhhdFxuICAgICAgICAvLyBzbyB0aGF0IFVOQyBwYXRocyBhcmVuJ3QgYnJva2VuLiAgT3RoZXJ3aXNlLCBhbnkgbnVtYmVyIG9mXG4gICAgICAgIC8vIC8gY2hhcmFjdGVycyBhcmUgY29hbGVzY2VkIGludG8gb25lLCB1bmxlc3NcbiAgICAgICAgLy8gcHJlc2VydmVNdWx0aXBsZVNsYXNoZXMgaXMgc2V0IHRvIHRydWUuXG4gICAgICAgIGlmICh0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcC5zcGxpdCgnLycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNXaW5kb3dzICYmIC9eXFwvXFwvW15cXC9dKy8udGVzdChwKSkge1xuICAgICAgICAgICAgLy8gYWRkIGFuIGV4dHJhICcnIGZvciB0aGUgb25lIHdlIGxvc2VcbiAgICAgICAgICAgIHJldHVybiBbJycsIC4uLnAuc3BsaXQoL1xcLysvKV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcC5zcGxpdCgvXFwvKy8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoKGYsIHBhcnRpYWwgPSB0aGlzLnBhcnRpYWwpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2gnLCBmLCB0aGlzLnBhdHRlcm4pO1xuICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IGluIHRoZSBjYXNlIG9mIGJ1c3RlZCB0aGluZ3MuXG4gICAgICAgIC8vIGNvbW1lbnRzLCBldGMuXG4gICAgICAgIGlmICh0aGlzLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGYgPT09ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmID09PSAnLycgJiYgcGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gd2luZG93czogbmVlZCB0byB1c2UgLywgbm90IFxcXG4gICAgICAgIGlmICh0aGlzLmlzV2luZG93cykge1xuICAgICAgICAgICAgZiA9IGYuc3BsaXQoJ1xcXFwnKS5qb2luKCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJlYXQgdGhlIHRlc3QgcGF0aCBhcyBhIHNldCBvZiBwYXRocGFydHMuXG4gICAgICAgIGNvbnN0IGZmID0gdGhpcy5zbGFzaFNwbGl0KGYpO1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NwbGl0JywgZmYpO1xuICAgICAgICAvLyBqdXN0IE9ORSBvZiB0aGUgcGF0dGVybiBzZXRzIGluIHRoaXMuc2V0IG5lZWRzIHRvIG1hdGNoXG4gICAgICAgIC8vIGluIG9yZGVyIGZvciBpdCB0byBiZSB2YWxpZC4gIElmIG5lZ2F0aW5nLCB0aGVuIGp1c3Qgb25lXG4gICAgICAgIC8vIG1hdGNoIG1lYW5zIHRoYXQgd2UgaGF2ZSBmYWlsZWQuXG4gICAgICAgIC8vIEVpdGhlciB3YXksIHJldHVybiBvbiB0aGUgZmlyc3QgaGl0LlxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLnNldDtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzZXQnLCBzZXQpO1xuICAgICAgICAvLyBGaW5kIHRoZSBiYXNlbmFtZSBvZiB0aGUgcGF0aCBieSBsb29raW5nIGZvciB0aGUgbGFzdCBub24tZW1wdHkgc2VnbWVudFxuICAgICAgICBsZXQgZmlsZW5hbWUgPSBmZltmZi5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGZmLmxlbmd0aCAtIDI7ICFmaWxlbmFtZSAmJiBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmZbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBzZXRbaV07XG4gICAgICAgICAgICBsZXQgZmlsZSA9IGZmO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0Y2hCYXNlICYmIHBhdHRlcm4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZmlsZSA9IFtmaWxlbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoaXQgPSB0aGlzLm1hdGNoT25lKGZpbGUsIHBhdHRlcm4sIHBhcnRpYWwpO1xuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmZsaXBOZWdhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5uZWdhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGlkbid0IGdldCBhbnkgaGl0cy4gIHRoaXMgaXMgc3VjY2VzcyBpZiBpdCdzIGEgbmVnYXRpdmVcbiAgICAgICAgLy8gcGF0dGVybiwgZmFpbHVyZSBvdGhlcndpc2UuXG4gICAgICAgIGlmIChvcHRpb25zLmZsaXBOZWdhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGU7XG4gICAgfVxuICAgIHN0YXRpYyBkZWZhdWx0cyhkZWYpIHtcbiAgICAgICAgcmV0dXJuIG1pbmltYXRjaC5kZWZhdWx0cyhkZWYpLk1pbmltYXRjaDtcbiAgICB9XG59XG4vKiBjOCBpZ25vcmUgc3RhcnQgKi9cbmV4cG9ydCB7IEFTVCB9IGZyb20gJy4vYXN0LmpzJztcbmV4cG9ydCB7IGVzY2FwZSB9IGZyb20gJy4vZXNjYXBlLmpzJztcbmV4cG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG4vKiBjOCBpZ25vcmUgc3RvcCAqL1xubWluaW1hdGNoLkFTVCA9IEFTVDtcbm1pbmltYXRjaC5NaW5pbWF0Y2ggPSBNaW5pbWF0Y2g7XG5taW5pbWF0Y2guZXNjYXBlID0gZXNjYXBlO1xubWluaW1hdGNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgdHlwZSB7IENhY2hlUmVtb3RlLCBSZW1vdGVNYXRjaGVyIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IHJlcXVlc3RVcmwgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IFVSTCB9IGZyb20gJ29ic2lkaWFuLWZuYydcbmltcG9ydCB7IEltYWdlRXJyb3IgfSBmcm9tICcuL0ltYWdlRXJyb3InXG5pbXBvcnQgeyBjb21wYXJlQnlTcGVjaWZpY2l0eSwgZ2V0TWltZUV4dCB9IGZyb20gJy4vc3RyaW5ncydcblxuLyoqIEVuc3VyZXMgdW5pcXVlbmVzcyBhbmQgb3JkZXIgb2YgYSBsaXN0IG9mIHJlbW90ZXMuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJlbW90ZXMocmVtb3RlczogQ2FjaGVSZW1vdGVbXSk6IENhY2hlUmVtb3RlW10ge1xuICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZVJlbW90ZVtdXG4gIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgLy8ga2VlcCBvbmx5IGZpcnN0IGFwcGVyZW5jZXNcbiAgZm9yIChjb25zdCBhIG9mIHJlbW90ZXMpIHtcbiAgICBpZiAocmVzdWx0LmV2ZXJ5KChiKSA9PiBiLnBhdHRlcm4gIT09IGEucGF0dGVybikpIHtcbiAgICAgIGlmIChhLnBhdHRlcm4gPT09ICcqJykgaGFzRmFsbGJhY2sgPSB0cnVlXG4gICAgICByZXN1bHQucHVzaChhKVxuICAgIH1cbiAgfVxuXG4gIGlmICghaGFzRmFsbGJhY2spIHJlc3VsdC5wdXNoKHsgcGF0dGVybjogJyonLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcbiAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbi8qKiBTZXJpYWxpemUgcmVtb3RlcyBhcyBhbiBzdHJpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogc3RyaW5nIHtcbiAgcmV0dXJuIHJlbW90ZXNcbiAgICAubWFwKCh7IHdoaXRlbGlzdGVkLCBwYXR0ZXJuIH0pID0+IHtcbiAgICAgIHJldHVybiBgJHt3aGl0ZWxpc3RlZCA/ICd3JyA6ICdiJ30gJHtwYXR0ZXJufWBcbiAgICB9KVxuICAgIC5qb2luKCdcXG4nKVxufVxuXG4vKipcbiAqIFBhcnNlcyBhIHJlbW90ZSBzdHJpbmcsIGtlZXBpbmcgd2hpdGVsaXN0ZWQgc3RhdHVzIGlmIHByZXNlbnQuXG4gKiAtIGAndyBleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIHRydWVdYFxuICogLSBgJ2IgZXhhbXBsZS5jb20nYCDihpIgYFsnZXhhbXBsZS5jb20nLCBmYWxzZV1gXG4gKiAtIGAnZXhhbXBsZS5jb20nYCDihpIgYFsnZXhhbXBsZS5jb20nLCB1bmRlZmluZWRdYFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZW1vdGUoc291cmNlOiBzdHJpbmcpOiBbc3RyaW5nLCBib29sZWFuIHwgdW5kZWZpbmVkXSB7XG4gIGlmICghL1xccysvLnRlc3Qoc291cmNlKSkgcmV0dXJuIFtzb3VyY2UsIHVuZGVmaW5lZF1cblxuICBjb25zdCBwYXJ0cyA9IHNvdXJjZS5zcGxpdCgvXFxzKy9nKVxuICBpZiAocGFydHNbMF0uc3RhcnRzV2l0aCgndycpKSByZXR1cm4gW3BhcnRzWzFdLCB0cnVlXVxuICBpZiAocGFydHNbMF0uc3RhcnRzV2l0aCgnYicpKSByZXR1cm4gW3BhcnRzWzFdLCBmYWxzZV1cbiAgcmV0dXJuIFtwYXJ0c1sxXSwgdW5kZWZpbmVkXVxufVxuXG4vKiogU3BsaXRzIGEgcmVtb3RlcyBzdHJpbmcsIGtlZXBpbmcgcHJldmlvdXMgc3RhdGVzIHdoZW4gcG9zaWJsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbW90ZXMoXG4gIHJlbW90ZXM6IENhY2hlUmVtb3RlW10sXG4gIHNvdXJjZXM6IHN0cmluZyxcbik6IENhY2hlUmVtb3RlW10ge1xuICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZVJlbW90ZVtdXG4gIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgLy8gb25lIHJlbW90ZSBwZXItbGluZVxuICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgY29uc3QgW3BhdHRlcm4sIHddID0gcGFyc2VSZW1vdGUoc291cmNlKVxuICAgIGlmIChwYXR0ZXJuID09PSAnKicpIGhhc0ZhbGxiYWNrID0gdHJ1ZVxuXG4gICAgLy8gaWdub3JlIGR1cGxpY2F0ZWQgZW50cmllc1xuICAgIGlmIChyZXN1bHQuc29tZSgoYikgPT4gYi5wYXR0ZXJuID09PSBwYXR0ZXJuKSkgY29udGludWVcblxuICAgIC8vIGlmIGhhcyB3aGl0ZWxpc3RlZCBkZWZpbml0aW9uLCB1c2UgaXRcbiAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiB3IH0pXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIHNlYXJjaCBwcmV2aW91cyBkZWZpbml0aW9uXG4gICAgZm9yIChjb25zdCBzIG9mIHJlbW90ZXMpIHtcbiAgICAgIC8vIHRyeSB0byBtYXRjaCBzYW1lIHBhdHRlcm5zXG4gICAgICBpZiAocGF0dGVybiA9PT0gcy5wYXR0ZXJuKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgLy8gdHJ5IHRvIG1hdGNoIG9ubHkgd2l0aCBhIGRpZmVyZW5jZSBvZiBvbmUgY2hhcmFjdGVyXG4gICAgICBpZiAoTWF0aC5hYnMocGF0dGVybi5sZW5ndGggLSBzLnBhdHRlcm4ubGVuZ3RoKSAhPT0gMSkgY29udGludWVcblxuICAgICAgLy8gdHJ5IHRvIG1hdGNoIHRoZSBwYXR0ZXJuc1xuICAgICAgaWYgKHMucGF0dGVybi5zdGFydHNXaXRoKHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIGV4YW1wbGUuY29tL3BhdGggPT4gZXhhbXBsZS5jb20vcGF0XG4gICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSBpZiAocGF0dGVybi5zdGFydHNXaXRoKHMucGF0dGVybikpIHtcbiAgICAgICAgLy8gZXhhbXBsZS5jb20vcGF0aCA9PiBleGFtcGxlLmNvbS9wYXRoc1xuICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBzLndoaXRlbGlzdGVkIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmFsbGJhY2sgYmVoYXZpb3JcbiAgICBpZiAoIXJlc3VsdC5zb21lKChiKSA9PiBiLnBhdHRlcm4gPT09IHBhdHRlcm4pKSB7XG4gICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBmYWxzZSB9KVxuICAgIH1cbiAgfVxuXG4gIGlmICghaGFzRmFsbGJhY2spIHJlc3VsdC5wdXNoKHsgcGF0dGVybjogJyonLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcblxuICAvLyBzb3J0aW5nXG4gIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG4vKiogRGV0ZWN0cyBwb3NpYmxlIHByb2JsZW1zIHdpdGggdGhlIHVzZXIgZGVmaW5lZCByZW1vdGVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmVtb3Rlcyhzb3VyY2VzOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHByb2JsZW1zOiBzdHJpbmdbXSA9IFtdXG4gIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgLy8gb25lIHJlbW90ZSBwZXItbGluZVxuICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgY29uc3QgdHJpbW1lZCA9IHNvdXJjZS50cmltKCkucmVwbGFjZSgvXlt3Yl1cXHMrLywgJycpXG4gICAgaWYgKHRyaW1tZWQgPT09ICcqJykge1xuICAgICAgaGFzRmFsbGJhY2sgPSB0cnVlXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmICgvXlxcdys6L2dpLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgIHByb2JsZW1zLnB1c2goXCJyZW1vdmUgcHJvdG9jb2xzLCBleDogJ2h0dHA6Ly8nXCIpXG4gICAgfVxuICAgIGlmICghL14oXFx3K1xcLikrXFx3Ky8udGVzdCh0cmltbWVkKSkge1xuICAgICAgcHJvYmxlbXMucHVzaChcInNob3VsZCBpbmNsdWRlIGRvbWFpbiwgZXg6ICdleGFtcGxlLm9yZy9wYXRoJ1wiKVxuICAgIH1cbiAgfVxuXG4gIGlmICghaGFzRmFsbGJhY2spIHByb2JsZW1zLnVuc2hpZnQoXCJzaG91bGQgaW5jbHVkZSBhIGZhbGxiYWNrICcqJ1wiKVxuXG4gIHJldHVybiBwcm9ibGVtc1xufVxuXG4vKiogR2VuZXJhdGVzIGEgbWF0Y2hlciwgdGhhdCBkZXRlY3RzIHRoZSBwcmVzZW5jZSBvZiBhbiBVUkwgcGFyYW0uICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJlbW90ZU1hdGNoZXIoXG4gIHVybF9wYXJhbSA9ICdmYWxsYmFja19wYXJhbScsXG4pOiBSZW1vdGVNYXRjaGVyIHtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCdbPyZdJyArIHVybF9wYXJhbSArICcoWyY9XFxcXHNdfCQpJywgJ2knKVxuICByZXR1cm4gKHJlbW90ZTogc3RyaW5nKSA9PiByZWdleC50ZXN0KHJlbW90ZSlcbn1cblxuLyoqIFJlcXVlc3QgdGhlIG1ldGFkYXRhIG9mIGEgZmlsZSwgdG8gZGV0ZXJtaW5lIHRoZSBmaWxlIGV4dGVuc2lvbi4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVFeHQodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZWZlcmVyID0gVVJMLmdldE9yaWdpbih1cmwpXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgdXJsOiB1cmwsXG4gICAgdGhyb3c6IGZhbHNlLFxuICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogcmVmZXJlciA/IHJlZmVyZXIgKyAnLycgOiAnJyB9LFxuICB9KVxuXG4gIEltYWdlRXJyb3IuYXNzZXJ0UmVzcG9uc2UodXJsLCByZXNwb25zZSwgJ3VybC1yZXF1ZXN0LWhlYWQnKVxuICByZXR1cm4gZ2V0TWltZUV4dChyZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSlcbn1cblxuLyoqIERvd25sb2FkcyB0aGUgY29udGVudCBvZiBhIGZpbGUuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVtb3RlQ29udGVudCh1cmw6IHN0cmluZyk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgY29uc3QgcmVmZXJlciA9IFVSTC5nZXRPcmlnaW4odXJsKVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgIHVybDogdXJsLFxuICAgIHRocm93OiBmYWxzZSxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogcmVmZXJlciA/IHJlZmVyZXIgKyAnLycgOiAnJyB9LFxuICB9KVxuXG4gIEltYWdlRXJyb3IuYXNzZXJ0UmVzcG9uc2UodXJsLCByZXNwb25zZSwgJ3VybC1yZXF1ZXN0LWdldCcpXG4gIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlclxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVNYXRjaGVyIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IFVSSSB9IGZyb20gJ29ic2lkaWFuLWZuYydcbmltcG9ydCB7IG1pbmltYXRjaCB9IGZyb20gJ21pbmltYXRjaCdcbmltcG9ydCB7IGNvbXBhcmVCeVNwZWNpZmljaXR5IH0gZnJvbSAnLi9zdHJpbmdzJ1xuaW1wb3J0IHsgcHJlcGFyZVJlbW90ZXMgfSBmcm9tICcuL3JlbW90ZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnTWF0Y2hlcnMoY29uZmlnczogQ2FjaGVDb25maWdbXSk6IENhY2hlTWF0Y2hlcltdIHtcbiAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25maWcpID0+IHtcbiAgICAvLyBkZWZhdWx0OiBhbG9uZ3NpZGUgdGhlIG5vdGVcbiAgICBsZXQgcmVzb2x2ZSA9IChfcGF0aDogc3RyaW5nKSA9PiBVUkkuZ2V0UGFyZW50KF9wYXRoKVxuICAgIHN3aXRjaCAoY29uZmlnLm1vZGUpIHtcbiAgICAgIGNhc2UgJ05PVEUtRk9MREVSJzogLy8gYWxvbmdzaWRlIHRoZSBub3RlIGluIGEgc3ViZm9sZGVyIHdpdGggdGhlIHRhcmdldFBhdGggYXMgbmFtZVxuICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgVVJJLmpvaW4oVVJJLmdldFBhcmVudChfcGF0aCksIGNvbmZpZy50YXJnZXQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdUQVJHRVQtUEFUSCc6IC8vIGluc2lkZSB0aGUgdGFyZ2V0UGF0aCByZXBsYXRpbmcgdGhlIG5vdGUtcGF0aCwgd2l0aG91dCBgLm1kYFxuICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgVVJJLmpvaW4oY29uZmlnLnRhcmdldCwgVVJJLnJlbW92ZUV4dChfcGF0aCkpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdUQVJHRVQtTk9URSc6IC8vIGluc2lkZSB0aGUgdGFyZ2V0UGF0aCBpbiBhIGZvbGRlciBuYW1lZCBhcyB0aGUgbm90ZSwgd2l0aG91dCBgLm1kYFxuICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgVVJJLmpvaW4oY29uZmlnLnRhcmdldCwgVVJJLmdldEJhc2VuYW1lKF9wYXRoKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1RBUkdFVCc6IC8vIGRpcmVjdGx5IGluc2lkZSB0aGUgdGFyZ2V0UGF0aFxuICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+IGNvbmZpZy50YXJnZXRcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXN0UGF0aCA9XG4gICAgICBjb25maWcucGF0dGVybiAhPT0gJyonXG4gICAgICAgID8gKF9ub3RlcGF0aDogc3RyaW5nKSA9PiBtaW5pbWF0Y2goX25vdGVwYXRoLCBjb25maWcucGF0dGVybilcbiAgICAgICAgOiAoX25vdGVwYXRoOiBzdHJpbmcpID0+IHRydWVcbiAgICBjb25zdCB0ZXN0UmVtb3RlID0gKF9yZW1vdGU6IHN0cmluZykgPT4ge1xuICAgICAgZm9yIChjb25zdCB7IHBhdHRlcm4sIHdoaXRlbGlzdGVkIH0gb2YgY29uZmlnLnJlbW90ZXMpIHtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgIGlmIChuZXcgUmVnRXhwKCdeaHR0cHM/Oi8vKFxcXFx3K1xcXFwuKSonICsgcGF0dGVybiwgJ2cnKS50ZXN0KF9yZW1vdGUpKSB7XG4gICAgICAgICAgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IE9iamVjdC5mcmVlemUoY29uZmlnKSxcbiAgICAgIGlzRW5hYmxlZDogKCkgPT4gY29uZmlnLmVuYWJsZWQsXG4gICAgICB0ZXN0UmVtb3RlLFxuICAgICAgdGVzdFBhdGgsXG4gICAgICByZXNvbHZlLFxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVDb25maWdzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZUNvbmZpZ1tdIHtcbiAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVDb25maWdbXVxuXG4gIGZvciAoY29uc3QgYSBvZiBjb25maWdzKSB7XG4gICAgLy8gaWYgaXMgdW5pcXVlLCBrZWVwIGl0XG4gICAgY29uc3QgYkluZGV4ID0gcmVzdWx0LmZpbmRJbmRleCgoYikgPT4gYi5wYXR0ZXJuID09PSBhLnBhdHRlcm4pXG4gICAgaWYgKGJJbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIGVuc3VyZSByZW1vdGVzIGFyZSBzb3J0ZWRcbiAgICAgIHJlc3VsdC5wdXNoKHsgLi4uYSwgcmVtb3RlczogcHJlcGFyZVJlbW90ZXMoYS5yZW1vdGVzKSB9KVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICAvLyB3aGVuIGR1cGxpY2F0ZXMsIGtlZXAgdGhlIG1vcmUgc3BlY2lmaWMgb25lXG4gICAgaWYgKGEucmVtb3Rlcy5sZW5ndGggPiByZXN1bHRbYkluZGV4XS5yZW1vdGVzLmxlbmd0aCkge1xuICAgICAgLy8gZW5zdXJlIHJlbW90ZXMgYXJlIHNvcnRlZFxuICAgICAgcmVzdWx0W2JJbmRleF0gPSB7IC4uLmEsIHJlbW90ZXM6IHByZXBhcmVSZW1vdGVzKGEucmVtb3RlcykgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGVuc3VyZSBzb3J0aW5nIG9mIHBhdGhzXG4gIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQYXR0ZXJuKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10sIF92YWx1ZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICBpZiAoIV92YWx1ZSkgcmV0dXJuIFsnaW52YWxpZCBwYXR0ZXJuJ11cbiAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgIGlmIChjb25maWcucGF0dGVybiA9PT0gX3ZhbHVlKSByZXR1cm4gW2BkdXBsaWNhdGVkIHBhdHRlcm4gJyR7X3ZhbHVlfSdgXVxuICB9XG4gIHJldHVybiBbXVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVNb2RlLCBDYWNoZVJlbW90ZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgVGV4dENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgY2hlY2tSZW1vdGVzLCBwYXJzZVJlbW90ZXMsIHNlcmlhbGl6ZVJlbW90ZXMgfSBmcm9tICdAL3V0aWxpdHknXG5cbnR5cGUgRXZlbnRDYWxsYmFjayA9IChjYWNoZTogQ2FjaGVDb25maWcpID0+IHZvaWRcblxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBNT0RFUzogUmVjb3JkPENhY2hlTW9kZSwgc3RyaW5nPiA9IHtcbiAgJ05PVEUnOiAvKiAgKi8gJ0F0dGFjaG1lbnRzIG5leHQgdG8gdGhlIE5vdGUnLFxuICAnTk9URS1GT0xERVInOiAnQXR0YWNobWVudHMgb24gU3ViZm9sZGVyJyxcbiAgJ1RBUkdFVCc6IC8qKi8gJ0F0dGFjaG1lbnRzIG9uIENhY2hlIEZvbGRlcicsXG4gICdUQVJHRVQtTk9URSc6ICdBdHRhY2htZW50cyBvbiBDYWNoZSBOb3RlIEZvbGRlcicsXG4gICdUQVJHRVQtUEFUSCc6ICdBdHRhY2htZW50cyBvbiBDYWNoZSBOb3RlIFBhdGgnLFxufVxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBNT0RFU19ERVNDOiBSZWNvcmQ8Q2FjaGVNb2RlLCBzdHJpbmc+ID0ge1xuICAnTk9URSc6IC8qICAqLyAnU3RvcmUgaW4gdGhlIHNhbWUgZm9sZGVyIGFzIHRoZSBub3RlJyxcbiAgJ05PVEUtRk9MREVSJzogJ1N0b3JlIG5leHQgdG8gdGhlIG5vdGUgaW4gc3ViZm9sZGVyICcsXG4gICdUQVJHRVQnOiAvKiovICdTdG9yZSBpbiBmb2xkZXIgJyxcbiAgJ1RBUkdFVC1OT1RFJzogJ1N0b3JlIGluIHN1YmZvbGRlciB3aXRoIHRoZSBub3RlLW5hbWUgdW5kZXIgJyxcbiAgJ1RBUkdFVC1QQVRIJzogJ1N0b3JlIGluIGEgcmVwbGF0ZWQgbm90ZS1wYXRoIHVuZGVyICcsXG59XG5cbmV4cG9ydCBjbGFzcyBDYWNoZVNldHRpbmdzIHtcbiAgI2NhY2hlOiBDYWNoZUNvbmZpZ1xuICAjY2FjaGVIZWFkZXI6IFNldHRpbmdcbiAgI2NhY2hlRGV0YWlsczogSFRNTEVsZW1lbnRcbiAgI2NhY2hlUmVtb3RlczogSFRNTEVsZW1lbnRcbiAgI3JlbW90ZXNUZXh0PzogVGV4dEFyZWFDb21wb25lbnRcblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgY29uc3RydWN0b3IocGFyZW50OiBIVE1MRWxlbWVudCwgY2FjaGU6IENhY2hlQ29uZmlnKSB7XG4gICAgLy8gY2xvbmVkIHRvIGNvbnRyb2wgZmxvdyBvZiB1cGRhdGVzXG4gICAgdGhpcy4jY2FjaGUgPSB7IC4uLmNhY2hlLCByZW1vdGVzOiBbLi4uY2FjaGUucmVtb3Rlc10gfVxuXG4gICAgdGhpcy4jY2FjaGVIZWFkZXIgPSBuZXcgU2V0dGluZyhwYXJlbnQpXG4gICAgdGhpcy4jY2FjaGVEZXRhaWxzID0gdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtZGV0YWlscycpXG4gICAgdGhpcy4jY2FjaGVSZW1vdGVzID0gdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtcmVtb3RlcycpXG5cbiAgICB0aGlzLiNkaXNwbGF5Q2FjaGVIZWFkZXIoKVxuICAgIHRoaXMuI2Rpc3BsYXlDYWNoZURldGFpbHMoKVxuICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICB9XG5cbiAgI2NhY2hlTmFtZSgpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoKGRpdikgPT4ge1xuICAgICAgZGl2LmFwcGVuZChgJHt0aGlzLiNjYWNoZS5lbmFibGVkID8gJ0VuYWJsZWQnIDogJ0Rpc2FibGVkJ30gcGF0aDogYClcbiAgICAgIGRpdi5jcmVhdGVFbCgnY29kZScpLmFwcGVuZFRleHQodGhpcy4jY2FjaGUucGF0dGVybilcbiAgICB9KVxuICB9XG4gICNjYWNoZURlc2MoKTogRG9jdW1lbnRGcmFnbWVudCB8IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuI2NhY2hlLm1vZGUgPT09ICdOT1RFJykgcmV0dXJuIE1PREVTX0RFU0MuTk9URVxuICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICBkaXYuYXBwZW5kKE1PREVTX0RFU0NbdGhpcy4jY2FjaGUubW9kZV0pXG4gICAgICBkaXYuY3JlYXRlRWwoJ2NvZGUnKS5hcHBlbmRUZXh0KHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICB9KVxuICB9XG4gICNkaXNwbGF5Q2FjaGVIZWFkZXIoKTogdm9pZCB7XG4gICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0TmFtZSh0aGlzLiNjYWNoZU5hbWUoKSlcbiAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXREZXNjKHRoaXMuI2NhY2hlRGVzYygpKVxuXG4gICAgaWYgKHRoaXMuI2NhY2hlLnBhdHRlcm4gIT09ICcqJykge1xuICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uc2V0SWNvbigndHJhc2gtMicpLnNldFRvb2x0aXAoJ1JlbW92ZScpXG4gICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy4jY2FjaGUucGF0dGVybiA9PT0gJyonKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJmYWxsYmFjayBjb25maWcoJyonKSBjYW4ndCBiZSByZW1vdmVkXCIpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5jbGVhcigpXG4gICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLnJlbW92ZSgpXG4gICAgICAgICAgdGhpcy4jaW52b2tlUmVtb3ZlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuI2NhY2hlSGVhZGVyLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy4jY2FjaGUuZW5hYmxlZClcbiAgICAgIHRvZ2dsZS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy4jY2FjaGUuZW5hYmxlZCA9IHZhbHVlXG4gICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0TmFtZSh0aGlzLiNjYWNoZU5hbWUoKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICB0aGlzLiNjYWNoZUhlYWRlci5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICBsZXQgdmlzaWJsZSA9IGZhbHNlXG4gICAgICBidXR0b24uc2V0SWNvbignY2hldnJvbi1kb3duJykuc2V0VG9vbHRpcCgnRGV0YWlscycpXG4gICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgIHZpc2libGUgPSAhdmlzaWJsZVxuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLXVwJylcbiAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwuYWRkQ2xhc3MoJ3Nob3ctZGV0YWlscycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnV0dG9uLnNldEljb24oJ2NoZXZyb24tZG93bicpXG4gICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLnJlbW92ZUNsYXNzKCdzaG93LWRldGFpbHMnKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAjdGFyZ2V0RGVzYygpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoKGRpdikgPT4ge1xuICAgICAgZGl2LmFwcGVuZCgnQXR0YWNobWVudHMgc3RvcmFnZSBwYXRoLCBleDonKVxuXG4gICAgICBjb25zdCB1bCA9IGRpdi5jcmVhdGVFbCgndWwnKVxuICAgICAgY29uc3Qgbm90ZSA9IHVsLmNyZWF0ZUVsKCdsaScpXG4gICAgICBub3RlLmFwcGVuZChcIk5vdGU6ICdcIilcbiAgICAgIG5vdGUuY3JlYXRlRWwoJ2InKS5hcHBlbmRUZXh0KCdmb2xkZXIvbm90ZTEubWQnKVxuICAgICAgbm90ZS5hcHBlbmQoXCInXCIpXG5cbiAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB1bC5jcmVhdGVFbCgnbGknKVxuICAgICAgYXR0YWNobWVudC5hcHBlbmQoXCJBdHRhY2htZW50OiAnXCIpXG4gICAgICBjb25zdCBiID0gYXR0YWNobWVudC5jcmVhdGVFbCgnYicpXG5cbiAgICAgIGNvbnN0IHsgbW9kZSwgdGFyZ2V0IH0gPSB0aGlzLiNjYWNoZVxuICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICBpZiAobW9kZSA9PT0gJ05PVEUnKSAvKiAgICAgICAqLyBiLmFwcGVuZFRleHQoYGZvbGRlci9pbWcxLmpwZ2ApXG4gICAgICBlbHNlIGlmIChtb2RlID09PSAnTk9URS1GT0xERVInKSBiLmFwcGVuZFRleHQoYGZvbGRlci8ke3RhcmdldH0vaW1nMS5qcGdgKVxuICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ1RBUkdFVCcpIC8qKi8gYi5hcHBlbmRUZXh0KGAke3RhcmdldH0vaW1nMS5qcGdgKVxuICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ1RBUkdFVC1OT1RFJykgYi5hcHBlbmRUZXh0KGAke3RhcmdldH0vbm90ZTEvaW1nMS5qcGdgKVxuICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ1RBUkdFVC1QQVRIJykgYi5hcHBlbmRUZXh0KGAke3RhcmdldH0vZm9sZGVyL25vdGUxL2ltZzEuanBnYClcbiAgICAgIGF0dGFjaG1lbnQuYXBwZW5kKFwiJ1wiKVxuICAgIH0pXG4gIH1cbiAgI2Rpc3BsYXlDYWNoZURldGFpbHMoKTogdm9pZCB7XG4gICAgbGV0IHRhcmdldElucHV0OiBUZXh0Q29tcG9uZW50IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG5cbiAgICBjb25zdCBjYWNoZVNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLiNjYWNoZURldGFpbHMpXG4gICAgY2FjaGVTZXR0aW5nLnNldE5hbWUoJ0F0dGFjaG1lbnRzIFN0b3JhZ2UnKVxuICAgIGNhY2hlU2V0dGluZy5zZXREZXNjKHRoaXMuI3RhcmdldERlc2MoKSlcbiAgICBjYWNoZVNldHRpbmcuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICBkcm9wZG93bi5hZGRPcHRpb25zKE1PREVTKVxuICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy4jY2FjaGUubW9kZSlcbiAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLiNjYWNoZS5tb2RlID0gdmFsdWUgYXMgQ2FjaGVNb2RlXG4gICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgY2FjaGVTZXR0aW5nLnNldERlc2ModGhpcy4jdGFyZ2V0RGVzYygpKVxuICAgICAgICBpZiAodGhpcy4jY2FjaGUubW9kZSA9PT0gJ05PVEUnKSB7XG4gICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldERpc2FibGVkKHRydWUpXG4gICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldFZhbHVlKCcnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldElucHV0Py5zZXREaXNhYmxlZChmYWxzZSlcbiAgICAgICAgICB0YXJnZXRJbnB1dD8uc2V0VmFsdWUodGhpcy4jY2FjaGUudGFyZ2V0KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgY2FjaGVTZXR0aW5nLmFkZFRleHQoKGlucHV0KSA9PiB7XG4gICAgICB0YXJnZXRJbnB1dCA9IGlucHV0XG4gICAgICBpZiAodGhpcy4jY2FjaGUubW9kZSA9PT0gJ05PVEUnKSBpbnB1dC5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgZWxzZSBpbnB1dC5zZXRWYWx1ZSh0aGlzLiNjYWNoZS50YXJnZXQpXG4gICAgICBpbnB1dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy4jY2FjaGUudGFyZ2V0ID0gdmFsdWVcbiAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICBjYWNoZVNldHRpbmcuc2V0RGVzYyh0aGlzLiN0YXJnZXREZXNjKCkpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBjb25zdCByZW1vdGVzRGVzYyA9IGNyZWF0ZUZyYWdtZW50KClcbiAgICBjb25zdCByZW1vdGVzRGVzY1VsID0gcmVtb3Rlc0Rlc2MuY3JlYXRlRWwoJ3VsJylcbiAgICBjb25zdCByZW1vdGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICByZW1vdGVzU2V0dGluZy5zZXRDbGFzcygncmVtb3Rlcy1pbnB1dCcpXG4gICAgcmVtb3Rlc1NldHRpbmcuc2V0TmFtZSgnUmVtb3RlcyBMaXN0JylcbiAgICByZW1vdGVzU2V0dGluZy5zZXREZXNjKHJlbW90ZXNEZXNjKVxuICAgIHJlbW90ZXNTZXR0aW5nLmFkZFRleHRBcmVhKCh0ZXh0YXJlYSkgPT4ge1xuICAgICAgdGhpcy4jcmVtb3Rlc1RleHQgPSB0ZXh0YXJlYVxuICAgICAgdGV4dGFyZWEuc2V0VmFsdWUoc2VyaWFsaXplUmVtb3Rlcyh0aGlzLiNjYWNoZS5yZW1vdGVzKSlcbiAgICAgIHRleHRhcmVhLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBoYW5kbGUgdmFsaWRhdGlvblxuICAgICAgICByZW1vdGVzRGVzY1VsLmVtcHR5KClcbiAgICAgICAgY29uc3QgcHJvYmxlbXMgPSBjaGVja1JlbW90ZXModmFsdWUpXG4gICAgICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcHJvYmxlbXMuZm9yRWFjaCgocCkgPT4gcmVtb3Rlc0Rlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jY2FjaGUucmVtb3RlcyA9IHBhcnNlUmVtb3Rlcyh0aGlzLiNjYWNoZS5yZW1vdGVzLCB2YWx1ZSlcbiAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlUmVtb3RlcygpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAjcmVtb3RlTmFtZShyOiBDYWNoZVJlbW90ZSk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICBkaXYuYXBwZW5kKGAke3Iud2hpdGVsaXN0ZWQgPyAnV2hpdGVsaXN0ZWQnIDogJ0JsYWNrbGlzdGVkJ30gcmVtb3RlOiBgKVxuICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJykuYXBwZW5kVGV4dChyLnBhdHRlcm4pXG4gICAgfSlcbiAgfVxuICAjZGlzcGxheUNhY2hlUmVtb3RlcygpOiB2b2lkIHtcbiAgICB0aGlzLiNjYWNoZVJlbW90ZXMuZW1wdHkoKVxuXG4gICAgZm9yIChjb25zdCByZW1vdGUgb2YgdGhpcy4jY2FjaGUucmVtb3Rlcykge1xuICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlUmVtb3RlcylcbiAgICAgIHNldHRpbmcuc2V0TmFtZSh0aGlzLiNyZW1vdGVOYW1lKHJlbW90ZSkpXG5cbiAgICAgIGlmIChyZW1vdGUucGF0dGVybiAhPT0gJyonKSB7XG4gICAgICAgIHNldHRpbmcuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCd0cmFzaC0yJykuc2V0VG9vbHRpcCgnUmVtb3ZlJylcbiAgICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZW1vdGVzID0gdGhpcy4jY2FjaGUucmVtb3RlcyAvL1xuICAgICAgICAgICAgICAuZmlsdGVyKChyKSA9PiByLnBhdHRlcm4gIT09IHJlbW90ZS5wYXR0ZXJuKVxuICAgICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHNldHRpbmcuYWRkQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQocmVtb3RlLndoaXRlbGlzdGVkID8gJ0JsYWNrbGlzdCcgOiAnV2hpdGVsaXN0JylcbiAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlbW90ZXMgPSB0aGlzLiNjYWNoZS5yZW1vdGVzLm1hcCgocikgPT4ge1xuICAgICAgICAgICAgaWYgKHIucGF0dGVybiAhPT0gcmVtb3RlLnBhdHRlcm4pIHJldHVybiByXG4gICAgICAgICAgICByZXR1cm4geyAuLi5yLCB3aGl0ZWxpc3RlZDogIXIud2hpdGVsaXN0ZWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAjdXBkYXRlUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogdm9pZCB7XG4gICAgdGhpcy4jY2FjaGUucmVtb3RlcyA9IHJlbW90ZXNcbiAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuXG4gICAgdGhpcy4jcmVtb3Rlc1RleHQ/LnNldFZhbHVlKHNlcmlhbGl6ZVJlbW90ZXMocmVtb3RlcykpXG4gICAgdGhpcy4jZGlzcGxheUNhY2hlUmVtb3RlcygpXG4gIH1cblxuICAjY2hhbmdlTGlzdGVuZXJzOiBFdmVudENhbGxiYWNrW10gPSBbXVxuICAjcmVtb3ZlTGlzdGVuZXJzOiBFdmVudENhbGxiYWNrW10gPSBbXVxuXG4gICNpbnZva2VDaGFuZ2UoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiNjaGFuZ2VMaXN0ZW5lcnMpIGxpc3RlbmVyKHRoaXMuI2NhY2hlKVxuICB9XG4gICNpbnZva2VSZW1vdmUoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiNyZW1vdmVMaXN0ZW5lcnMpIGxpc3RlbmVyKHRoaXMuI2NhY2hlKVxuICB9XG5cbiAgb25DaGFuZ2UoY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spOiB0aGlzIHtcbiAgICB0aGlzLiNjaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIG9uUmVtb3ZlKGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKTogdGhpcyB7XG4gICAgdGhpcy4jcmVtb3ZlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgSW1hZ2VDYWNoaW5nUGx1Z2luLCBQbHVnaW5TZXR0aW5ncyB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQge1xuICBCdXR0b25Db21wb25lbnQsXG4gIERyb3Bkb3duQ29tcG9uZW50LFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxuICBUZXh0Q29tcG9uZW50LFxufSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IGNoZWNrUGF0dGVybiwgcHJlcGFyZUNvbmZpZ3MgfSBmcm9tICdAL3V0aWxpdHknXG5pbXBvcnQgeyBDYWNoZVNldHRpbmdzIH0gZnJvbSAnLi9DYWNoZVNldHRpbmdzJ1xuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgI3BsdWdpbjogSW1hZ2VDYWNoaW5nUGx1Z2luXG4gICNzZXR0aW5nczogUGx1Z2luU2V0dGluZ3NcblxuICAjY29uZmlnc0xpc3Q/OiBIVE1MRGl2RWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogSW1hZ2VDYWNoaW5nUGx1Z2luKSB7XG4gICAgc3VwZXIocGx1Z2luLmFwcCwgcGx1Z2luKVxuICAgIHRoaXMuI3BsdWdpbiA9IHBsdWdpblxuICAgIHRoaXMuI3NldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzXG4gIH1cblxuICBoaWRlKCkge1xuICAgIC8vIFRPRE86IHBlcnNpc3QgZGF0YVxuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KClcbiAgICB0aGlzLmNvbnRhaW5lckVsLmFkZENsYXNzKCdpbWFnZS1jYWNoaW5nLXNldHRpbmdzJylcblxuICAgIHRoaXMuI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MoKVxuXG4gICAgdGhpcy4jbmV3U2V0dGluZygpLnNldE5hbWUoJ1BhdGhzIFNldHRpbmdzJykuc2V0SGVhZGluZygpXG4gICAgdGhpcy4jZGlzcGxheUNvbmZpZ3NIZWFkZXIoKVxuICAgIHRoaXMuI2NvbmZpZ3NMaXN0ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ2NvbmZpZ3MtbGlzdCcpXG4gICAgdGhpcy4jZGlzcGxheUNvbmZpZ3NMaXN0KClcbiAgfVxuXG4gICNuZXdTZXR0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLiNuZXdTZXR0aW5nQXQodGhpcy5jb250YWluZXJFbClcbiAgfVxuXG4gICNuZXdTZXR0aW5nQXQoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gIH1cblxuICAjZGlzcGxheUdlbmVyYWxTZXR0aW5ncygpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFyc1NldHRpbmcgPSB0aGlzLiNuZXdTZXR0aW5nKClcbiAgICBjaGFyc1NldHRpbmcuc2V0TmFtZSgnS2VlcCBTcGVjaWFsIENoYXJhY3RlcnMnKVxuICAgIGNoYXJzU2V0dGluZy5zZXREZXNjKCdJZiB5b3UgYXJlIGhhdmluZyBwcm9ibGVtcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycyBvbiBpbWFnZSBwYXRocywgZGlzYWJsZSB0aGlzIHNldHRpbmcuJylcbiAgICBjaGFyc1NldHRpbmcuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLiNzZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzKVxuICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdhbGxvd19jaGFyYWN0ZXJzJykpXG4gICAgfSlcblxuICAgIC8vI3JlZ2lvbiBVUkwgcGFyYW1zXG4gICAgY29uc3QgdXJsY2FjaGVTZXR0aW5nID0gdGhpcy4jbmV3U2V0dGluZygpXG4gICAgdXJsY2FjaGVTZXR0aW5nLnNldE5hbWUoJ1VSTCBQYXJhbSBDYWNoZScpXG4gICAgdXJsY2FjaGVTZXR0aW5nLnNldERlc2MoJ092ZXJyaWRlcyBzdGFuZGFyZCBydWxlcyBhbmQgc3RvcmVzIHRoZSBmaWxlLicpXG4gICAgdXJsY2FjaGVTZXR0aW5nLmFkZFRleHQoKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5zZXRWYWx1ZSh0aGlzLiNzZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpXG4gICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2NhY2hlJykpXG4gICAgfSlcbiAgICBjb25zdCB1cmxpZ25vcmVTZXR0aW5nID0gdGhpcy4jbmV3U2V0dGluZygpXG4gICAgdXJsaWdub3JlU2V0dGluZy5zZXROYW1lKCdVUkwgUGFyYW0gSWdub3JlJylcbiAgICB1cmxpZ25vcmVTZXR0aW5nLnNldERlc2MoJ092ZXJyaWRlcyBzdGFuZGFyZCBydWxlcyBhbmQgaWdub3JlcyB0aGUgZmlsZS4nKVxuICAgIHVybGlnbm9yZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3NldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpXG4gICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2lnbm9yZScpKVxuICAgIH0pXG4gICAgLy8jZW5kcmVnaW9uXG4gIH1cblxuICAjZGlzcGxheUNvbmZpZ3NIZWFkZXIoKTogdm9pZCB7XG4gICAgbGV0IHBhdHRlcm5JbnB1dDogVGV4dENvbXBvbmVudCB8IG51bGwgPSBudWxsXG4gICAgbGV0IHNvdXJjZURyb3Bkb3duOiBEcm9wZG93bkNvbXBvbmVudCB8IG51bGwgPSBudWxsXG4gICAgbGV0IGR1cGxpY2F0ZUJ1dHRvbjogQnV0dG9uQ29tcG9uZW50IHwgbnVsbCA9IG51bGxcblxuICAgIGNvbnN0IGhlYWRlckRlc2MgPSBjcmVhdGVGcmFnbWVudCgpXG4gICAgY29uc3QgaGVhZGVyRGVzY1VsID0gaGVhZGVyRGVzYy5jcmVhdGVFbCgndWwnKVxuXG4gICAgY29uc3QgaGVhZGVyRWwgPSB0aGlzLiNuZXdTZXR0aW5nKClcbiAgICBoZWFkZXJFbC5zZXRDbGFzcygnY29uZmlncy1oZWFkZXInKVxuICAgIGhlYWRlckVsLnNldE5hbWUoJ0R1cGxpY2F0ZSBWYXVsdCBQYXRoJylcbiAgICBoZWFkZXJFbC5zZXREZXNjKGhlYWRlckRlc2MpXG4gICAgaGVhZGVyRWwuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgIHBhdHRlcm5JbnB1dCA9IGlucHV0XG4gICAgICBpbnB1dC5zZXRQbGFjZWhvbGRlcignZ2xvYjogKiovKi5tZCcpXG4gICAgICBpbnB1dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgaGVhZGVyRGVzY1VsLmVtcHR5KClcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGR1cGxpY2F0ZUJ1dHRvbj8uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB2YWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IHByb2JsZW1zID0gY2hlY2tQYXR0ZXJuKHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MsIHZhbHVlKVxuICAgICAgICBpZiAocHJvYmxlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHByb2JsZW1zLmZvckVhY2goKHApID0+IGhlYWRlckRlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGR1cGxpY2F0ZUJ1dHRvbj8uc2V0RGlzYWJsZWQocHJvYmxlbXMubGVuZ3RoID4gMClcbiAgICAgIH0pXG4gICAgfSlcbiAgICBoZWFkZXJFbC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgIHNvdXJjZURyb3Bkb3duID0gZHJvcGRvd25cbiAgICAgIGRyb3Bkb3duLnNldFZhbHVlKCcqJylcbiAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKGNvbmZpZy5wYXR0ZXJuLCBjb25maWcucGF0dGVybilcbiAgICAgIH1cbiAgICB9KVxuICAgIGhlYWRlckVsLmFkZEJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICBkdXBsaWNhdGVCdXR0b24gPSBidXR0b25cbiAgICAgIGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdEdXBsaWNhdGUnKVxuICAgICAgYnV0dG9uLnNldERpc2FibGVkKHRydWUpXG4gICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybklucHV0Py5nZXRWYWx1ZSgpXG4gICAgICAgIGNvbnN0IHJlZiA9IHNvdXJjZURyb3Bkb3duPy5nZXRWYWx1ZSgpIHx8ICcqJ1xuXG4gICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MuZmluZCgoaSkgPT4gaS5wYXR0ZXJuID09PSByZWYpXG4gICAgICAgIGlmICghbWF0Y2ggfHwgIXNyYykge1xuICAgICAgICAgIGNvbnNvbGUud2FybigndW5leHBlY3RlZCBzdGF0ZScpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlnc1xuICAgICAgICBjb25maWdzLnB1c2goe1xuICAgICAgICAgIHBhdHRlcm46IG1hdGNoLFxuICAgICAgICAgIHJlbW90ZXM6IHNyYy5yZW1vdGVzLFxuICAgICAgICAgIGVuYWJsZWQ6IHNyYy5lbmFibGVkLFxuICAgICAgICAgIHRhcmdldDogc3JjLnRhcmdldCxcbiAgICAgICAgICBtb2RlOiBzcmMubW9kZSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy4jdXBkYXRlQ29uZmlncyhjb25maWdzKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgI2Rpc3BsYXlDb25maWdzTGlzdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuI2NvbmZpZ3NMaXN0KSByZXR1cm5cbiAgICB0aGlzLiNjb25maWdzTGlzdC5lbXB0eSgpXG5cbiAgICBmb3IgKGNvbnN0IGNhY2hlIG9mIHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgQ2FjaGVTZXR0aW5ncyh0aGlzLiNjb25maWdzTGlzdCwgY2FjaGUpXG4gICAgICBzZXR0aW5nLm9uQ2hhbmdlKChfY2FjaGUpID0+IHtcbiAgICAgICAgLy8gcmUtcmVuZGVyIGlzIGFscmVhZHkgaGFuZGxlXG4gICAgICAgIGNvbnN0IGNvbmZpZ3MgPSB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzIC8vXG4gICAgICAgICAgLm1hcCgoYykgPT4gKGMucGF0dGVybiA9PT0gX2NhY2hlLnBhdHRlcm4gPyBfY2FjaGUgOiBjKSlcbiAgICAgICAgdGhpcy4jdXBkYXRlQ29uZmlncyhjb25maWdzKVxuICAgICAgfSlcbiAgICAgIHNldHRpbmcub25SZW1vdmUoKF9jYWNoZSkgPT4ge1xuICAgICAgICAvLyBjbGVhbiB1cCBvZiByZWRlciBpcyBhbHJlYWR5IGhhbmRsZVxuICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyAvL1xuICAgICAgICAgIC5maWx0ZXIoKGMpID0+IGMucGF0dGVybiAhPT0gX2NhY2hlLnBhdHRlcm4pXG4gICAgICAgIHRoaXMuI3VwZGF0ZUNvbmZpZ3MoY29uZmlncylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgI2hhbmRsZShrZXk6IGtleW9mIFBsdWdpblNldHRpbmdzLCB2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIC8vIEB0cy1pZ25vcmUgZHluYW1pYyBhc3NpZ25tZW50XG4gICAgdGhpcy4jc2V0dGluZ3Nba2V5XSA9IHZhbHVlXG4gICAgdGhpcy4jcGx1Z2luLnNhdmVTZXR0aW5ncygpXG4gIH1cbiAgI3VwZGF0ZUNvbmZpZ3MoY29uZmlnOiBDYWNoZUNvbmZpZ1tdKTogdm9pZCB7XG4gICAgdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGNvbmZpZylcbiAgICB0aGlzLiNwbHVnaW4uc2F2ZVNldHRpbmdzKClcbiAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBJbWFnZUNhY2hpbmdQbHVnaW4gfSBmcm9tICdAL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgTWFya2Rvd25IYW5kbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IEltYWdlQ2FjaGluZ1BsdWdpbikge31cblxuICBwdWJsaWMgcmVnaXN0ZXJNYXJrZG93blByb2Nlc3NvcigpOiB2b2lkIHtcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3NvcihcbiAgICAgIChlbGVtZW50LCBjdHgpID0+IHtcbiAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKS5mb3JFYWNoKGFzeW5jIChlbCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpLmNhY2hlKGN0eC5zb3VyY2VQYXRoLCBlbC5zcmMpXG4gICAgICAgICAgaWYgKHJlc29sdmVkKSBlbC5zcmMgPSByZXNvbHZlZFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIC8vIFRPRE86IHRlc3QgdGhpcyBwYXJhbWV0ZXJcbiAgICAgIC8vIC8qKlxuICAgICAgLy8gICogaGlnaGVyIG51bWJlciBhZmZlY3RzIGFmdGVyLFxuICAgICAgLy8gICogZW5zdXJpbmcgaXQgYWZmZWN0cyB0aGUgb3V0cHV0IG9mIG90aGVyIHByb2Nlc3NvcnNcbiAgICAgIC8vICAqLyAxMDAwMCxcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQ2FjaGVNYXRjaGVyLCBJbWFnZUNhY2hpbmdQbHVnaW4sIEltYWdlQ2FjaGluZ1BsdWdpbkFQSSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBWYXVsdCwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkksIFVSTCB9IGZyb20gJ29ic2lkaWFuLWZuYydcbmltcG9ydCB7IGdldFJlbW90ZUNvbnRlbnQsIGdldFJlbW90ZUV4dCwgSW1hZ2VFcnJvciB9IGZyb20gJy4vdXRpbGl0eSdcblxuZXhwb3J0IGNsYXNzIEltYWdlQ2FjaGluZ0FQSSBpbXBsZW1lbnRzIEltYWdlQ2FjaGluZ1BsdWdpbkFQSSB7XG4gICNsb2cgPSBuZXcgTG9nZ2VyKCdJbWFnZUNhY2hpbmdBUEknKVxuXG4gICNwbHVnaW46IEltYWdlQ2FjaGluZ1BsdWdpblxuICAjdmF1bHQ6IFZhdWx0XG5cbiAgI21lbW8gPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPigpXG5cbiAgY29uc3RydWN0b3IocGx1Z2luOiBJbWFnZUNhY2hpbmdQbHVnaW4pIHtcbiAgICB0aGlzLiNwbHVnaW4gPSBwbHVnaW5cbiAgICB0aGlzLiN2YXVsdCA9IHBsdWdpbi5hcHAudmF1bHRcbiAgfVxuXG4gICNmaW5kQ2FjaGUobm90ZXBhdGg6IHN0cmluZywgcmVtb3RlOiBzdHJpbmcpOiBDYWNoZU1hdGNoZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IG1hdGNoZXIgPSB0aGlzLiNwbHVnaW4uc3RhdGUuY2FjaGVfbWF0Y2hlcnMgLy9cbiAgICAgIC5maW5kKChtYXRjaGVyKSA9PiBtYXRjaGVyLnRlc3RQYXRoKG5vdGVwYXRoKSlcblxuICAgIC8vIG5vdC1mb3VuZCBvciBkaXNhYmxlZCBwYXRoc1xuICAgIGlmICghbWF0Y2hlcj8uaXNFbmFibGVkKCkpIHJldHVyblxuXG4gICAgLy8gcGVyLWxpbmsgb3ZlcnJpZGVzXG4gICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfaWdub3JlX21hdGNoZXIocmVtb3RlKSkgcmV0dXJuXG4gICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfY2FjaGVfbWF0Y2hlcihyZW1vdGUpKSByZXR1cm4gbWF0Y2hlclxuXG4gICAgLy8gc3RhbmRhcmQgYmVoYXZpb3JcbiAgICByZXR1cm4gbWF0Y2hlci50ZXN0UmVtb3RlKHJlbW90ZSkgPyBtYXRjaGVyIDogdW5kZWZpbmVkXG4gIH1cblxuICBtYXlDYWNoZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuI2ZpbmRDYWNoZShub3RlcGF0aCwgcmVtb3RlKVxuICB9XG5cbiAgYXN5bmMgaXNDYWNoZWQobm90ZXBhdGg6IHN0cmluZywgcmVtb3RlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHRoaXMucmVzb2x2ZShub3RlcGF0aCwgcmVtb3RlKVxuICAgIHJldHVybiByZXNvbHZlZCA/IGF3YWl0IHRoaXMuI3ZhdWx0LmFkYXB0ZXIuZXhpc3RzKHJlc29sdmVkKSA6IGZhbHNlXG4gIH1cblxuICBhc3luYyByZXNvdXJjZShcbiAgICBub3RlcGF0aDogc3RyaW5nLFxuICAgIHJlbW90ZTogc3RyaW5nLFxuICApOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgdGhpcy5yZXNvbHZlKG5vdGVwYXRoLCByZW1vdGUpXG4gICAgaWYgKCFyZXNvbHZlZCkgcmV0dXJuXG5cbiAgICBjb25zdCBmaWxlID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChyZXNvbHZlZClcbiAgICByZXR1cm4gZmlsZSA/IHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChmaWxlKSA6IHVuZGVmaW5lZFxuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgaWYgKCFVUkwuaXNVcmwocmVtb3RlKSkge1xuICAgICAgdGhyb3cgbmV3IEltYWdlRXJyb3IoJ3JlbW90ZS1uby11cmwnLCBgcmVtb3RlKCcke3JlbW90ZX0nKWApXG4gICAgfVxuXG4gICAgY29uc3QgYmFzZVVybCA9IFVSTC5nZXRCYXNldXJsKHJlbW90ZSlcbiAgICBpZiAoIWJhc2VVcmwpIHtcbiAgICAgIHRocm93IG5ldyBJbWFnZUVycm9yKCdyZW1vdGUtbm8tdXJsJywgYHJlbW90ZSgnJHtyZW1vdGV9JylgKVxuICAgIH1cblxuICAgIC8vIGZhc3RlciByZXNvbHV0aW9uXG4gICAgaWYgKHRoaXMuI21lbW8uaGFzKGJhc2VVcmwpKSByZXR1cm4gdGhpcy4jbWVtby5nZXQoYmFzZVVybClcblxuICAgIC8vIGlkZW50aWZ5IGJlaGF2aW9yXG4gICAgY29uc3QgbWF0Y2hlciA9IHRoaXMuI2ZpbmRDYWNoZShub3RlcGF0aCwgcmVtb3RlKVxuICAgIGlmICghbWF0Y2hlcikgcmV0dXJuXG5cbiAgICAvLyBlbnN1cmUgbm9ybWFsaXphdGlvblxuICAgIGNvbnN0IG5hbWUgPSBVUkkuZ2V0QmFzZW5hbWUoYmFzZVVybClcbiAgICBjb25zdCBleHQgPSBVUkkuZ2V0RXh0KGJhc2VVcmwpIHx8IChhd2FpdCBnZXRSZW1vdGVFeHQocmVtb3RlKSlcbiAgICBpZiAoIWV4dCkgdGhyb3cgbmV3IEltYWdlRXJyb3IoJ3JlbW90ZS1uby1leHQnKVxuXG4gICAgY29uc3QgcGF0aCA9IFVSSS5qb2luKG1hdGNoZXIucmVzb2x2ZShub3RlcGF0aCksIG5hbWUgKyAnLicgKyBleHQpXG4gICAgY29uc3QgcmVzID0gIXRoaXMuI3BsdWdpbi5zZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzXG4gICAgICA/IG5vcm1hbGl6ZVBhdGgoVVJJLm5vcm1hbGl6ZShwYXRoKSlcbiAgICAgIDogbm9ybWFsaXplUGF0aChwYXRoKVxuXG4gICAgLy8gc2F2ZSBmb3IgZmFzdGVyIHJlc29sdXRpb25cbiAgICB0aGlzLiNtZW1vLnNldChiYXNlVXJsLCByZXMpXG4gICAgcmV0dXJuIHJlc1xuICB9XG5cbiAgYXN5bmMgY2FjaGUobm90ZXBhdGg6IHN0cmluZywgcmVtb3RlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGxvZyA9IHRoaXMuI2xvZy5ncm91cChgQ2FjaGluZyA8JHtyZW1vdGV9PmApXG5cbiAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHRoaXMucmVzb2x2ZShub3RlcGF0aCwgcmVtb3RlKVxuICAgIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgIGxvZy5mbHVzaCgnQ2FjaGluZyBhdm9pZGVkJywgeyBub3RlcGF0aCwgcmVtb3RlIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbG9nLmRlYnVnKGBSZXNvbHZlZCA8JHtyZXNvbHZlZH0+YCwgeyBub3RlcGF0aCwgcmVtb3RlIH0pXG5cbiAgICAvLyBjaGVjayBleGlzdGVuY2VcbiAgICBjb25zdCBmaWxlMSA9IHRoaXMuI3ZhdWx0LmdldEZpbGVCeVBhdGgocmVzb2x2ZWQpXG4gICAgaWYgKGZpbGUxKSB7XG4gICAgICBsb2cuZmx1c2goYEFscmVhZHkgY2FjaGVkIDwke3Jlc29sdmVkfT5gKVxuICAgICAgcmV0dXJuIHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChmaWxlMSlcbiAgICB9XG5cbiAgICAvLyBkb3dubG9hZCBmaWxlXG4gICAgLy8gbG9nLndhcm4oeyByZXNvbHZlZCwgbWtkaXI6IFVSSS5nZXRQYXJlbnQocmVzb2x2ZWQpIH0pXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGdldFJlbW90ZUNvbnRlbnQocmVtb3RlKVxuICAgIGF3YWl0IHRoaXMuI3ZhdWx0LmFkYXB0ZXIubWtkaXIoVVJJLmdldFBhcmVudChyZXNvbHZlZCkpXG4gICAgYXdhaXQgdGhpcy4jdmF1bHQuYWRhcHRlci53cml0ZUJpbmFyeShyZXNvbHZlZCwgY29udGVudClcblxuICAgIC8vIGNoZWNrIHJlc3VsdFxuICAgIGNvbnN0IGZpbGUyID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChyZXNvbHZlZClcbiAgICBpZiAoZmlsZTIpIHtcbiAgICAgIGxvZy5mbHVzaChgRnJlc2hseSBjYWNoZWQgPCR7cmVzb2x2ZWR9PmApXG4gICAgICByZXR1cm4gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGZpbGUyKVxuICAgIH1cblxuICAgIGxvZy5mbHVzaChgRXJyb3IgY2FjaGluZyA8JHtyZXNvbHZlZH0+YClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aHJvdyBFcnJvcignbm90IHlldCBpbXBsZW1lbnRlZCcpXG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgUGx1Z2luU2V0dGluZ3MsIFBsdWdpblN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5NYW5pZmVzdCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnb2JzaWRpYW4tZm5jJ1xuaW1wb3J0IHsgcHJlcGFyZUNvbmZpZ3MsIHByZXBhcmVDb25maWdNYXRjaGVycywgcHJlcGFyZVJlbW90ZU1hdGNoZXIgfSBmcm9tICcuL3V0aWxpdHknXG5pbXBvcnQgeyBTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3NUYWInXG5pbXBvcnQgeyBNYXJrZG93bkhhbmRsZXIgfSBmcm9tICcuL2ZpbGVzeXN0ZW0vTWFya2Rvd25IYW5kbGVyJ1xuaW1wb3J0IHsgSW1hZ2VDYWNoaW5nQVBJIH0gZnJvbSAnLi9JbWFnZUNhY2hpbmdBUEknXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcbiAgYWxsb3dfY2hhcmFjdGVyczogZmFsc2UsXG4gIHVybF9wYXJhbV9jYWNoZTogJ2NhY2hlX2ltYWdlJyxcbiAgdXJsX3BhcmFtX2lnbm9yZTogJ2lnbm9yZV9pbWFnZScsXG4gIGNhY2hlX2NvbmZpZ3M6IFtcbiAgICB7XG4gICAgICBwYXR0ZXJuOiAnKicsXG4gICAgICByZW1vdGVzOiBbeyB3aGl0ZWxpc3RlZDogZmFsc2UsIHBhdHRlcm46ICcqJyB9XSxcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgdGFyZ2V0OiAnJyxcbiAgICAgIG1vZGU6ICdOT1RFJyxcbiAgICB9LFxuICBdLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUNhY2hpbmdQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAjbG9nID0gbmV3IExvZ2dlcignSW1hZ2VDYWNoaW5nUGx1Z2luJylcblxuICBwdWJsaWMgc2V0dGluZ3MgPSB7fSBhcyBQbHVnaW5TZXR0aW5nc1xuICBwdWJsaWMgc3RhdGUgPSB7fSBhcyBQbHVnaW5TdGF0ZVxuXG4gIHB1YmxpYyBhcGk6IEltYWdlQ2FjaGluZ0FQSVxuICBwdWJsaWMgbWFya2Rvd246IE1hcmtkb3duSGFuZGxlclxuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcbiAgICBzdXBlcihhcHAsIG1hbmlmZXN0KVxuXG4gICAgdGhpcy5hcGkgPSBuZXcgSW1hZ2VDYWNoaW5nQVBJKHRoaXMpXG4gICAgdGhpcy5tYXJrZG93biA9IG5ldyBNYXJrZG93bkhhbmRsZXIodGhpcylcblxuICAgIC8vIHRocmlkLXBhcnR5IEFQSVxuICAgIC8vIEB0cy1pZ25vcmUgbm9uLXN0YW5kYXJkIEFQSVxuICAgIGdsb2JhbFRoaXMuSW1hZ2VDYWNoaW5nID0gdGhpcy5hcGlcbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTZXR0aW5nc1RhYih0aGlzKSlcblxuICAgIHRoaXMubWFya2Rvd24ucmVnaXN0ZXJNYXJrZG93blByb2Nlc3NvcigpXG4gIH1cblxuICBhc3luYyBvbnVubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBUT0RPXG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbG9nID0gdGhpcy4jbG9nLmdyb3VwKCdMb2FkaW5nIFNldHRpbmdzJylcbiAgICBjb25zdCB7IGNhY2hlX2NvbmZpZ3MsIC4uLnByaW1pdGl2ZXMgfSA9IChhd2FpdCB0aGlzLmxvYWREYXRhKCkpIHx8IHt9XG5cbiAgICAvLyBlbnN1cmUgYSBmYWxsYmFjayB2YWx1ZSBpcyBwcmVzZW50XG4gICAgLy8gZW5zdXJlIG9yZGVyIG9mIGNvbmZpZ3MgYW5kIHJlbW90ZXNcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgcHJpbWl0aXZlcylcbiAgICB0aGlzLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgPSBwcmVwYXJlQ29uZmlncyhbXG4gICAgICAuLi4oY2FjaGVfY29uZmlncyB8fCBbXSksXG4gICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLmNhY2hlX2NvbmZpZ3MsXG4gICAgXSlcblxuICAgIGxvZy5kZWJ1ZygnTG9hZGVkOiAnLCB0aGlzLnNldHRpbmdzKVxuICAgIGxvZy5mbHVzaCgnTG9hZGVkIFNldHRpbmdzJylcblxuICAgIHRoaXMuI3ByZXBhcmVTdGF0ZSgpXG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbG9nID0gdGhpcy4jbG9nLmdyb3VwKCdTYXZpbmcgU2V0dGluZ3MnKVxuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNldHRpbmdzKVxuXG4gICAgLy8gc2VyaWFsaXplIHNwZWNpYWwgZGF0YSB0eXBlcyAoTWFwLCBTZXQsIGV0YylcbiAgICAvLyBlbnN1cmUgb3JkZXIgb2YgY29uZmlncyBhbmQgcmVtb3Rlc1xuICAgIGRhdGEuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGRhdGEuY2FjaGVfY29uZmlncylcblxuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEoZGF0YSlcbiAgICBsb2cuZGVidWcoJ1NhdmVkOiAnLCBkYXRhKVxuICAgIGxvZy5mbHVzaCgnU2F2ZWQgU2V0dGluZ3MnKVxuXG4gICAgdGhpcy4jcHJlcGFyZVN0YXRlKClcbiAgfVxuXG4gICNwcmVwYXJlU3RhdGUoKTogdm9pZCB7XG4gICAgdGhpcy4jbG9nLmluZm8oJ1ByZXBhcmUgc3RhdGUnKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYWNoZV9tYXRjaGVyczogcHJlcGFyZUNvbmZpZ01hdGNoZXJzKHRoaXMuc2V0dGluZ3MuY2FjaGVfY29uZmlncyksXG4gICAgICB1cmxfY2FjaGVfbWF0Y2hlcjogcHJlcGFyZVJlbW90ZU1hdGNoZXIodGhpcy5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpLFxuICAgICAgdXJsX2lnbm9yZV9tYXRjaGVyOiBwcmVwYXJlUmVtb3RlTWF0Y2hlcih0aGlzLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpLFxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbInBhdGgiLCJkYXRhIiwiYmFsYW5jZWQiLCJyZXF1aXJlJCQwIiwicmVnRXhwRXNjYXBlIiwicW1hcmsiLCJzdGFyIiwic3RhcnQiLCJpIiwiYWNjIiwiZXh0IiwiX2hhc01hZ2ljIiwiZXhwYW5kIiwicmVxdWVzdFVybCIsIlNldHRpbmciLCJQbHVnaW5TZXR0aW5nVGFiIiwibWF0Y2giLCJfY2FjaGUiLCJfcGx1Z2luIiwibm9ybWFsaXplUGF0aCIsIm1hdGNoZXIiLCJQbHVnaW4iLCJfbG9nIl0sIm1hcHBpbmdzIjoiOzs7Oztzb0NBQWEsS0FBTixNQUFNLElBQUksQ0FDZixPQUFPLFFBQVEsTUFBeUMsQ0FDdEQsT0FBTyxNQUFNLE9BQU8sQ0FBQ0EsTUFBYyxRQUM1QixNQUNBQSxNQUdIQSxNQUFLLFFBQVEsWUFBYSxFQUFFLEVBQzVCLElBQ0EsTUFBTSxRQUFRLFlBQWEsRUFBRSxFQUxiLE1BRENBLE1BUWxCLEVBQUUsQ0FDUCxDQUVBLE9BQU8sVUFBVSxJQUFxQixDQUM3QixPQUFBLElBQUksV0FBVyx3QkFBeUIsR0FBRyxDQUNwRCxDQUVBLE9BQU8sT0FBTyxJQUFzQixDQUMzQixNQUFBLGVBQWUsS0FBSyxHQUFHLENBQ2hDLENBR0EsT0FBTyxPQUFPLElBQWlDLENBQzdDLE1BQU8saUNBQWlDLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUN6RCxDQUVBLE9BQU8sVUFBVSxJQUFxQixDQUM3QixPQUFBLElBQUksUUFBUSwyQkFBNEIsRUFBRSxDQUNuRCxDQUVBLE9BQU8sWUFBWSxJQUFpQyxDQUM1QyxNQUFBLEtBQU8sS0FBSSxRQUFRLEdBQUcsRUFDNUIsT0FBTyxLQUFPLEtBQUksVUFBVSxJQUFJLEVBQUksTUFDdEMsQ0FFQSxPQUFPLFFBQVEsSUFBaUMsQ0FDOUMsT0FBTyxJQUFJLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxDQUN0QyxDQUVBLE9BQU8sVUFBVSxJQUFxQixDQUM3QixPQUFBLElBQUksUUFBUSxrQkFBbUIsRUFBRSxDQUMxQyxDQUNGLEVBM0NpQixtQkFBVixJQUFNLElBQU4sS0E2Q0EsTUFBTSxLQUFOLE1BQU0sSUFBSSxDQUNmLE9BQU8sTUFBTSxJQUFzQixDQUMxQixNQUFBLGlCQUFpQixLQUFLLEdBQUcsQ0FDbEMsQ0FHQSxPQUFPLFVBQVUsSUFBaUMsQ0FDaEQsTUFBTyx3QkFBd0IsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQ2hELENBR0EsT0FBTyxXQUFXLElBQWlDLENBQ2pELE1BQU8sdUJBQXVCLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUMvQyxDQUVBLE9BQU8sUUFBUSxJQUFpQyxDQUM5QyxNQUFPLGdCQUFnQixLQUFLLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FDeEMsQ0FFQSxPQUFPLFVBQVUsSUFBaUMsQ0FDaEQsTUFBTyxjQUFjLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUN0QyxDQUNGLEVBdEJpQixtQkFBVixJQUFNLElBQU4sS0M1Q0EsTUFBTSxTQUFXLENBQ3RCLE1BQU8sRUFDUCxLQUFNLEVBQ04sS0FBTSxFQUNOLE1BQU8sRUFDUCxNQUFPLENBQ1QsRUFDYSxnQkFBaUQsQ0FDM0QsRUFBUSxRQUNSLEVBQVEsUUFDUixFQUFRLFFBQ1IsRUFBUSxRQUNSLEVBQVEsT0FDWCxFQW9CYSxxQkFBTixNQUFNLG9CQUE0QyxDQUNoRCxNQUFNLE9BQWdCLEtBQXVCLENBQzFDLFFBQUEsTUFBTSxPQUFRLEdBQUcsSUFBSSxDQUMvQixDQUNPLEtBQUssT0FBZ0IsS0FBdUIsQ0FDekMsUUFBQSxLQUFLLE9BQVEsR0FBRyxJQUFJLENBQzlCLENBQ08sS0FBSyxPQUFnQixLQUF1QixDQUN6QyxRQUFBLEtBQUssT0FBUSxHQUFHLElBQUksQ0FDOUIsQ0FDTyxNQUFNLE9BQWdCLEtBQXVCLENBQzFDLFFBQUEsTUFBTSxPQUFRLEdBQUcsSUFBSSxDQUMvQixDQUNPLE1BQU0sT0FBZ0IsS0FBdUIsQ0FDMUMsUUFBQSxNQUFNLE9BQVEsR0FBRyxJQUFJLENBQy9CLENBRU8sTUFBTSxPQUFnQixLQUE2QixDQUNoRCxlQUFBLGVBQWUsR0FBRyxJQUFJLEVBQ3ZCLFFBQVEsUUFDakIsQ0FDRixFQXJCeUQsbURBQWxELElBQU0sb0JBQU4scUJBK0NBLE1BQU0sUUFBTixNQUFNLE9BQU8sQ0FLbEIsWUFBc0IsVUFBbUIsQ0FBbkIsS0FBQSxVQUFBLFNBQW9CLENBRTFDLE9BQWlCLE9BQU8sVUFBaUIsVUFBbUIsTUFBOEIsQ0FLdEYsTUFBQSxJQUFNLE9BQU8sVUFBVSxTQUFVLENBQUEsRUFBRSxTQUFTLEVBQUcsR0FBRyxFQUNsRCxJQUFNLE9BQU8sVUFBVSxZQUFZLEVBQUUsU0FBUyxFQUFHLEdBQUcsRUFDcEQsSUFBTSxPQUFPLFVBQVUsWUFBWSxFQUFFLFNBQVMsRUFBRyxHQUFHLEVBQ3BELElBQU0sT0FBTyxVQUFVLGdCQUFpQixDQUFBLEVBQUUsU0FBUyxFQUFHLEdBQUcsRUFDekQsS0FBTyxnQkFBZ0IsS0FBSyxFQUFJLEtBQU8sVUFBWSxJQUV2RCxDQUVPLElBQUksVUFBaUIsVUFBbUIsTUFBc0IsS0FBdUIsQ0FDMUYsTUFBTSxPQUFTLFFBQU8sT0FBTyxVQUFXLFVBQVcsS0FBSyxFQUV4RCxPQUFRLE1BQU8sQ0FDYixLQUFLLFNBQVMsTUFDTCxPQUFBLFFBQU8sUUFBUSxRQUFTLFFBQVcsT0FBTyxNQUFNLE9BQVEsSUFBSSxDQUFDLEVBQ3RFLEtBQUssU0FBUyxLQUNMLE9BQUEsUUFBTyxRQUFRLFFBQVMsUUFBVyxPQUFPLEtBQUssT0FBUSxJQUFJLENBQUMsRUFDckUsS0FBSyxTQUFTLEtBQ0wsT0FBQSxRQUFPLFFBQVEsUUFBUyxRQUFXLE9BQU8sS0FBSyxPQUFRLElBQUksQ0FBQyxFQUNyRSxLQUFLLFNBQVMsTUFDTCxPQUFBLFFBQU8sUUFBUSxRQUFTLFFBQVcsT0FBTyxNQUFNLE9BQVEsSUFBSSxDQUFDLEVBQ3RFLFFBQ1MsT0FBQSxRQUFPLFFBQVEsUUFBUyxRQUFXLE9BQU8sTUFBTSxPQUFRLElBQUksQ0FBQyxDQUN4RSxDQUNGLENBRU8sU0FBUyxLQUF1QixDQUNoQyxLQUFBLFFBQVEsS0FBUSxLQUFLLFVBQVcsU0FBUyxNQUFPLElBQUksQ0FDM0QsQ0FDTyxRQUFRLEtBQXVCLENBQy9CLEtBQUEsUUFBUSxLQUFRLEtBQUssVUFBVyxTQUFTLEtBQU0sSUFBSSxDQUMxRCxDQUNPLFFBQVEsS0FBdUIsQ0FDL0IsS0FBQSxRQUFRLEtBQVEsS0FBSyxVQUFXLFNBQVMsS0FBTSxJQUFJLENBQzFELENBQ08sU0FBUyxLQUF1QixDQUNoQyxLQUFBLFFBQVEsS0FBUSxLQUFLLFVBQVcsU0FBUyxNQUFPLElBQUksQ0FDM0QsQ0FDTyxTQUFTLEtBQXVCLENBQ2hDLEtBQUEsUUFBUSxLQUFRLEtBQUssVUFBVyxTQUFTLE1BQU8sSUFBSSxDQUMzRCxDQUVPLEdBQUcsT0FBeUIsQ0FDMUIsT0FBQSxRQUFVLGtCQUFrQixRQUFTLElBQUksY0FBYyxLQUFLLFVBQVcsTUFBTSxFQUFJLElBQzFGLENBRU8sU0FBUyxLQUErQixDQUM3QyxPQUFPLElBQUksYUFBYSxLQUFLLFVBQVcsR0FBRyxJQUFJLENBQ2pELENBQ0YsRUE1RG9CLHlCQUVsQixRQUFpQixRQUEwQixDQUFDLElBQUksbUJBQXFCLEVBRmhFLElBQU0sT0FBTixRQThEQSxNQUFNLGVBQU4sTUFBTSx1QkFBc0IsTUFBTyxDQUN4QyxZQUNFLFVBQ1EsT0FDUixDQUNBLE1BQU0sU0FBUyxFQUZQLEtBQUEsT0FBQSxNQUdWLENBRU8sU0FBUyxLQUF1QixDQUNoQyxLQUFBLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsTUFBTyxJQUFJLENBQ2xFLENBQ08sUUFBUSxLQUF1QixDQUMvQixLQUFBLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsS0FBTSxJQUFJLENBQ2pFLENBQ08sUUFBUSxLQUF1QixDQUMvQixLQUFBLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsS0FBTSxJQUFJLENBQ2pFLENBQ08sU0FBUyxLQUF1QixDQUNoQyxLQUFBLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsTUFBTyxJQUFJLENBQ2xFLENBQ08sU0FBUyxLQUF1QixDQUNoQyxLQUFBLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsTUFBTyxJQUFJLENBQ2xFLENBRU8sU0FBUyxLQUF1QixDQUNqQyxLQUFLLGtCQUFrQixrQkFBbUIsT0FBTyxNQUFNLEdBQUcsSUFBSSxFQUM3RCxLQUFLLE9BQU8sSUFBUSxJQUFBLEtBQVEsS0FBSyxVQUFXLFNBQVMsS0FBTSxJQUFJLENBQ3RFLENBQ0YsRUE1QjBDLHVDQUFuQyxJQUFNLGNBQU4seUJBOEJBLE1BQU0sY0FBTixNQUFNLHNCQUFxQixNQUFPLENBR3ZDLFlBQVksYUFBc0IsS0FBaUIsQ0FDakQsTUFBTSxTQUFTLEVBSGpCLHdCQUFvQixDQUFBLEdBSWQsS0FBSyxPQUFTLEdBQVEsS0FBQSxLQUFLLEdBQUcsSUFBSSxDQUN4QyxDQUVPLElBQUksVUFBaUIsVUFBbUIsTUFBc0IsS0FBdUIsQ0FDMUYsa0JBQUssT0FBTSxLQUFLLENBQUUsVUFBVyxVQUFXLE1BQU8sS0FBTSxDQUN2RCxDQUVBLFNBQVMsS0FBdUIsQ0FFeEIsTUFBQSxPQUFTLE9BQU8sT0FBTyxJQUFJLEtBQVEsS0FBSyxVQUFXLFNBQVMsSUFBSSxFQUdoRSxRQUFVLE9BQU8sUUFBUSxJQUFLLFFBQVcsT0FBTyxNQUFNLE9BQVEsSUFBSSxDQUFDLEVBRzlELFNBQUEsQ0FBRSxVQUFXLFVBQVcsTUFBTyxLQUFBQyxLQUFLLElBQUssa0JBQUssT0FDdkQsTUFBTSxJQUFJLFVBQVcsVUFBVyxNQUFPQSxLQUFJLEVBSWxDLFVBQUEsVUFBVSxRQUFnQixTQUVyQyxrQkFBSyxNQUFRLEdBQ2YsQ0FDRixFQTVCRSxrQkFEdUMscUNBQWxDLElBQU0sYUFBTixvRENyS0EsTUFBTSxZQUFOLE1BQU0sb0JBQW1CLEtBQU0sQ0FvQnBDLFlBQW1CLEtBQXdCLE1BQWlCLENBQ3BELFFBRFcsS0FBQSxLQUFBLEtBQXdCLEtBQUEsTUFBQSxNQUVwQyxLQUFBLEtBQU8sY0FBYyxLQUFLLElBQUksSUFDOUIsS0FBQSxRQUFVLEtBQUssaUJBQ3RCLENBbkJBLE9BQU8sZUFDTCxJQUNBLFNBQ0EsS0FDTSxDQUNGLEdBQUEsV0FBUyxPQUFTLEtBRXRCLE1BQU0sSUFBSSxZQUNSLEtBQ0Esa0JBQWtCLEdBQUc7QUFBQSxtQkFDRyxTQUFTLE1BQU07QUFBQTtBQUFBLEVBQ2IsS0FBSyxVQUFVLFNBQVMsT0FBTyxDQUFDLEVBQUEsQ0FFOUQsQ0FRQSxVQUFtQixDQUNqQixNQUFPLEdBQUcsS0FBSyxJQUFJLEtBQUssS0FBSyxnQkFBaUIsQ0FBQSxFQUNoRCxDQUVBLGlCQUEwQixRQUN4QixNQUFNLFFBQVUsK0JBQVcsbUNBQVgsUUFBd0IsS0FBSyxNQUN6QyxPQUFDLEtBQUssTUFDSCxHQUFHLE9BQU87QUFBQTtBQUFBLEVBQWlCLEtBQUssS0FBSyxHQURwQixPQUUxQixDQWtCRixFQXBETywrQkFvQ0UsK0JBQWEsS0FBeUIsQ0FDM0MsT0FBUSxLQUFNLENBQ1osSUFBSyxnQkFDSSxNQUFBLGdDQUNULElBQUssZ0JBQ0ksTUFBQSwyQ0FFVCxJQUFLLG1CQUNJLE1BQUEsK0NBQ1QsSUFBSyxrQkFDSSxNQUFBLDBDQUVULFFBQ1MsTUFBQSx3QkFDWCxDQUNGLGtCQW5ESyxhQUFNLFlBQU4sb0JBQStCLGlDQUEvQixJQUFNLFdBQU4sWUNSUyxTQUFBLHFCQUFxQixFQUFXLEVBQW1CLENBdUI3RCxNQUFBLENBQUMsRUFBRSxXQUFXLEdBQUcsR0FBSyxFQUFFLFdBQVcsR0FBRyxFQUFVLEdBQ2hELEVBQUUsV0FBVyxHQUFHLEdBQUssQ0FBQyxFQUFFLFdBQVcsR0FBRyxFQUFVLEVBR2hELEVBQUUsV0FBVyxDQUFDLEVBQVUsR0FDeEIsRUFBRSxXQUFXLENBQUMsRUFBVSxFQUdyQixFQUFFLGNBQWMsRUFBRyxJQUFJLENBQ2hDLENBaENnQixvREFrQ1QsU0FBUyxXQUFXLEtBQXNCLENBRS9DLE9BQVEsS0FBTSxDQU1aLElBQUssYUFBcUIsTUFBQSxNQUMxQixJQUFLLGFBQXFCLE1BQUEsTUFLMUIsUUFBUyxPQUFPLEtBQUssTUFBTSxTQUFTLEVBQUUsQ0FBQyxDQUN6QyxDQUNGLENBaEJnQix3TkNqQ2hCLGNBQWlCQyxXQUNqQixTQUFTQSxXQUFTLEVBQUcsRUFBRyxJQUFLLENBQ3ZCLGFBQWEsU0FBUSxFQUFJLFdBQVcsRUFBRyxHQUFHLEdBQzFDLGFBQWEsU0FBUSxFQUFJLFdBQVcsRUFBRyxHQUFHLEdBRTlDLElBQUksRUFBSSxNQUFNLEVBQUcsRUFBRyxHQUFHLEVBRXZCLE9BQU8sR0FBSyxDQUNWLE1BQU8sRUFBRSxDQUFDLEVBQ1YsSUFBSyxFQUFFLENBQUMsRUFDUixJQUFLLElBQUksTUFBTSxFQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQ3RCLEtBQU0sSUFBSSxNQUFNLEVBQUUsQ0FBQyxFQUFJLEVBQUUsT0FBUSxFQUFFLENBQUMsQ0FBQyxFQUNyQyxLQUFNLElBQUksTUFBTSxFQUFFLENBQUMsRUFBSSxFQUFFLE1BQU0sQ0FDbkMsQ0FDQSxDQWJTQSxnQ0FlVCxTQUFTLFdBQVcsSUFBSyxJQUFLLENBQzVCLElBQUksRUFBSSxJQUFJLE1BQU0sR0FBRyxFQUNyQixPQUFPLEVBQUksRUFBRSxDQUFDLEVBQUksSUFDcEIsQ0FIUyxnQ0FLVEEsV0FBUyxNQUFRLE1BQ2pCLFNBQVMsTUFBTSxFQUFHLEVBQUcsSUFBSyxDQUN4QixJQUFJLEtBQU0sSUFBSyxLQUFNLE1BQU8sT0FDeEIsR0FBSyxJQUFJLFFBQVEsQ0FBQyxFQUNsQixHQUFLLElBQUksUUFBUSxFQUFHLEdBQUssQ0FBQyxFQUMxQixFQUFJLEdBRVIsR0FBSSxJQUFNLEdBQUssR0FBSyxFQUFHLENBQ3JCLEdBQUcsSUFBSSxFQUNMLE1BQU8sQ0FBQyxHQUFJLEVBQUUsRUFLaEIsSUFIQSxLQUFPLENBQUEsRUFDUCxLQUFPLElBQUksT0FFSixHQUFLLEdBQUssQ0FBQyxRQUNaLEdBQUssSUFDUCxLQUFLLEtBQUssQ0FBQyxFQUNYLEdBQUssSUFBSSxRQUFRLEVBQUcsRUFBSSxDQUFDLEdBQ2hCLEtBQUssUUFBVSxFQUN4QixPQUFTLENBQUUsS0FBSyxJQUFLLEVBQUUsRUFBRSxHQUV6QixJQUFNLEtBQUssTUFDUCxJQUFNLE9BQ1IsS0FBTyxJQUNQLE1BQVEsSUFHVixHQUFLLElBQUksUUFBUSxFQUFHLEVBQUksQ0FBQyxHQUczQixFQUFJLEdBQUssSUFBTSxJQUFNLEVBQUksR0FBSyxHQUc1QixLQUFLLFNBQ1AsT0FBUyxDQUFFLEtBQU0sT0FFcEIsQ0FFRCxPQUFPLE1BQ1QsQ0F0Q1Msc0JDdkJULElBQUksU0FBV0MsY0FFZixlQUFpQixVQUViLFNBQVcsVUFBVSxLQUFLLE9BQU0sRUFBRyxLQUNuQyxRQUFVLFNBQVMsS0FBSyxPQUFNLEVBQUcsS0FDakMsU0FBVyxVQUFVLEtBQUssT0FBTSxFQUFHLEtBQ25DLFNBQVcsVUFBVSxLQUFLLE9BQU0sRUFBRyxLQUNuQyxVQUFZLFdBQVcsS0FBSyxPQUFNLEVBQUcsS0FFekMsU0FBUyxRQUFRLElBQUssQ0FDcEIsT0FBTyxTQUFTLElBQUssRUFBRSxHQUFLLElBQ3hCLFNBQVMsSUFBSyxFQUFFLEVBQ2hCLElBQUksV0FBVyxDQUFDLENBQ3RCLENBSlMsMEJBTVQsU0FBUyxhQUFhLElBQUssQ0FDekIsT0FBTyxJQUFJLE1BQU0sTUFBTSxFQUFFLEtBQUssUUFBUSxFQUMzQixNQUFNLEtBQUssRUFBRSxLQUFLLE9BQU8sRUFDekIsTUFBTSxLQUFLLEVBQUUsS0FBSyxRQUFRLEVBQzFCLE1BQU0sS0FBSyxFQUFFLEtBQUssUUFBUSxFQUMxQixNQUFNLEtBQUssRUFBRSxLQUFLLFNBQVMsQ0FDeEMsQ0FOUyxvQ0FRVCxTQUFTLGVBQWUsSUFBSyxDQUMzQixPQUFPLElBQUksTUFBTSxRQUFRLEVBQUUsS0FBSyxJQUFJLEVBQ3pCLE1BQU0sT0FBTyxFQUFFLEtBQUssR0FBRyxFQUN2QixNQUFNLFFBQVEsRUFBRSxLQUFLLEdBQUcsRUFDeEIsTUFBTSxRQUFRLEVBQUUsS0FBSyxHQUFHLEVBQ3hCLE1BQU0sU0FBUyxFQUFFLEtBQUssR0FBRyxDQUN0QyxDQU5TLHdDQVlULFNBQVMsZ0JBQWdCLElBQUssQ0FDNUIsR0FBSSxDQUFDLElBQ0gsTUFBTyxDQUFDLEVBQUUsRUFFWixJQUFJLE1BQVEsQ0FBQSxFQUNSLEVBQUksU0FBUyxJQUFLLElBQUssR0FBRyxFQUU5QixHQUFJLENBQUMsRUFDSCxPQUFPLElBQUksTUFBTSxHQUFHLEVBRXRCLElBQUksSUFBTSxFQUFFLElBQ1IsS0FBTyxFQUFFLEtBQ1QsS0FBTyxFQUFFLEtBQ1QsRUFBSSxJQUFJLE1BQU0sR0FBRyxFQUVyQixFQUFFLEVBQUUsT0FBTyxDQUFDLEdBQUssSUFBTSxLQUFPLElBQzlCLElBQUksVUFBWSxnQkFBZ0IsSUFBSSxFQUNwQyxPQUFJLEtBQUssU0FDUCxFQUFFLEVBQUUsT0FBTyxDQUFDLEdBQUssVUFBVSxRQUMzQixFQUFFLEtBQUssTUFBTSxFQUFHLFNBQVMsR0FHM0IsTUFBTSxLQUFLLE1BQU0sTUFBTyxDQUFDLEVBRWxCLEtBQ1QsQ0F6QlMsMENBMkJULFNBQVMsVUFBVSxJQUFLLENBQ3RCLE9BQUssS0FTRCxJQUFJLE9BQU8sRUFBRyxDQUFDLElBQU0sT0FDdkIsSUFBTSxTQUFXLElBQUksT0FBTyxDQUFDLEdBR3hCLE9BQU8sYUFBYSxHQUFHLEVBQUcsRUFBSSxFQUFFLElBQUksY0FBYyxHQVpoRCxFQWFYLENBZlMsOEJBaUJULFNBQVMsUUFBUSxJQUFLLENBQ3BCLE1BQU8sSUFBTSxJQUFNLEdBQ3JCLENBRlMsMEJBR1QsU0FBUyxTQUFTLEdBQUksQ0FDcEIsTUFBTyxTQUFTLEtBQUssRUFBRSxDQUN6QixDQUZTLDRCQUlULFNBQVMsSUFBSSxFQUFHLEVBQUcsQ0FDakIsT0FBTyxHQUFLLENBQ2QsQ0FGUyxrQkFHVCxTQUFTLElBQUksRUFBRyxFQUFHLENBQ2pCLE9BQU8sR0FBSyxDQUNkLENBRlMsa0JBSVQsU0FBUyxPQUFPLElBQUssTUFBTyxDQUMxQixJQUFJLFdBQWEsQ0FBQSxFQUViLEVBQUksU0FBUyxJQUFLLElBQUssR0FBRyxFQUM5QixHQUFJLENBQUMsRUFBRyxNQUFPLENBQUMsR0FBRyxFQUduQixJQUFJLElBQU0sRUFBRSxJQUNSLEtBQU8sRUFBRSxLQUFLLE9BQ2QsT0FBTyxFQUFFLEtBQU0sRUFBSyxFQUNwQixDQUFDLEVBQUUsRUFFUCxHQUFJLE1BQU0sS0FBSyxFQUFFLEdBQUcsRUFDbEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxLQUFLLE9BQVEsSUFBSyxDQUNwQyxJQUFJLFVBQVksSUFBSyxJQUFNLEVBQUUsS0FBTyxJQUFNLEtBQUssQ0FBQyxFQUNoRCxXQUFXLEtBQUssU0FBUyxDQUMxQixLQUNJLENBQ0wsSUFBSSxrQkFBb0IsaUNBQWlDLEtBQUssRUFBRSxJQUFJLEVBQ2hFLGdCQUFrQix1Q0FBdUMsS0FBSyxFQUFFLElBQUksRUFDcEUsV0FBYSxtQkFBcUIsZ0JBQ2xDLFVBQVksRUFBRSxLQUFLLFFBQVEsR0FBRyxHQUFLLEVBQ3ZDLEdBQUksQ0FBQyxZQUFjLENBQUMsVUFFbEIsT0FBSSxFQUFFLEtBQUssTUFBTSxPQUFPLEdBQ3RCLElBQU0sRUFBRSxJQUFNLElBQU0sRUFBRSxLQUFPLFNBQVcsRUFBRSxLQUNuQyxPQUFPLEdBQUcsR0FFWixDQUFDLEdBQUcsRUFHYixJQUFJLEVBQ0osR0FBSSxXQUNGLEVBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxVQUV2QixFQUFJLGdCQUFnQixFQUFFLElBQUksRUFDdEIsRUFBRSxTQUFXLElBRWYsRUFBSSxPQUFPLEVBQUUsQ0FBQyxFQUFHLEVBQUssRUFBRSxJQUFJLE9BQU8sRUFDL0IsRUFBRSxTQUFXLEdBQ2YsT0FBTyxLQUFLLElBQUksU0FBUyxFQUFHLENBQzFCLE9BQU8sRUFBRSxJQUFNLEVBQUUsQ0FBQyxFQUFJLENBQ2xDLENBQVcsRUFPUCxJQUFJLEVBRUosR0FBSSxXQUFZLENBQ2QsSUFBSSxFQUFJLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFDaEIsRUFBSSxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQ2hCLE1BQVEsS0FBSyxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUN6QyxLQUFPLEVBQUUsUUFBVSxFQUNuQixLQUFLLElBQUksUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQ3RCLEVBQ0EsS0FBTyxJQUNQLFFBQVUsRUFBSSxFQUNkLFVBQ0YsTUFBUSxHQUNSLEtBQU8sS0FFVCxJQUFJLElBQU0sRUFBRSxLQUFLLFFBQVEsRUFFekIsRUFBSSxDQUFBLEVBRUosUUFBUyxFQUFJLEVBQUcsS0FBSyxFQUFHLENBQUMsRUFBRyxHQUFLLEtBQU0sQ0FDckMsSUFBSSxFQUNKLEdBQUksZ0JBQ0YsRUFBSSxPQUFPLGFBQWEsQ0FBQyxFQUNyQixJQUFNLE9BQ1IsRUFBSSxZQUVOLEVBQUksT0FBTyxDQUFDLEVBQ1IsSUFBSyxDQUNQLElBQUksS0FBTyxNQUFRLEVBQUUsT0FDckIsR0FBSSxLQUFPLEVBQUcsQ0FDWixJQUFJLEVBQUksSUFBSSxNQUFNLEtBQU8sQ0FBQyxFQUFFLEtBQUssR0FBRyxFQUNoQyxFQUFJLEVBQ04sRUFBSSxJQUFNLEVBQUksRUFBRSxNQUFNLENBQUMsRUFFdkIsRUFBSSxFQUFJLENBQ1gsQ0FDRixDQUVILEVBQUUsS0FBSyxDQUFDLENBQ1QsQ0FDUCxLQUFXLENBQ0wsRUFBSSxDQUFBLEVBRUosUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsSUFDNUIsRUFBRSxLQUFLLE1BQU0sRUFBRyxPQUFPLEVBQUUsQ0FBQyxFQUFHLEVBQUssQ0FBQyxDQUV0QyxDQUVELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBRSxPQUFRLElBQzVCLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxPQUFRLElBQUssQ0FDcEMsSUFBSSxVQUFZLElBQU0sRUFBRSxDQUFDLEVBQUksS0FBSyxDQUFDLEdBQy9CLENBQUMsT0FBUyxZQUFjLFlBQzFCLFdBQVcsS0FBSyxTQUFTLENBQzVCLENBRUosQ0FFRCxPQUFPLFVBQ1QsQ0EzR1MsK0VDOUZILG1CQUFxQixLQUFPLEdBQ3JCLG1CQUFxQixPQUFDLFNBQVksQ0FDM0MsR0FBSSxPQUFPLFNBQVksU0FDbkIsTUFBTSxJQUFJLFVBQVUsaUJBQWlCLEVBRXpDLEdBQUksUUFBUSxPQUFTLG1CQUNqQixNQUFNLElBQUksVUFBVSxxQkFBcUIsQ0FFakQsRUFQa0Msc0JDRTVCLGFBQWUsQ0FDakIsWUFBYSxDQUFDLHVCQUF3QixFQUFJLEVBQzFDLFlBQWEsQ0FBQyxnQkFBaUIsRUFBSSxFQUNuQyxZQUFhLENBQUMsY0FBeUIsRUFBSyxFQUM1QyxZQUFhLENBQUMsYUFBYyxFQUFJLEVBQ2hDLFlBQWEsQ0FBQyxVQUFXLEVBQUksRUFDN0IsWUFBYSxDQUFDLFVBQVcsRUFBSSxFQUM3QixZQUFhLENBQUMsZUFBZ0IsR0FBTSxFQUFJLEVBQ3hDLFlBQWEsQ0FBQyxVQUFXLEVBQUksRUFDN0IsWUFBYSxDQUFDLFNBQVUsRUFBSSxFQUM1QixZQUFhLENBQUMsU0FBVSxFQUFJLEVBQzVCLFlBQWEsQ0FBQyx3QkFBeUIsRUFBSSxFQUMzQyxZQUFhLENBQUMsVUFBVyxFQUFJLEVBQzdCLFdBQVksQ0FBQyw4QkFBK0IsRUFBSSxFQUNoRCxhQUFjLENBQUMsWUFBYSxFQUFLLENBQ3JDLEVBR00sWUFBYyxPQUFDLEdBQU0sRUFBRSxRQUFRLFlBQWEsTUFBTSxFQUFwQyxlQUVkLGFBQWUsT0FBQyxHQUFNLEVBQUUsUUFBUSwyQkFBNEIsTUFBTSxFQUFuRCxnQkFFZixlQUFpQixPQUFDLFFBQVcsT0FBTyxLQUFLLEVBQUUsRUFBMUIsa0JBT1YsV0FBYSxRQUFDLEtBQU0sV0FBYSxDQUMxQyxNQUFNLElBQU0sU0FFWixHQUFJLEtBQUssT0FBTyxHQUFHLElBQU0sSUFDckIsTUFBTSxJQUFJLE1BQU0sMkJBQTJCLEVBRy9DLE1BQU0sT0FBUyxDQUFBLEVBQ1QsS0FBTyxDQUFBLEVBQ2IsSUFBSSxFQUFJLElBQU0sRUFDVixTQUFXLEdBQ1gsTUFBUSxHQUNSLFNBQVcsR0FDWCxPQUFTLEdBQ1QsT0FBUyxJQUNULFdBQWEsR0FDakIsTUFBTyxLQUFPLEVBQUksS0FBSyxRQUFRLENBQzNCLE1BQU0sRUFBSSxLQUFLLE9BQU8sQ0FBQyxFQUN2QixJQUFLLElBQU0sS0FBTyxJQUFNLE1BQVEsSUFBTSxJQUFNLEVBQUcsQ0FDM0MsT0FBUyxHQUNULElBQ0EsUUFDSCxDQUNELEdBQUksSUFBTSxLQUFPLFVBQVksQ0FBQyxTQUFVLENBQ3BDLE9BQVMsRUFBSSxFQUNiLEtBQ0gsQ0FFRCxHQURBLFNBQVcsR0FDUCxJQUFNLE1BQ0YsQ0FBQyxTQUFVLENBQ1gsU0FBVyxHQUNYLElBQ0EsUUFDSCxDQUdMLEdBQUksSUFBTSxLQUFPLENBQUMsVUFFZCxTQUFXLENBQUMsSUFBSyxDQUFDLEtBQU0sRUFBRyxHQUFHLENBQUMsSUFBSyxPQUFPLFFBQVEsWUFBWSxFQUMzRCxHQUFJLEtBQUssV0FBVyxJQUFLLENBQUMsRUFBRyxDQUV6QixHQUFJLFdBQ0EsTUFBTyxDQUFDLEtBQU0sR0FBTyxLQUFLLE9BQVMsSUFBSyxFQUFJLEVBRWhELEdBQUssSUFBSSxPQUNMLElBQ0EsS0FBSyxLQUFLLElBQUksRUFFZCxPQUFPLEtBQUssSUFBSSxFQUNwQixNQUFRLE9BQVMsRUFDakIsU0FBUyxLQUNaLEVBS1QsR0FEQSxTQUFXLEdBQ1AsV0FBWSxDQUdSLEVBQUksV0FDSixPQUFPLEtBQUssWUFBWSxVQUFVLEVBQUksSUFBTSxZQUFZLENBQUMsQ0FBQyxFQUVyRCxJQUFNLFlBQ1gsT0FBTyxLQUFLLFlBQVksQ0FBQyxDQUFDLEVBRTlCLFdBQWEsR0FDYixJQUNBLFFBQ0gsQ0FHRCxHQUFJLEtBQUssV0FBVyxLQUFNLEVBQUksQ0FBQyxFQUFHLENBQzlCLE9BQU8sS0FBSyxZQUFZLEVBQUksR0FBRyxDQUFDLEVBQ2hDLEdBQUssRUFDTCxRQUNILENBQ0QsR0FBSSxLQUFLLFdBQVcsSUFBSyxFQUFJLENBQUMsRUFBRyxDQUM3QixXQUFhLEVBQ2IsR0FBSyxFQUNMLFFBQ0gsQ0FFRCxPQUFPLEtBQUssWUFBWSxDQUFDLENBQUMsRUFDMUIsR0FDSCxDQUNELEdBQUksT0FBUyxFQUdULE1BQU8sQ0FBQyxHQUFJLEdBQU8sRUFBRyxFQUFLLEVBSS9CLEdBQUksQ0FBQyxPQUFPLFFBQVUsQ0FBQyxLQUFLLE9BQ3hCLE1BQU8sQ0FBQyxLQUFNLEdBQU8sS0FBSyxPQUFTLElBQUssRUFBSSxFQU1oRCxHQUFJLEtBQUssU0FBVyxHQUNoQixPQUFPLFNBQVcsR0FDbEIsU0FBUyxLQUFLLE9BQU8sQ0FBQyxDQUFDLEdBQ3ZCLENBQUMsT0FBUSxDQUNULE1BQU0sRUFBSSxPQUFPLENBQUMsRUFBRSxTQUFXLEVBQUksT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUksT0FBTyxDQUFDLEVBQ2pFLE1BQU8sQ0FBQyxhQUFhLENBQUMsRUFBRyxHQUFPLE9BQVMsSUFBSyxFQUFLLENBQ3RELENBQ0QsTUFBTSxRQUFVLEtBQU8sT0FBUyxJQUFNLElBQU0sZUFBZSxNQUFNLEVBQUksSUFDL0QsTUFBUSxLQUFPLE9BQVMsR0FBSyxLQUFPLGVBQWUsSUFBSSxFQUFJLElBTWpFLE1BQU8sQ0FMTSxPQUFPLFFBQVUsS0FBSyxPQUM3QixJQUFNLFFBQVUsSUFBTSxNQUFRLElBQzlCLE9BQU8sT0FDSCxRQUNBLE1BQ0ksTUFBTyxPQUFTLElBQUssRUFBSSxDQUMzQyxFQWxIMEIsY0NsQmIsU0FBVyxRQUFDLEVBQUcsQ0FBRSxxQkFBdUIsRUFBSyxFQUFNLENBQUEsSUFDckQscUJBQ0QsRUFBRSxRQUFRLGlCQUFrQixJQUFJLEVBQ2hDLEVBQUUsUUFBUSw0QkFBNkIsTUFBTSxFQUFFLFFBQVEsYUFBYyxJQUFJLEVBSDNELFlDWGxCLE1BQVEsSUFBSSxJQUFJLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxHQUFHLENBQUMsRUFDekMsY0FBZ0IsT0FBQyxHQUFNLE1BQU0sSUFBSSxDQUFDLEVBQWxCLGlCQUtoQixpQkFBbUIsNEJBQ25CLFdBQWEsVUFJYixnQkFBa0IsSUFBSSxJQUFJLENBQUMsSUFBSyxHQUFHLENBQUMsRUFFcEMsU0FBVyxJQUFJLElBQUksQ0FBQyxLQUFNLEdBQUcsQ0FBQyxFQUM5QixXQUFhLElBQUksSUFBSSxpQkFBaUIsRUFDdENDLGVBQWUsT0FBQyxHQUFNLEVBQUUsUUFBUSwyQkFBNEIsTUFBTSxFQUFuRCxrQkFFZkMsUUFBUSxPQUVSQyxPQUFPRCxRQUFRLEtBR2YsWUFBY0EsUUFBUSw0TEFHckIsTUFBTSxLQUFOLE1BQU0sSUFBSSxDQWViLFlBQVksS0FBTSxPQUFRLFFBQVUsQ0FBQSxFQUFJLENBZnJDLGtDQUNILDJCQUNBLHlCQUNBLDZCQUNBLHlCQUFTLElBQ1QseUJBQVMsQ0FBQSxHQUNULDJCQUNBLGdDQUNBLHlCQUNBLDhCQUFjLElBQ2QsNEJBQ0EsNkJBR0EsNEJBQVksSUFFUixLQUFLLEtBQU8sS0FFUixNQUNBLGtCQUFLLFVBQVksSUFDckIsa0JBQUssUUFBVSxRQUNmLGtCQUFLLE1BQVEsa0JBQUssU0FBVSwrQkFBSyxTQUFRLE9BQVEsTUFDakQsa0JBQUssU0FBVyxrQkFBSyxTQUFVLEtBQU8sUUFBVSwrQkFBSyxPQUFNLFdBQzNELGtCQUFLLE1BQVEsa0JBQUssU0FBVSxLQUFPLEdBQUssK0JBQUssT0FBTSxRQUMvQyxPQUFTLEtBQU8sQ0FBQywrQkFBSyxPQUFNLGNBQzVCLGtCQUFLLE9BQU0sS0FBSyxJQUFJLEVBQ3hCLGtCQUFLLGFBQWUsa0JBQUssU0FBVSwrQkFBSyxTQUFRLFFBQU8sT0FBUyxFQUNuRSxDQUNELElBQUksVUFBVyxDQUVYLEdBQUksa0JBQUssYUFBYyxPQUNuQixPQUFPLGtCQUFLLFdBRWhCLFVBQVcsS0FBSyxrQkFBSyxRQUNqQixHQUFJLE9BQU8sR0FBTSxXQUViLEVBQUUsTUFBUSxFQUFFLFVBQ1osT0FBUSxrQkFBSyxVQUFZLElBR2pDLE9BQU8sa0JBQUssVUFDZixDQUVELFVBQVcsQ0FDUCxPQUFJLGtCQUFLLGFBQWMsT0FDWixrQkFBSyxXQUNYLEtBQUssS0FJRSxrQkFBSyxVQUNULEtBQUssS0FBTyxJQUFNLGtCQUFLLFFBQU8sSUFBSSxHQUFLLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLEVBQUksS0FKMUQsa0JBQUssVUFBWSxrQkFBSyxRQUFPLElBQUksR0FBSyxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQU12RSxDQW1DRCxRQUFRLE1BQU8sQ0FDWCxVQUFXLEtBQUssTUFDWixHQUFJLElBQU0sR0FHVixJQUFJLE9BQU8sR0FBTSxVQUFZLEVBQUUsYUFBYSxNQUFPLGVBQUUsV0FBWSxNQUM3RCxNQUFNLElBQUksTUFBTSxpQkFBbUIsQ0FBQyxFQUd4QyxrQkFBSyxRQUFPLEtBQUssQ0FBQyxFQUV6QixDQUNELFFBQVMsQ0FDTCxNQUFNLElBQU0sS0FBSyxPQUFTLEtBQ3BCLGtCQUFLLFFBQU8sTUFBTyxFQUFDLElBQUksR0FBTSxPQUFPLEdBQU0sU0FBVyxFQUFJLEVBQUUsT0FBUSxDQUFDLEVBQ3JFLENBQUMsS0FBSyxLQUFNLEdBQUcsa0JBQUssUUFBTyxJQUFJLEdBQUssRUFBRSxPQUFRLENBQUEsQ0FBQyxFQUNyRCxPQUFJLEtBQUssV0FBYSxDQUFDLEtBQUssTUFDeEIsSUFBSSxRQUFRLENBQUEsQ0FBRSxFQUNkLEtBQUssTUFBTyxJQUNYLE9BQVMsa0JBQUssUUFDViwrQkFBSyxPQUFNLGNBQWUsa0JBQUssVUFBUyxPQUFTLE1BQ3RELElBQUksS0FBSyxDQUFBLENBQUUsRUFFUixHQUNWLENBQ0QsU0FBVSxDQUNOLEdBQUksa0JBQUssU0FBVSxLQUNmLE1BQU8sR0FFWCxHQUFJLENBQUMsa0JBQUssVUFBUyxRQUFTLEVBQ3hCLE1BQU8sR0FDWCxHQUFJLGtCQUFLLGdCQUFpQixFQUN0QixNQUFPLEdBRVgsTUFBTSxFQUFJLGtCQUFLLFNBQ2YsUUFBUyxFQUFJLEVBQUcsRUFBSSxrQkFBSyxjQUFjLElBQUssQ0FDeEMsTUFBTSxHQUFLLGVBQUUsUUFBTyxDQUFDLEVBQ3JCLEdBQUksRUFBRSxjQUFjLE1BQU8sR0FBRyxPQUFTLEtBQ25DLE1BQU8sRUFFZCxDQUNELE1BQU8sRUFDVixDQUNELE9BQVEsQ0FHSixHQUZJLGtCQUFLLFNBQVUsTUFFZixrQkFBSyxVQUFTLE9BQVMsSUFDdkIsTUFBTyxHQUNYLEdBQUksQ0FBQyxrQkFBSyxVQUFTLE1BQU8sRUFDdEIsTUFBTyxHQUNYLEdBQUksQ0FBQyxLQUFLLEtBQ04sT0FBTyxrQkFBSyxVQUFTLFFBR3pCLE1BQU0sR0FBSyxrQkFBSyxTQUFVLCtCQUFLLFNBQVEsUUFBTyxPQUFTLEVBRXZELE9BQU8sa0JBQUssZ0JBQWlCLEdBQUssQ0FDckMsQ0FDRCxPQUFPLEtBQU0sQ0FDTCxPQUFPLE1BQVMsU0FDaEIsS0FBSyxLQUFLLElBQUksRUFFZCxLQUFLLEtBQUssS0FBSyxNQUFNLElBQUksQ0FBQyxDQUNqQyxDQUNELE1BQU0sT0FBUSxDQUNWLE1BQU0sRUFBSSxJQUFJLEtBQUksS0FBSyxLQUFNLE1BQU0sRUFDbkMsVUFBVyxLQUFLLGtCQUFLLFFBQ2pCLEVBQUUsT0FBTyxDQUFDLEVBRWQsT0FBTyxDQUNWLENBdUhELE9BQU8sU0FBUyxRQUFTLFFBQVUsR0FBSSxRQUNuQyxNQUFNLElBQU0sSUFBSSxLQUFJLEtBQU0sT0FBVyxPQUFPLEVBQzVDLCtCQUFJLHlCQUFKLFFBQWMsUUFBUyxJQUFLLEVBQUcsU0FDeEIsR0FDVixDQUdELGFBQWMsQ0FHVixHQUFJLE9BQVMsa0JBQUssT0FDZCxPQUFPLGtCQUFLLE9BQU0sY0FFdEIsTUFBTSxLQUFPLEtBQUssV0FDWixDQUFDLEdBQUksS0FBTSxTQUFVLEtBQUssRUFBSSxLQUFLLGlCQVN6QyxHQUFJLEVBTGEsVUFDYixrQkFBSyxZQUNKLGtCQUFLLFVBQVMsUUFDWCxDQUFDLGtCQUFLLFVBQVMsaUJBQ2YsS0FBSyxZQUFhLElBQUssS0FBSyxZQUFhLEdBRTdDLE9BQU8sS0FFWCxNQUFNLE9BQVMsa0JBQUssVUFBUyxPQUFTLElBQU0sS0FBTyxNQUFRLElBQU0sSUFDakUsT0FBTyxPQUFPLE9BQU8sSUFBSSxPQUFPLElBQUksRUFBRSxJQUFLLEtBQUssRUFBRyxDQUMvQyxLQUFNLEdBQ04sTUFBTyxJQUNuQixDQUFTLENBQ0osQ0FDRCxJQUFJLFNBQVUsQ0FDVixPQUFPLGtCQUFLLFNBQ2YsQ0FzRUQsZUFBZSxTQUFVLENBQ3JCLE1BQU0sSUFBTSxVQUFZLENBQUMsQ0FBQyxrQkFBSyxVQUFTLElBR3hDLEdBRkksa0JBQUssU0FBVSxNQUNmLHFCQUFLLDRCQUFMLFdBQ0EsQ0FBQyxLQUFLLEtBQU0sQ0FDWixNQUFNLFFBQVUsS0FBSyxRQUFTLEdBQUksS0FBSyxNQUFLLEVBQ3RDLElBQU0sa0JBQUssUUFDWixJQUFJLEdBQUssUUFDVixLQUFNLENBQUMsR0FBSSxFQUFHLFNBQVUsS0FBSyxFQUFJLE9BQU8sR0FBTSxTQUN4Qyx3QkFBSSwwQkFBSixRQUFlLEVBQUcsa0JBQUssV0FBVyxTQUNsQyxFQUFFLGVBQWUsUUFBUSxFQUMvQix5QkFBSyxVQUFZLGtCQUFLLFlBQWEsVUFDbkMsa0JBQUssT0FBUyxrQkFBSyxTQUFVLE9BQ3RCLEVBQ3ZCLENBQWEsRUFDSSxLQUFLLEVBQUUsRUFDWixJQUFJRSxPQUFRLEdBQ1osR0FBSSxLQUFLLFdBQ0QsT0FBTyxrQkFBSyxRQUFPLENBQUMsR0FBTSxVQU10QixFQURtQixrQkFBSyxRQUFPLFNBQVcsR0FBSyxTQUFTLElBQUksa0JBQUssUUFBTyxDQUFDLENBQUMsR0FDekQsQ0FDakIsTUFBTSxJQUFNLGdCQUdOLFdBRUwsS0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsQ0FBQyxHQUV4QixJQUFJLFdBQVcsS0FBSyxHQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEdBRTlDLElBQUksV0FBVyxRQUFRLEdBQUssSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLENBQUMsRUFHaEQsVUFBWSxDQUFDLEtBQU8sQ0FBQyxVQUFZLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQzVEQSxPQUFRLFdBQWEsaUJBQW1CLFVBQVksV0FBYSxFQUNwRSxDQUlULElBQUksSUFBTSxHQUNWLE9BQUksS0FBSyxNQUFPLEdBQ1osK0JBQUssT0FBTSxjQUNYLGtCQUFLLFVBQVMsT0FBUyxNQUN2QixJQUFNLGFBR0gsQ0FET0EsT0FBUSxJQUFNLElBR3hCLFNBQVMsR0FBRyxFQUNYLGtCQUFLLFVBQVksQ0FBQyxDQUFDLGtCQUFLLFlBQ3pCLGtCQUFLLE9BQ3JCLENBQ1MsQ0FJRCxNQUFNLFNBQVcsS0FBSyxPQUFTLEtBQU8sS0FBSyxPQUFTLElBRTlDLE1BQVEsS0FBSyxPQUFTLElBQU0sWUFBYyxNQUNoRCxJQUFJLEtBQU8scUJBQUssaUNBQUwsVUFBb0IsS0FDL0IsR0FBSSxLQUFLLFFBQVMsR0FBSSxLQUFLLFNBQVcsQ0FBQyxNQUFRLEtBQUssT0FBUyxJQUFLLENBRzlELE1BQU0sRUFBSSxLQUFLLFdBQ2YseUJBQUssT0FBUyxDQUFDLENBQUMsR0FDaEIsS0FBSyxLQUFPLEtBQ1osa0JBQUssVUFBWSxRQUNWLENBQUMsRUFBRyxTQUFTLEtBQUssU0FBUSxDQUFFLEVBQUcsR0FBTyxFQUFLLENBQ3JELENBRUQsSUFBSSxlQUFpQixDQUFDLFVBQVksVUFBWSxLQUFPLENBQUMsV0FDaEQsR0FDQSxxQkFBSyxpQ0FBTCxVQUFvQixJQUN0QixpQkFBbUIsT0FDbkIsZUFBaUIsSUFFakIsaUJBQ0EsS0FBTyxNQUFNLElBQUksT0FBTyxjQUFjLE9BRzFDLElBQUksTUFBUSxHQUNaLEdBQUksS0FBSyxPQUFTLEtBQU8sa0JBQUssV0FDMUIsT0FBUyxLQUFLLFFBQVMsR0FBSSxDQUFDLElBQU0sV0FBYSxJQUFNLGdCQUVwRCxDQUNELE1BQU0sTUFBUSxLQUFLLE9BQVMsSUFFcEIsTUFDSyxLQUFLLFFBQU8sR0FBTSxDQUFDLEtBQU8sQ0FBQyxTQUFXLFdBQWEsSUFDcERELE9BQ0EsSUFDTixLQUFLLE9BQVMsSUFDVixJQUNBLEtBQUssT0FBUyxJQUNWLEtBQ0EsS0FBSyxPQUFTLEtBQU8sZUFDakIsSUFDQSxLQUFLLE9BQVMsS0FBTyxlQUNqQixLQUNBLElBQUksS0FBSyxJQUFJLEdBQ25DLE1BQVEsTUFBUSxLQUFPLEtBQzFCLENBQ0QsTUFBTyxDQUNILE1BQ0EsU0FBUyxJQUFJLEVBQ1osa0JBQUssVUFBWSxDQUFDLENBQUMsa0JBQUssWUFDekIsa0JBQUssT0FDakIsQ0FDSyxDQWlFTCxFQTVpQkksa0JBQ0Esc0JBQ0EsbUJBQ0EsbUJBQ0Esb0JBQ0EseUJBQ0Esa0JBQ0Esd0JBQ0EscUJBQ0Esc0JBR0Esc0JBZEcsMkJBc0RILFlBQVMsaUJBQUcsQ0FFUixHQUFJLE9BQVMsa0JBQUssT0FDZCxNQUFNLElBQUksTUFBTSwwQkFBMEIsRUFDOUMsR0FBSSxrQkFBSyxhQUNMLE9BQU8sS0FHWCxLQUFLLFNBQVEsRUFDYixrQkFBSyxZQUFjLElBQ25CLElBQUksRUFDSixLQUFRLEVBQUksa0JBQUssT0FBTSxJQUFHLEdBQUssQ0FDM0IsR0FBSSxFQUFFLE9BQVMsSUFDWCxTQUVKLElBQUksRUFBSSxFQUNKLEdBQUssZUFBRSxTQUNYLEtBQU8sSUFBSSxDQUNQLFFBQVMsRUFBSSxlQUFFLGNBQWUsRUFBRyxDQUFDLEdBQUcsTUFBUSxFQUFJLGdCQUFHLFFBQU8sT0FBUSxJQUMvRCxVQUFXLFFBQVEsZUFBRSxRQUFRLENBRXpCLEdBQUksT0FBTyxNQUFTLFNBQ2hCLE1BQU0sSUFBSSxNQUFNLDhCQUE4QixFQUdsRCxLQUFLLE9BQU8sZ0JBQUcsUUFBTyxDQUFDLENBQUMsQ0FDM0IsQ0FFTCxFQUFJLEdBQ0osR0FBSyxlQUFFLFFBQ1YsQ0FDSixDQUNELE9BQU8sSUFDVixFQWpDUSxhQXRETix3QkErSkksWUFBUyxnQkFBQyxJQUFLLElBQUssSUFBSyxJQUFLLFdBQ2pDLElBQUksU0FBVyxHQUNYLFFBQVUsR0FDVixXQUFhLEdBQ2IsU0FBVyxHQUNmLEdBQUksSUFBSSxPQUFTLEtBQU0sQ0FFbkIsSUFBSUUsR0FBSSxJQUNKQyxLQUFNLEdBQ1YsS0FBT0QsR0FBSSxJQUFJLFFBQVEsQ0FDbkIsTUFBTSxFQUFJLElBQUksT0FBT0EsSUFBRyxFQUd4QixHQUFJLFVBQVksSUFBTSxLQUFNLENBQ3hCLFNBQVcsQ0FBQyxTQUNaQyxNQUFPLEVBQ1AsUUFDSCxDQUNELEdBQUksUUFBUyxDQUNMRCxLQUFNLFdBQWEsR0FDZixJQUFNLEtBQU8sSUFBTSxPQUNuQixTQUFXLElBR1YsSUFBTSxLQUFPLEVBQUVBLEtBQU0sV0FBYSxHQUFLLFlBQzVDLFFBQVUsSUFFZEMsTUFBTyxFQUNQLFFBQ0gsU0FDUSxJQUFNLElBQUssQ0FDaEIsUUFBVSxHQUNWLFdBQWFELEdBQ2IsU0FBVyxHQUNYQyxNQUFPLEVBQ1AsUUFDSCxDQUNELEdBQUksQ0FBQyxJQUFJLE9BQVMsY0FBYyxDQUFDLEdBQUssSUFBSSxPQUFPRCxFQUFDLElBQU0sSUFBSyxDQUN6RCxJQUFJLEtBQUtDLElBQUcsRUFDWkEsS0FBTSxHQUNOLE1BQU1DLEtBQU0sSUFBSSxLQUFJLEVBQUcsR0FBRyxFQUMxQkYsR0FBSSx3QkFBSSx5QkFBSixRQUFjLElBQUtFLEtBQUtGLEdBQUcsS0FDL0IsSUFBSSxLQUFLRSxJQUFHLEVBQ1osUUFDSCxDQUNERCxNQUFPLENBQ1YsQ0FDRCxXQUFJLEtBQUtBLElBQUcsRUFDTEQsRUFDVixDQUdELElBQUksRUFBSSxJQUFNLEVBQ1YsS0FBTyxJQUFJLEtBQUksS0FBTSxHQUFHLEVBQzVCLE1BQU0sTUFBUSxDQUFBLEVBQ2QsSUFBSSxJQUFNLEdBQ1YsS0FBTyxFQUFJLElBQUksUUFBUSxDQUNuQixNQUFNLEVBQUksSUFBSSxPQUFPLEdBQUcsRUFHeEIsR0FBSSxVQUFZLElBQU0sS0FBTSxDQUN4QixTQUFXLENBQUMsU0FDWixLQUFPLEVBQ1AsUUFDSCxDQUNELEdBQUksUUFBUyxDQUNMLElBQU0sV0FBYSxHQUNmLElBQU0sS0FBTyxJQUFNLE9BQ25CLFNBQVcsSUFHVixJQUFNLEtBQU8sRUFBRSxJQUFNLFdBQWEsR0FBSyxZQUM1QyxRQUFVLElBRWQsS0FBTyxFQUNQLFFBQ0gsU0FDUSxJQUFNLElBQUssQ0FDaEIsUUFBVSxHQUNWLFdBQWEsRUFDYixTQUFXLEdBQ1gsS0FBTyxFQUNQLFFBQ0gsQ0FDRCxHQUFJLGNBQWMsQ0FBQyxHQUFLLElBQUksT0FBTyxDQUFDLElBQU0sSUFBSyxDQUMzQyxLQUFLLEtBQUssR0FBRyxFQUNiLElBQU0sR0FDTixNQUFNRSxLQUFNLElBQUksS0FBSSxFQUFHLElBQUksRUFDM0IsS0FBSyxLQUFLQSxJQUFHLEVBQ2IsRUFBSSx3QkFBSSx5QkFBSixRQUFjLElBQUtBLEtBQUssRUFBRyxLQUMvQixRQUNILENBQ0QsR0FBSSxJQUFNLElBQUssQ0FDWCxLQUFLLEtBQUssR0FBRyxFQUNiLElBQU0sR0FDTixNQUFNLEtBQUssSUFBSSxFQUNmLEtBQU8sSUFBSSxLQUFJLEtBQU0sR0FBRyxFQUN4QixRQUNILENBQ0QsR0FBSSxJQUFNLElBQ04sT0FBSSxNQUFRLElBQU0saUJBQUksUUFBTyxTQUFXLEdBQ3BDLGlCQUFJLFVBQVksSUFFcEIsS0FBSyxLQUFLLEdBQUcsRUFDYixJQUFNLEdBQ04sSUFBSSxLQUFLLEdBQUcsTUFBTyxJQUFJLEVBQ2hCLEVBRVgsS0FBTyxDQUNWLENBSUQsV0FBSSxLQUFPLEtBQ1gsaUJBQUksVUFBWSxRQUNoQixpQkFBSSxPQUFTLENBQUMsSUFBSSxVQUFVLElBQU0sQ0FBQyxDQUFDLEdBQzdCLENBQ1YsRUFySGUsYUErVWhCLGlCQUFjLGdCQUFDLElBQUssQ0FDaEIsT0FBTyxrQkFBSyxRQUNQLElBQUksR0FBSyxDQUdWLEdBQUksT0FBTyxHQUFNLFNBQ2IsTUFBTSxJQUFJLE1BQU0sOEJBQThCLEVBSWxELEtBQU0sQ0FBQyxHQUFJLEVBQUdDLFdBQVcsS0FBSyxFQUFJLEVBQUUsZUFBZSxHQUFHLEVBQ3RELHlCQUFLLE9BQVMsa0JBQUssU0FBVSxPQUN0QixFQUNuQixDQUFTLEVBQ0ksT0FBTyxHQUFLLEVBQUUsS0FBSyxRQUFPLEdBQU0sS0FBSyxNQUFPLElBQUssQ0FBQyxDQUFDLENBQUMsRUFDcEQsS0FBSyxHQUFHLENBQ2hCLEVBaEJhLGtCQWlCUCxhQUFVLGdCQUFDLEtBQU0sU0FBVSxRQUFVLEdBQU8sQ0FDL0MsSUFBSSxTQUFXLEdBQ1gsR0FBSyxHQUNMLE1BQVEsR0FDWixRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssT0FBUSxJQUFLLENBQ2xDLE1BQU0sRUFBSSxLQUFLLE9BQU8sQ0FBQyxFQUN2QixHQUFJLFNBQVUsQ0FDVixTQUFXLEdBQ1gsS0FBTyxXQUFXLElBQUksQ0FBQyxFQUFJLEtBQU8sSUFBTSxFQUN4QyxRQUNILENBQ0QsR0FBSSxJQUFNLEtBQU0sQ0FDUixJQUFNLEtBQUssT0FBUyxFQUNwQixJQUFNLE9BR04sU0FBVyxHQUVmLFFBQ0gsQ0FDRCxHQUFJLElBQU0sSUFBSyxDQUNYLEtBQU0sQ0FBQyxJQUFLLFVBQVcsU0FBVSxLQUFLLEVBQUksV0FBVyxLQUFNLENBQUMsRUFDNUQsR0FBSSxTQUFVLENBQ1YsSUFBTSxJQUNOLE1BQVEsT0FBUyxVQUNqQixHQUFLLFNBQVcsRUFDaEIsU0FBVyxVQUFZLE1BQ3ZCLFFBQ0gsQ0FDSixDQUNELEdBQUksSUFBTSxJQUFLLENBQ1AsU0FBVyxPQUFTLElBQ3BCLElBQU0sWUFFTixJQUFNTCxPQUNWLFNBQVcsR0FDWCxRQUNILENBQ0QsR0FBSSxJQUFNLElBQUssQ0FDWCxJQUFNRCxRQUNOLFNBQVcsR0FDWCxRQUNILENBQ0QsSUFBTUQsZUFBYSxDQUFDLENBQ3ZCLENBQ0QsTUFBTyxDQUFDLEdBQUksU0FBUyxJQUFJLEVBQUcsQ0FBQyxDQUFDLFNBQVUsS0FBSyxDQUNoRCxFQTlDZ0IsY0EvZmQsYUFBTSxLQUFOLGFBQVUsbUJBQVYsSUFBTSxJQUFOLEtDbkJBLE1BQU0sT0FBUyxRQUFDLEVBQUcsQ0FBRSxxQkFBdUIsRUFBSyxFQUFNLENBQUEsSUFJbkQscUJBQ0QsRUFBRSxRQUFRLGFBQWMsTUFBTSxFQUM5QixFQUFFLFFBQVEsZUFBZ0IsTUFBTSxFQU5wQixVQ0pULFVBQVksUUFBQyxFQUFHLFFBQVMsUUFBVSxDQUFBLEtBQzVDLG1CQUFtQixPQUFPLEVBRXRCLENBQUMsUUFBUSxXQUFhLFFBQVEsT0FBTyxDQUFDLElBQU0sSUFDckMsR0FFSixJQUFJLFVBQVUsUUFBUyxPQUFPLEVBQUUsTUFBTSxDQUFDLEdBTnpCLGFBU25CLGFBQWUsd0JBQ2YsZUFBaUIsT0FBQ00sTUFBUyxHQUFNLENBQUMsRUFBRSxXQUFXLEdBQUcsR0FBSyxFQUFFLFNBQVNBLElBQUcsRUFBcEQsa0JBQ2pCLGtCQUFvQixPQUFDQSxNQUFTLEdBQU0sRUFBRSxTQUFTQSxJQUFHLEVBQTlCLHFCQUNwQixxQkFBdUIsT0FBQ0EsT0FDMUJBLEtBQU1BLEtBQUksY0FDRixHQUFNLENBQUMsRUFBRSxXQUFXLEdBQUcsR0FBSyxFQUFFLFlBQVcsRUFBRyxTQUFTQSxJQUFHLEdBRnZDLHdCQUl2Qix3QkFBMEIsT0FBQ0EsT0FDN0JBLEtBQU1BLEtBQUksY0FDRixHQUFNLEVBQUUsWUFBVyxFQUFHLFNBQVNBLElBQUcsR0FGZCwyQkFJMUIsY0FBZ0IsYUFDaEIsZ0JBQWtCLE9BQUMsR0FBTSxDQUFDLEVBQUUsV0FBVyxHQUFHLEdBQUssRUFBRSxTQUFTLEdBQUcsRUFBM0MsbUJBQ2xCLG1CQUFxQixPQUFDLEdBQU0sSUFBTSxLQUFPLElBQU0sTUFBUSxFQUFFLFNBQVMsR0FBRyxFQUFoRCxzQkFDckIsVUFBWSxVQUNaLFlBQWMsT0FBQyxHQUFNLElBQU0sS0FBTyxJQUFNLE1BQVEsRUFBRSxXQUFXLEdBQUcsRUFBbEQsZUFDZCxPQUFTLFFBQ1QsU0FBVyxPQUFDLEdBQU0sRUFBRSxTQUFXLEdBQUssQ0FBQyxFQUFFLFdBQVcsR0FBRyxFQUExQyxZQUNYLFlBQWMsT0FBQyxHQUFNLEVBQUUsU0FBVyxHQUFLLElBQU0sS0FBTyxJQUFNLEtBQTVDLGVBQ2QsU0FBVyx5QkFDWCxpQkFBbUIsUUFBQyxDQUFDLEdBQUlBLEtBQU0sRUFBRSxJQUFNLENBQ3pDLE1BQU0sTUFBUSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsRUFDbEMsT0FBS0EsTUFFTEEsS0FBTUEsS0FBSSxjQUNGLEdBQU0sTUFBTSxDQUFDLEdBQUssRUFBRSxZQUFhLEVBQUMsU0FBU0EsSUFBRyxHQUYzQyxLQUdmLEVBTnlCLG9CQU9uQixvQkFBc0IsUUFBQyxDQUFDLEdBQUlBLEtBQU0sRUFBRSxJQUFNLENBQzVDLE1BQU0sTUFBUSxtQkFBbUIsQ0FBQyxFQUFFLENBQUMsRUFDckMsT0FBS0EsTUFFTEEsS0FBTUEsS0FBSSxjQUNGLEdBQU0sTUFBTSxDQUFDLEdBQUssRUFBRSxZQUFhLEVBQUMsU0FBU0EsSUFBRyxHQUYzQyxLQUdmLEVBTjRCLHVCQU90QixjQUFnQixRQUFDLENBQUMsR0FBSUEsS0FBTSxFQUFFLElBQU0sQ0FDdEMsTUFBTSxNQUFRLG1CQUFtQixDQUFDLEVBQUUsQ0FBQyxFQUNyQyxPQUFRQSxLQUFlLEdBQU0sTUFBTSxDQUFDLEdBQUssRUFBRSxTQUFTQSxJQUFHLEVBQXpDLEtBQ2xCLEVBSHNCLGlCQUloQixXQUFhLFFBQUMsQ0FBQyxHQUFJQSxLQUFNLEVBQUUsSUFBTSxDQUNuQyxNQUFNLE1BQVEsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLEVBQ2xDLE9BQVFBLEtBQWUsR0FBTSxNQUFNLENBQUMsR0FBSyxFQUFFLFNBQVNBLElBQUcsRUFBekMsS0FDbEIsRUFIbUIsY0FJYixnQkFBa0IsUUFBQyxDQUFDLEVBQUUsSUFBTSxDQUM5QixNQUFNLElBQU0sR0FBRyxPQUNmLE9BQVEsR0FBTSxFQUFFLFNBQVcsS0FBTyxDQUFDLEVBQUUsV0FBVyxHQUFHLENBQ3ZELEVBSHdCLG1CQUlsQixtQkFBcUIsUUFBQyxDQUFDLEVBQUUsSUFBTSxDQUNqQyxNQUFNLElBQU0sR0FBRyxPQUNmLE9BQVEsR0FBTSxFQUFFLFNBQVcsS0FBTyxJQUFNLEtBQU8sSUFBTSxJQUN6RCxFQUgyQixzQkFLckIsZ0JBQW1CLE9BQU8sU0FBWSxVQUFZLFFBQ2pELE9BQU8sUUFBUSxLQUFRLFVBQ3RCLFFBQVEsS0FDUixRQUFRLElBQUksZ0NBQ1osUUFBUSxTQUNWLFFBQ0EsS0FBTyxDQUNULE1BQU8sQ0FBRSxJQUFLLElBQU0sRUFDcEIsTUFBTyxDQUFFLElBQUssR0FBSyxDQUN2QixFQUVhLElBQU0sa0JBQW9CLFFBQVUsS0FBSyxNQUFNLElBQU0sS0FBSyxNQUFNLElBQzdFLFVBQVUsSUFBTSxJQUNULE1BQU0sU0FBVyxPQUFPLGFBQWEsRUFDNUMsVUFBVSxTQUFXLFNBR3JCLE1BQU0sTUFBUSxPQUVSLEtBQU8sTUFBUSxLQUlmLFdBQWEsMENBR2IsYUFBZSwwQkFDUixPQUFTLFFBQUMsUUFBUyxRQUFVLEtBQVEsR0FBTSxVQUFVLEVBQUcsUUFBUyxPQUFPLEVBQS9ELFVBQ3RCLFVBQVUsT0FBUyxPQUNuQixNQUFNLElBQU0sUUFBQyxFQUFHLEVBQUksQ0FBRSxJQUFLLE9BQU8sT0FBTyxDQUFFLEVBQUUsRUFBRyxDQUFDLEVBQXJDLE9BQ0MsU0FBVyxPQUFDLEtBQVEsV0FDN0IsR0FBSSxDQUFDLEtBQU8sT0FBTyxLQUFRLFVBQVksQ0FBQyxPQUFPLEtBQUssR0FBRyxFQUFFLE9BQ3JELE9BQU8sVUFFWCxNQUFNLEtBQU8sVUFFYixPQUFPLE9BQU8sT0FESixRQUFDLEVBQUcsUUFBUyxRQUFVLENBQUUsSUFBSyxLQUFLLEVBQUcsUUFBUyxJQUFJLElBQUssT0FBTyxDQUFDLEVBQWhFLEtBQ2MsQ0FDcEIsV0FBVyxpQkFBd0IsS0FBSyxTQUFVLENBQzlDLFlBQVksUUFBUyxRQUFVLEdBQUksQ0FDL0IsTUFBTSxRQUFTLElBQUksSUFBSyxPQUFPLENBQUMsQ0FDbkMsQ0FDRCxPQUFPLFNBQVMsUUFBUyxDQUNyQixPQUFPLEtBQUssU0FBUyxJQUFJLElBQUssT0FBTyxDQUFDLEVBQUUsU0FDM0MsQ0FDSixFQVBpRCx1QkFBdkMsSUFRWCxLQUFLLGlCQUFrQixLQUFLLEdBQUksQ0FFNUIsWUFBWSxLQUFNLE9BQVEsUUFBVSxDQUFBLEVBQUksQ0FDcEMsTUFBTSxLQUFNLE9BQVEsSUFBSSxJQUFLLE9BQU8sQ0FBQyxDQUN4QyxDQUVELE9BQU8sU0FBUyxRQUFTLFFBQVUsR0FBSSxDQUNuQyxPQUFPLEtBQUssSUFBSSxTQUFTLFFBQVMsSUFBSSxJQUFLLE9BQU8sQ0FBQyxDQUN0RCxDQUNKLEVBVCtCLGlCQUEzQixJQVVMLFNBQVUsUUFBQyxFQUFHLFFBQVUsS0FBTyxLQUFLLFNBQVMsRUFBRyxJQUFJLElBQUssT0FBTyxDQUFDLEVBQXZELFlBQ1YsT0FBUSxRQUFDLEVBQUcsUUFBVSxLQUFPLEtBQUssT0FBTyxFQUFHLElBQUksSUFBSyxPQUFPLENBQUMsRUFBckQsVUFDUixPQUFRLFFBQUMsUUFBUyxRQUFVLEtBQU8sS0FBSyxPQUFPLFFBQVMsSUFBSSxJQUFLLE9BQU8sQ0FBQyxFQUFqRSxVQUNSLFNBQVUsT0FBQyxTQUFZLEtBQUssU0FBUyxJQUFJLElBQUssT0FBTyxDQUFDLEVBQTVDLFlBQ1YsT0FBUSxRQUFDLFFBQVMsUUFBVSxLQUFPLEtBQUssT0FBTyxRQUFTLElBQUksSUFBSyxPQUFPLENBQUMsRUFBakUsVUFDUixZQUFhLFFBQUMsUUFBUyxRQUFVLEtBQU8sS0FBSyxZQUFZLFFBQVMsSUFBSSxJQUFLLE9BQU8sQ0FBQyxFQUF0RSxlQUNiLE1BQU8sUUFBQyxLQUFNLFFBQVMsUUFBVSxDQUFBLElBQU8sS0FBSyxNQUFNLEtBQU0sUUFBUyxJQUFJLElBQUssT0FBTyxDQUFDLEVBQTVFLFNBQ1AsSUFBSyxLQUFLLElBQ1YsUUFDUixDQUFLLENBQ0wsRUFuQ3dCLFlBb0N4QixVQUFVLFNBQVcsU0FXZCxNQUFNLFlBQWMsUUFBQyxRQUFTLFFBQVUsTUFDM0MsbUJBQW1CLE9BQU8sRUFHdEIsUUFBUSxTQUFXLENBQUMsbUJBQW1CLEtBQUssT0FBTyxFQUU1QyxDQUFDLE9BQU8sRUFFWkUsU0FBTyxPQUFPLEdBUkUsZUFVM0IsVUFBVSxZQUFjLFlBWWpCLE1BQU0sT0FBUyxRQUFDLFFBQVMsUUFBVSxDQUFFLElBQUssSUFBSSxVQUFVLFFBQVMsT0FBTyxFQUFFLFNBQTNELFVBQ3RCLFVBQVUsT0FBUyxPQUNaLE1BQU0sTUFBUSxRQUFDLEtBQU0sUUFBUyxRQUFVLENBQUEsSUFBTyxDQUNsRCxNQUFNLEdBQUssSUFBSSxVQUFVLFFBQVMsT0FBTyxFQUN6QyxZQUFPLEtBQUssT0FBTyxHQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFDL0IsR0FBRyxRQUFRLFFBQVUsQ0FBQyxLQUFLLFFBQzNCLEtBQUssS0FBSyxPQUFPLEVBRWQsSUFDWCxFQVBxQixTQVFyQixVQUFVLE1BQVEsTUFFbEIsTUFBTSxVQUFZLDBCQUNaLGFBQWUsT0FBQyxHQUFNLEVBQUUsUUFBUSwyQkFBNEIsTUFBTSxFQUFuRCxnQkFDUixXQUFOLE1BQU0sVUFBVSxDQWtCbkIsWUFBWSxRQUFTLFFBQVUsR0FBSSxDQWpCbkMsOEJBQ0EsMEJBQ0EsOEJBQ0EsMkNBQ0EsK0JBQ0EsNkJBQ0EsOEJBQ0EsNEJBQ0EsOENBQ0EsOEJBQ0EsOEJBQ0EsZ0NBQ0EsNkJBQ0EsZ0NBQ0EsK0JBQ0EseUNBQ0EsNkJBRUksbUJBQW1CLE9BQU8sRUFDMUIsUUFBVSxTQUFXLEdBQ3JCLEtBQUssUUFBVSxRQUNmLEtBQUssUUFBVSxRQUNmLEtBQUssU0FBVyxRQUFRLFVBQVksZ0JBQ3BDLEtBQUssVUFBWSxLQUFLLFdBQWEsUUFDbkMsS0FBSyxxQkFDRCxDQUFDLENBQUMsUUFBUSxzQkFBd0IsUUFBUSxxQkFBdUIsR0FDakUsS0FBSyx1QkFDTCxLQUFLLFFBQVUsS0FBSyxRQUFRLFFBQVEsTUFBTyxHQUFHLEdBRWxELEtBQUssd0JBQTBCLENBQUMsQ0FBQyxRQUFRLHdCQUN6QyxLQUFLLE9BQVMsS0FDZCxLQUFLLE9BQVMsR0FDZCxLQUFLLFNBQVcsQ0FBQyxDQUFDLFFBQVEsU0FDMUIsS0FBSyxRQUFVLEdBQ2YsS0FBSyxNQUFRLEdBQ2IsS0FBSyxRQUFVLENBQUMsQ0FBQyxRQUFRLFFBQ3pCLEtBQUssT0FBUyxDQUFDLENBQUMsS0FBSyxRQUFRLE9BQzdCLEtBQUssbUJBQ0QsUUFBUSxxQkFBdUIsT0FDekIsUUFBUSxtQkFDUixDQUFDLEVBQUUsS0FBSyxXQUFhLEtBQUssUUFDcEMsS0FBSyxRQUFVLEdBQ2YsS0FBSyxVQUFZLEdBQ2pCLEtBQUssSUFBTSxHQUVYLEtBQUssS0FBSSxDQUNaLENBQ0QsVUFBVyxDQUNQLEdBQUksS0FBSyxRQUFRLGVBQWlCLEtBQUssSUFBSSxPQUFTLEVBQ2hELE1BQU8sR0FFWCxVQUFXLFdBQVcsS0FBSyxJQUN2QixVQUFXLFFBQVEsUUFDZixHQUFJLE9BQU8sTUFBUyxTQUNoQixNQUFPLEdBR25CLE1BQU8sRUFDVixDQUNELFNBQVMsRUFBRyxDQUFHLENBQ2YsTUFBTyxDQUNILE1BQU0sUUFBVSxLQUFLLFFBQ2YsUUFBVSxLQUFLLFFBRXJCLEdBQUksQ0FBQyxRQUFRLFdBQWEsUUFBUSxPQUFPLENBQUMsSUFBTSxJQUFLLENBQ2pELEtBQUssUUFBVSxHQUNmLE1BQ0gsQ0FDRCxHQUFJLENBQUMsUUFBUyxDQUNWLEtBQUssTUFBUSxHQUNiLE1BQ0gsQ0FFRCxLQUFLLFlBQVcsRUFFaEIsS0FBSyxRQUFVLENBQUMsR0FBRyxJQUFJLElBQUksS0FBSyxZQUFhLENBQUEsQ0FBQyxFQUMxQyxRQUFRLFFBQ1IsS0FBSyxNQUFRLElBQUksT0FBUyxRQUFRLE1BQU0sR0FBRyxJQUFJLEdBRW5ELEtBQUssTUFBTSxLQUFLLFFBQVMsS0FBSyxPQUFPLEVBVXJDLE1BQU0sYUFBZSxLQUFLLFFBQVEsSUFBSSxHQUFLLEtBQUssV0FBVyxDQUFDLENBQUMsRUFDN0QsS0FBSyxVQUFZLEtBQUssV0FBVyxZQUFZLEVBQzdDLEtBQUssTUFBTSxLQUFLLFFBQVMsS0FBSyxTQUFTLEVBRXZDLElBQUksSUFBTSxLQUFLLFVBQVUsSUFBSSxDQUFDLEVBQUcsRUFBRyxLQUFPLENBQ3ZDLEdBQUksS0FBSyxXQUFhLEtBQUssbUJBQW9CLENBRTNDLE1BQU0sTUFBUSxFQUFFLENBQUMsSUFBTSxJQUNuQixFQUFFLENBQUMsSUFBTSxLQUNSLEVBQUUsQ0FBQyxJQUFNLEtBQU8sQ0FBQyxVQUFVLEtBQUssRUFBRSxDQUFDLENBQUMsSUFDckMsQ0FBQyxVQUFVLEtBQUssRUFBRSxDQUFDLENBQUMsRUFDbEIsUUFBVSxXQUFXLEtBQUssRUFBRSxDQUFDLENBQUMsRUFDcEMsR0FBSSxNQUNBLE1BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFHLENBQUMsRUFBRyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsSUFBSSxJQUFNLEtBQUssTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUVoRSxHQUFJLFFBQ0wsTUFBTyxDQUFDLEVBQUUsQ0FBQyxFQUFHLEdBQUcsRUFBRSxNQUFNLENBQUMsRUFBRSxJQUFJLElBQU0sS0FBSyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBRTVELENBQ0QsT0FBTyxFQUFFLElBQUksSUFBTSxLQUFLLE1BQU0sRUFBRSxDQUFDLENBQzdDLENBQVMsRUFLRCxHQUpBLEtBQUssTUFBTSxLQUFLLFFBQVMsR0FBRyxFQUU1QixLQUFLLElBQU0sSUFBSSxPQUFPLEdBQUssRUFBRSxRQUFRLEVBQUssSUFBTSxFQUFFLEVBRTlDLEtBQUssVUFDTCxRQUFTLEVBQUksRUFBRyxFQUFJLEtBQUssSUFBSSxPQUFRLElBQUssQ0FDdEMsTUFBTSxFQUFJLEtBQUssSUFBSSxDQUFDLEVBQ2hCLEVBQUUsQ0FBQyxJQUFNLElBQ1QsRUFBRSxDQUFDLElBQU0sSUFDVCxLQUFLLFVBQVUsQ0FBQyxFQUFFLENBQUMsSUFBTSxLQUN6QixPQUFPLEVBQUUsQ0FBQyxHQUFNLFVBQ2hCLFlBQVksS0FBSyxFQUFFLENBQUMsQ0FBQyxJQUNyQixFQUFFLENBQUMsRUFBSSxJQUVkLENBRUwsS0FBSyxNQUFNLEtBQUssUUFBUyxLQUFLLEdBQUcsQ0FDcEMsQ0FNRCxXQUFXLFVBQVcsQ0FFbEIsR0FBSSxLQUFLLFFBQVEsV0FDYixRQUFTLEVBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUNsQyxRQUFTLEVBQUksRUFBRyxFQUFJLFVBQVUsQ0FBQyxFQUFFLE9BQVEsSUFDakMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFNLE9BQ3BCLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBSSxLQUtsQyxLQUFNLENBQUUsa0JBQW9CLEdBQU0sS0FBSyxRQUN2QyxPQUFJLG1CQUFxQixHQUVyQixVQUFZLEtBQUsscUJBQXFCLFNBQVMsRUFDL0MsVUFBWSxLQUFLLHNCQUFzQixTQUFTLEdBRTNDLG1CQUFxQixFQUUxQixVQUFZLEtBQUssaUJBQWlCLFNBQVMsRUFJM0MsVUFBWSxLQUFLLDBCQUEwQixTQUFTLEVBRWpELFNBQ1YsQ0FFRCwwQkFBMEIsVUFBVyxDQUNqQyxPQUFPLFVBQVUsSUFBSSxPQUFTLENBQzFCLElBQUksR0FBSyxHQUNULE1BQWUsR0FBSyxNQUFNLFFBQVEsS0FBTSxHQUFLLENBQUMsS0FBdkMsSUFBMkMsQ0FDOUMsSUFBSSxFQUFJLEdBQ1IsS0FBTyxNQUFNLEVBQUksQ0FBQyxJQUFNLE1BQ3BCLElBRUEsSUFBTSxJQUNOLE1BQU0sT0FBTyxHQUFJLEVBQUksRUFBRSxDQUU5QixDQUNELE9BQU8sS0FDbkIsQ0FBUyxDQUNKLENBRUQsaUJBQWlCLFVBQVcsQ0FDeEIsT0FBTyxVQUFVLElBQUksUUFDakIsTUFBUSxNQUFNLE9BQU8sQ0FBQyxJQUFLLE9BQVMsQ0FDaEMsTUFBTSxLQUFPLElBQUksSUFBSSxPQUFTLENBQUMsRUFDL0IsT0FBSSxPQUFTLE1BQVEsT0FBUyxLQUNuQixJQUVQLE9BQVMsTUFDTCxNQUFRLE9BQVMsTUFBUSxPQUFTLEtBQU8sT0FBUyxNQUNsRCxJQUFJLElBQUcsRUFDQSxNQUdmLElBQUksS0FBSyxJQUFJLEVBQ04sSUFDVixFQUFFLENBQUUsQ0FBQSxFQUNFLE1BQU0sU0FBVyxFQUFJLENBQUMsRUFBRSxFQUFJLE1BQ3RDLENBQ0osQ0FDRCxxQkFBcUIsTUFBTyxDQUNuQixNQUFNLFFBQVEsS0FBSyxJQUNwQixNQUFRLEtBQUssV0FBVyxLQUFLLEdBRWpDLElBQUksYUFBZSxHQUNuQixFQUFHLENBR0MsR0FGQSxhQUFlLEdBRVgsQ0FBQyxLQUFLLHdCQUF5QixDQUMvQixRQUFTLEVBQUksRUFBRyxFQUFJLE1BQU0sT0FBUyxFQUFHLElBQUssQ0FDdkMsTUFBTSxFQUFJLE1BQU0sQ0FBQyxFQUViLElBQU0sR0FBSyxJQUFNLElBQU0sTUFBTSxDQUFDLElBQU0sS0FFcEMsSUFBTSxLQUFPLElBQU0sTUFDbkIsYUFBZSxHQUNmLE1BQU0sT0FBTyxFQUFHLENBQUMsRUFDakIsSUFFUCxDQUNHLE1BQU0sQ0FBQyxJQUFNLEtBQ2IsTUFBTSxTQUFXLElBQ2hCLE1BQU0sQ0FBQyxJQUFNLEtBQU8sTUFBTSxDQUFDLElBQU0sTUFDbEMsYUFBZSxHQUNmLE1BQU0sSUFBRyxFQUVoQixDQUVELElBQUksR0FBSyxFQUNULE1BQWUsR0FBSyxNQUFNLFFBQVEsS0FBTSxHQUFLLENBQUMsS0FBdkMsSUFBMkMsQ0FDOUMsTUFBTSxFQUFJLE1BQU0sR0FBSyxDQUFDLEVBQ2xCLEdBQUssSUFBTSxLQUFPLElBQU0sTUFBUSxJQUFNLE9BQ3RDLGFBQWUsR0FDZixNQUFNLE9BQU8sR0FBSyxFQUFHLENBQUMsRUFDdEIsSUFBTSxFQUViLENBQ0osT0FBUSxjQUNULE9BQU8sTUFBTSxTQUFXLEVBQUksQ0FBQyxFQUFFLEVBQUksS0FDdEMsQ0FtQkQscUJBQXFCLFVBQVcsQ0FDNUIsSUFBSSxhQUFlLEdBQ25CLEVBQUcsQ0FDQyxhQUFlLEdBRWYsUUFBUyxTQUFTLFVBQVcsQ0FDekIsSUFBSSxHQUFLLEdBQ1QsTUFBZSxHQUFLLE1BQU0sUUFBUSxLQUFNLEdBQUssQ0FBQyxLQUF2QyxJQUEyQyxDQUM5QyxJQUFJLElBQU0sR0FDVixLQUFPLE1BQU0sSUFBTSxDQUFDLElBQU0sTUFFdEIsTUFJQSxJQUFNLElBQ04sTUFBTSxPQUFPLEdBQUssRUFBRyxJQUFNLEVBQUUsRUFFakMsSUFBSSxLQUFPLE1BQU0sR0FBSyxDQUFDLEVBQ3ZCLE1BQU0sRUFBSSxNQUFNLEdBQUssQ0FBQyxFQUNoQixHQUFLLE1BQU0sR0FBSyxDQUFDLEVBR3ZCLEdBRkksT0FBUyxNQUVULENBQUMsR0FDRCxJQUFNLEtBQ04sSUFBTSxNQUNOLENBQUMsSUFDRCxLQUFPLEtBQ1AsS0FBTyxLQUNQLFNBRUosYUFBZSxHQUVmLE1BQU0sT0FBTyxHQUFJLENBQUMsRUFDbEIsTUFBTSxNQUFRLE1BQU0sTUFBTSxDQUFDLEVBQzNCLE1BQU0sRUFBRSxFQUFJLEtBQ1osVUFBVSxLQUFLLEtBQUssRUFDcEIsSUFDSCxDQUVELEdBQUksQ0FBQyxLQUFLLHdCQUF5QixDQUMvQixRQUFTLEVBQUksRUFBRyxFQUFJLE1BQU0sT0FBUyxFQUFHLElBQUssQ0FDdkMsTUFBTSxFQUFJLE1BQU0sQ0FBQyxFQUViLElBQU0sR0FBSyxJQUFNLElBQU0sTUFBTSxDQUFDLElBQU0sS0FFcEMsSUFBTSxLQUFPLElBQU0sTUFDbkIsYUFBZSxHQUNmLE1BQU0sT0FBTyxFQUFHLENBQUMsRUFDakIsSUFFUCxDQUNHLE1BQU0sQ0FBQyxJQUFNLEtBQ2IsTUFBTSxTQUFXLElBQ2hCLE1BQU0sQ0FBQyxJQUFNLEtBQU8sTUFBTSxDQUFDLElBQU0sTUFDbEMsYUFBZSxHQUNmLE1BQU0sSUFBRyxFQUVoQixDQUVELElBQUksR0FBSyxFQUNULE1BQWUsR0FBSyxNQUFNLFFBQVEsS0FBTSxHQUFLLENBQUMsS0FBdkMsSUFBMkMsQ0FDOUMsTUFBTSxFQUFJLE1BQU0sR0FBSyxDQUFDLEVBQ3RCLEdBQUksR0FBSyxJQUFNLEtBQU8sSUFBTSxNQUFRLElBQU0sS0FBTSxDQUM1QyxhQUFlLEdBRWYsTUFBTSxNQURVLEtBQU8sR0FBSyxNQUFNLEdBQUssQ0FBQyxJQUFNLEtBQ3RCLENBQUMsR0FBRyxFQUFJLENBQUEsRUFDaEMsTUFBTSxPQUFPLEdBQUssRUFBRyxFQUFHLEdBQUcsS0FBSyxFQUM1QixNQUFNLFNBQVcsR0FDakIsTUFBTSxLQUFLLEVBQUUsRUFDakIsSUFBTSxDQUNULENBQ0osQ0FDSixDQUNKLE9BQVEsY0FDVCxPQUFPLFNBQ1YsQ0FRRCxzQkFBc0IsVUFBVyxDQUM3QixRQUFTLEVBQUksRUFBRyxFQUFJLFVBQVUsT0FBUyxFQUFHLElBQ3RDLFFBQVMsRUFBSSxFQUFJLEVBQUcsRUFBSSxVQUFVLE9BQVEsSUFBSyxDQUMzQyxNQUFNLFFBQVUsS0FBSyxXQUFXLFVBQVUsQ0FBQyxFQUFHLFVBQVUsQ0FBQyxFQUFHLENBQUMsS0FBSyx1QkFBdUIsRUFDekYsR0FBSSxRQUFTLENBQ1QsVUFBVSxDQUFDLEVBQUksR0FDZixVQUFVLENBQUMsRUFBSSxRQUNmLEtBQ0gsQ0FDSixDQUVMLE9BQU8sVUFBVSxPQUFPLElBQU0sR0FBRyxNQUFNLENBQzFDLENBQ0QsV0FBVyxFQUFHLEVBQUcsYUFBZSxHQUFPLENBQ25DLElBQUksR0FBSyxFQUNMLEdBQUssRUFDTCxPQUFTLENBQUEsRUFDVCxNQUFRLEdBQ1osS0FBTyxHQUFLLEVBQUUsUUFBVSxHQUFLLEVBQUUsUUFDM0IsR0FBSSxFQUFFLEVBQUUsSUFBTSxFQUFFLEVBQUUsRUFDZCxPQUFPLEtBQUssUUFBVSxJQUFNLEVBQUUsRUFBRSxFQUFJLEVBQUUsRUFBRSxDQUFDLEVBQ3pDLEtBQ0EsYUFFSyxjQUFnQixFQUFFLEVBQUUsSUFBTSxNQUFRLEVBQUUsRUFBRSxJQUFNLEVBQUUsR0FBSyxDQUFDLEVBQ3pELE9BQU8sS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUNqQixhQUVLLGNBQWdCLEVBQUUsRUFBRSxJQUFNLE1BQVEsRUFBRSxFQUFFLElBQU0sRUFBRSxHQUFLLENBQUMsRUFDekQsT0FBTyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQ2pCLGFBRUssRUFBRSxFQUFFLElBQU0sS0FDZixFQUFFLEVBQUUsSUFDSCxLQUFLLFFBQVEsS0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLFdBQVcsR0FBRyxJQUMxQyxFQUFFLEVBQUUsSUFBTSxLQUFNLENBQ2hCLEdBQUksUUFBVSxJQUNWLE1BQU8sR0FDWCxNQUFRLElBQ1IsT0FBTyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQ2pCLEtBQ0EsSUFDSCxTQUNRLEVBQUUsRUFBRSxJQUFNLEtBQ2YsRUFBRSxFQUFFLElBQ0gsS0FBSyxRQUFRLEtBQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUcsSUFDMUMsRUFBRSxFQUFFLElBQU0sS0FBTSxDQUNoQixHQUFJLFFBQVUsSUFDVixNQUFPLEdBQ1gsTUFBUSxJQUNSLE9BQU8sS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUNqQixLQUNBLElBQ0gsS0FFRyxPQUFPLEdBS2YsT0FBTyxFQUFFLFNBQVcsRUFBRSxRQUFVLE1BQ25DLENBQ0QsYUFBYyxDQUNWLEdBQUksS0FBSyxTQUNMLE9BQ0osTUFBTSxRQUFVLEtBQUssUUFDckIsSUFBSSxPQUFTLEdBQ1QsYUFBZSxFQUNuQixRQUFTLEVBQUksRUFBRyxFQUFJLFFBQVEsUUFBVSxRQUFRLE9BQU8sQ0FBQyxJQUFNLElBQUssSUFDN0QsT0FBUyxDQUFDLE9BQ1YsZUFFQSxlQUNBLEtBQUssUUFBVSxRQUFRLE1BQU0sWUFBWSxHQUM3QyxLQUFLLE9BQVMsTUFDakIsQ0FNRCxTQUFTLEtBQU0sUUFBUyxRQUFVLEdBQU8sQ0FDckMsTUFBTSxRQUFVLEtBQUssUUFJckIsR0FBSSxLQUFLLFVBQVcsQ0FDaEIsTUFBTSxVQUFZLE9BQU8sS0FBSyxDQUFDLEdBQU0sVUFBWSxZQUFZLEtBQUssS0FBSyxDQUFDLENBQUMsRUFDbkUsUUFBVSxDQUFDLFdBQ2IsS0FBSyxDQUFDLElBQU0sSUFDWixLQUFLLENBQUMsSUFBTSxJQUNaLEtBQUssQ0FBQyxJQUFNLEtBQ1osWUFBWSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQ3RCLGFBQWUsT0FBTyxRQUFRLENBQUMsR0FBTSxVQUFZLFlBQVksS0FBSyxRQUFRLENBQUMsQ0FBQyxFQUM1RSxXQUFhLENBQUMsY0FDaEIsUUFBUSxDQUFDLElBQU0sSUFDZixRQUFRLENBQUMsSUFBTSxJQUNmLFFBQVEsQ0FBQyxJQUFNLEtBQ2YsT0FBTyxRQUFRLENBQUMsR0FBTSxVQUN0QixZQUFZLEtBQUssUUFBUSxDQUFDLENBQUMsRUFDekIsSUFBTSxRQUFVLEVBQUksVUFBWSxFQUFJLE9BQ3BDLElBQU0sV0FBYSxFQUFJLGFBQWUsRUFBSSxPQUNoRCxHQUFJLE9BQU8sS0FBUSxVQUFZLE9BQU8sS0FBUSxTQUFVLENBQ3BELEtBQU0sQ0FBQyxHQUFJLEVBQUUsRUFBSSxDQUFDLEtBQUssR0FBRyxFQUFHLFFBQVEsR0FBRyxDQUFDLEVBQ3JDLEdBQUcsWUFBVyxJQUFPLEdBQUcsWUFBVyxJQUNuQyxRQUFRLEdBQUcsRUFBSSxHQUNYLElBQU0sSUFDTixRQUFVLFFBQVEsTUFBTSxHQUFHLEVBRXRCLElBQU0sTUFDWCxLQUFPLEtBQUssTUFBTSxHQUFHLEdBR2hDLENBQ0osQ0FHRCxLQUFNLENBQUUsa0JBQW9CLEdBQU0sS0FBSyxRQUNuQyxtQkFBcUIsSUFDckIsS0FBTyxLQUFLLHFCQUFxQixJQUFJLEdBRXpDLEtBQUssTUFBTSxXQUFZLEtBQU0sQ0FBRSxLQUFNLE9BQU8sQ0FBRSxFQUM5QyxLQUFLLE1BQU0sV0FBWSxLQUFLLE9BQVEsUUFBUSxNQUFNLEVBQ2xELFFBQVMsR0FBSyxFQUFHLEdBQUssRUFBRyxHQUFLLEtBQUssT0FBUSxHQUFLLFFBQVEsT0FBUSxHQUFLLElBQU0sR0FBSyxHQUFJLEtBQU0sS0FBTSxDQUM1RixLQUFLLE1BQU0sZUFBZSxFQUMxQixJQUFJLEVBQUksUUFBUSxFQUFFLEVBQ2QsRUFBSSxLQUFLLEVBQUUsRUFLZixHQUpBLEtBQUssTUFBTSxRQUFTLEVBQUcsQ0FBQyxFQUlwQixJQUFNLEdBQ04sTUFBTyxHQUdYLEdBQUksSUFBTSxTQUFVLENBQ2hCLEtBQUssTUFBTSxXQUFZLENBQUMsUUFBUyxFQUFHLENBQUMsQ0FBQyxFQXVCdEMsSUFBSSxHQUFLLEdBQ0wsR0FBSyxHQUFLLEVBQ2QsR0FBSSxLQUFPLEdBQUksQ0FRWCxJQVBBLEtBQUssTUFBTSxlQUFlLEVBT25CLEdBQUssR0FBSSxLQUNaLEdBQUksS0FBSyxFQUFFLElBQU0sS0FDYixLQUFLLEVBQUUsSUFBTSxNQUNaLENBQUMsUUFBUSxLQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sQ0FBQyxJQUFNLElBQ3hDLE1BQU8sR0FFZixNQUFPLEVBQ1YsQ0FFRCxLQUFPLEdBQUssSUFBSSxDQUNaLElBQUksVUFBWSxLQUFLLEVBQUUsRUFHdkIsR0FGQSxLQUFLLE1BQU07QUFBQSxnQkFBb0IsS0FBTSxHQUFJLFFBQVMsR0FBSSxTQUFTLEVBRTNELEtBQUssU0FBUyxLQUFLLE1BQU0sRUFBRSxFQUFHLFFBQVEsTUFBTSxFQUFFLEVBQUcsT0FBTyxFQUN4RCxZQUFLLE1BQU0sd0JBQXlCLEdBQUksR0FBSSxTQUFTLEVBRTlDLEdBS1AsR0FBSSxZQUFjLEtBQ2QsWUFBYyxNQUNiLENBQUMsUUFBUSxLQUFPLFVBQVUsT0FBTyxDQUFDLElBQU0sSUFBTSxDQUMvQyxLQUFLLE1BQU0sZ0JBQWlCLEtBQU0sR0FBSSxRQUFTLEVBQUUsRUFDakQsS0FDSCxDQUVELEtBQUssTUFBTSwwQ0FBMEMsRUFDckQsSUFFUCxDQUlELE1BQUksYUFFQSxLQUFLLE1BQU07QUFBQSx3QkFBNEIsS0FBTSxHQUFJLFFBQVMsRUFBRSxFQUN4RCxLQUFPLElBTWxCLENBSUQsSUFBSSxJQVNKLEdBUkksT0FBTyxHQUFNLFVBQ2IsSUFBTSxJQUFNLEVBQ1osS0FBSyxNQUFNLGVBQWdCLEVBQUcsRUFBRyxHQUFHLElBR3BDLElBQU0sRUFBRSxLQUFLLENBQUMsRUFDZCxLQUFLLE1BQU0sZ0JBQWlCLEVBQUcsRUFBRyxHQUFHLEdBRXJDLENBQUMsSUFDRCxNQUFPLEVBQ2QsQ0FZRCxHQUFJLEtBQU8sSUFBTSxLQUFPLEdBR3BCLE1BQU8sR0FFTixHQUFJLEtBQU8sR0FJWixPQUFPLFFBRU4sR0FBSSxLQUFPLEdBS1osT0FBTyxLQUFPLEdBQUssR0FBSyxLQUFLLEVBQUUsSUFBTSxHQUtyQyxNQUFNLElBQUksTUFBTSxNQUFNLENBRzdCLENBQ0QsYUFBYyxDQUNWLE9BQU8sWUFBWSxLQUFLLFFBQVMsS0FBSyxPQUFPLENBQ2hELENBQ0QsTUFBTSxRQUFTLENBQ1gsbUJBQW1CLE9BQU8sRUFDMUIsTUFBTSxRQUFVLEtBQUssUUFFckIsR0FBSSxVQUFZLEtBQ1osT0FBTyxTQUNYLEdBQUksVUFBWSxHQUNaLE1BQU8sR0FHWCxJQUFJLEVBQ0EsU0FBVyxNQUNWLEVBQUksUUFBUSxNQUFNLE1BQU0sR0FDekIsU0FBVyxRQUFRLElBQU0sWUFBYyxVQUVqQyxFQUFJLFFBQVEsTUFBTSxZQUFZLEdBQ3BDLFVBQVksUUFBUSxPQUNkLFFBQVEsSUFDSix3QkFDQSxxQkFDSixRQUFRLElBQ0osa0JBQ0EsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLEdBRXhCLEVBQUksUUFBUSxNQUFNLFFBQVEsR0FDaEMsVUFBWSxRQUFRLE9BQ2QsUUFBUSxJQUNKLG9CQUNBLGlCQUNKLFFBQVEsSUFDSixjQUNBLFlBQVksQ0FBQyxHQUVqQixFQUFJLFFBQVEsTUFBTSxhQUFhLEdBQ3JDLFNBQVcsUUFBUSxJQUFNLG1CQUFxQixpQkFFeEMsRUFBSSxRQUFRLE1BQU0sU0FBUyxLQUNqQyxTQUFXLGFBRWYsTUFBTSxHQUFLLElBQUksU0FBUyxRQUFTLEtBQUssT0FBTyxFQUFFLGNBQy9DLE9BQUksVUFBWSxPQUFPLElBQU8sVUFFMUIsUUFBUSxlQUFlLEdBQUksT0FBUSxDQUFFLE1BQU8sUUFBUSxDQUFFLEVBRW5ELEVBQ1YsQ0FDRCxRQUFTLENBQ0wsR0FBSSxLQUFLLFFBQVUsS0FBSyxTQUFXLEdBQy9CLE9BQU8sS0FBSyxPQU9oQixNQUFNLElBQU0sS0FBSyxJQUNqQixHQUFJLENBQUMsSUFBSSxPQUNMLFlBQUssT0FBUyxHQUNQLEtBQUssT0FFaEIsTUFBTSxRQUFVLEtBQUssUUFDZixRQUFVLFFBQVEsV0FDbEIsS0FDQSxRQUFRLElBQ0osV0FDQSxhQUNKLE1BQVEsSUFBSSxJQUFJLFFBQVEsT0FBUyxDQUFDLEdBQUcsRUFBSSxDQUFBLENBQUUsRUFPakQsSUFBSSxHQUFLLElBQ0osSUFBSSxTQUFXLENBQ2hCLE1BQU0sR0FBSyxRQUFRLElBQUksR0FBSyxDQUN4QixHQUFJLGFBQWEsT0FDYixVQUFXLEtBQUssRUFBRSxNQUFNLE1BQU0sRUFBRSxFQUM1QixNQUFNLElBQUksQ0FBQyxFQUVuQixPQUFPLE9BQU8sR0FBTSxTQUNkLGFBQWEsQ0FBQyxFQUNkLElBQU0sU0FDRixTQUNBLEVBQUUsSUFDNUIsQ0FBYSxFQUNELFVBQUcsUUFBUSxDQUFDLEVBQUcsSUFBTSxDQUNqQixNQUFNLEtBQU8sR0FBRyxFQUFJLENBQUMsRUFDZixLQUFPLEdBQUcsRUFBSSxDQUFDLEVBQ2pCLElBQU0sVUFBWSxPQUFTLFdBRzNCLE9BQVMsT0FDTCxPQUFTLFFBQWEsT0FBUyxTQUMvQixHQUFHLEVBQUksQ0FBQyxFQUFJLFVBQVksUUFBVSxRQUFVLEtBRzVDLEdBQUcsQ0FBQyxFQUFJLFFBR1AsT0FBUyxPQUNkLEdBQUcsRUFBSSxDQUFDLEVBQUksS0FBTyxVQUFZLFFBQVUsS0FFcEMsT0FBUyxXQUNkLEdBQUcsRUFBSSxDQUFDLEVBQUksS0FBTyxhQUFlLFFBQVUsT0FBUyxLQUNyRCxHQUFHLEVBQUksQ0FBQyxFQUFJLFVBRWhDLENBQWEsRUFDTSxHQUFHLE9BQU8sR0FBSyxJQUFNLFFBQVEsRUFBRSxLQUFLLEdBQUcsQ0FDMUQsQ0FBUyxFQUNJLEtBQUssR0FBRyxFQUdiLEtBQU0sQ0FBQyxLQUFNLEtBQUssRUFBSSxJQUFJLE9BQVMsRUFBSSxDQUFDLE1BQU8sR0FBRyxFQUFJLENBQUMsR0FBSSxFQUFFLEVBRzdELEdBQUssSUFBTSxLQUFPLEdBQUssTUFBUSxJQUUzQixLQUFLLFNBQ0wsR0FBSyxPQUFTLEdBQUssUUFDdkIsR0FBSSxDQUNBLEtBQUssT0FBUyxJQUFJLE9BQU8sR0FBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBRW5ELE1BQ1UsQ0FFUCxLQUFLLE9BQVMsRUFDakIsQ0FFRCxPQUFPLEtBQUssTUFDZixDQUNELFdBQVcsRUFBRyxDQUtWLE9BQUksS0FBSyx3QkFDRSxFQUFFLE1BQU0sR0FBRyxFQUViLEtBQUssV0FBYSxjQUFjLEtBQUssQ0FBQyxFQUVwQyxDQUFDLEdBQUksR0FBRyxFQUFFLE1BQU0sS0FBSyxDQUFDLEVBR3RCLEVBQUUsTUFBTSxLQUFLLENBRTNCLENBQ0QsTUFBTSxFQUFHLFFBQVUsS0FBSyxRQUFTLENBSTdCLEdBSEEsS0FBSyxNQUFNLFFBQVMsRUFBRyxLQUFLLE9BQU8sRUFHL0IsS0FBSyxRQUNMLE1BQU8sR0FFWCxHQUFJLEtBQUssTUFDTCxPQUFPLElBQU0sR0FFakIsR0FBSSxJQUFNLEtBQU8sUUFDYixNQUFPLEdBRVgsTUFBTSxRQUFVLEtBQUssUUFFakIsS0FBSyxZQUNMLEVBQUksRUFBRSxNQUFNLElBQUksRUFBRSxLQUFLLEdBQUcsR0FHOUIsTUFBTSxHQUFLLEtBQUssV0FBVyxDQUFDLEVBQzVCLEtBQUssTUFBTSxLQUFLLFFBQVMsUUFBUyxFQUFFLEVBS3BDLE1BQU0sSUFBTSxLQUFLLElBQ2pCLEtBQUssTUFBTSxLQUFLLFFBQVMsTUFBTyxHQUFHLEVBRW5DLElBQUksU0FBVyxHQUFHLEdBQUcsT0FBUyxDQUFDLEVBQy9CLEdBQUksQ0FBQyxTQUNELFFBQVMsRUFBSSxHQUFHLE9BQVMsRUFBRyxDQUFDLFVBQVksR0FBSyxFQUFHLElBQzdDLFNBQVcsR0FBRyxDQUFDLEVBR3ZCLFFBQVMsRUFBSSxFQUFHLEVBQUksSUFBSSxPQUFRLElBQUssQ0FDakMsTUFBTSxRQUFVLElBQUksQ0FBQyxFQUNyQixJQUFJLEtBQU8sR0FLWCxHQUpJLFFBQVEsV0FBYSxRQUFRLFNBQVcsSUFDeEMsS0FBTyxDQUFDLFFBQVEsR0FFUixLQUFLLFNBQVMsS0FBTSxRQUFTLE9BQU8sRUFFNUMsT0FBSSxRQUFRLFdBQ0QsR0FFSixDQUFDLEtBQUssTUFFcEIsQ0FHRCxPQUFJLFFBQVEsV0FDRCxHQUVKLEtBQUssTUFDZixDQUNELE9BQU8sU0FBUyxJQUFLLENBQ2pCLE9BQU8sVUFBVSxTQUFTLEdBQUcsRUFBRSxTQUNsQyxDQUNMLEVBNXlCdUIsK0JBQWhCLElBQU0sVUFBTixXQWt6QlAsVUFBVSxJQUFNLElBQ2hCLFVBQVUsVUFBWSxVQUN0QixVQUFVLE9BQVMsT0FDbkIsVUFBVSxTQUFXLFNDaCtCZCxTQUFTLGVBQWUsUUFBdUMsQ0FDcEUsTUFBTSxPQUFTLENBQUEsRUFDZixJQUFJLFlBQWMsR0FHbEIsVUFBVyxLQUFLLFFBQ1YsT0FBTyxNQUFPLEdBQU0sRUFBRSxVQUFZLEVBQUUsT0FBTyxJQUN6QyxFQUFFLFVBQVksTUFBbUIsWUFBQSxJQUNyQyxPQUFPLEtBQUssQ0FBQyxHQUliLE9BQUMsYUFBb0IsT0FBQSxLQUFLLENBQUUsUUFBUyxJQUFLLFlBQWEsRUFBQSxDQUFPLEVBQzNELE9BQU8sS0FBSyxDQUFDLEVBQUcsSUFBTSxxQkFBcUIsRUFBRSxRQUFTLEVBQUUsT0FBTyxDQUFDLENBQ3pFLENBZGdCLHdDQWlCVCxTQUFTLGlCQUFpQixRQUFnQyxDQUMvRCxPQUFPLFFBQ0osSUFBSSxDQUFDLENBQUUsWUFBYSxXQUNaLEdBQUcsWUFBYyxJQUFNLEdBQUcsSUFBSSxPQUFPLEVBQzdDLEVBQ0EsS0FBSztBQUFBLENBQUksQ0FDZCxDQU5nQiw0Q0FjVCxTQUFTLFlBQVksT0FBK0MsQ0FDckUsR0FBQSxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQVUsTUFBQSxDQUFDLE9BQVEsTUFBUyxFQUU1QyxNQUFBLE1BQVEsT0FBTyxNQUFNLE1BQU0sRUFDN0IsT0FBQSxNQUFNLENBQUMsRUFBRSxXQUFXLEdBQUcsRUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFHLEVBQUksRUFDaEQsTUFBTSxDQUFDLEVBQUUsV0FBVyxHQUFHLEVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRyxFQUFLLEVBQzlDLENBQUMsTUFBTSxDQUFDLEVBQUcsTUFBUyxDQUM3QixDQVBnQixrQ0FVQSxTQUFBLGFBQ2QsUUFDQSxRQUNlLENBQ2YsTUFBTSxPQUFTLENBQUEsRUFDZixJQUFJLFlBQWMsR0FHbEIsVUFBVyxVQUFVLFFBQVEsTUFBTSxNQUFNLEVBQUcsQ0FDMUMsS0FBTSxDQUFDLFFBQVMsQ0FBQyxFQUFJLFlBQVksTUFBTSxFQUl2QyxHQUhJLFVBQVksTUFBbUIsWUFBQSxJQUcvQixRQUFPLEtBQU0sR0FBTSxFQUFFLFVBQVksT0FBTyxFQUc1QyxJQUFJLElBQU0sT0FBVyxDQUNuQixPQUFPLEtBQUssQ0FBRSxRQUFTLFlBQWEsQ0FBRyxDQUFBLEVBQ3ZDLFFBQ0YsQ0FHQSxVQUFXLEtBQUssUUFBUyxDQUVuQixHQUFBLFVBQVksRUFBRSxRQUFTLENBQ3pCLE9BQU8sS0FBSyxDQUFFLFFBQVMsWUFBYSxFQUFFLFlBQWEsRUFDbkQsS0FDRixDQUdJLEdBQUEsS0FBSyxJQUFJLFFBQVEsT0FBUyxFQUFFLFFBQVEsTUFBTSxJQUFNLEdBR3BELEdBQUksRUFBRSxRQUFRLFdBQVcsT0FBTyxFQUFHLENBRWpDLE9BQU8sS0FBSyxDQUFFLFFBQVMsWUFBYSxFQUFFLFlBQWEsRUFDbkQsS0FDUyxTQUFBLFFBQVEsV0FBVyxFQUFFLE9BQU8sRUFBRyxDQUV4QyxPQUFPLEtBQUssQ0FBRSxRQUFTLFlBQWEsRUFBRSxZQUFhLEVBQ25ELEtBQ0YsRUFDRixDQUdLLE9BQU8sS0FBTSxHQUFNLEVBQUUsVUFBWSxPQUFPLEdBQzNDLE9BQU8sS0FBSyxDQUFFLFFBQVMsWUFBYSxFQUFPLENBQUEsRUFFL0MsQ0FFSSxPQUFDLGFBQW9CLE9BQUEsS0FBSyxDQUFFLFFBQVMsSUFBSyxZQUFhLEVBQUEsQ0FBTyxFQUczRCxPQUFPLEtBQUssQ0FBQyxFQUFHLElBQU0scUJBQXFCLEVBQUUsUUFBUyxFQUFFLE9BQU8sQ0FBQyxDQUN6RSxDQXREZ0Isb0NBeURULFNBQVMsYUFBYSxRQUEyQixDQUN0RCxNQUFNLFNBQXFCLENBQUEsRUFDM0IsSUFBSSxZQUFjLEdBR2xCLFVBQVcsVUFBVSxRQUFRLE1BQU0sTUFBTSxFQUFHLENBQzFDLE1BQU0sUUFBVSxPQUFPLEtBQUEsRUFBTyxRQUFRLFdBQVksRUFBRSxFQUNwRCxHQUFJLFVBQVksSUFBSyxDQUNMLFlBQUEsR0FDZCxRQUNGLENBRUksVUFBVSxLQUFLLE9BQU8sR0FDeEIsU0FBUyxLQUFLLGlDQUFpQyxFQUU1QyxlQUFlLEtBQUssT0FBTyxHQUM5QixTQUFTLEtBQUssK0NBQStDLENBRWpFLENBRUEsT0FBSyxhQUFzQixTQUFBLFFBQVEsK0JBQStCLEVBRTNELFFBQ1QsQ0F2QmdCLG9DQTBCQSxTQUFBLHFCQUNkLFVBQVksaUJBQ0csQ0FDZixNQUFNLE1BQVEsSUFBSSxPQUFPLE9BQVMsVUFBWSxjQUFlLEdBQUcsRUFDaEUsT0FBUSxRQUFtQixNQUFNLEtBQUssTUFBTSxDQUM5QyxDQUxnQixvREFRaEIsZUFBc0IsYUFBYSxJQUE4QixDQUN6RCxNQUFBLFFBQVUsSUFBSSxVQUFVLEdBQUcsRUFDM0IsU0FBVyxNQUFNQyxvQkFBVyxDQUNoQyxJQUNBLE1BQU8sR0FDUCxPQUFRLE9BQ1IsUUFBUyxDQUFFLFFBQVMsUUFBVSxRQUFVLElBQU0sRUFBRyxDQUFBLENBQ2xELEVBRVUsa0JBQUEsZUFBZSxJQUFLLFNBQVUsa0JBQWtCLEVBQ3BELFdBQVcsU0FBUyxRQUFRLGNBQWMsQ0FBQyxDQUNwRCxDQVhzQixvQ0FjdEIsZUFBc0IsaUJBQWlCLElBQW1DLENBQ2xFLE1BQUEsUUFBVSxJQUFJLFVBQVUsR0FBRyxFQUMzQixTQUFXLE1BQU1BLG9CQUFXLENBQ2hDLElBQ0EsTUFBTyxHQUNQLE9BQVEsTUFDUixRQUFTLENBQUUsUUFBUyxRQUFVLFFBQVUsSUFBTSxFQUFHLENBQUEsQ0FDbEQsRUFFVSxrQkFBQSxlQUFlLElBQUssU0FBVSxpQkFBaUIsRUFDbkQsU0FBUyxXQUNsQixDQVhzQiw0Q0NuSmYsU0FBUyxzQkFBc0IsUUFBd0MsQ0FDckUsT0FBQSxRQUFRLElBQUssUUFBVyxDQUU3QixJQUFJLFFBQVUsT0FBQyxPQUFrQixJQUFJLFVBQVUsS0FBSyxFQUF0QyxXQUNkLE9BQVEsT0FBTyxLQUFNLENBQ25CLElBQUssY0FDTyxRQUFBLE9BQUMsT0FDVCxJQUFJLEtBQUssSUFBSSxVQUFVLEtBQUssRUFBRyxPQUFPLE1BQU0sRUFEcEMsV0FFVixNQUNGLElBQUssY0FDTyxRQUFBLE9BQUMsT0FDVCxJQUFJLEtBQUssT0FBTyxPQUFRLElBQUksVUFBVSxLQUFLLENBQUMsRUFEcEMsV0FFVixNQUNGLElBQUssY0FDTyxRQUFBLE9BQUMsT0FDVCxJQUFJLEtBQUssT0FBTyxPQUFRLElBQUksWUFBWSxLQUFLLENBQUMsRUFEdEMsV0FFVixNQUNGLElBQUssU0FDTyxRQUFBLE9BQUMsT0FBa0IsT0FBTyxPQUExQixXQUNWLEtBQ0osQ0FFQSxNQUFNLFNBQ0osT0FBTyxVQUFZLElBQ2QsV0FBc0IsVUFBVSxVQUFXLE9BQU8sT0FBTyxFQUN6RCxXQUFzQixHQUN2QixXQUFhLE9BQUMsU0FBb0IsQ0FDdEMsU0FBVyxDQUFFLFFBQVMsV0FBWSxJQUFLLE9BQU8sUUFFeEMsR0FEQSxVQUFZLEtBQ1osSUFBSSxPQUFPLHVCQUF5QixRQUFTLEdBQUcsRUFBRSxLQUFLLE9BQU8sRUFDekQsT0FBQSxZQUdKLE1BQUEsRUFBQSxFQVBVLGNBVVosTUFBQSxDQUNMLE9BQVEsT0FBTyxPQUFPLE1BQU0sRUFDNUIsVUFBVyxXQUFNLE9BQU8sUUFBYixhQUNYLFdBQ0EsU0FDQSxPQUFBLENBQ0YsQ0FDRCxDQUNILENBNUNnQixzREE4Q1QsU0FBUyxlQUFlLFFBQXVDLENBQ3BFLE1BQU0sT0FBUyxDQUFBLEVBRWYsVUFBVyxLQUFLLFFBQVMsQ0FFakIsTUFBQSxPQUFTLE9BQU8sVUFBVyxHQUFNLEVBQUUsVUFBWSxFQUFFLE9BQU8sRUFDOUQsR0FBSSxTQUFXLEdBQUksQ0FFVixPQUFBLEtBQUssQ0FBRSxHQUFHLEVBQUcsUUFBUyxlQUFlLEVBQUUsT0FBTyxDQUFBLENBQUcsRUFDeEQsUUFDRixDQUdJLEVBQUUsUUFBUSxPQUFTLE9BQU8sTUFBTSxFQUFFLFFBQVEsU0FFckMsT0FBQSxNQUFNLEVBQUksQ0FBRSxHQUFHLEVBQUcsUUFBUyxlQUFlLEVBQUUsT0FBTyxHQUU5RCxDQUdPLE9BQUEsT0FBTyxLQUFLLENBQUMsRUFBRyxJQUFNLHFCQUFxQixFQUFFLFFBQVMsRUFBRSxPQUFPLENBQUMsQ0FDekUsQ0FyQmdCLHdDQXVCQSxTQUFBLGFBQWEsUUFBd0IsT0FBMEIsQ0FDN0UsR0FBSSxDQUFDLE9BQWUsTUFBQSxDQUFDLGlCQUFpQixFQUN0QyxVQUFXLFVBQVUsUUFDbkIsR0FBSSxPQUFPLFVBQVksYUFBZSxDQUFDLHVCQUF1QixNQUFNLEdBQUcsRUFFekUsTUFBTyxFQUNULENBTmdCLG9DQ3BFaEIsTUFBTSxNQUFtQyxDQUN2QyxLQUFlLCtCQUNmLGNBQWUsMkJBQ2YsT0FBZSw4QkFDZixjQUFlLG1DQUNmLGNBQWUsZ0NBQ2pCLEVBRU0sV0FBd0MsQ0FDNUMsS0FBZSx1Q0FDZixjQUFlLHVDQUNmLE9BQWUsbUJBQ2YsY0FBZSwrQ0FDZixjQUFlLHNDQUNqQix5U0FFTyxNQUFNLGVBQU4sTUFBTSxjQUFjLENBUXpCLFlBQVksT0FBcUIsTUFBb0IsQ0FSaEQsNENBQ0wsMEJBQ0EsZ0NBQ0EsaUNBQ0EsaUNBQ0EsZ0NBME1BLG1DQUFvQyxDQUFBLEdBQ3BDLG1DQUFvQyxDQUFBLEdBdE03QixrQkFBQSxPQUFTLENBQUUsR0FBRyxNQUFPLFFBQVMsQ0FBQyxHQUFHLE1BQU0sT0FBTyxJQUUvQyxrQkFBQSxhQUFlLElBQUlDLFNBQUEsUUFBUSxNQUFNLEdBQ3RDLGtCQUFLLGNBQWdCLGtCQUFLLGNBQWEsVUFBVSxVQUFVLGVBQWUsR0FDMUUsa0JBQUssY0FBZ0Isa0JBQUssY0FBYSxVQUFVLFVBQVUsZUFBZSxHQUUxRSxxQkFBSyxnREFBTCxXQUNBLHFCQUFLLGlEQUFMLFdBQ0EscUJBQUssaURBQUwsVUFDRixDQXNNQSxTQUFTLFNBQStCLENBQ2pDLHlCQUFBLGtCQUFpQixLQUFLLFFBQVEsRUFDNUIsSUFDVCxDQUNBLFNBQVMsU0FBK0IsQ0FDakMseUJBQUEsa0JBQWlCLEtBQUssUUFBUSxFQUM1QixJQUNULENBQ0YsRUFoT0UsbUJBQ0EseUJBQ0EsMEJBQ0EsMEJBQ0EseUJBTEsscUNBcUJMLGFBQStCLGlCQUFBLENBQ3RCLE9BQUEsZUFBZ0IsS0FBUSxDQUM3QixJQUFJLE9BQU8sR0FBRyxrQkFBSyxRQUFPLFFBQVUsVUFBWSxVQUFVLFNBQVMsRUFDbkUsSUFBSSxTQUFTLE1BQU0sRUFBRSxXQUFXLGtCQUFLLFFBQU8sT0FBTyxDQUFBLENBQ3BELENBQ0gsRUFMK0IsY0FNL0IsYUFBd0MsaUJBQUEsQ0FDdEMsT0FBSSxrQkFBSyxRQUFPLE9BQVMsT0FBZSxXQUFXLEtBQzVDLGVBQWdCLEtBQVEsQ0FDN0IsSUFBSSxPQUFPLFdBQVcsa0JBQUssUUFBTyxJQUFJLENBQUMsRUFDdkMsSUFBSSxTQUFTLE1BQU0sRUFBRSxXQUFXLGtCQUFLLFFBQU8sTUFBTSxDQUFBLENBQ25ELENBQ0gsRUFOd0MsY0FPeEMsc0JBQTRCLGlCQUFBLENBQzFCLGtCQUFLLGNBQWEsUUFBUSxxQkFBSyx1Q0FBTCxVQUFpQixFQUMzQyxrQkFBSyxjQUFhLFFBQVEscUJBQUssdUNBQUwsVUFBaUIsRUFFdkMsa0JBQUssUUFBTyxVQUFZLEtBQ3JCLGtCQUFBLGNBQWEsZUFBZ0IsUUFBVyxDQUMzQyxPQUFPLFFBQVEsU0FBUyxFQUFFLFdBQVcsUUFBUSxFQUM3QyxPQUFPLFFBQVEsSUFBTSxDQUNmLEdBQUEsa0JBQUssUUFBTyxVQUFZLElBQUssQ0FDL0IsUUFBUSxLQUFLLHVDQUF1QyxFQUNwRCxNQUNGLENBRUEsa0JBQUssY0FBYSxRQUNiLGtCQUFBLGNBQWEsVUFBVSxTQUM1QixxQkFBSywwQ0FBTCxVQUFtQixDQUNwQixDQUFBLENBQ0YsRUFFRSxrQkFBQSxjQUFhLFVBQVcsUUFBVyxDQUMvQixPQUFBLFNBQVMsa0JBQUssUUFBTyxPQUFPLEVBQzVCLE9BQUEsU0FBVSxPQUFVLENBQ3pCLGtCQUFLLFFBQU8sUUFBVSxNQUN0QixxQkFBSywwQ0FBTCxXQUVBLGtCQUFLLGNBQWEsUUFBUSxxQkFBSyx1Q0FBTCxVQUFpQixDQUFBLENBQzVDLENBQUEsQ0FDRixFQUNJLGtCQUFBLGNBQWEsZUFBZ0IsUUFBVyxDQUMzQyxJQUFJLFFBQVUsR0FDZCxPQUFPLFFBQVEsY0FBYyxFQUFFLFdBQVcsU0FBUyxFQUNuRCxPQUFPLFFBQVEsSUFBTSxDQUNuQixRQUFVLENBQUMsUUFDUCxTQUNGLE9BQU8sUUFBUSxZQUFZLEVBQ3RCLGtCQUFBLGNBQWEsVUFBVSxTQUFTLGNBQWMsSUFFbkQsT0FBTyxRQUFRLGNBQWMsRUFDeEIsa0JBQUEsY0FBYSxVQUFVLFlBQVksY0FBYyxFQUN4RCxDQUNELENBQUEsQ0FDRixDQUNILEVBMUM0Qix1QkE0QzVCLGNBQWdDLGlCQUFBLENBQ3ZCLE9BQUEsZUFBZ0IsS0FBUSxDQUM3QixJQUFJLE9BQU8sK0JBQStCLEVBRXBDLE1BQUEsR0FBSyxJQUFJLFNBQVMsSUFBSSxFQUN0QixLQUFPLEdBQUcsU0FBUyxJQUFJLEVBQzdCLEtBQUssT0FBTyxTQUFTLEVBQ3JCLEtBQUssU0FBUyxHQUFHLEVBQUUsV0FBVyxpQkFBaUIsRUFDL0MsS0FBSyxPQUFPLEdBQUcsRUFFVCxNQUFBLFdBQWEsR0FBRyxTQUFTLElBQUksRUFDbkMsV0FBVyxPQUFPLGVBQWUsRUFDM0IsTUFBQSxFQUFJLFdBQVcsU0FBUyxHQUFHLEVBRTNCLENBQUUsS0FBTSxRQUFXLGtCQUFLLFFBRTFCLE9BQVMsT0FBc0IsRUFBQSxXQUFXLGlCQUFpQixFQUN0RCxPQUFTLGNBQWUsRUFBRSxXQUFXLFVBQVUsTUFBTSxXQUFXLEVBQ2hFLE9BQVMsU0FBZSxFQUFFLFdBQVcsR0FBRyxNQUFNLFdBQVcsRUFDekQsT0FBUyxjQUFlLEVBQUUsV0FBVyxHQUFHLE1BQU0saUJBQWlCLEVBQy9ELE9BQVMsZUFBZSxFQUFFLFdBQVcsR0FBRyxNQUFNLHdCQUF3QixFQUMvRSxXQUFXLE9BQU8sR0FBRyxDQUFBLENBQ3RCLENBQ0gsRUF2QmdDLGVBd0JoQyx1QkFBNkIsaUJBQUEsQ0FDM0IsSUFBSSxZQUVKLE1BQU0sYUFBZSxJQUFJQSxTQUFBQSxRQUFRLGtCQUFLLGNBQWEsRUFDbkQsYUFBYSxRQUFRLHFCQUFxQixFQUM3QixhQUFBLFFBQVEscUJBQUssd0NBQUwsVUFBa0IsRUFDMUIsYUFBQSxZQUFhLFVBQWEsQ0FDckMsU0FBUyxXQUFXLEtBQUssRUFDaEIsU0FBQSxTQUFTLGtCQUFLLFFBQU8sSUFBSSxFQUN6QixTQUFBLFNBQVUsT0FBVSxDQUMzQixrQkFBSyxRQUFPLEtBQU8sTUFDbkIscUJBQUssMENBQUwsV0FFYSxhQUFBLFFBQVEscUJBQUssd0NBQUwsVUFBa0IsRUFDbkMsa0JBQUssUUFBTyxPQUFTLFFBQ3ZCLGFBQWEsWUFBWSxFQUFJLEVBQzdCLGFBQWEsU0FBUyxFQUFFLElBRXhCLGFBQWEsWUFBWSxFQUFLLEVBQ2pCLGFBQUEsU0FBUyxrQkFBSyxRQUFPLE1BQU0sRUFDMUMsQ0FDRCxDQUFBLENBQ0YsRUFDWSxhQUFBLFFBQVMsT0FBVSxDQUNoQixZQUFBLE1BQ1Ysa0JBQUssUUFBTyxPQUFTLE9BQVEsTUFBTSxZQUFZLEVBQUksRUFDNUMsTUFBQSxTQUFTLGtCQUFLLFFBQU8sTUFBTSxFQUNoQyxNQUFBLFNBQVUsT0FBVSxDQUN4QixrQkFBSyxRQUFPLE9BQVMsTUFDckIscUJBQUssMENBQUwsV0FFYSxhQUFBLFFBQVEscUJBQUssd0NBQUwsVUFBa0IsQ0FBQSxDQUN4QyxDQUFBLENBQ0YsRUFFRCxNQUFNLFlBQWMsaUJBQ2QsY0FBZ0IsWUFBWSxTQUFTLElBQUksRUFDekMsZUFBaUIsSUFBSUEsU0FBQUEsUUFBUSxrQkFBSyxjQUFhLEVBQ3JELGVBQWUsU0FBUyxlQUFlLEVBQ3ZDLGVBQWUsUUFBUSxjQUFjLEVBQ3JDLGVBQWUsUUFBUSxXQUFXLEVBQ25CLGVBQUEsWUFBYSxVQUFhLENBQ3ZDLGtCQUFLLGFBQWUsVUFDcEIsU0FBUyxTQUFTLGlCQUFpQixrQkFBSyxRQUFPLE9BQU8sQ0FBQyxFQUM5QyxTQUFBLFNBQVUsT0FBVSxDQUUzQixjQUFjLE1BQU0sRUFDZCxNQUFBLFNBQVcsYUFBYSxLQUFLLEVBQy9CLEdBQUEsU0FBUyxPQUFTLEVBQUcsQ0FDZCxTQUFBLFFBQVMsR0FBTSxjQUFjLFNBQVMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDLEVBQ2xFLE1BQ0YsQ0FFQSxrQkFBSyxRQUFPLFFBQVUsYUFBYSxrQkFBSyxRQUFPLFFBQVMsS0FBSyxFQUM3RCxxQkFBSywwQ0FBTCxXQUNBLHFCQUFLLGlEQUFMLFVBQTBCLENBQzNCLENBQUEsQ0FDRixDQUNILEVBMUQ2Qix3QkE0RDdCLDhCQUFZLEVBQWtDLENBQ3JDLE9BQUEsZUFBZ0IsS0FBUSxDQUM3QixJQUFJLE9BQU8sR0FBRyxFQUFFLFlBQWMsY0FBZ0IsYUFBYSxXQUFXLEVBQ3RFLElBQUksU0FBUyxNQUFNLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQSxDQUMxQyxDQUNILGlCQUNBLHVCQUE2QixpQkFBQSxDQUMzQixrQkFBSyxlQUFjLFFBRVIsVUFBQSxVQUFVLGtCQUFLLFFBQU8sUUFBUyxDQUN4QyxNQUFNLFFBQVUsSUFBSUEsU0FBQUEsUUFBUSxrQkFBSyxjQUFhLEVBQzlDLFFBQVEsUUFBUSxxQkFBSyx3Q0FBTCxVQUFpQixPQUFPLEVBRXBDLE9BQU8sVUFBWSxLQUNiLFFBQUEsZUFBZ0IsUUFBVyxDQUNqQyxPQUFPLFFBQVEsU0FBUyxFQUFFLFdBQVcsUUFBUSxFQUM3QyxPQUFPLFFBQVEsSUFBTSxDQUNiLE1BQUEsUUFBVSxrQkFBSyxRQUFPLFFBQ3pCLE9BQVEsR0FBTSxFQUFFLFVBQVksT0FBTyxPQUFPLEVBQzdDLHFCQUFLLDJDQUFMLFVBQW9CLFFBQU8sQ0FDNUIsQ0FBQSxDQUNGLEVBR0ssUUFBQSxVQUFXLFFBQVcsQ0FDNUIsT0FBTyxjQUFjLE9BQU8sWUFBYyxZQUFjLFdBQVcsRUFDbkUsT0FBTyxRQUFRLElBQU0sQ0FDbkIsTUFBTSxRQUFVLGtCQUFLLFFBQU8sUUFBUSxJQUFLLEdBQ25DLEVBQUUsVUFBWSxPQUFPLFFBQWdCLEVBQ2xDLENBQUUsR0FBRyxFQUFHLFlBQWEsQ0FBQyxFQUFFLFdBQVksQ0FDNUMsRUFDRCxxQkFBSywyQ0FBTCxVQUFvQixRQUFPLENBQzVCLENBQUEsQ0FDRixDQUNILENBQ0YsRUE3QjZCLHdCQStCN0IsaUNBQWUsUUFBOEIsQ0FDM0Msa0JBQUssUUFBTyxRQUFVLFFBQ3RCLHFCQUFLLDBDQUFMLFdBRUEsa0JBQUssZUFBYyxTQUFTLGlCQUFpQixPQUFPLENBQUMsRUFDckQscUJBQUssaURBQUwsVUFDRixvQkFFQSw2QkFDQSw2QkFFQSxnQkFBc0IsaUJBQUEsQ0FDcEIsVUFBVyxZQUFZLGtCQUFLLGtCQUFrQixTQUFTLGtCQUFLLE9BQU0sQ0FDcEUsRUFGc0IsaUJBR3RCLGdCQUFzQixpQkFBQSxDQUNwQixVQUFXLFlBQVksa0JBQUssa0JBQWtCLFNBQVMsa0JBQUssT0FBTSxDQUNwRSxFQUZzQixpQkFyTkcsdUNBQXBCLElBQU0sY0FBTiwwTUNaQSxNQUFNLGFBQU4sTUFBTSxxQkFBb0JDLFNBQUFBLGdCQUFpQixDQU1oRCxZQUFZLE9BQTRCLENBQ2hDLE1BQUEsT0FBTyxJQUFLLE1BQU0sRUFQckIsMENBQ0wsMkJBQ0EsNkJBRUEsZ0NBSUUsa0JBQUssUUFBVSxRQUNmLGtCQUFLLFVBQVksT0FBTyxTQUMxQixDQUVBLE1BQU8sQ0FFUCxDQUVBLFNBQWdCLENBQ2QsS0FBSyxZQUFZLFFBQ1osS0FBQSxZQUFZLFNBQVMsd0JBQXdCLEVBRWxELHFCQUFLLGtEQUFMLFdBRUEscUJBQUssc0NBQUwsV0FBbUIsUUFBUSxnQkFBZ0IsRUFBRSxXQUFXLEVBQ3hELHFCQUFLLGdEQUFMLFdBQ0Esa0JBQUssYUFBZSxLQUFLLFlBQVksVUFBVSxjQUFjLEdBQzdELHFCQUFLLDhDQUFMLFVBQ0YsQ0FvSUYsRUE3SkUsb0JBQ0Esc0JBRUEseUJBSkssbUNBNEJMLGNBQWMsaUJBQUEsQ0FDTCxPQUFBLHFCQUFLLHdDQUFMLFVBQW1CLEtBQUssWUFDakMsRUFGYyxlQUlkLGdDQUFjLFVBQXdCLENBQzdCLE9BQUEsSUFBSUQsU0FBQUEsUUFBUSxTQUFTLENBQzlCLG1CQUVBLDBCQUFnQyxpQkFBQSxDQUN4QixNQUFBLGFBQWUscUJBQUssc0NBQUwsV0FDckIsYUFBYSxRQUFRLHlCQUF5QixFQUM5QyxhQUFhLFFBQVEsMEZBQTBGLEVBQ2xHLGFBQUEsVUFBVyxRQUFXLENBQzFCLE9BQUEsU0FBUyxrQkFBSyxXQUFVLGdCQUFnQixFQUMvQyxPQUFPLFNBQVMscUJBQUssa0NBQVEsS0FBSyxLQUFNLGtCQUFrQixDQUFDLENBQUEsQ0FDNUQsRUFHSyxNQUFBLGdCQUFrQixxQkFBSyxzQ0FBTCxXQUN4QixnQkFBZ0IsUUFBUSxpQkFBaUIsRUFDekMsZ0JBQWdCLFFBQVEsK0NBQStDLEVBQ3ZELGdCQUFBLFFBQVMsT0FBVSxDQUMzQixNQUFBLFNBQVMsa0JBQUssV0FBVSxlQUFlLEVBQzdDLE1BQU0sU0FBUyxxQkFBSyxrQ0FBUSxLQUFLLEtBQU0saUJBQWlCLENBQUMsQ0FBQSxDQUMxRCxFQUNLLE1BQUEsaUJBQW1CLHFCQUFLLHNDQUFMLFdBQ3pCLGlCQUFpQixRQUFRLGtCQUFrQixFQUMzQyxpQkFBaUIsUUFBUSxnREFBZ0QsRUFDeEQsaUJBQUEsUUFBUyxPQUFVLENBQzVCLE1BQUEsU0FBUyxrQkFBSyxXQUFVLGdCQUFnQixFQUM5QyxNQUFNLFNBQVMscUJBQUssa0NBQVEsS0FBSyxLQUFNLGtCQUFrQixDQUFDLENBQUEsQ0FDM0QsQ0FFSCxFQXpCZ0MsMkJBMkJoQyx3QkFBOEIsaUJBQUEsQ0FDNUIsSUFBSSxhQUFxQyxLQUNyQyxlQUEyQyxLQUMzQyxnQkFBMEMsS0FFOUMsTUFBTSxXQUFhLGlCQUNiLGFBQWUsV0FBVyxTQUFTLElBQUksRUFFdkMsU0FBVyxxQkFBSyxzQ0FBTCxXQUNqQixTQUFTLFNBQVMsZ0JBQWdCLEVBQ2xDLFNBQVMsUUFBUSxzQkFBc0IsRUFDdkMsU0FBUyxRQUFRLFVBQVUsRUFDbEIsU0FBQSxRQUFTLE9BQVUsQ0FDWCxhQUFBLE1BQ2YsTUFBTSxlQUFlLGVBQWUsRUFDOUIsTUFBQSxTQUFVLE9BQVUsQ0FFeEIsR0FEQSxhQUFhLE1BQU0sRUFDZixDQUFDLE1BQU8sQ0FDVixpQkFBaUIsWUFBWSxFQUFJLEVBQ2pDLE1BQ0YsQ0FHQSxNQUFNLFNBQVcsYUFBYSxrQkFBSyxXQUFVLGNBQWUsS0FBSyxFQUM3RCxHQUFBLFNBQVMsT0FBUyxFQUFHLENBQ2QsU0FBQSxRQUFTLEdBQU0sYUFBYSxTQUFTLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQyxFQUNqRSxNQUNGLENBQ2lCLGlCQUFBLFlBQVksU0FBUyxPQUFTLENBQUMsQ0FBQSxDQUNqRCxDQUFBLENBQ0YsRUFDUSxTQUFBLFlBQWEsVUFBYSxDQUNoQixlQUFBLFNBQ2pCLFNBQVMsU0FBUyxHQUFHLEVBQ1YsVUFBQSxVQUFVLGtCQUFLLFdBQVUsY0FDbEMsU0FBUyxVQUFVLE9BQU8sUUFBUyxPQUFPLE9BQU8sQ0FDbkQsQ0FDRCxFQUNRLFNBQUEsVUFBVyxRQUFXLENBQ1gsZ0JBQUEsT0FDbEIsT0FBTyxjQUFjLFdBQVcsRUFDaEMsT0FBTyxZQUFZLEVBQUksRUFDdkIsT0FBTyxRQUFRLElBQU0sQ0FDYixNQUFBRSxPQUFRLGNBQWMsV0FDdEIsSUFBTSxnQkFBZ0IsU0FBQSxHQUFjLElBRXBDLElBQU0sa0JBQUssV0FBVSxjQUFjLEtBQU0sR0FBTSxFQUFFLFVBQVksR0FBRyxFQUNsRSxHQUFBLENBQUNBLFFBQVMsQ0FBQyxJQUFLLENBQ2xCLFFBQVEsS0FBSyxrQkFBa0IsRUFDL0IsTUFDRixDQUVNLE1BQUEsUUFBVSxrQkFBSyxXQUFVLGNBQy9CLFFBQVEsS0FBSyxDQUNYLFFBQVNBLE9BQ1QsUUFBUyxJQUFJLFFBQ2IsUUFBUyxJQUFJLFFBQ2IsT0FBUSxJQUFJLE9BQ1osS0FBTSxJQUFJLElBQUEsQ0FDWCxFQUNELHFCQUFLLHlDQUFMLFVBQW9CLFFBQU8sQ0FDNUIsQ0FBQSxDQUNGLENBQ0gsRUEvRDhCLHlCQWlFOUIsc0JBQTRCLGlCQUFBLENBQ3RCLEdBQUMsa0JBQUssY0FDVixtQkFBSyxjQUFhLFFBRVAsVUFBQSxTQUFTLGtCQUFLLFdBQVUsY0FBZSxDQUNoRCxNQUFNLFFBQVUsSUFBSSxjQUFjLGtCQUFLLGNBQWMsS0FBSyxFQUNsRCxRQUFBLFNBQVVDLFNBQVcsQ0FFM0IsTUFBTSxRQUFVLGtCQUFLLFdBQVUsY0FDNUIsSUFBSyxHQUFPLEVBQUUsVUFBWUEsUUFBTyxRQUFVQSxRQUFTLENBQUUsRUFDekQscUJBQUsseUNBQUwsVUFBb0IsUUFBTyxDQUM1QixFQUNPLFFBQUEsU0FBVUEsU0FBVyxDQUVyQixNQUFBLFFBQVUsa0JBQUssV0FBVSxjQUM1QixPQUFRLEdBQU0sRUFBRSxVQUFZQSxRQUFPLE9BQU8sRUFDN0MscUJBQUsseUNBQUwsVUFBb0IsUUFBTyxDQUM1QixDQUNILEVBQ0YsRUFuQjRCLHVCQXFCNUIsVUFBQSxnQkFBUSxJQUEyQixNQUFzQixDQUVsRCxrQkFBQSxXQUFVLEdBQUcsRUFBSSxNQUN0QixrQkFBSyxTQUFRLGNBQ2YsRUFKQSxXQUtBLGlDQUFlLE9BQTZCLENBQ3JDLGtCQUFBLFdBQVUsY0FBZ0IsZUFBZSxNQUFNLEVBQ3BELGtCQUFLLFNBQVEsY0FDZixvQkE3SmdELG1DQUEzQyxJQUFNLFlBQU4sYUNUQSxNQUFNLGlCQUFOLE1BQU0sZ0JBQWdCLENBQzNCLFlBQW9CLE9BQTRCLENBQTVCLEtBQUEsT0FBQSxNQUE2QixDQUUxQywyQkFBa0MsQ0FDdkMsS0FBSyxPQUFPLDhCQUNWLENBQUMsUUFBUyxNQUFRLENBQ2hCLFFBQVEsaUJBQWlCLEtBQUssRUFBRSxRQUFRLE1BQU8sSUFBTyxDQUM5QyxNQUFBLFNBQVcsTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLElBQUksV0FBWSxHQUFHLEdBQUcsRUFDL0QsY0FBYSxJQUFNLFNBQUEsQ0FDeEIsQ0FDSCxDQUFBLENBT0osQ0FDRixFQWxCNkIsMkNBQXRCLElBQU0sZ0JBQU4sd0ZDR0EsTUFBTSxpQkFBTixNQUFNLGdCQUFpRCxDQVE1RCxZQUFZLE9BQTRCLENBUm5DLDhDQUNMLHVCQUFPLElBQUksT0FBTyxpQkFBaUIsR0FFbkMsa0JBQUFDLFVBQ0EsMEJBRUEsNEJBQVksS0FHVixrQkFBS0EsU0FBVSxRQUNWLGtCQUFBLE9BQVMsT0FBTyxJQUFJLE1BQzNCLENBaUJBLFNBQVMsU0FBa0IsT0FBeUIsQ0FDbEQsTUFBTyxDQUFDLENBQUMscUJBQUsseUNBQUwsVUFBZ0IsU0FBVSxPQUNyQyxDQUVBLE1BQU0sU0FBUyxTQUFrQixPQUFrQyxDQUNqRSxNQUFNLFNBQVcsTUFBTSxLQUFLLFFBQVEsU0FBVSxNQUFNLEVBQ3BELE9BQU8sU0FBVyxNQUFNLGtCQUFLLFFBQU8sUUFBUSxPQUFPLFFBQVEsRUFBSSxFQUNqRSxDQUVBLE1BQU0sU0FDSixTQUNBLE9BQzZCLENBQzdCLE1BQU0sU0FBVyxNQUFNLEtBQUssUUFBUSxTQUFVLE1BQU0sRUFDcEQsR0FBSSxDQUFDLFNBQVUsT0FFZixNQUFNLEtBQU8sa0JBQUssUUFBTyxjQUFjLFFBQVEsRUFDL0MsT0FBTyxLQUFPLGtCQUFLLFFBQU8sZ0JBQWdCLElBQUksRUFBSSxNQUNwRCxDQUVBLE1BQU0sUUFBUSxTQUFrQixPQUE2QyxDQUMzRSxHQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sRUFDbkIsTUFBTSxJQUFJLFdBQVcsZ0JBQWlCLFdBQVcsTUFBTSxJQUFJLEVBR3ZELE1BQUEsUUFBVSxJQUFJLFdBQVcsTUFBTSxFQUNyQyxHQUFJLENBQUMsUUFDSCxNQUFNLElBQUksV0FBVyxnQkFBaUIsV0FBVyxNQUFNLElBQUksRUFJekQsR0FBQSxrQkFBSyxPQUFNLElBQUksT0FBTyxFQUFVLE9BQUEsa0JBQUssT0FBTSxJQUFJLE9BQU8sRUFHMUQsTUFBTSxRQUFVLHFCQUFLLHlDQUFMLFVBQWdCLFNBQVUsUUFDMUMsR0FBSSxDQUFDLFFBQVMsT0FHUixNQUFBLEtBQU8sSUFBSSxZQUFZLE9BQU8sRUFDOUJSLEtBQU0sSUFBSSxPQUFPLE9BQU8sR0FBTSxNQUFNLGFBQWEsTUFBTSxFQUM3RCxHQUFJLENBQUNBLEtBQVcsTUFBQSxJQUFJLFdBQVcsZUFBZSxFQUV4QyxNQUFBVixNQUFPLElBQUksS0FBSyxRQUFRLFFBQVEsUUFBUSxFQUFHLEtBQU8sSUFBTVUsSUFBRyxFQUMzRCxJQUFPLGtCQUFLUSxVQUFRLFNBQVMsaUJBRS9CQyx1QkFBY25CLEtBQUksRUFEbEJtQixTQUFBQSxjQUFjLElBQUksVUFBVW5CLEtBQUksQ0FBQyxFQUloQyx5QkFBQSxPQUFNLElBQUksUUFBUyxHQUFHLEVBQ3BCLEdBQ1QsQ0FFQSxNQUFNLE1BQU0sU0FBa0IsT0FBNkMsQ0FDekUsTUFBTSxJQUFNLGtCQUFLLE1BQUssTUFBTSxZQUFZLE1BQU0sR0FBRyxFQUUzQyxTQUFXLE1BQU0sS0FBSyxRQUFRLFNBQVUsTUFBTSxFQUNwRCxHQUFJLENBQUMsU0FBVSxDQUNiLElBQUksTUFBTSxrQkFBbUIsQ0FBRSxTQUFVLE1BQVEsQ0FBQSxFQUNqRCxNQUNGLENBQ0EsSUFBSSxNQUFNLGFBQWEsUUFBUSxJQUFLLENBQUUsU0FBVSxPQUFRLEVBR3hELE1BQU0sTUFBUSxrQkFBSyxRQUFPLGNBQWMsUUFBUSxFQUNoRCxHQUFJLE1BQ0UsV0FBQSxNQUFNLG1CQUFtQixRQUFRLEdBQUcsRUFDakMsa0JBQUssUUFBTyxnQkFBZ0IsS0FBSyxFQUtwQyxNQUFBLFFBQVUsTUFBTSxpQkFBaUIsTUFBTSxFQUM3QyxNQUFNLGtCQUFLLFFBQU8sUUFBUSxNQUFNLElBQUksVUFBVSxRQUFRLENBQUMsRUFDdkQsTUFBTSxrQkFBSyxRQUFPLFFBQVEsWUFBWSxTQUFVLE9BQU8sRUFHdkQsTUFBTSxNQUFRLGtCQUFLLFFBQU8sY0FBYyxRQUFRLEVBQ2hELEdBQUksTUFDRSxXQUFBLE1BQU0sbUJBQW1CLFFBQVEsR0FBRyxFQUNqQyxrQkFBSyxRQUFPLGdCQUFnQixLQUFLLEVBR3RDLElBQUEsTUFBTSxrQkFBa0IsUUFBUSxHQUFHLENBRXpDLENBRUEsTUFBTSxPQUFPQSxNQUE2QixDQUN4QyxNQUFNLE1BQU0scUJBQXFCLENBQ25DLENBQ0YsRUFwSEUsaUJBRUFrQixTQUFBLFlBQ0EsbUJBRUEsa0JBTkssdUNBYUwsYUFBQSxnQkFBVyxTQUFrQixPQUEwQyxDQUMvRCxNQUFBLFFBQVUsa0JBQUtBLFVBQVEsTUFBTSxlQUNoQyxLQUFNRSxVQUFZQSxTQUFRLFNBQVMsUUFBUSxDQUFDLEVBRzNDLEdBQUMsU0FBUyxVQUFBLEdBR1YsbUJBQUtGLFVBQVEsTUFBTSxtQkFBbUIsTUFBTSxFQUNoRCxPQUFJLGtCQUFLQSxVQUFRLE1BQU0sa0JBQWtCLE1BQU0sR0FHeEMsUUFBUSxXQUFXLE1BQU0sRUFIeUIsUUFHWCxNQUNoRCxFQWJBLGNBYjRELDJDQUF2RCxJQUFNLGdCQUFOLGlCQ0dBLE1BQU0saUJBQW1DLENBQzlDLGlCQUFrQixHQUNsQixnQkFBaUIsY0FDakIsaUJBQWtCLGVBQ2xCLGNBQWUsQ0FDYixDQUNFLFFBQVMsSUFDVCxRQUFTLENBQUMsQ0FBRSxZQUFhLEdBQU8sUUFBUyxJQUFLLEVBQzlDLFFBQVMsR0FDVCxPQUFRLEdBQ1IsS0FBTSxNQUNSLENBQ0YsQ0FDRiwwREFFQSxNQUFxQixvQkFBckIsTUFBcUIsNEJBQTJCRyxTQUFBQSxNQUFPLENBU3JELFlBQVksSUFBVSxTQUEwQixDQUM5QyxNQUFNLElBQUssUUFBUSxFQVZ2QixpREFDRSxrQkFBQUMsT0FBTyxrQkFBQUEsTUFBQSxJQUFJLE9BQU8sb0JBQW9CLEdBRXRDLEtBQU8sU0FBVyxHQUNsQixLQUFPLE1BQVEsR0FRUixLQUFBLElBQU0sSUFBSSxnQkFBZ0IsSUFBSSxFQUM5QixLQUFBLFNBQVcsSUFBSSxnQkFBZ0IsSUFBSSxFQUl4QyxXQUFXLGFBQWUsS0FBSyxHQUNqQyxDQUVBLE1BQU0sUUFBd0IsQ0FDNUIsTUFBTSxLQUFLLGVBQ1gsS0FBSyxjQUFjLElBQUksWUFBWSxJQUFJLENBQUMsRUFFeEMsS0FBSyxTQUFTLDJCQUNoQixDQUVBLE1BQU0sVUFBMEIsQ0FFaEMsQ0FFQSxNQUFNLGNBQThCLENBQ2xDLE1BQU0sSUFBTSxrQkFBS0EsT0FBSyxNQUFNLGtCQUFrQixFQUN4QyxDQUFFLGNBQWUsR0FBRyxVQUFBLEVBQWdCLE1BQU0sS0FBSyxTQUFTLEdBQU0sR0FJcEUsS0FBSyxTQUFXLE9BQU8sT0FBTyxDQUFBLEVBQUksaUJBQWtCLFVBQVUsRUFDekQsS0FBQSxTQUFTLGNBQWdCLGVBQWUsQ0FDM0MsR0FBSSxlQUFpQixDQUFDLEVBQ3RCLEdBQUcsaUJBQWlCLGFBQUEsQ0FDckIsRUFFRyxJQUFBLE1BQU0sV0FBWSxLQUFLLFFBQVEsRUFDbkMsSUFBSSxNQUFNLGlCQUFpQixFQUUzQixxQkFBSywrQ0FBTCxVQUNGLENBRUEsTUFBTSxjQUE4QixDQUNsQyxNQUFNLElBQU0sa0JBQUtBLE9BQUssTUFBTSxpQkFBaUIsRUFDdkMsS0FBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJLEtBQUssUUFBUSxFQUl2QyxLQUFBLGNBQWdCLGVBQWUsS0FBSyxhQUFhLEVBRWhELE1BQUEsS0FBSyxTQUFTLElBQUksRUFDcEIsSUFBQSxNQUFNLFVBQVcsSUFBSSxFQUN6QixJQUFJLE1BQU0sZ0JBQWdCLEVBRTFCLHFCQUFLLCtDQUFMLFVBQ0YsQ0FVRixFQXZFRUEsTUFBQSxZQURGLDBDQWdFRSxnQkFBc0IsaUJBQUEsQ0FDZixrQkFBQUEsT0FBSyxLQUFLLGVBQWUsRUFDOUIsS0FBSyxNQUFRLENBQ1gsZUFBZ0Isc0JBQXNCLEtBQUssU0FBUyxhQUFhLEVBQ2pFLGtCQUFtQixxQkFBcUIsS0FBSyxTQUFTLGVBQWUsRUFDckUsbUJBQW9CLHFCQUFxQixLQUFLLFNBQVMsZ0JBQWdCLENBQUEsQ0FFM0UsRUFQc0IsaUJBaEUrQixpREFBdkQsSUFBcUIsbUJBQXJCIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSw0LDUsNiw3LDgsOSwxMCwxMV19
