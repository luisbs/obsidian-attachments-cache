/*!
 * @copyright Copyright (c) 2022-present Luis Brayan
 * @license @luis.bs/obsidian-attachments-cache@0.4.1 is released under the GPL-3.0-or-later license
 * @source https://github.com/luisbs/obsidian-attachments-cache
 */
"use strict";const w=require("obsidian");/*!
 * Copyright (c) 2022-present Luis Brayan
 * @luis.bs/obsidian-fnc@1.4.2 is released under the MIT license
 * @source https://github.com/luisbs/obsidian-fnc
 */class bt{error(t,e){console.error(t,...e)}warn(t,e){console.warn(t,...e)}info(t,e){console.info(t,...e)}debug(t,e){console.debug(t,...e)}trace(t,e){console.trace(t,...e)}group(t,e){return console.groupCollapsed(t,...e),console.groupEnd}}const m=Object.freeze({TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5}),yt=Object.freeze({1:"TRACE",2:"DEBUG",3:" INFO",4:" WARN",5:"ERROR"});class j{#t;#e;#n;#s=[];#i=[];get level(){return this.#e?this.#e:this.#t?.level??m.WARN}get format(){return this.#n?this.#n:this.#t?.format??"[hh:mm:ss.ms] level (namespace):"}get namespace(){const t=[];for(let e=0;e<this.#i.length-1;e++)t.push(this.#i[e][0]);return t.push(this.#i.at(-1)??""),t.join(".")}get drivers(){return Object.freeze(this.#s)}setLevel(t){return this.#e=t,this}setFormat(t){return this.#n=t,this}addDrivers(...t){for(const e of t)Array.isArray(e)?this.#s.push(...e):e&&this.#s.push(e);return this}addNamespaces(...t){for(const e of t)Array.isArray(e)?this.#i.push(...e):e&&this.#i.push(e);return this}static consoleLogger(t){const e=new j;return e.setLevel(m.WARN),e.addDrivers(new bt),e.addNamespaces(t),e}make(t){const e=new j;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i,t),e}prefix(t,e){return this.format.replace("hh",String(t.getHours()).padStart(2,"0")).replace("mm",String(t.getMinutes()).padStart(2,"0")).replace("ss",String(t.getSeconds()).padStart(2,"0")).replace("ms",String(t.getMilliseconds()).padStart(3,"0")).replace("level",yt[e]).replace("namespace",this.namespace)}log(t,e,s){if(this.level>e)return;const n=this.prefix(t,e);switch(this.level){case m.ERROR:this.#s.forEach(i=>i.error(n,s));break;case m.WARN:this.#s.forEach(i=>i.warn(n,s));break;case m.INFO:this.#s.forEach(i=>i.info(n,s));break;case m.DEBUG:this.#s.forEach(i=>i.debug(n,s));break;default:this.#s.forEach(i=>i.trace(n,s))}}error(...t){this.log(new Date,m.ERROR,t)}warn(...t){this.log(new Date,m.WARN,t)}info(...t){this.log(new Date,m.INFO,t)}debug(...t){this.log(new Date,m.DEBUG,t)}trace(...t){this.log(new Date,m.TRACE,t)}group(...t){const e=new St;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i),t.length&&e.log(new Date,m.INFO,t),e}}class St extends j{#t=[];log(t,e,s){this.level>e||this.#t.push({timestamp:t,level:e,content:s})}flush(...t){if(this.#t.length===0){super.log(new Date,m.INFO,t);return}const e=this.prefix(new Date,m.INFO),s=this.drivers.map(n=>n.group(e,t));for(const{timestamp:n,level:i,content:a}of this.#t)super.log(n,i,a);s.forEach(n=>n()),this.#t=[]}}class R{static join(...t){return t.reduce((e,s)=>s?e?e.replace(/[\\/]+$/gi,"")+"/"+s.replace(/^[\\/]+/gi,""):s:e,"")}static normalize(t){return t.replaceAll(/[^\w-\\/#?&=':,. ]+/gi,"_")}static getName(t){return t.match(/[^\\/]+$/gi)?.at(0)}static getBasename(t){const e=this.getName(t);return e?this.removeExt(e):void 0}static getParent(t){return t.replace(/[\\/][^\\/]*$/gi,"")}static hasExt(t){return/\.[^\\/]*$/gi.test(t)}static getExt(t){return/(?<=\.)([^\\/#?]*)([#?].*)?$/gi.exec(t)?.at(1)}static removeExt(t){return t.replace(/(\.[^\\/]*)?([#?].*)?$/gi,"")}}class G{static isUrl(t){return/^https?:\/\//gi.test(t)}static getOrigin(t){return/^https?:\/\/[^\\/]+/gi.exec(t)?.at(0)}static getBaseurl(t){return/^https?:\/\/[^#?]*/gi.exec(t)?.at(0)}static getHash(t){return/(?<=#)[^?]*/gi.exec(t)?.at(0)}static getparams(t){return/(?<=\?).*/gi.exec(t)?.at(0)}}class C extends Error{constructor(t,e){super(),this.code=t,this.cause=e,this.name=`AttachmentError(${this.code})`,this.message=this.toStringMessage()}static assertResponse(t,e,s){if(!(e.status<400))throw new C(s,`requested url: ${t}
response status: ${e.status}
response headers:
${JSON.stringify(e.headers)}`)}toString(){return`${this.name}: ${this.toStringMessage()}`}toStringMessage(){const t=C.#t(this.code);return this.cause?this.cause instanceof Error?`${t}, context:

${this.cause}`:`${t}, context:

${JSON.stringify(this.cause)}`:t}static#t(t){switch(t){case"remote-no-url":return"remote param should be an URL";case"remote-no-ext":return"a file-extension could not be determined";case"url-request-head":return"the request to get the file-extension failed";case"url-request-get":return"the request to download the file failed";default:return"try-reloading Obsidian"}}}function I(r,t){return!r.startsWith("*")&&t.startsWith("*")?-1:r.startsWith("*")&&!t.startsWith("*")?1:r.startsWith(t)?-1:t.startsWith(r)?1:r.localeCompare(t,"en")}function xt(r){switch(r){case"image/jpeg":return"jpg";case"image/tiff":return"tif";default:return r.split(/\/|\+/gi)[1]}}function Rt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tt=ot;function ot(r,t,e){r instanceof RegExp&&(r=Z(r,e)),t instanceof RegExp&&(t=Z(t,e));var s=ht(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}function Z(r,t){var e=t.match(r);return e?e[0]:null}ot.range=ht;function ht(r,t,e){var s,n,i,a,o,h=e.indexOf(r),c=e.indexOf(t,h+1),l=h;if(h>=0&&c>0){if(r===t)return[h,c];for(s=[],i=e.length;l>=0&&!o;)l==h?(s.push(l),h=e.indexOf(r,l+1)):s.length==1?o=[s.pop(),c]:(n=s.pop(),n<i&&(i=n,a=c),c=e.indexOf(t,l+1)),l=h<c&&h>=0?h:c;s.length&&(o=[i,a])}return o}var ct=Tt,Ot=At,lt="\0SLASH"+Math.random()+"\0",ut="\0OPEN"+Math.random()+"\0",z="\0CLOSE"+Math.random()+"\0",pt="\0COMMA"+Math.random()+"\0",ft="\0PERIOD"+Math.random()+"\0";function W(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function Nt(r){return r.split("\\\\").join(lt).split("\\{").join(ut).split("\\}").join(z).split("\\,").join(pt).split("\\.").join(ft)}function Dt(r){return r.split(lt).join("\\").split(ut).join("{").split(z).join("}").split(pt).join(",").split(ft).join(".")}function gt(r){if(!r)return[""];var t=[],e=ct("{","}",r);if(!e)return r.split(",");var s=e.pre,n=e.body,i=e.post,a=s.split(",");a[a.length-1]+="{"+n+"}";var o=gt(i);return i.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}function At(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),P(Nt(r),!0).map(Dt)):[]}function Ct(r){return"{"+r+"}"}function $t(r){return/^-?0\d/.test(r)}function Mt(r,t){return r<=t}function Pt(r,t){return r>=t}function P(r,t){var e=[],s=ct("{","}",r);if(!s)return[r];var n=s.pre,i=s.post.length?P(s.post,!1):[""];if(/\$$/.test(s.pre))for(var a=0;a<i.length;a++){var o=n+"{"+s.body+"}"+i[a];e.push(o)}else{var h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=h||c,g=s.body.indexOf(",")>=0;if(!l&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+z+s.post,P(r)):[r];var u;if(l)u=s.body.split(/\.\./);else if(u=gt(s.body),u.length===1&&(u=P(u[0],!1).map(Ct),u.length===1))return i.map(function(vt){return s.pre+u[0]+vt});var p;if(l){var d=W(u[0]),f=W(u[1]),b=Math.max(u[0].length,u[1].length),T=u.length==3?Math.abs(W(u[2])):1,$=Mt,O=f<d;O&&(T*=-1,$=Pt);var N=u.some($t);p=[];for(var D=d;$(D,f);D+=T){var y;if(c)y=String.fromCharCode(D),y==="\\"&&(y="");else if(y=String(D),N){var V=b-y.length;if(V>0){var J=new Array(V+1).join("0");D<0?y="-"+J+y.slice(1):y=J+y}}p.push(y)}}else{p=[];for(var A=0;A<u.length;A++)p.push.apply(p,P(u[A],!1))}for(var A=0;A<p.length;A++)for(var a=0;a<i.length;a++){var o=n+p[A]+i[a];(!t||l||o)&&e.push(o)}}return e}const kt=Rt(Ot),jt=1024*64,_=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>jt)throw new TypeError("pattern is too long")},_t={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},M=r=>r.replace(/[[\]\\-]/g,"\\$&"),Lt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),K=r=>r.join(""),Wt=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],n=[];let i=e+1,a=!1,o=!1,h=!1,c=!1,l=e,g="";t:for(;i<r.length;){const f=r.charAt(i);if((f==="!"||f==="^")&&i===e+1){c=!0,i++;continue}if(f==="]"&&a&&!h){l=i+1;break}if(a=!0,f==="\\"&&!h){h=!0,i++;continue}if(f==="["&&!h){for(const[b,[T,$,O]]of Object.entries(_t))if(r.startsWith(b,i)){if(g)return["$.",!1,r.length-e,!0];i+=b.length,O?n.push(T):s.push(T),o=o||$;continue t}}if(h=!1,g){f>g?s.push(M(g)+"-"+M(f)):f===g&&s.push(M(f)),g="",i++;continue}if(r.startsWith("-]",i+1)){s.push(M(f+"-")),i+=2;continue}if(r.startsWith("-",i+1)){g=f,i+=2;continue}s.push(M(f)),i++}if(l<i)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,r.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!c){const f=s[0].length===2?s[0].slice(-1):s[0];return[Lt(f),!1,l-e,!1]}const u="["+(c?"^":"")+K(s)+"]",p="["+(c?"":"^")+K(n)+"]";return[s.length&&n.length?"("+u+"|"+p+")":s.length?u:p,o,l-e,!0]},k=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Bt=new Set(["!","?","+","*","@"]),Q=r=>Bt.has(r),Ft="(?!(?:^|/)\\.\\.?(?:$|/))",B="(?!\\.)",Gt=new Set(["[","."]),It=new Set(["..","."]),zt=new Set("().*{}+?[]^$\\!"),Ut=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),U="[^/]",X=U+"*?",Y=U+"+?";class v{type;#t;#e;#n=!1;#s=[];#i;#h;#r;#a=!1;#o;#c;#g=!1;constructor(t,e,s={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#o=this.#t===this?s:this.#t.#o,this.#r=this.#t===this?[]:this.#t.#r,t==="!"&&!this.#t.#a&&this.#r.push(this),this.#h=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#e!==void 0)return this.#e;for(const t of this.#s)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#c=this.#s.map(t=>String(t)).join("")}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#r.pop();){if(t.type!=="!")continue;let e=t,s=e.#i;for(;s;){for(let n=e.#h+1;!s.type&&n<s.#s.length;n++)for(const i of t.#s){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(s.#s[n])}e=s,s=e.#i}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof v&&e.#i===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){const t=this.type===null?this.#s.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#s.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#i?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(this.#h===0)return!0;const t=this.#i;for(let e=0;e<this.#h;e++){const s=t.#s[e];if(!(s instanceof v&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#s.length:0;return this.#h===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new v(this.type,t);for(const s of this.#s)e.copyIn(s);return e}static#l(t,e,s,n){let i=!1,a=!1,o=-1,h=!1;if(e.type===null){let p=s,d="";for(;p<t.length;){const f=t.charAt(p++);if(i||f==="\\"){i=!i,d+=f;continue}if(a){p===o+1?(f==="^"||f==="!")&&(h=!0):f==="]"&&!(p===o+2&&h)&&(a=!1),d+=f;continue}else if(f==="["){a=!0,o=p,h=!1,d+=f;continue}if(!n.noext&&Q(f)&&t.charAt(p)==="("){e.push(d),d="";const b=new v(f,e);p=v.#l(t,b,p,n),e.push(b);continue}d+=f}return e.push(d),p}let c=s+1,l=new v(null,e);const g=[];let u="";for(;c<t.length;){const p=t.charAt(c++);if(i||p==="\\"){i=!i,u+=p;continue}if(a){c===o+1?(p==="^"||p==="!")&&(h=!0):p==="]"&&!(c===o+2&&h)&&(a=!1),u+=p;continue}else if(p==="["){a=!0,o=c,h=!1,u+=p;continue}if(Q(p)&&t.charAt(c)==="("){l.push(u),u="";const d=new v(p,l);l.push(d),c=v.#l(t,d,c,n);continue}if(p==="|"){l.push(u),u="",g.push(l),l=new v(null,e);continue}if(p===")")return u===""&&e.#s.length===0&&(e.#g=!0),l.push(u),u="",e.push(...g,l),c;u+=p}return e.type=null,e.#e=void 0,e.#s=[t.substring(s-1)],c}static fromGlob(t,e={}){const s=new v(null,void 0,e);return v.#l(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,n,i]=this.toRegExpSource();if(!(n||this.#e||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const o=(this.#o.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#o}toRegExpSource(t){const e=t??!!this.#o.dot;if(this.#t===this&&this.#u(),!this.type){const h=this.isStart()&&this.isEnd(),c=this.#s.map(p=>{const[d,f,b,T]=typeof p=="string"?v.#d(p,this.#e,h):p.toRegExpSource(t);return this.#e=this.#e||b,this.#n=this.#n||T,d}).join("");let l="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&It.has(this.#s[0]))){const d=Gt,f=e&&d.has(c.charAt(0))||c.startsWith("\\.")&&d.has(c.charAt(2))||c.startsWith("\\.\\.")&&d.has(c.charAt(4)),b=!e&&!t&&d.has(c.charAt(0));l=f?Ft:b?B:""}let g="";return this.isEnd()&&this.#t.#a&&this.#i?.type==="!"&&(g="(?:$|\\/)"),[l+c+g,k(c),this.#e=!!this.#e,this.#n]}const s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:";let i=this.#p(e);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const h=this.toString();return this.#s=[h],this.type=null,this.#e=void 0,[h,k(this.toString()),!1,!1]}let a=!s||t||e?"":this.#p(!0);a===i&&(a=""),a&&(i=`(?:${i})(?:${a})*?`);let o="";if(this.type==="!"&&this.#g)o=(this.isStart()&&!e?B:"")+Y;else{const h=this.type==="!"?"))"+(this.isStart()&&!e&&!t?B:"")+X+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=n+i+h}return[o,k(i),this.#e=!!this.#e,this.#n]}#p(t){return this.#s.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,n,i,a]=e.toRegExpSource(t);return this.#n=this.#n||a,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#d(t,e,s=!1){let n=!1,i="",a=!1;for(let o=0;o<t.length;o++){const h=t.charAt(o);if(n){n=!1,i+=(zt.has(h)?"\\":"")+h;continue}if(h==="\\"){o===t.length-1?i+="\\\\":n=!0;continue}if(h==="["){const[c,l,g,u]=Wt(t,o);if(g){i+=c,a=a||l,o+=g-1,e=e||u;continue}}if(h==="*"){s&&t==="*"?i+=Y:i+=X,e=!0;continue}if(h==="?"){i+=U,e=!0;continue}i+=Ut(h)}return[i,k(t),!!e,a]}}const qt=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&"),E=(r,t,e={})=>(_(t),!e.nocomment&&t.charAt(0)==="#"?!1:new L(t,e).match(r)),Ht=/^\*+([^+@!?\*\[\(]*)$/,Vt=r=>t=>!t.startsWith(".")&&t.endsWith(r),Jt=r=>t=>t.endsWith(r),Zt=r=>(r=r.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(r)),Kt=r=>(r=r.toLowerCase(),t=>t.toLowerCase().endsWith(r)),Qt=/^\*+\.\*+$/,Xt=r=>!r.startsWith(".")&&r.includes("."),Yt=r=>r!=="."&&r!==".."&&r.includes("."),te=/^\.\*+$/,ee=r=>r!=="."&&r!==".."&&r.startsWith("."),se=/^\*+$/,ie=r=>r.length!==0&&!r.startsWith("."),ne=r=>r.length!==0&&r!=="."&&r!=="..",re=/^\?+([^+@!?\*\[\(]*)?$/,ae=([r,t=""])=>{const e=dt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},oe=([r,t=""])=>{const e=mt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},he=([r,t=""])=>{const e=mt([r]);return t?s=>e(s)&&s.endsWith(t):e},ce=([r,t=""])=>{const e=dt([r]);return t?s=>e(s)&&s.endsWith(t):e},dt=([r])=>{const t=r.length;return e=>e.length===t&&!e.startsWith(".")},mt=([r])=>{const t=r.length;return e=>e.length===t&&e!=="."&&e!==".."},wt=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",tt={win32:{sep:"\\"},posix:{sep:"/"}},le=wt==="win32"?tt.win32.sep:tt.posix.sep;E.sep=le;const x=Symbol("globstar **");E.GLOBSTAR=x;const ue="[^/]",pe=ue+"*?",fe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ge="(?:(?!(?:\\/|^)\\.).)*?",de=(r,t={})=>e=>E(e,r,t);E.filter=de;const S=(r,t={})=>Object.assign({},r,t),me=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return E;const t=E;return Object.assign((s,n,i={})=>t(s,n,S(r,i)),{Minimatch:class extends t.Minimatch{constructor(n,i={}){super(n,S(r,i))}static defaults(n){return t.defaults(S(r,n)).Minimatch}},AST:class extends t.AST{constructor(n,i,a={}){super(n,i,S(r,a))}static fromGlob(n,i={}){return t.AST.fromGlob(n,S(r,i))}},unescape:(s,n={})=>t.unescape(s,S(r,n)),escape:(s,n={})=>t.escape(s,S(r,n)),filter:(s,n={})=>t.filter(s,S(r,n)),defaults:s=>t.defaults(S(r,s)),makeRe:(s,n={})=>t.makeRe(s,S(r,n)),braceExpand:(s,n={})=>t.braceExpand(s,S(r,n)),match:(s,n,i={})=>t.match(s,n,S(r,i)),sep:t.sep,GLOBSTAR:x})};E.defaults=me;const Et=(r,t={})=>(_(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:kt(r));E.braceExpand=Et;const we=(r,t={})=>new L(r,t).makeRe();E.makeRe=we;const Ee=(r,t,e={})=>{const s=new L(t,e);return r=r.filter(n=>s.match(n)),s.options.nonull&&!r.length&&r.push(t),r};E.match=Ee;const et=/[?*]|[+@!]\(.*?\)|\[|\]/,ve=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class L{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){_(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||wt,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,this.globSet);const s=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let n=this.globParts.map((i,a,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){const h=i[0]===""&&i[1]===""&&(i[2]==="?"||!et.test(i[2]))&&!et.test(i[3]),c=/^[a-z]:/i.test(i[0]);if(h)return[...i.slice(0,4),...i.slice(4).map(l=>this.parse(l))];if(c)return[i[0],...i.slice(1).map(l=>this.parse(l))]}return i.map(h=>this.parse(h))});if(this.debug(this.pattern,n),this.set=n.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const a=this.set[i];a[0]===""&&a[1]===""&&this.globParts[i][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let n=0;n<t[s].length;n++)t[s][n]==="**"&&(t[s][n]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let n=s;for(;e[n+1]==="**";)n++;n!==s&&e.splice(s,n-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,n)=>{const i=s[s.length-1];return n==="**"&&i==="**"?s:n===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(s.pop(),s):(s.push(n),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){const i=t[n];n===1&&i===""&&t[0]===""||(i==="."||i==="")&&(e=!0,t.splice(n,1),n--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){const n=t[s-1];n&&n!=="."&&n!==".."&&n!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let n=-1;for(;(n=s.indexOf("**",n+1))!==-1;){let a=n;for(;s[a+1]==="**";)a++;a>n&&s.splice(n+1,a-n);let o=s[n+1];const h=s[n+2],c=s[n+3];if(o!==".."||!h||h==="."||h===".."||!c||c==="."||c==="..")continue;e=!0,s.splice(n,1);const l=s.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let a=1;a<s.length-1;a++){const o=s[a];a===1&&o===""&&s[0]===""||(o==="."||o==="")&&(e=!0,s.splice(a,1),a--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let i=0;for(;(i=s.indexOf("..",i+1))!==-1;){const a=s[i-1];if(a&&a!=="."&&a!==".."&&a!=="**"){e=!0;const h=i===1&&s[i+1]==="**"?["."]:[];s.splice(i-1,2,...h),s.length===0&&s.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const n=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(n){t[e]=[],t[s]=n;break}}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let n=0,i=0,a=[],o="";for(;n<t.length&&i<e.length;)if(t[n]===e[i])a.push(o==="b"?e[i]:t[n]),n++,i++;else if(s&&t[n]==="**"&&e[i]===t[n+1])a.push(t[n]),n++;else if(s&&e[i]==="**"&&t[n]===e[i+1])a.push(e[i]),i++;else if(t[n]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(o==="b")return!1;o="a",a.push(t[n]),n++,i++}else if(e[i]==="*"&&t[n]&&(this.options.dot||!t[n].startsWith("."))&&t[n]!=="**"){if(o==="a")return!1;o="b",a.push(e[i]),n++,i++}else return!1;return t.length===e.length&&a}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let n=0;n<t.length&&t.charAt(n)==="!";n++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){const n=this.options;if(this.isWindows){const f=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!f&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),T=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),$=!T&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),O=b?3:f?0:void 0,N=$?3:T?0:void 0;if(typeof O=="number"&&typeof N=="number"){const[D,y]=[t[O],e[N]];D.toLowerCase()===y.toLowerCase()&&(e[N]=D,N>O?e=e.slice(N):O>N&&(t=t.slice(O)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var a=0,o=0,h=t.length,c=e.length;a<h&&o<c;a++,o++){this.debug("matchOne loop");var l=e[o],g=t[a];if(this.debug(e,l,g),l===!1)return!1;if(l===x){this.debug("GLOBSTAR",[e,l,g]);var u=a,p=o+1;if(p===c){for(this.debug("** at the end");a<h;a++)if(t[a]==="."||t[a]===".."||!n.dot&&t[a].charAt(0)===".")return!1;return!0}for(;u<h;){var d=t[u];if(this.debug(`
globstar while`,t,u,e,p,d),this.matchOne(t.slice(u),e.slice(p),s))return this.debug("globstar found match!",u,h,d),!0;if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,u,e,p);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,u,e,p),u===h))}let f;if(typeof l=="string"?(f=g===l,this.debug("string match",l,g,f)):(f=l.test(g),this.debug("pattern match",l,g,f)),!f)return!1}if(a===h&&o===c)return!0;if(a===h)return s;if(o===c)return a===h-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return Et(this.pattern,this.options)}parse(t){_(t);const e=this.options;if(t==="**")return x;if(t==="")return"";let s,n=null;(s=t.match(se))?n=e.dot?ne:ie:(s=t.match(Ht))?n=(e.nocase?e.dot?Kt:Zt:e.dot?Jt:Vt)(s[1]):(s=t.match(re))?n=(e.nocase?e.dot?oe:ae:e.dot?he:ce)(s):(s=t.match(Qt))?n=e.dot?Yt:Xt:(s=t.match(te))&&(n=ee);const i=v.fromGlob(t,this.options).toMMPattern();return n&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:n}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,s=e.noglobstar?pe:e.dot?fe:ge,n=new Set(e.nocase?["i"]:[]);let i=t.map(h=>{const c=h.map(l=>{if(l instanceof RegExp)for(const g of l.flags.split(""))n.add(g);return typeof l=="string"?ve(l):l===x?x:l._src});return c.forEach((l,g)=>{const u=c[g+1],p=c[g-1];l!==x||p===x||(p===void 0?u!==void 0&&u!==x?c[g+1]="(?:\\/|"+s+"\\/)?"+u:c[g]=s:u===void 0?c[g-1]=p+"(?:\\/|"+s+")?":u!==x&&(c[g-1]=p+"(?:\\/|\\/"+s+"\\/)"+u,c[g+1]=x))}),c.filter(l=>l!==x).join("/")}).join("|");const[a,o]=t.length>1?["(?:",")"]:["",""];i="^"+a+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const n=this.slashSplit(t);this.debug(this.pattern,"split",n);const i=this.set;this.debug(this.pattern,"set",i);let a=n[n.length-1];if(!a)for(let o=n.length-2;!a&&o>=0;o--)a=n[o];for(let o=0;o<i.length;o++){const h=i[o];let c=n;if(s.matchBase&&h.length===1&&(c=[a]),this.matchOne(c,h,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return E.defaults(t).Minimatch}}E.AST=v;E.Minimatch=L;E.escape=qt;E.unescape=k;function st(r){const t=[];let e=!1;for(const s of r)t.every(n=>n.pattern!==s.pattern)&&(s.pattern==="*"&&(e=!0),t.push(s));return e||t.push({pattern:"*",whitelisted:!1}),t.sort((s,n)=>I(s.pattern,n.pattern))}function it(r){return r.map(({whitelisted:t,pattern:e})=>`${t?"w":"b"} ${e}`).join(`
`)}function be(r){if(!/\s+/.test(r))return[r,void 0];const t=r.split(/\s+/g);return t[0].startsWith("w")?[t[1],!0]:t[0].startsWith("b")?[t[1],!1]:[t[1],void 0]}function ye(r,t){const e=[];let s=!1;for(const n of t.split(/\n+/g)){const[i,a]=be(n);if(i==="*"&&(s=!0),!e.some(o=>o.pattern===i)){if(a!==void 0){e.push({pattern:i,whitelisted:a});continue}for(const o of r){if(i===o.pattern){e.push({pattern:i,whitelisted:o.whitelisted});break}if(Math.abs(i.length-o.pattern.length)===1){if(o.pattern.startsWith(i)){e.push({pattern:i,whitelisted:o.whitelisted});break}else if(i.startsWith(o.pattern)){e.push({pattern:i,whitelisted:o.whitelisted});break}}}e.some(o=>o.pattern===i)||e.push({pattern:i,whitelisted:!1})}}return s||e.push({pattern:"*",whitelisted:!1}),e.sort((n,i)=>I(n.pattern,i.pattern))}function Se(r){const t=[];let e=!1;for(const s of r.split(/\n+/g)){const n=s.trim().replace(/^[wb]\s+/,"");if(n==="*"){e=!0;continue}/^\w+:/gi.test(n)&&t.push("remove protocols, ex: 'http://'"),/^(\w+\.)+\w+/.test(n)||t.push("should include domain, ex: 'example.org/path'")}return e||t.unshift("should include a fallback '*'"),t}function nt(r="fallback_param"){const t=new RegExp("[?&]"+r+"([&=\\s]|$)","i");return e=>t.test(e)}async function xe(r,t){t.debug(`Resolving extension for ${r}`);const e=G.getOrigin(r),s=await w.requestUrl({url:r,throw:!1,method:"HEAD",headers:{Referer:e?e+"/":""}});return C.assertResponse(r,s,"url-request-head"),xt(s.headers["content-type"])}async function Re(r,t){t.debug(`Downloading ${r}`);const e=G.getOrigin(r),s=await w.requestUrl({url:r,throw:!1,method:"GET",headers:{Referer:e?e+"/":""}});return C.assertResponse(r,s,"url-request-get"),s.arrayBuffer}function Te(r){return r.map(t=>{let e=i=>R.getParent(i);switch(t.mode){case"NOTE-FOLDER":e=i=>R.join(R.getParent(i),t.target);break;case"TARGET-PATH":e=i=>R.join(t.target,R.removeExt(i));break;case"TARGET-NOTE":e=i=>R.join(t.target,R.getBasename(i));break;case"TARGET":e=()=>t.target;break}const s=t.pattern!=="*"?i=>E(i,t.pattern):()=>!0,n=i=>{for(const{pattern:a,whitelisted:o}of t.remotes)if(a==="*"||new RegExp("^https?://(\\w+\\.)*"+a,"g").test(i))return o;return!1};return{source:Object.freeze(t),isEnabled:()=>t.enabled,testRemote:n,testPath:s,resolve:e}})}function F(r){const t=[];for(const e of r){const s=t.findIndex(n=>n.pattern===e.pattern);if(s===-1){t.push({...e,remotes:st(e.remotes)});continue}e.remotes.length>t[s].remotes.length&&(t[s]={...e,remotes:st(e.remotes)})}return t.sort((e,s)=>I(e.pattern,s.pattern))}function Oe(r,t){if(!t)return["invalid pattern"];for(const e of r)if(e.pattern===t)return[`duplicated pattern '${t}'`];return[]}const Ne={NOTE:"Attachments next to the Note","NOTE-FOLDER":"Attachments on Subfolder",TARGET:"Attachments on Cache Folder","TARGET-NOTE":"Attachments on Cache Note Folder","TARGET-PATH":"Attachments on Cache Note Path"},rt={NOTE:"Store in the same folder as the note","NOTE-FOLDER":"Store next to the note in subfolder ",TARGET:"Store in folder ","TARGET-NOTE":"Store in subfolder with the note-name under ","TARGET-PATH":"Store in a replated note-path under "},De=({mode:r,target:t})=>{switch(r){case"NOTE":return"folder/img1.jpg";case"NOTE-FOLDER":return`folder/${t}/img1.jpg`;case"TARGET":return`${t}/img1.jpg`;case"TARGET-NOTE":return`${t}/note1/img1.jpg`;case"TARGET-PATH":return`${t}/folder/note1/img1.jpg`}};class Ae{#t;#e;#n;#s;#i;constructor(t,e){this.#t={...e,remotes:[...e.remotes]},this.#e=new w.Setting(t),this.#n=this.#e.settingEl.createDiv("cache-details"),this.#s=this.#e.settingEl.createDiv("cache-remotes"),this.#a(),this.#c(),this.#u()}#h(){return createFragment(t=>{t.append(`${this.#t.enabled?"Enabled":"Disabled"} path: `),t.createEl("code").appendText(this.#t.pattern)})}#r(){return this.#t.mode==="NOTE"?rt.NOTE:createFragment(t=>{t.append(rt[this.#t.mode]),t.createEl("code").appendText(this.#t.target)})}#a(){this.#e.setName(this.#h()),this.#e.setDesc(this.#r()),this.#t.pattern!=="*"&&this.#e.addExtraButton(t=>{t.setIcon("trash-2").setTooltip("Remove"),t.onClick(()=>{if(this.#t.pattern==="*"){console.warn("fallback config('*') can't be removed");return}this.#e.clear(),this.#e.settingEl.remove(),this.#m()})}),this.#e.addToggle(t=>{t.setValue(this.#t.enabled),t.onChange(e=>{this.#t.enabled=e,this.#f(),this.#e.setName(this.#h())})}),this.#e.addExtraButton(t=>{let e=!1;t.setIcon("chevron-down").setTooltip("Details"),t.onClick(()=>{e=!e,e?(t.setIcon("chevron-up"),this.#e.settingEl.addClass("show-details")):(t.setIcon("chevron-down"),this.#e.settingEl.removeClass("show-details"))})})}#o(){return createFragment(t=>{t.append("Attachments storage path, ex:");const e=t.createEl("ul"),s=e.createEl("li");s.append("Note: '"),s.createEl("b").appendText("folder/note1.md"),s.append("'");const n=e.createEl("li");n.append("Attachment: '"),n.createEl("b").appendText(De(this.#t)),n.append("'")})}#c(){let t;const e=new w.Setting(this.#n);e.setName("Attachments Storage"),e.setDesc(this.#o()),e.addDropdown(a=>{a.addOptions(Ne),a.setValue(this.#t.mode),a.onChange(o=>{this.#t.mode=o,this.#f(),e.setDesc(this.#o()),this.#t.mode==="NOTE"?(t?.setDisabled(!0),t?.setValue("")):(t?.setDisabled(!1),t?.setValue(this.#t.target))})}),e.addText(a=>{t=a,this.#t.mode==="NOTE"?a.setDisabled(!0):a.setValue(this.#t.target),a.onChange(o=>{this.#t.target=o,this.#f(),e.setDesc(this.#o())})});const s=createFragment(),n=s.createEl("ul"),i=new w.Setting(this.#n);i.setClass("remotes-input"),i.setName("Remotes List"),i.setDesc(s),i.addTextArea(a=>{this.#i=a,a.setValue(it(this.#t.remotes)),a.onChange(o=>{n.empty();const h=Se(o);if(h.length>0){h.forEach(c=>n.createEl("li").appendText(c));return}this.#t.remotes=ye(this.#t.remotes,o),this.#f(),this.#u()})})}#g(t){return createFragment(e=>{e.append(`${t.whitelisted?"Whitelisted":"Blacklisted"} remote: `),e.createEl("code").appendText(t.pattern)})}#u(){this.#s.empty();for(const t of this.#t.remotes){const e=new w.Setting(this.#s);e.setName(this.#g(t)),t.pattern!=="*"&&e.addExtraButton(s=>{s.setIcon("trash-2").setTooltip("Remove"),s.onClick(()=>{const n=this.#t.remotes.filter(i=>i.pattern!==t.pattern);this.#l(n)})}),e.addButton(s=>{s.setButtonText(t.whitelisted?"Blacklist":"Whitelist"),s.onClick(()=>{const n=this.#t.remotes.map(i=>i.pattern!==t.pattern?i:{...i,whitelisted:!i.whitelisted});this.#l(n)})})}}#l(t){this.#t.remotes=t,this.#f(),this.#i?.setValue(it(t)),this.#u()}#p=[];#d=[];#f(){for(const t of this.#p)t(this.#t)}#m(){for(const t of this.#d)t(this.#t)}onChange(t){return this.#p.push(t),this}onRemove(t){return this.#d.push(t),this}}class Ce extends w.PluginSettingTab{#t;#e;#n;constructor(t){super(t.app,t),this.#t=t,this.#e=t.settings}hide(){}display(){this.containerEl.empty(),this.containerEl.addClass("attachments-cache-settings"),this.#s(),new w.Setting(this.containerEl).setName("Paths Settings").setHeading(),this.#i(),this.#n=this.containerEl.createDiv("configs-list"),this.#h()}#s(){const t=new w.Setting(this.containerEl);t.setName("Plugging Log Level"),t.addDropdown(i=>{i.addOption("ERROR","ERROR"),i.addOption("WARN"," WARN"),i.addOption("INFO"," INFO"),i.addOption("DEBUG","DEBUG"),i.addOption("TRACE","TRACE"),i.setValue(this.#e.log_level),i.onChange(this.#r.bind(this,"log_level"))});const e=new w.Setting(this.containerEl);e.setName("Keep Special Characters"),e.setDesc("If you are having problems with special characters on paths, disable this setting."),e.addToggle(i=>{i.setValue(this.#e.allow_characters),i.onChange(this.#r.bind(this,"allow_characters"))});const s=new w.Setting(this.containerEl);s.setName("URL Param Cache"),s.setDesc("Overrides standard rules and stores the file."),s.addText(i=>{i.setValue(this.#e.url_param_cache),i.onChange(this.#r.bind(this,"url_param_cache"))});const n=new w.Setting(this.containerEl);n.setName("URL Param Ignore"),n.setDesc("Overrides standard rules and ignores the file."),n.addText(i=>{i.setValue(this.#e.url_param_ignore),i.onChange(this.#r.bind(this,"url_param_ignore"))})}#i(){let t=null,e=null,s=null;const n=createFragment(),i=n.createEl("ul"),a=new w.Setting(this.containerEl);a.setClass("configs-header"),a.setName("Duplicate Vault Path"),a.setDesc(n),a.addText(o=>{t=o,o.setPlaceholder("glob: **/*.md"),o.onChange(h=>{if(i.empty(),!h){s?.setDisabled(!0);return}const c=Oe(this.#e.cache_configs,h);if(c.length>0){c.forEach(l=>i.createEl("li").appendText(l));return}s?.setDisabled(c.length>0)})}),a.addDropdown(o=>{e=o,o.setValue("*");for(const h of this.#e.cache_configs)o.addOption(h.pattern,h.pattern)}),a.addButton(o=>{s=o,o.setButtonText("Duplicate"),o.setDisabled(!0),o.onClick(()=>{const h=t?.getValue(),c=e?.getValue()??"*",l=this.#e.cache_configs.find(u=>u.pattern===c);if(!h||!l){console.warn("unexpected state");return}const g=this.#e.cache_configs;g.push({pattern:h,remotes:l.remotes,enabled:l.enabled,target:l.target,mode:l.mode}),this.#a(g)})})}#h(){if(this.#n){this.#n.empty();for(const t of this.#e.cache_configs){const e=new Ae(this.#n,t);e.onChange(s=>{const n=this.#e.cache_configs.map(i=>i.pattern===s.pattern?s:i);this.#a(n)}),e.onRemove(s=>{const n=this.#e.cache_configs.filter(i=>i.pattern!==s.pattern);this.#a(n)})}}}#r(t,e){this.#e[t]=e,this.#t.saveSettings()}#a(t){this.#e.cache_configs=F(t),this.#t.saveSettings()}}class $e{constructor(t){this.plugin=t}registerMarkdownProcessor(){this.plugin.registerMarkdownPostProcessor((t,e)=>{t.querySelectorAll("img").forEach(s=>void this.#t(s,e.sourcePath))})}async#t(t,e){const s=await this.plugin.api.cache(e,t.src);s&&(t.src=s)}}class q{log;#t;#e;#n=new Map;constructor(t){this.log=t.log.make(q.name),this.#t=t.app.vault,this.#e=t}mayCache(t,e){return!!this.#s({notepath:t,remote:e},this.log)}async isCached(t,e){const s=await this.resolve(t,e);return s?await this.#t.adapter.exists(s):!1}async resource(t,e){const s=await this.resolve(t,e);if(!s)return;const n=this.#t.getFileByPath(s);return n?this.#t.getResourcePath(n):void 0}async resolve(t,e){const s=this.log.group();try{s.debug("Resolving",{notepath:t,remote:e});const n=await this.#i({notepath:t,remote:e},s);if(n)return s.flush("remote resolved",e),n}catch(n){s.error(n)}s.flush("remote could not be resolved",e)}async cache(t,e){const s=this.log.group();try{s.debug("Caching",{notepath:t,remote:e});const n=await this.#i({notepath:t,remote:e},s);if(!n){s.debug("remote could not be resolved"),s.flush("remote was not cached",e);return}const i=this.#t.getFileByPath(n);if(i)return s.flush("remote is already in cache",e),this.#t.getResourcePath(i);const a=await Re(e,s);await this.#t.adapter.mkdir(R.getParent(n)),await this.#t.adapter.writeBinary(n,a);const o=this.#t.getFileByPath(n);if(o)return s.flush("remote was cached",e),this.#t.getResourcePath(o)}catch(n){s.error(n)}s.flush("remote could not be cached",e)}#s(t,e){e?.debug("searching an active cache rule");const s=this.#e.state.cache_matchers.find(n=>n.testPath(t.notepath));if(!s?.isEnabled()){e?.debug("notepath does not match and active rule");return}if(this.#e.state.url_ignore_matcher(t.remote)){e?.debug("remote is marked to be ignored");return}if(this.#e.state.url_cache_matcher(t.remote))return e?.debug("remote is marked to be cached"),s;if(s.testRemote(t.remote))return e?.debug("remote matches an active rule"),s;e?.debug("remote does not match and active rule")}async#i(t,e){const s=G.getBaseurl(t.remote);if(!s)throw e.debug("remote is not a valid URL"),new C("remote-no-url",`remote(${t.remote})`);const n=this.#n.get(s);if(n)return e.debug("remote resolved from cache",n),n;const i=this.#s(t,e);if(!i){e.debug("a cache rule could not be matched");return}const a=R.getBasename(s),o=R.getExt(s)??await xe(t.remote,e);if(!a||!o)throw e.debug(`name(${a}) or ext(${o}) could not be resolved`),new C("remote-no-ext");const h=R.join(i.resolve(t.notepath),a+"."+o),c=this.#e.settings.allow_characters?w.normalizePath(h):w.normalizePath(R.normalize(h));return this.#n.set(s,c),e.debug("remote resolved",c),c}}const at={log_level:"WARN",allow_characters:!1,url_param_cache:"cache_file",url_param_ignore:"ignore_file",cache_configs:[{pattern:"*",remotes:[{whitelisted:!1,pattern:"*"}],enabled:!1,target:"",mode:"NOTE"}]};class H extends w.Plugin{log=j.consoleLogger(H.name);settings={};state={};api;markdown;constructor(t,e){super(t,e),this.log.setLevel(m.DEBUG),this.log.setFormat("[hh:mm:ss.ms] level:"),this.api=new q(this),this.markdown=new $e(this),window.AttachmentsCache=this.api}async onload(){await this.loadSettings(),this.addSettingTab(new Ce(this)),this.markdown.registerMarkdownProcessor()}async loadSettings(){const t=this.log.group("Loading Settings"),{cache_configs:e,...s}=await this.loadData()||{};this.settings=Object.assign({},at,s),this.settings.cache_configs=F([...e??[],...at.cache_configs]),t.debug("Loaded: ",this.settings),this.#t(t),t.flush("Loaded Settings")}async saveSettings(){const t=this.log.group("Saving Settings"),e=Object.assign({},this.settings);e.cache_configs=F(e.cache_configs),await this.saveData(e),t.debug("Saved: ",e),this.#t(t),t.flush("Saved Settings")}#t(t){t.info("Preparing state"),this.log.setLevel(m[this.settings.log_level]),this.state={cache_matchers:Te(this.settings.cache_configs),url_cache_matcher:nt(this.settings.url_param_cache),url_ignore_matcher:nt(this.settings.url_param_ignore)}}}module.exports=H;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsdWlzLmJzK29ic2lkaWFuLWZuY0AxLjQuMi9ub2RlX21vZHVsZXMvQGx1aXMuYnMvb2JzaWRpYW4tZm5jL2xpYi9vYnNpZGlhbi1mbmMuZXNtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvQXR0YWNobWVudEVycm9yLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvc3RyaW5ncy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9iYWxhbmNlZC1tYXRjaEAxLjAuMi9ub2RlX21vZHVsZXMvYmFsYW5jZWQtbWF0Y2gvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnJhY2UtZXhwYW5zaW9uQDIuMC4xL25vZGVfbW9kdWxlcy9icmFjZS1leHBhbnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2Fzc2VydC12YWxpZC1wYXR0ZXJuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9icmFjZS1leHByZXNzaW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vdW5lc2NhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2FzdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vZXNjYXBlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L3JlbW90ZXMudHMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbGl0eS9jb25maWdzLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzL0NhY2hlU2V0dGluZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi8uLi8uLi8uLi9zcmMvZmlsZXN5c3RlbS9NYXJrZG93bkhhbmRsZXIudHMiLCIuLi8uLi8uLi8uLi9zcmMvQXR0YWNobWVudHNDYWNoZUFQSS50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDIyLXByZXNlbnQgTHVpcyBCcmF5YW5cbiAqIEBsdWlzLmJzL29ic2lkaWFuLWZuY0AxLjQuMiBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL2x1aXNicy9vYnNpZGlhbi1mbmNcbiAqL1xuaW1wb3J0IHsgU2NvcGUgYXMgZHQsIG5vcm1hbGl6ZVBhdGggYXMgZ3QsIFRGb2xkZXIgYXMgRiwgVEZpbGUgYXMgQiB9IGZyb20gXCJvYnNpZGlhblwiO1xuY2xhc3MgcHQge1xuICBlcnJvcih0LCBuKSB7XG4gICAgY29uc29sZS5lcnJvcih0LCAuLi5uKTtcbiAgfVxuICB3YXJuKHQsIG4pIHtcbiAgICBjb25zb2xlLndhcm4odCwgLi4ubik7XG4gIH1cbiAgaW5mbyh0LCBuKSB7XG4gICAgY29uc29sZS5pbmZvKHQsIC4uLm4pO1xuICB9XG4gIGRlYnVnKHQsIG4pIHtcbiAgICBjb25zb2xlLmRlYnVnKHQsIC4uLm4pO1xuICB9XG4gIHRyYWNlKHQsIG4pIHtcbiAgICBjb25zb2xlLnRyYWNlKHQsIC4uLm4pO1xuICB9XG4gIGdyb3VwKHQsIG4pIHtcbiAgICByZXR1cm4gY29uc29sZS5ncm91cENvbGxhcHNlZCh0LCAuLi5uKSwgY29uc29sZS5ncm91cEVuZDtcbiAgfVxufVxuY29uc3QgZyA9IE9iamVjdC5mcmVlemUoe1xuICBUUkFDRTogMSxcbiAgREVCVUc6IDIsXG4gIElORk86IDMsXG4gIFdBUk46IDQsXG4gIEVSUk9SOiA1XG59KSwgd3QgPSBPYmplY3QuZnJlZXplKHtcbiAgMTogXCJUUkFDRVwiLFxuICAyOiBcIkRFQlVHXCIsXG4gIDM6IFwiIElORk9cIixcbiAgNDogXCIgV0FSTlwiLFxuICA1OiBcIkVSUk9SXCJcbn0pO1xuY2xhc3MgViB7XG4gICN0O1xuICAjcztcbiAgI2U7XG4gICNuID0gW107XG4gICNpID0gW107XG4gIC8qKiBPdmVycmlkZXMgY2hhaW4gaW5oZXJpdGVkIHZhbHVlLiAqL1xuICBnZXQgbGV2ZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPyB0aGlzLiNzIDogdGhpcy4jdD8ubGV2ZWwgPz8gZy5XQVJOO1xuICB9XG4gIGdldCBmb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2UgPyB0aGlzLiNlIDogdGhpcy4jdD8uZm9ybWF0ID8/IFwiW2hoOm1tOnNzLm1zXSBsZXZlbCAobmFtZXNwYWNlKTpcIjtcbiAgfVxuICBnZXQgbmFtZXNwYWNlKCkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHRoaXMuI2kubGVuZ3RoIC0gMTsgbisrKVxuICAgICAgdC5wdXNoKHRoaXMuI2lbbl1bMF0pO1xuICAgIHJldHVybiB0LnB1c2godGhpcy4jaS5hdCgtMSkgPz8gXCJcIiksIHQuam9pbihcIi5cIik7XG4gIH1cbiAgZ2V0IGRyaXZlcnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUodGhpcy4jbik7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBsZXZlbCBpcyBwcm9wYWdhdGVkLiAqL1xuICBzZXRMZXZlbCh0KSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPSB0LCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugb24gZm9ybWF0IGlzIHByb3BhZ2V0ZWQuXG4gICAqIFRoZSB2YWxpZCBwbGFjZWhvbGRlcnMgYXJlOlxuICAgKiAtIGBoaGAgKGhvdXIpXG4gICAqIC0gYG1tYCAobWludXRlKVxuICAgKiAtIGBzc2AgKHNlY29uZClcbiAgICogLSBgbXNgIChtaWxsaXNlY29uZClcbiAgICogLSBgbGV2ZWxgXG4gICAqIC0gYG5hbWVzcGFjZWBcbiAgICogQGV4YW1wbGUgJ1toaDptbTpzcy5tc10gbGV2ZWwgKG5hbWVzcGFjZSk6J1xuICAgKi9cbiAgc2V0Rm9ybWF0KHQpIHtcbiAgICByZXR1cm4gdGhpcy4jZSA9IHQsIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBkcml2ZXJzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkRHJpdmVycyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jbi5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNuLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBuYW1lc3BhY2VzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkTmFtZXNwYWNlcyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jaS5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNpLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFN0YXJ0cyBhIExvZ2dlcnMgY2hhaW4uICovXG4gIHN0YXRpYyBjb25zb2xlTG9nZ2VyKHQpIHtcbiAgICBjb25zdCBuID0gbmV3IFYoKTtcbiAgICByZXR1cm4gbi5zZXRMZXZlbChnLldBUk4pLCBuLmFkZERyaXZlcnMobmV3IHB0KCkpLCBuLmFkZE5hbWVzcGFjZXModCksIG47XG4gIH1cbiAgLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIuICovXG4gIG1ha2UodCkge1xuICAgIGNvbnN0IG4gPSBuZXcgVigpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSwgdCksIG47XG4gIH1cbiAgLyoqIFByZXBhcmUgdGhlIGxvZyBwcmVmaXggYmFzZWQgb24gYHRoaXMuZm9ybWF0YCAqL1xuICBwcmVmaXgodCwgbikge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKFwiaGhcIiwgU3RyaW5nKHQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpKS5yZXBsYWNlKFwibW1cIiwgU3RyaW5nKHQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIikpLnJlcGxhY2UoXCJzc1wiLCBTdHJpbmcodC5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKSkucmVwbGFjZShcIm1zXCIsIFN0cmluZyh0LmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCBcIjBcIikpLnJlcGxhY2UoXCJsZXZlbFwiLCB3dFtuXSkucmVwbGFjZShcIm5hbWVzcGFjZVwiLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH1cbiAgbG9nKHQsIG4sIHMpIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IG4pIHJldHVybjtcbiAgICBjb25zdCBpID0gdGhpcy5wcmVmaXgodCwgbik7XG4gICAgc3dpdGNoICh0aGlzLmxldmVsKSB7XG4gICAgICBjYXNlIGcuRVJST1I6XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci5lcnJvcihpLCBzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBnLldBUk46XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci53YXJuKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGcuSU5GTzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmluZm8oaSwgcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZy5ERUJVRzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmRlYnVnKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLiNuLmZvckVhY2goKHIpID0+IHIudHJhY2UoaSwgcykpO1xuICAgIH1cbiAgfVxuICBlcnJvciguLi50KSB7XG4gICAgdGhpcy5sb2coLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIGcuRVJST1IsIHQpO1xuICB9XG4gIHdhcm4oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBnLldBUk4sIHQpO1xuICB9XG4gIGluZm8oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBnLklORk8sIHQpO1xuICB9XG4gIGRlYnVnKC4uLnQpIHtcbiAgICB0aGlzLmxvZygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgZy5ERUJVRywgdCk7XG4gIH1cbiAgdHJhY2UoLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBnLlRSQUNFLCB0KTtcbiAgfVxuICAvLyBvbihsb2dnZXI6IHVua25vd24pOiBMb2dnZXIge1xuICAvLyAgIHJldHVybiBsb2dnZXIgJiYgbG9nZ2VyIGluc3RhbmNlb2YgTG9nZ2VyID8gbmV3IExvZ2dlcldyYXBwZXIodGhpcy5uYW1lc3BhY2UsIGxvZ2dlcikgOiB0aGlzXG4gIC8vIH1cbiAgLy8gLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIsIHRoYXQgZ3JvdXBzIHRoZSBsb2dzLiAqL1xuICBncm91cCguLi50KSB7XG4gICAgY29uc3QgbiA9IG5ldyBtdCgpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSksIHQubGVuZ3RoICYmIG4ubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBnLklORk8sIHQpLCBuO1xuICB9XG59XG5jbGFzcyBtdCBleHRlbmRzIFYge1xuICAjdCA9IFtdO1xuICBsb2codCwgbiwgcykge1xuICAgIHRoaXMubGV2ZWwgPiBuIHx8IHRoaXMuI3QucHVzaCh7IHRpbWVzdGFtcDogdCwgbGV2ZWw6IG4sIGNvbnRlbnQ6IHMgfSk7XG4gIH1cbiAgZmx1c2goLi4udCkge1xuICAgIGlmICh0aGlzLiN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgc3VwZXIubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBnLklORk8sIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuID0gdGhpcy5wcmVmaXgoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIGcuSU5GTyksIHMgPSB0aGlzLmRyaXZlcnMubWFwKFxuICAgICAgKGkpID0+IGkuZ3JvdXAobiwgdClcbiAgICApO1xuICAgIGZvciAoY29uc3QgeyB0aW1lc3RhbXA6IGksIGxldmVsOiByLCBjb250ZW50OiBvIH0gb2YgdGhpcy4jdClcbiAgICAgIHN1cGVyLmxvZyhpLCByLCBvKTtcbiAgICBzLmZvckVhY2goKGkpID0+IGkoKSksIHRoaXMuI3QgPSBbXTtcbiAgfVxufVxuY2xhc3MgeXQge1xuICBjb25zdHJ1Y3Rvcih0LCBuKSB7XG4gICAgdGhpcy5hcHAgPSB0LCB0aGlzLmNvbnRhaW5lckVsID0gbiwgdGhpcy5zY29wZSA9IG5ldyBkdCgpLCB0aGlzLndyYXBwZXJFbCA9IGNyZWF0ZURpdihcInN1Z2dlc3Rpb25zLXRvb2x0aXBcIik7XG4gIH1cbiAgc2NvcGU7XG4gIHdyYXBwZXJFbDtcbiAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJFc2NhcGVcIiwgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wdXNoU2NvcGUodGhpcy5zY29wZSksIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyRWwpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wb3BTY29wZSh0aGlzLnNjb3BlKSwgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy53cmFwcGVyRWwuZGV0YWNoKCk7XG4gIH1cbn1cbmNvbnN0IFkgPSBNYXRoLm1pbiwgQSA9IE1hdGgubWF4LCBIID0gTWF0aC5yb3VuZCwgeCA9IChlKSA9PiAoe1xuICB4OiBlLFxuICB5OiBlXG59KTtcbmZ1bmN0aW9uIFooZSkge1xuICByZXR1cm4gZS5zcGxpdChcIi1cIilbMF07XG59XG5mdW5jdGlvbiB4dChlKSB7XG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVsxXTtcbn1cbmZ1bmN0aW9uIEV0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieFwiID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIGJ0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieVwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIjtcbn1cbmZ1bmN0aW9uIHR0KGUpIHtcbiAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhaKGUpKSA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiB2dChlKSB7XG4gIHJldHVybiBFdCh0dChlKSk7XG59XG5mdW5jdGlvbiBldChlKSB7XG4gIGNvbnN0IHtcbiAgICB4OiB0LFxuICAgIHk6IG4sXG4gICAgd2lkdGg6IHMsXG4gICAgaGVpZ2h0OiBpXG4gIH0gPSBlO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBzLFxuICAgIGhlaWdodDogaSxcbiAgICB0b3A6IG4sXG4gICAgbGVmdDogdCxcbiAgICByaWdodDogdCArIHMsXG4gICAgYm90dG9tOiBuICsgaSxcbiAgICB4OiB0LFxuICAgIHk6IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIFgoZSwgdCwgbikge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZTogcyxcbiAgICBmbG9hdGluZzogaVxuICB9ID0gZTtcbiAgY29uc3QgciA9IHR0KHQpLCBvID0gdnQodCksIGMgPSBidChvKSwgYSA9IFoodCksIGwgPSByID09PSBcInlcIiwgdSA9IHMueCArIHMud2lkdGggLyAyIC0gaS53aWR0aCAvIDIsIGYgPSBzLnkgKyBzLmhlaWdodCAvIDIgLSBpLmhlaWdodCAvIDIsIGQgPSBzW2NdIC8gMiAtIGlbY10gLyAyO1xuICBsZXQgaDtcbiAgc3dpdGNoIChhKSB7XG4gICAgY2FzZSBcInRvcFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogdSxcbiAgICAgICAgeTogcy55IC0gaS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiB1LFxuICAgICAgICB5OiBzLnkgKyBzLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogcy54ICsgcy53aWR0aCxcbiAgICAgICAgeTogZlxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiBzLnggLSBpLndpZHRoLFxuICAgICAgICB5OiBmXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGggPSB7XG4gICAgICAgIHg6IHMueCxcbiAgICAgICAgeTogcy55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoeHQodCkpIHtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIGhbb10gLT0gZCAqIChuICYmIGwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImVuZFwiOlxuICAgICAgaFtvXSArPSBkICogKG4gJiYgbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaDtcbn1cbmNvbnN0IFJ0ID0gYXN5bmMgKGUsIHQsIG4pID0+IHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudDogcyA9IFwiYm90dG9tXCIsXG4gICAgc3RyYXRlZ3k6IGkgPSBcImFic29sdXRlXCIsXG4gICAgbWlkZGxld2FyZTogciA9IFtdLFxuICAgIHBsYXRmb3JtOiBvXG4gIH0gPSBuLCBjID0gci5maWx0ZXIoQm9vbGVhbiksIGEgPSBhd2FpdCAoby5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogby5pc1JUTCh0KSk7XG4gIGxldCBsID0gYXdhaXQgby5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZTogZSxcbiAgICBmbG9hdGluZzogdCxcbiAgICBzdHJhdGVneTogaVxuICB9KSwge1xuICAgIHg6IHUsXG4gICAgeTogZlxuICB9ID0gWChsLCBzLCBhKSwgZCA9IHMsIGggPSB7fSwgTCA9IDA7XG4gIGZvciAobGV0IHAgPSAwOyBwIDwgYy5sZW5ndGg7IHArKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGIsXG4gICAgICBmbjogSVxuICAgIH0gPSBjW3BdLCB7XG4gICAgICB4OiBPLFxuICAgICAgeTogVyxcbiAgICAgIGRhdGE6IFAsXG4gICAgICByZXNldDogQ1xuICAgIH0gPSBhd2FpdCBJKHtcbiAgICAgIHg6IHUsXG4gICAgICB5OiBmLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcyxcbiAgICAgIHBsYWNlbWVudDogZCxcbiAgICAgIHN0cmF0ZWd5OiBpLFxuICAgICAgbWlkZGxld2FyZURhdGE6IGgsXG4gICAgICByZWN0czogbCxcbiAgICAgIHBsYXRmb3JtOiBvLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgICBmbG9hdGluZzogdFxuICAgICAgfVxuICAgIH0pO1xuICAgIHUgPSBPID8/IHUsIGYgPSBXID8/IGYsIGggPSB7XG4gICAgICAuLi5oLFxuICAgICAgW2JdOiB7XG4gICAgICAgIC4uLmhbYl0sXG4gICAgICAgIC4uLlBcbiAgICAgIH1cbiAgICB9LCBDICYmIEwgPD0gNTAgJiYgKEwrKywgdHlwZW9mIEMgPT0gXCJvYmplY3RcIiAmJiAoQy5wbGFjZW1lbnQgJiYgKGQgPSBDLnBsYWNlbWVudCksIEMucmVjdHMgJiYgKGwgPSBDLnJlY3RzID09PSAhMCA/IGF3YWl0IG8uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgIHJlZmVyZW5jZTogZSxcbiAgICAgIGZsb2F0aW5nOiB0LFxuICAgICAgc3RyYXRlZ3k6IGlcbiAgICB9KSA6IEMucmVjdHMpLCB7XG4gICAgICB4OiB1LFxuICAgICAgeTogZlxuICAgIH0gPSBYKGwsIGQsIGEpKSwgcCA9IC0xKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHUsXG4gICAgeTogZixcbiAgICBwbGFjZW1lbnQ6IGQsXG4gICAgc3RyYXRlZ3k6IGksXG4gICAgbWlkZGxld2FyZURhdGE6IGhcbiAgfTtcbn07XG5mdW5jdGlvbiAkKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiO1xufVxuZnVuY3Rpb24gRChlKSB7XG4gIHJldHVybiBudChlKSA/IChlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiBcIiNkb2N1bWVudFwiO1xufVxuZnVuY3Rpb24gdyhlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKGUgPT0gbnVsbCB8fCAodCA9IGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIHYoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuICh0ID0gKG50KGUpID8gZS5vd25lckRvY3VtZW50IDogZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBudChlKSB7XG4gIHJldHVybiAkKCkgPyBlIGluc3RhbmNlb2YgTm9kZSB8fCBlIGluc3RhbmNlb2YgdyhlKS5Ob2RlIDogITE7XG59XG5mdW5jdGlvbiBtKGUpIHtcbiAgcmV0dXJuICQoKSA/IGUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkVsZW1lbnQgOiAhMTtcbn1cbmZ1bmN0aW9uIEUoZSkge1xuICByZXR1cm4gJCgpID8gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkhUTUxFbGVtZW50IDogITE7XG59XG5mdW5jdGlvbiBxKGUpIHtcbiAgcmV0dXJuICEkKCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPiBcInVcIiA/ICExIDogZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgZSBpbnN0YW5jZW9mIHcoZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGsoZSkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3c6IHQsXG4gICAgb3ZlcmZsb3dYOiBuLFxuICAgIG92ZXJmbG93WTogcyxcbiAgICBkaXNwbGF5OiBpXG4gIH0gPSB5KGUpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3QodCArIHMgKyBuKSAmJiAhW1wiaW5saW5lXCIsIFwiY29udGVudHNcIl0uaW5jbHVkZXMoaSk7XG59XG5mdW5jdGlvbiBMdChlKSB7XG4gIHJldHVybiBbXCJ0YWJsZVwiLCBcInRkXCIsIFwidGhcIl0uaW5jbHVkZXMoRChlKSk7XG59XG5mdW5jdGlvbiBNKGUpIHtcbiAgcmV0dXJuIFtcIjpwb3BvdmVyLW9wZW5cIiwgXCI6bW9kYWxcIl0uc29tZSgodCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZS5tYXRjaGVzKHQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB6KGUpIHtcbiAgY29uc3QgdCA9IEcoKSwgbiA9IG0oZSkgPyB5KGUpIDogZTtcbiAgcmV0dXJuIFtcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInNjYWxlXCIsIFwicm90YXRlXCIsIFwicGVyc3BlY3RpdmVcIl0uc29tZSgocykgPT4gbltzXSA/IG5bc10gIT09IFwibm9uZVwiIDogITEpIHx8IChuLmNvbnRhaW5lclR5cGUgPyBuLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiAhMSkgfHwgIXQgJiYgKG4uYmFja2Ryb3BGaWx0ZXIgPyBuLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCAhdCAmJiAobi5maWx0ZXIgPyBuLmZpbHRlciAhPT0gXCJub25lXCIgOiAhMSkgfHwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKChzKSA9PiAobi53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHMpKSB8fCBbXCJwYWludFwiLCBcImxheW91dFwiLCBcInN0cmljdFwiLCBcImNvbnRlbnRcIl0uc29tZSgocykgPT4gKG4uY29udGFpbiB8fCBcIlwiKS5pbmNsdWRlcyhzKSk7XG59XG5mdW5jdGlvbiBDdChlKSB7XG4gIGxldCB0ID0gUihlKTtcbiAgZm9yICg7IEUodCkgJiYgIVModCk7ICkge1xuICAgIGlmICh6KHQpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgaWYgKE0odCkpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB0ID0gUih0KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEcoKSB7XG4gIHJldHVybiB0eXBlb2YgQ1NTID4gXCJ1XCIgfHwgIUNTUy5zdXBwb3J0cyA/ICExIDogQ1NTLnN1cHBvcnRzKFwiLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXJcIiwgXCJub25lXCIpO1xufVxuZnVuY3Rpb24gUyhlKSB7XG4gIHJldHVybiBbXCJodG1sXCIsIFwiYm9keVwiLCBcIiNkb2N1bWVudFwiXS5pbmNsdWRlcyhEKGUpKTtcbn1cbmZ1bmN0aW9uIHkoZSkge1xuICByZXR1cm4gdyhlKS5nZXRDb21wdXRlZFN0eWxlKGUpO1xufVxuZnVuY3Rpb24gXyhlKSB7XG4gIHJldHVybiBtKGUpID8ge1xuICAgIHNjcm9sbExlZnQ6IGUuc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsVG9wXG4gIH0gOiB7XG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZS5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBSKGUpIHtcbiAgaWYgKEQoZSkgPT09IFwiaHRtbFwiKVxuICAgIHJldHVybiBlO1xuICBjb25zdCB0ID0gKFxuICAgIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICAgIGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgIGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICAgIHEoZSkgJiYgZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxuICAgIHYoZSlcbiAgKTtcbiAgcmV0dXJuIHEodCkgPyB0Lmhvc3QgOiB0O1xufVxuZnVuY3Rpb24gc3QoZSkge1xuICBjb25zdCB0ID0gUihlKTtcbiAgcmV0dXJuIFModCkgPyBlLm93bmVyRG9jdW1lbnQgPyBlLm93bmVyRG9jdW1lbnQuYm9keSA6IGUuYm9keSA6IEUodCkgJiYgayh0KSA/IHQgOiBzdCh0KTtcbn1cbmZ1bmN0aW9uIGl0KGUsIHQsIG4pIHtcbiAgdmFyIHM7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IFtdKTtcbiAgY29uc3QgaSA9IHN0KGUpLCByID0gaSA9PT0gKChzID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogcy5ib2R5KSwgbyA9IHcoaSk7XG4gIHJldHVybiByID8gKGoobyksIHQuY29uY2F0KG8sIG8udmlzdWFsVmlld3BvcnQgfHwgW10sIGsoaSkgPyBpIDogW10sIFtdKSkgOiB0LmNvbmNhdChpLCBpdChpLCBbXSkpO1xufVxuZnVuY3Rpb24gaihlKSB7XG4gIHJldHVybiBlLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wYXJlbnQpID8gZS5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gcnQoZSkge1xuICBjb25zdCB0ID0geShlKTtcbiAgbGV0IG4gPSBwYXJzZUZsb2F0KHQud2lkdGgpIHx8IDAsIHMgPSBwYXJzZUZsb2F0KHQuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBpID0gRShlKSwgciA9IGkgPyBlLm9mZnNldFdpZHRoIDogbiwgbyA9IGkgPyBlLm9mZnNldEhlaWdodCA6IHMsIGMgPSBIKG4pICE9PSByIHx8IEgocykgIT09IG87XG4gIHJldHVybiBjICYmIChuID0gciwgcyA9IG8pLCB7XG4gICAgd2lkdGg6IG4sXG4gICAgaGVpZ2h0OiBzLFxuICAgICQ6IGNcbiAgfTtcbn1cbmZ1bmN0aW9uIG90KGUpIHtcbiAgcmV0dXJuIG0oZSkgPyBlIDogZS5jb250ZXh0RWxlbWVudDtcbn1cbmZ1bmN0aW9uIFQoZSkge1xuICBjb25zdCB0ID0gb3QoZSk7XG4gIGlmICghRSh0KSlcbiAgICByZXR1cm4geCgxKTtcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHtcbiAgICB3aWR0aDogcyxcbiAgICBoZWlnaHQ6IGksXG4gICAgJDogclxuICB9ID0gcnQodCk7XG4gIGxldCBvID0gKHIgPyBIKG4ud2lkdGgpIDogbi53aWR0aCkgLyBzLCBjID0gKHIgPyBIKG4uaGVpZ2h0KSA6IG4uaGVpZ2h0KSAvIGk7XG4gIHJldHVybiAoIW8gfHwgIU51bWJlci5pc0Zpbml0ZShvKSkgJiYgKG8gPSAxKSwgKCFjIHx8ICFOdW1iZXIuaXNGaW5pdGUoYykpICYmIChjID0gMSksIHtcbiAgICB4OiBvLFxuICAgIHk6IGNcbiAgfTtcbn1cbmNvbnN0IFR0ID0gLyogQF9fUFVSRV9fICovIHgoMCk7XG5mdW5jdGlvbiBjdChlKSB7XG4gIGNvbnN0IHQgPSB3KGUpO1xuICByZXR1cm4gIUcoKSB8fCAhdC52aXN1YWxWaWV3cG9ydCA/IFR0IDoge1xuICAgIHg6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB0LnZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcFxuICB9O1xufVxuZnVuY3Rpb24gU3QoZSwgdCwgbikge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCAhbiB8fCB0ICYmIG4gIT09IHcoZSkgPyAhMSA6IHQ7XG59XG5mdW5jdGlvbiBOKGUsIHQsIG4sIHMpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCBuID09PSB2b2lkIDAgJiYgKG4gPSAhMSk7XG4gIGNvbnN0IGkgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCByID0gb3QoZSk7XG4gIGxldCBvID0geCgxKTtcbiAgdCAmJiAocyA/IG0ocykgJiYgKG8gPSBUKHMpKSA6IG8gPSBUKGUpKTtcbiAgY29uc3QgYyA9IFN0KHIsIG4sIHMpID8gY3QocikgOiB4KDApO1xuICBsZXQgYSA9IChpLmxlZnQgKyBjLngpIC8gby54LCBsID0gKGkudG9wICsgYy55KSAvIG8ueSwgdSA9IGkud2lkdGggLyBvLngsIGYgPSBpLmhlaWdodCAvIG8ueTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBkID0gdyhyKSwgaCA9IHMgJiYgbShzKSA/IHcocykgOiBzO1xuICAgIGxldCBMID0gZCwgcCA9IGooTCk7XG4gICAgZm9yICg7IHAgJiYgcyAmJiBoICE9PSBMOyApIHtcbiAgICAgIGNvbnN0IGIgPSBUKHApLCBJID0gcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgTyA9IHkocCksIFcgPSBJLmxlZnQgKyAocC5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChPLnBhZGRpbmdMZWZ0KSkgKiBiLngsIFAgPSBJLnRvcCArIChwLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoTy5wYWRkaW5nVG9wKSkgKiBiLnk7XG4gICAgICBhICo9IGIueCwgbCAqPSBiLnksIHUgKj0gYi54LCBmICo9IGIueSwgYSArPSBXLCBsICs9IFAsIEwgPSB3KHApLCBwID0gaihMKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV0KHtcbiAgICB3aWR0aDogdSxcbiAgICBoZWlnaHQ6IGYsXG4gICAgeDogYSxcbiAgICB5OiBsXG4gIH0pO1xufVxuZnVuY3Rpb24gSyhlLCB0KSB7XG4gIGNvbnN0IG4gPSBfKGUpLnNjcm9sbExlZnQ7XG4gIHJldHVybiB0ID8gdC5sZWZ0ICsgbiA6IE4odihlKSkubGVmdCArIG47XG59XG5mdW5jdGlvbiBsdChlLCB0LCBuKSB7XG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgcyA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGkgPSBzLmxlZnQgKyB0LnNjcm9sbExlZnQgLSAobiA/IDAgOiAoXG4gICAgLy8gUlRMIDxib2R5PiBzY3JvbGxiYXIuXG4gICAgSyhlLCBzKVxuICApKSwgciA9IHMudG9wICsgdC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeDogaSxcbiAgICB5OiByXG4gIH07XG59XG5mdW5jdGlvbiBEdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHM6IHQsXG4gICAgcmVjdDogbixcbiAgICBvZmZzZXRQYXJlbnQ6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IHIgPSBpID09PSBcImZpeGVkXCIsIG8gPSB2KHMpLCBjID0gdCA/IE0odC5mbG9hdGluZykgOiAhMTtcbiAgaWYgKHMgPT09IG8gfHwgYyAmJiByKVxuICAgIHJldHVybiBuO1xuICBsZXQgYSA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9LCBsID0geCgxKTtcbiAgY29uc3QgdSA9IHgoMCksIGYgPSBFKHMpO1xuICBpZiAoKGYgfHwgIWYgJiYgIXIpICYmICgoRChzKSAhPT0gXCJib2R5XCIgfHwgayhvKSkgJiYgKGEgPSBfKHMpKSwgRShzKSkpIHtcbiAgICBjb25zdCBoID0gTihzKTtcbiAgICBsID0gVChzKSwgdS54ID0gaC54ICsgcy5jbGllbnRMZWZ0LCB1LnkgPSBoLnkgKyBzLmNsaWVudFRvcDtcbiAgfVxuICBjb25zdCBkID0gbyAmJiAhZiAmJiAhciA/IGx0KG8sIGEsICEwKSA6IHgoMCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG4ud2lkdGggKiBsLngsXG4gICAgaGVpZ2h0OiBuLmhlaWdodCAqIGwueSxcbiAgICB4OiBuLnggKiBsLnggLSBhLnNjcm9sbExlZnQgKiBsLnggKyB1LnggKyBkLngsXG4gICAgeTogbi55ICogbC55IC0gYS5zY3JvbGxUb3AgKiBsLnkgKyB1LnkgKyBkLnlcbiAgfTtcbn1cbmZ1bmN0aW9uIE90KGUpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZS5nZXRDbGllbnRSZWN0cygpKTtcbn1cbmZ1bmN0aW9uIEF0KGUpIHtcbiAgY29uc3QgdCA9IHYoZSksIG4gPSBfKGUpLCBzID0gZS5vd25lckRvY3VtZW50LmJvZHksIGkgPSBBKHQuc2Nyb2xsV2lkdGgsIHQuY2xpZW50V2lkdGgsIHMuc2Nyb2xsV2lkdGgsIHMuY2xpZW50V2lkdGgpLCByID0gQSh0LnNjcm9sbEhlaWdodCwgdC5jbGllbnRIZWlnaHQsIHMuc2Nyb2xsSGVpZ2h0LCBzLmNsaWVudEhlaWdodCk7XG4gIGxldCBvID0gLW4uc2Nyb2xsTGVmdCArIEsoZSk7XG4gIGNvbnN0IGMgPSAtbi5zY3JvbGxUb3A7XG4gIHJldHVybiB5KHMpLmRpcmVjdGlvbiA9PT0gXCJydGxcIiAmJiAobyArPSBBKHQuY2xpZW50V2lkdGgsIHMuY2xpZW50V2lkdGgpIC0gaSksIHtcbiAgICB3aWR0aDogaSxcbiAgICBoZWlnaHQ6IHIsXG4gICAgeDogbyxcbiAgICB5OiBjXG4gIH07XG59XG5mdW5jdGlvbiBGdChlLCB0KSB7XG4gIGNvbnN0IG4gPSB3KGUpLCBzID0gdihlKSwgaSA9IG4udmlzdWFsVmlld3BvcnQ7XG4gIGxldCByID0gcy5jbGllbnRXaWR0aCwgbyA9IHMuY2xpZW50SGVpZ2h0LCBjID0gMCwgYSA9IDA7XG4gIGlmIChpKSB7XG4gICAgciA9IGkud2lkdGgsIG8gPSBpLmhlaWdodDtcbiAgICBjb25zdCBsID0gRygpO1xuICAgICghbCB8fCBsICYmIHQgPT09IFwiZml4ZWRcIikgJiYgKGMgPSBpLm9mZnNldExlZnQsIGEgPSBpLm9mZnNldFRvcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IG8sXG4gICAgeDogYyxcbiAgICB5OiBhXG4gIH07XG59XG5mdW5jdGlvbiBOdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBOKGUsICEwLCB0ID09PSBcImZpeGVkXCIpLCBzID0gbi50b3AgKyBlLmNsaWVudFRvcCwgaSA9IG4ubGVmdCArIGUuY2xpZW50TGVmdCwgciA9IEUoZSkgPyBUKGUpIDogeCgxKSwgbyA9IGUuY2xpZW50V2lkdGggKiByLngsIGMgPSBlLmNsaWVudEhlaWdodCAqIHIueSwgYSA9IGkgKiByLngsIGwgPSBzICogci55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBvLFxuICAgIGhlaWdodDogYyxcbiAgICB4OiBhLFxuICAgIHk6IGxcbiAgfTtcbn1cbmZ1bmN0aW9uIEooZSwgdCwgbikge1xuICBsZXQgcztcbiAgaWYgKHQgPT09IFwidmlld3BvcnRcIilcbiAgICBzID0gRnQoZSwgbik7XG4gIGVsc2UgaWYgKHQgPT09IFwiZG9jdW1lbnRcIilcbiAgICBzID0gQXQodihlKSk7XG4gIGVsc2UgaWYgKG0odCkpXG4gICAgcyA9IE50KHQsIG4pO1xuICBlbHNlIHtcbiAgICBjb25zdCBpID0gY3QoZSk7XG4gICAgcyA9IHtcbiAgICAgIHg6IHQueCAtIGkueCxcbiAgICAgIHk6IHQueSAtIGkueSxcbiAgICAgIHdpZHRoOiB0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB0LmhlaWdodFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGV0KHMpO1xufVxuZnVuY3Rpb24gYXQoZSwgdCkge1xuICBjb25zdCBuID0gUihlKTtcbiAgcmV0dXJuIG4gPT09IHQgfHwgIW0obikgfHwgUyhuKSA/ICExIDogeShuKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8IGF0KG4sIHQpO1xufVxuZnVuY3Rpb24ga3QoZSwgdCkge1xuICBjb25zdCBuID0gdC5nZXQoZSk7XG4gIGlmIChuKVxuICAgIHJldHVybiBuO1xuICBsZXQgcyA9IGl0KGUsIFtdKS5maWx0ZXIoKGMpID0+IG0oYykgJiYgRChjKSAhPT0gXCJib2R5XCIpLCBpID0gbnVsbDtcbiAgY29uc3QgciA9IHkoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIjtcbiAgbGV0IG8gPSByID8gUihlKSA6IGU7XG4gIGZvciAoOyBtKG8pICYmICFTKG8pOyApIHtcbiAgICBjb25zdCBjID0geShvKSwgYSA9IHoobyk7XG4gICAgIWEgJiYgYy5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiICYmIChpID0gbnVsbCksIChyID8gIWEgJiYgIWkgOiAhYSAmJiBjLnBvc2l0aW9uID09PSBcInN0YXRpY1wiICYmICEhaSAmJiBbXCJhYnNvbHV0ZVwiLCBcImZpeGVkXCJdLmluY2x1ZGVzKGkucG9zaXRpb24pIHx8IGsobykgJiYgIWEgJiYgYXQoZSwgbykpID8gcyA9IHMuZmlsdGVyKCh1KSA9PiB1ICE9PSBvKSA6IGkgPSBjLCBvID0gUihvKTtcbiAgfVxuICByZXR1cm4gdC5zZXQoZSwgcyksIHM7XG59XG5mdW5jdGlvbiBJdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudDogdCxcbiAgICBib3VuZGFyeTogbixcbiAgICByb290Qm91bmRhcnk6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IG8gPSBbLi4ubiA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gTSh0KSA/IFtdIDoga3QodCwgdGhpcy5fYykgOiBbXS5jb25jYXQobiksIHNdLCBjID0gb1swXSwgYSA9IG8ucmVkdWNlKChsLCB1KSA9PiB7XG4gICAgY29uc3QgZiA9IEoodCwgdSwgaSk7XG4gICAgcmV0dXJuIGwudG9wID0gQShmLnRvcCwgbC50b3ApLCBsLnJpZ2h0ID0gWShmLnJpZ2h0LCBsLnJpZ2h0KSwgbC5ib3R0b20gPSBZKGYuYm90dG9tLCBsLmJvdHRvbSksIGwubGVmdCA9IEEoZi5sZWZ0LCBsLmxlZnQpLCBsO1xuICB9LCBKKHQsIGMsIGkpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogYS5yaWdodCAtIGEubGVmdCxcbiAgICBoZWlnaHQ6IGEuYm90dG9tIC0gYS50b3AsXG4gICAgeDogYS5sZWZ0LFxuICAgIHk6IGEudG9wXG4gIH07XG59XG5mdW5jdGlvbiBXdChlKSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aDogdCxcbiAgICBoZWlnaHQ6IG5cbiAgfSA9IHJ0KGUpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0LFxuICAgIGhlaWdodDogblxuICB9O1xufVxuZnVuY3Rpb24gQnQoZSwgdCwgbikge1xuICBjb25zdCBzID0gRSh0KSwgaSA9IHYodCksIHIgPSBuID09PSBcImZpeGVkXCIsIG8gPSBOKGUsICEwLCByLCB0KTtcbiAgbGV0IGMgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgYSA9IHgoMCk7XG4gIGlmIChzIHx8ICFzICYmICFyKVxuICAgIGlmICgoRCh0KSAhPT0gXCJib2R5XCIgfHwgayhpKSkgJiYgKGMgPSBfKHQpKSwgcykge1xuICAgICAgY29uc3QgZCA9IE4odCwgITAsIHIsIHQpO1xuICAgICAgYS54ID0gZC54ICsgdC5jbGllbnRMZWZ0LCBhLnkgPSBkLnkgKyB0LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaSAmJiAoYS54ID0gSyhpKSk7XG4gIGNvbnN0IGwgPSBpICYmICFzICYmICFyID8gbHQoaSwgYykgOiB4KDApLCB1ID0gby5sZWZ0ICsgYy5zY3JvbGxMZWZ0IC0gYS54IC0gbC54LCBmID0gby50b3AgKyBjLnNjcm9sbFRvcCAtIGEueSAtIGwueTtcbiAgcmV0dXJuIHtcbiAgICB4OiB1LFxuICAgIHk6IGYsXG4gICAgd2lkdGg6IG8ud2lkdGgsXG4gICAgaGVpZ2h0OiBvLmhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gVShlKSB7XG4gIHJldHVybiB5KGUpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xufVxuZnVuY3Rpb24gUShlLCB0KSB7XG4gIGlmICghRShlKSB8fCB5KGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICh0KVxuICAgIHJldHVybiB0KGUpO1xuICBsZXQgbiA9IGUub2Zmc2V0UGFyZW50O1xuICByZXR1cm4gdihlKSA9PT0gbiAmJiAobiA9IG4ub3duZXJEb2N1bWVudC5ib2R5KSwgbjtcbn1cbmZ1bmN0aW9uIHV0KGUsIHQpIHtcbiAgY29uc3QgbiA9IHcoZSk7XG4gIGlmIChNKGUpKVxuICAgIHJldHVybiBuO1xuICBpZiAoIUUoZSkpIHtcbiAgICBsZXQgaSA9IFIoZSk7XG4gICAgZm9yICg7IGkgJiYgIVMoaSk7ICkge1xuICAgICAgaWYgKG0oaSkgJiYgIVUoaSkpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgaSA9IFIoaSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9XG4gIGxldCBzID0gUShlLCB0KTtcbiAgZm9yICg7IHMgJiYgTHQocykgJiYgVShzKTsgKVxuICAgIHMgPSBRKHMsIHQpO1xuICByZXR1cm4gcyAmJiBTKHMpICYmIFUocykgJiYgIXoocykgPyBuIDogcyB8fCBDdChlKSB8fCBuO1xufVxuY29uc3QgVnQgPSBhc3luYyBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCB1dCwgbiA9IHRoaXMuZ2V0RGltZW5zaW9ucywgcyA9IGF3YWl0IG4oZS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBCdChlLnJlZmVyZW5jZSwgYXdhaXQgdChlLmZsb2F0aW5nKSwgZS5zdHJhdGVneSksXG4gICAgZmxvYXRpbmc6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuIHkoZSkuZGlyZWN0aW9uID09PSBcInJ0bFwiO1xufVxuY29uc3QgJHQgPSB7XG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0OiBEdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50OiB2LFxuICBnZXRDbGlwcGluZ1JlY3Q6IEl0LFxuICBnZXRPZmZzZXRQYXJlbnQ6IHV0LFxuICBnZXRFbGVtZW50UmVjdHM6IFZ0LFxuICBnZXRDbGllbnRSZWN0czogT3QsXG4gIGdldERpbWVuc2lvbnM6IFd0LFxuICBnZXRTY2FsZTogVCxcbiAgaXNFbGVtZW50OiBtLFxuICBpc1JUTDogSHRcbn0sIE10ID0gKGUsIHQsIG4pID0+IHtcbiAgY29uc3QgcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGkgPSB7XG4gICAgcGxhdGZvcm06ICR0LFxuICAgIC4uLm5cbiAgfSwgciA9IHtcbiAgICAuLi5pLnBsYXRmb3JtLFxuICAgIF9jOiBzXG4gIH07XG4gIHJldHVybiBSdChlLCB0LCB7XG4gICAgLi4uaSxcbiAgICBwbGF0Zm9ybTogclxuICB9KTtcbn07XG5mdW5jdGlvbiBfdCgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIm1hdGNoV2lkdGhcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCByZWN0czogdCB9KSB7XG4gICAgICByZXR1cm4gZS5mbG9hdGluZy5zdHlsZS53aWR0aCA9IGAke3QucmVmZXJlbmNlLndpZHRofXB4YCwgeyByZXNldDogeyByZWN0czogITAgfSB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFB0KCkge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwibWFrZUl0RmxvYXRcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCB4OiB0LCB5OiBuIH0pIHtcbiAgICAgIHJldHVybiBlLmZsb2F0aW5nLnN0eWxlLnRvcCA9IGAke259cHhgLCBlLmZsb2F0aW5nLnN0eWxlLmxlZnQgPSBgJHt0fXB4YCwge307XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gVXQoZSwgdCkge1xuICByZXR1cm4gKGUgJSB0ICsgdCkgJSB0O1xufVxuY2xhc3MganQgZXh0ZW5kcyB5dCB7XG4gIGNvbnN0cnVjdG9yKHQsIG4sIHMpIHtcbiAgICBzdXBlcih0LCBzID8/IG4ucGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5KSwgdGhpcy5pbnB1dEVsID0gbiwgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG4gICN0ID0gW107XG4gICNzID0gW107XG4gICNlID0gLTE7XG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpLCBNdCh0aGlzLmlucHV0RWwsIHRoaXMud3JhcHBlckVsLCB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbX3QoKSwgUHQoKV1cbiAgICB9KTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpLCB0aGlzLiNlID0gLTEsIHRoaXMuI3QgPSBbXSwgdGhpcy4jcyA9IFtdO1xuICB9XG4gIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnJlZ2lzdGVyTGlzdGVuZXJzKCksIHRoaXMuc2NvcGUucmVnaXN0ZXIoW10sIFwiRW50ZXJcIiwgKHQpID0+IHRoaXMub25LZXlwcmVzcyh0LCBcImVudGVyXCIpKSwgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJBcnJvd1VwXCIsICh0KSA9PiB0aGlzLm9uS2V5cHJlc3ModCwgXCJ1cFwiKSksIHRoaXMuc2NvcGUucmVnaXN0ZXIoXG4gICAgICBbXSxcbiAgICAgIFwiQXJyb3dEb3duXCIsXG4gICAgICAodCkgPT4gdGhpcy5vbktleXByZXNzKHQsIFwiZG93blwiKVxuICAgICksIHRoaXMud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4gITEpLCB0aGlzLndyYXBwZXJFbC5vbihcImNsaWNrXCIsIFwiLnN1Z2dlc3Rpb24taXRlbVwiLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpKSwgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImZvY3VzXCIsXG4gICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UuYmluZCh0aGlzKVxuICAgICksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2xvc2UoKSwgMTAwKTtcbiAgfVxuICBvbklucHV0Q2hhbmdlKHQpIHtcbiAgICBpZiAoISh0LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSAmJiAhKHQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldFN1Z2dlc3Rpb25zKHQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgaWYgKG4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy4jdCA9IG4sIHRoaXMuI3MgPSBuLm1hcCgocykgPT4ge1xuICAgICAgICBjb25zdCBpID0gdGhpcy53cmFwcGVyRWwuY3JlYXRlRGl2KFwic3VnZ2VzdGlvbi1pdGVtXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdWdnZXN0aW9uKHMsIGkpLCBpO1xuICAgICAgfSksIHRoaXMub3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cbiAgb25LZXlwcmVzcyh0LCBuKSB7XG4gICAgaWYgKCF0LmlzQ29tcG9zaW5nKVxuICAgICAgc3dpdGNoICh0LnByZXZlbnREZWZhdWx0KCksIG4pIHtcbiAgICAgICAgY2FzZSBcImVudGVyXCI6XG4gICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNlIC0gMSwgITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICAgIHRoaXMuZm9jdXNTdWdnZXN0aW9uKHRoaXMuI2UgKyAxLCAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgb25DbGljayh0LCBuKSB7XG4gICAgdC5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNzLmluZGV4T2YobiksICExKSwgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICB9XG4gIGZvY3VzU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgY29uc3QgcyA9IFV0KHQsIHRoaXMuI3QubGVuZ3RoKSwgaSA9IHRoaXMuI3NbdGhpcy4jZV0sIHIgPSB0aGlzLiNzW3NdO1xuICAgIGkucmVtb3ZlQ2xhc3MoXCJpcy1zZWxlY3RlZFwiKSwgci5hZGRDbGFzcyhcImlzLXNlbGVjdGVkXCIpLCB0aGlzLiNlID0gcywgbiAmJiByLnNjcm9sbEludG9WaWV3KCExKTtcbiAgfVxufVxuZnVuY3Rpb24gS3QoZSwgdCkge1xuICByZXR1cm4gZnQoZSwgdCA/IChzKSA9PiBzIGluc3RhbmNlb2YgQiAmJiB0KHMpIDogKHMpID0+IHMgaW5zdGFuY2VvZiBCKTtcbn1cbmZ1bmN0aW9uIHp0KGUsIHQpIHtcbiAgcmV0dXJuIGZ0KGUsIHQgPyAocykgPT4gcyBpbnN0YW5jZW9mIEYgJiYgdChzKSA6IChzKSA9PiBzIGluc3RhbmNlb2YgRik7XG59XG5mdW5jdGlvbiBmdChlLCB0KSB7XG4gIGxldCBuID0gZS5nZXRBbGxMb2FkZWRGaWxlcygpO1xuICByZXR1cm4gdCAmJiAobiA9IG4uZmlsdGVyKHQpKSwgbi5zb3J0KChzLCBpKSA9PiBzLnBhdGgubG9jYWxlQ29tcGFyZShpLnBhdGgpKTtcbn1cbmZ1bmN0aW9uIFl0KGUsIHQsIG4pIHtcbiAgY29uc3QgcyA9IGh0KGUsIHQpLCBpID0gbiA/IChyKSA9PiByIGluc3RhbmNlb2YgQiAmJiBuKHIpIDogKHIpID0+IHIgaW5zdGFuY2VvZiBCO1xuICByZXR1cm4gcy5jaGlsZHJlbi5maWx0ZXIoaSk7XG59XG5mdW5jdGlvbiBYdChlLCB0LCBuKSB7XG4gIGNvbnN0IHMgPSBodChlLCB0KSwgaSA9IG4gPyAocikgPT4gciBpbnN0YW5jZW9mIEYgJiYgbihyKSA6IChyKSA9PiByIGluc3RhbmNlb2YgRjtcbiAgcmV0dXJuIHMuY2hpbGRyZW4uZmlsdGVyKGkpO1xufVxuZnVuY3Rpb24gaHQoZSwgdCkge1xuICBjb25zdCBuID0gZS5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZ3QodCkpO1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGb2xkZXIgXCIke3R9XCIgZG9lc24ndCBleGlzdC5gKTtcbiAgaWYgKCEobiBpbnN0YW5jZW9mIEYpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0fSBpcyBhIGZpbGUsIG5vdCBhIGZvbGRlci5gKTtcbiAgcmV0dXJuIG47XG59XG5jbGFzcyBxdCBleHRlbmRzIGp0IHtcbiAgZ2V0U3VnZ2VzdGlvbnModCkge1xuICAgIGNvbnN0IG4gPSB0LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB6dChcbiAgICAgIHRoaXMuYXBwLnZhdWx0LFxuICAgICAgLy9cbiAgICAgIChzKSA9PiBzLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhuKVxuICAgICk7XG4gIH1cbiAgcmVuZGVyU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgbi5zZXRUZXh0KHQucGF0aCk7XG4gIH1cbiAgc2VsZWN0U3VnZ2VzdGlvbih0KSB7XG4gICAgdGhpcy5pbnB1dEVsLnZhbHVlID0gdC5wYXRoLCB0aGlzLmlucHV0RWwudHJpZ2dlcihcImlucHV0XCIpLCB0aGlzLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIEp0IHtcbiAgc3RhdGljIGpvaW4oLi4udCkge1xuICAgIHJldHVybiB0LnJlZHVjZSgobiwgcykgPT4gcyA/IG4gPyBuLnJlcGxhY2UoL1tcXFxcL10rJC9naSwgXCJcIikgKyAvL1xuICAgIFwiL1wiICsgcy5yZXBsYWNlKC9eW1xcXFwvXSsvZ2ksIFwiXCIpIDogcyA6IG4sIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBub3JtYWxpemUodCkge1xuICAgIHJldHVybiB0LnJlcGxhY2VBbGwoL1teXFx3LVxcXFwvIz8mPSc6LC4gXSsvZ2ksIFwiX1wiKTtcbiAgfVxuICBzdGF0aWMgZ2V0TmFtZSh0KSB7XG4gICAgcmV0dXJuIHQubWF0Y2goL1teXFxcXC9dKyQvZ2kpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0QmFzZW5hbWUodCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldE5hbWUodCk7XG4gICAgcmV0dXJuIG4gPyB0aGlzLnJlbW92ZUV4dChuKSA6IHZvaWQgMDtcbiAgfVxuICBzdGF0aWMgZ2V0UGFyZW50KHQpIHtcbiAgICByZXR1cm4gdC5yZXBsYWNlKC9bXFxcXC9dW15cXFxcL10qJC9naSwgXCJcIik7XG4gIH1cbiAgc3RhdGljIGhhc0V4dCh0KSB7XG4gICAgcmV0dXJuIC9cXC5bXlxcXFwvXSokL2dpLnRlc3QodCk7XG4gIH1cbiAgLyoqIFNob3VsZCB1c2UgYGhhc0V4dCgpYCBiZWZvcmUgKi9cbiAgc3RhdGljIGdldEV4dCh0KSB7XG4gICAgcmV0dXJuIC8oPzw9XFwuKShbXlxcXFwvIz9dKikoWyM/XS4qKT8kL2dpLmV4ZWModCk/LmF0KDEpO1xuICB9XG4gIHN0YXRpYyByZW1vdmVFeHQodCkge1xuICAgIHJldHVybiB0LnJlcGxhY2UoLyhcXC5bXlxcXFwvXSopPyhbIz9dLiopPyQvZ2ksIFwiXCIpO1xuICB9XG59XG5jbGFzcyBRdCB7XG4gIHN0YXRpYyBpc1VybCh0KSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy9naS50ZXN0KHQpO1xuICB9XG4gIC8qKiBTaG91bGQgdXNlIGBpc1VybCgpYCBiZWZvcmUgKi9cbiAgc3RhdGljIGdldE9yaWdpbih0KSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcL1teXFxcXC9dKy9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxuICAvKiogU2hvdWxkIHVzZSBgaXNVcmwoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRCYXNldXJsKHQpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvW14jP10qL2dpLmV4ZWModCk/LmF0KDApO1xuICB9XG4gIHN0YXRpYyBnZXRIYXNoKHQpIHtcbiAgICByZXR1cm4gLyg/PD0jKVteP10qL2dpLmV4ZWModCk/LmF0KDApO1xuICB9XG4gIHN0YXRpYyBnZXRwYXJhbXModCkge1xuICAgIHJldHVybiAvKD88PVxcPykuKi9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgcXQgYXMgRm9sZGVyU3VnZ2VzdGVyLFxuICBqdCBhcyBJbnB1dFN1Z2dlc3RlcixcbiAgZyBhcyBMb2dMZXZlbCxcbiAgd3QgYXMgTG9nTGV2ZWxSZXZlcnNlLFxuICBWIGFzIExvZ2dlcixcbiAgbXQgYXMgTG9nZ2luZ0dyb3VwLFxuICB5dCBhcyBTdWdnZXN0ZXIsXG4gIEp0IGFzIFVSSSxcbiAgUXQgYXMgVVJMLFxuICBmdCBhcyBnZXRBbGxBYnN0cmFjdEZpbGVzSW5WYXVsdCxcbiAgS3QgYXMgZ2V0QWxsRmlsZXNJblZhdWx0LFxuICB6dCBhcyBnZXRBbGxGb2xkZXJzSW5WYXVsdCxcbiAgWXQgYXMgZ2V0RmlsZXNPbkZvbGRlcixcbiAgaHQgYXMgZ2V0Rm9sZGVySW5WYXVsdCxcbiAgWHQgYXMgZ2V0Rm9sZGVyc09uRm9sZGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzaWRpYW4tZm5jLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IFJlcXVlc3RVcmxSZXNwb25zZSB9IGZyb20gJ29ic2lkaWFuJ1xuXG50eXBlIEVycm9yQ29kZSA9XG4gICAgfCAncmVtb3RlLW5vLXVybCdcbiAgICB8ICdyZW1vdGUtbm8tZXh0J1xuICAgIHwgJ3VybC1yZXF1ZXN0LWhlYWQnXG4gICAgfCAndXJsLXJlcXVlc3QtZ2V0J1xuXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSByZXNwb25zZSBoYXMgYSBfKipzdGF0dXNDb2RlKipfXG4gICAgICogQHRocm93cyB7QXR0YWNobWVudEVycm9yfVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3NlcnRSZXNwb25zZShcbiAgICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICAgIHJlc3BvbnNlOiBSZXF1ZXN0VXJsUmVzcG9uc2UsXG4gICAgICAgIGNvZGU6IEVycm9yQ29kZSxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA8IDQwMCkgcmV0dXJuXG5cbiAgICAgICAgdGhyb3cgbmV3IEF0dGFjaG1lbnRFcnJvcihcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICBgcmVxdWVzdGVkIHVybDogJHt1cmx9YCArXG4gICAgICAgICAgICAgICAgYFxcbnJlc3BvbnNlIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCArXG4gICAgICAgICAgICAgICAgYFxcbnJlc3BvbnNlIGhlYWRlcnM6XFxuJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZS5oZWFkZXJzKX1gLFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBjb2RlOiBFcnJvckNvZGUsXG4gICAgICAgIHB1YmxpYyBjYXVzZT86IHVua25vd24sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5uYW1lID0gYEF0dGFjaG1lbnRFcnJvcigke3RoaXMuY29kZX0pYFxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLnRvU3RyaW5nTWVzc2FnZSgpXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMubmFtZX06ICR7dGhpcy50b1N0cmluZ01lc3NhZ2UoKX1gXG4gICAgfVxuXG4gICAgdG9TdHJpbmdNZXNzYWdlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBBdHRhY2htZW50RXJyb3IuI2Rlc2NyaXB0aW9uKHRoaXMuY29kZSlcbiAgICAgICAgaWYgKCF0aGlzLmNhdXNlKSByZXR1cm4gbWVzc2FnZVxuXG4gICAgICAgIGlmICh0aGlzLmNhdXNlIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gYCR7bWVzc2FnZX0sIGNvbnRleHQ6XFxuXFxuJHt0aGlzLmNhdXNlfWBcbiAgICAgICAgcmV0dXJuIGAke21lc3NhZ2V9LCBjb250ZXh0OlxcblxcbiR7SlNPTi5zdHJpbmdpZnkodGhpcy5jYXVzZSl9YFxuICAgIH1cblxuICAgIHN0YXRpYyAjZGVzY3JpcHRpb24oY29kZTogRXJyb3JDb2RlKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdyZW1vdGUtbm8tdXJsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JlbW90ZSBwYXJhbSBzaG91bGQgYmUgYW4gVVJMJ1xuICAgICAgICAgICAgY2FzZSAncmVtb3RlLW5vLWV4dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhIGZpbGUtZXh0ZW5zaW9uIGNvdWxkIG5vdCBiZSBkZXRlcm1pbmVkJ1xuXG4gICAgICAgICAgICBjYXNlICd1cmwtcmVxdWVzdC1oZWFkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RoZSByZXF1ZXN0IHRvIGdldCB0aGUgZmlsZS1leHRlbnNpb24gZmFpbGVkJ1xuICAgICAgICAgICAgY2FzZSAndXJsLXJlcXVlc3QtZ2V0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RoZSByZXF1ZXN0IHRvIGRvd25sb2FkIHRoZSBmaWxlIGZhaWxlZCdcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyeS1yZWxvYWRpbmcgT2JzaWRpYW4nXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIC8vW1xuICAgIC8vICAnKicsXG4gICAgLy8gICdleGFtcGxlLmNvbScsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnKi9hbGwnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdpbWFnZXMub3JnJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cvYXNkJyxcbiAgICAvL11cbiAgICAvLyBiZWNvbWVzIOKsh++4j1xuICAgIC8vW1xuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZy9hc2QnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnZXhhbXBsZS5jb20nLFxuICAgIC8vICAnaW1hZ2VzLm9yZycsXG4gICAgLy8gICcqL2FsbCcsXG4gICAgLy8gICcqJyxcbiAgICAvL11cblxuICAgIC8vXG4gICAgLy8gYCpgIG1lYW5zIGFsbCwgaXQgc2hvdWxkIGNvbWUgbGFzdFxuICAgIGlmICghYS5zdGFydHNXaXRoKCcqJykgJiYgYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAtMVxuICAgIGlmIChhLnN0YXJ0c1dpdGgoJyonKSAmJiAhYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAxXG5cbiAgICAvLyBwcmlvcml0aXplIHNwZWNpZmljaXR5XG4gICAgaWYgKGEuc3RhcnRzV2l0aChiKSkgcmV0dXJuIC0xXG4gICAgaWYgKGIuc3RhcnRzV2l0aChhKSkgcmV0dXJuIDFcblxuICAgIC8vIG9yZGVyIGFsZmFiZXRpY2FsbHlcbiAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIsICdlbicpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW1lRXh0KG1pbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gQFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvTWVkaWEvRm9ybWF0cy9JbWFnZV90eXBlc1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHN3aXRjaCAobWltZSkge1xuICAgICAgICAvLyBNSU1FIG1hcHMgdG8gbWFueSBFWFRcbiAgICAgICAgLy8gLSAnaW1hZ2UvanBlZyc6IGpwZyxqcGVnLCAuLi5ldGNcbiAgICAgICAgLy8gLSAnaW1hZ2UvdGlmZic6IHRpZix0aWZmXG4gICAgICAgIGNhc2UgJ2ltYWdlL2pwZWcnOiByZXR1cm4gJ2pwZydcbiAgICAgICAgY2FzZSAnaW1hZ2UvdGlmZic6IHJldHVybiAndGlmJ1xuXG4gICAgICAgIC8vIE1JTUUgY29tcG9zZWQgb2YgRVhUXG4gICAgICAgIC8vIC0gJ2ltYWdlL3thcG5nLGF2aWYsZ2lmLHBuZyx3ZWJwLGJtcH0nXG4gICAgICAgIC8vIC0gJ2ltYWdlL3N2Zyt4bWwnOiBzdmdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIG1pbWUuc3BsaXQoL1xcL3xcXCsvZ2kpWzFdXG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBiYWxhbmNlZDtcbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG5cbiAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuXG4gIHJldHVybiByICYmIHtcbiAgICBzdGFydDogclswXSxcbiAgICBlbmQ6IHJbMV0sXG4gICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICB2YXIgaSA9IGFpO1xuXG4gIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgIGlmKGE9PT1iKSB7XG4gICAgICByZXR1cm4gW2FpLCBiaV07XG4gICAgfVxuICAgIGJlZ3MgPSBbXTtcbiAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcblxuICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgfVxuXG4gICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICB9XG5cbiAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwidmFyIGJhbGFuY2VkID0gcmVxdWlyZSgnYmFsYW5jZWQtbWF0Y2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBhbmRUb3A7XG5cbnZhciBlc2NTbGFzaCA9ICdcXDBTTEFTSCcrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NPcGVuID0gJ1xcME9QRU4nK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ2xvc2UgPSAnXFwwQ0xPU0UnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ29tbWEgPSAnXFwwQ09NTUEnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjUGVyaW9kID0gJ1xcMFBFUklPRCcrTWF0aC5yYW5kb20oKSsnXFwwJztcblxuZnVuY3Rpb24gbnVtZXJpYyhzdHIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApID09IHN0clxuICAgID8gcGFyc2VJbnQoc3RyLCAxMClcbiAgICA6IHN0ci5jaGFyQ29kZUF0KDApO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJ1xcXFxcXFxcJykuam9pbihlc2NTbGFzaClcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXHsnKS5qb2luKGVzY09wZW4pXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx9Jykuam9pbihlc2NDbG9zZSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXCwnKS5qb2luKGVzY0NvbW1hKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLicpLmpvaW4oZXNjUGVyaW9kKTtcbn1cblxuZnVuY3Rpb24gdW5lc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZXNjU2xhc2gpLmpvaW4oJ1xcXFwnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY09wZW4pLmpvaW4oJ3snKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0Nsb3NlKS5qb2luKCd9JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDb21tYSkuam9pbignLCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjUGVyaW9kKS5qb2luKCcuJyk7XG59XG5cblxuLy8gQmFzaWNhbGx5IGp1c3Qgc3RyLnNwbGl0KFwiLFwiKSwgYnV0IGhhbmRsaW5nIGNhc2VzXG4vLyB3aGVyZSB3ZSBoYXZlIG5lc3RlZCBicmFjZWQgc2VjdGlvbnMsIHdoaWNoIHNob3VsZCBiZVxuLy8gdHJlYXRlZCBhcyBpbmRpdmlkdWFsIG1lbWJlcnMsIGxpa2Uge2Ese2IsY30sZH1cbmZ1bmN0aW9uIHBhcnNlQ29tbWFQYXJ0cyhzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFsnJ107XG5cbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG5cbiAgaWYgKCFtKVxuICAgIHJldHVybiBzdHIuc3BsaXQoJywnKTtcblxuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBib2R5ID0gbS5ib2R5O1xuICB2YXIgcG9zdCA9IG0ucG9zdDtcbiAgdmFyIHAgPSBwcmUuc3BsaXQoJywnKTtcblxuICBwW3AubGVuZ3RoLTFdICs9ICd7JyArIGJvZHkgKyAnfSc7XG4gIHZhciBwb3N0UGFydHMgPSBwYXJzZUNvbW1hUGFydHMocG9zdCk7XG4gIGlmIChwb3N0Lmxlbmd0aCkge1xuICAgIHBbcC5sZW5ndGgtMV0gKz0gcG9zdFBhcnRzLnNoaWZ0KCk7XG4gICAgcC5wdXNoLmFwcGx5KHAsIHBvc3RQYXJ0cyk7XG4gIH1cblxuICBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwKTtcblxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFRvcChzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIC8vIEkgZG9uJ3Qga25vdyB3aHkgQmFzaCA0LjMgZG9lcyB0aGlzLCBidXQgaXQgZG9lcy5cbiAgLy8gQW55dGhpbmcgc3RhcnRpbmcgd2l0aCB7fSB3aWxsIGhhdmUgdGhlIGZpcnN0IHR3byBieXRlcyBwcmVzZXJ2ZWRcbiAgLy8gYnV0ICpvbmx5KiBhdCB0aGUgdG9wIGxldmVsLCBzbyB7fSxhfWIgd2lsbCBub3QgZXhwYW5kIHRvIGFueXRoaW5nLFxuICAvLyBidXQgYXt9LGJ9YyB3aWxsIGJlIGV4cGFuZGVkIHRvIFthfWMsYWJjXS5cbiAgLy8gT25lIGNvdWxkIGFyZ3VlIHRoYXQgdGhpcyBpcyBhIGJ1ZyBpbiBCYXNoLCBidXQgc2luY2UgdGhlIGdvYWwgb2ZcbiAgLy8gdGhpcyBtb2R1bGUgaXMgdG8gbWF0Y2ggQmFzaCdzIHJ1bGVzLCB3ZSBlc2NhcGUgYSBsZWFkaW5nIHt9XG4gIGlmIChzdHIuc3Vic3RyKDAsIDIpID09PSAne30nKSB7XG4gICAgc3RyID0gJ1xcXFx7XFxcXH0nICsgc3RyLnN1YnN0cigyKTtcbiAgfVxuXG4gIHJldHVybiBleHBhbmQoZXNjYXBlQnJhY2VzKHN0ciksIHRydWUpLm1hcCh1bmVzY2FwZUJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGVtYnJhY2Uoc3RyKSB7XG4gIHJldHVybiAneycgKyBzdHIgKyAnfSc7XG59XG5mdW5jdGlvbiBpc1BhZGRlZChlbCkge1xuICByZXR1cm4gL14tPzBcXGQvLnRlc3QoZWwpO1xufVxuXG5mdW5jdGlvbiBsdGUoaSwgeSkge1xuICByZXR1cm4gaSA8PSB5O1xufVxuZnVuY3Rpb24gZ3RlKGksIHkpIHtcbiAgcmV0dXJuIGkgPj0geTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kKHN0ciwgaXNUb3ApIHtcbiAgdmFyIGV4cGFuc2lvbnMgPSBbXTtcblxuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuICBpZiAoIW0pIHJldHVybiBbc3RyXTtcblxuICAvLyBubyBuZWVkIHRvIGV4cGFuZCBwcmUsIHNpbmNlIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgZnJlZSBvZiBicmFjZS1zZXRzXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIHBvc3QgPSBtLnBvc3QubGVuZ3RoXG4gICAgPyBleHBhbmQobS5wb3N0LCBmYWxzZSlcbiAgICA6IFsnJ107XG5cbiAgaWYgKC9cXCQkLy50ZXN0KG0ucHJlKSkgeyAgICBcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgIHZhciBleHBhbnNpb24gPSBwcmUrICd7JyArIG0uYm9keSArICd9JyArIHBvc3Rba107XG4gICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGlzTnVtZXJpY1NlcXVlbmNlID0gL14tP1xcZCtcXC5cXC4tP1xcZCsoPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgICB2YXIgaXNBbHBoYVNlcXVlbmNlID0gL15bYS16QS1aXVxcLlxcLlthLXpBLVpdKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gICAgdmFyIGlzU2VxdWVuY2UgPSBpc051bWVyaWNTZXF1ZW5jZSB8fCBpc0FscGhhU2VxdWVuY2U7XG4gICAgdmFyIGlzT3B0aW9ucyA9IG0uYm9keS5pbmRleE9mKCcsJykgPj0gMDtcbiAgICBpZiAoIWlzU2VxdWVuY2UgJiYgIWlzT3B0aW9ucykge1xuICAgICAgLy8ge2F9LGJ9XG4gICAgICBpZiAobS5wb3N0Lm1hdGNoKC8sLipcXH0vKSkge1xuICAgICAgICBzdHIgPSBtLnByZSArICd7JyArIG0uYm9keSArIGVzY0Nsb3NlICsgbS5wb3N0O1xuICAgICAgICByZXR1cm4gZXhwYW5kKHN0cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3N0cl07XG4gICAgfVxuXG4gICAgdmFyIG47XG4gICAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICAgIG4gPSBtLmJvZHkuc3BsaXQoL1xcLlxcLi8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuID0gcGFyc2VDb21tYVBhcnRzKG0uYm9keSk7XG4gICAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8geHt7YSxifX15ID09PiB4e2F9eSB4e2J9eVxuICAgICAgICBuID0gZXhwYW5kKG5bMF0sIGZhbHNlKS5tYXAoZW1icmFjZSk7XG4gICAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBwb3N0Lm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5wcmUgKyBuWzBdICsgcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIG4gaXMgdGhlIHBhcnRzLCBhbmQgd2Uga25vdyBpdCdzIG5vdCBhIGNvbW1hIHNldFxuICAgIC8vIHdpdGggYSBzaW5nbGUgZW50cnkuXG4gICAgdmFyIE47XG5cbiAgICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgICAgdmFyIHggPSBudW1lcmljKG5bMF0pO1xuICAgICAgdmFyIHkgPSBudW1lcmljKG5bMV0pO1xuICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoblswXS5sZW5ndGgsIG5bMV0ubGVuZ3RoKVxuICAgICAgdmFyIGluY3IgPSBuLmxlbmd0aCA9PSAzXG4gICAgICAgID8gTWF0aC5hYnMobnVtZXJpYyhuWzJdKSlcbiAgICAgICAgOiAxO1xuICAgICAgdmFyIHRlc3QgPSBsdGU7XG4gICAgICB2YXIgcmV2ZXJzZSA9IHkgPCB4O1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgaW5jciAqPSAtMTtcbiAgICAgICAgdGVzdCA9IGd0ZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYWQgPSBuLnNvbWUoaXNQYWRkZWQpO1xuXG4gICAgICBOID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSB4OyB0ZXN0KGksIHkpOyBpICs9IGluY3IpIHtcbiAgICAgICAgdmFyIGM7XG4gICAgICAgIGlmIChpc0FscGhhU2VxdWVuY2UpIHtcbiAgICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKVxuICAgICAgICAgICAgYyA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGMgPSBTdHJpbmcoaSk7XG4gICAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgICAgdmFyIG5lZWQgPSB3aWR0aCAtIGMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5lZWQgPiAwKSB7XG4gICAgICAgICAgICAgIHZhciB6ID0gbmV3IEFycmF5KG5lZWQgKyAxKS5qb2luKCcwJyk7XG4gICAgICAgICAgICAgIGlmIChpIDwgMClcbiAgICAgICAgICAgICAgICBjID0gJy0nICsgeiArIGMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjID0geiArIGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE4ucHVzaChjKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgTi5wdXNoLmFwcGx5KE4sIGV4cGFuZChuW2pdLCBmYWxzZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTi5sZW5ndGg7IGorKykge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb3N0Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBleHBhbnNpb24gPSBwcmUgKyBOW2pdICsgcG9zdFtrXTtcbiAgICAgICAgaWYgKCFpc1RvcCB8fCBpc1NlcXVlbmNlIHx8IGV4cGFuc2lvbilcbiAgICAgICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwYW5zaW9ucztcbn1cblxuIiwiY29uc3QgTUFYX1BBVFRFUk5fTEVOR1RIID0gMTAyNCAqIDY0O1xuZXhwb3J0IGNvbnN0IGFzc2VydFZhbGlkUGF0dGVybiA9IChwYXR0ZXJuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHBhdHRlcm4nKTtcbiAgICB9XG4gICAgaWYgKHBhdHRlcm4ubGVuZ3RoID4gTUFYX1BBVFRFUk5fTEVOR1RIKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhdHRlcm4gaXMgdG9vIGxvbmcnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMubWFwIiwiLy8gdHJhbnNsYXRlIHRoZSB2YXJpb3VzIHBvc2l4IGNoYXJhY3RlciBjbGFzc2VzIGludG8gdW5pY29kZSBwcm9wZXJ0aWVzXG4vLyB0aGlzIHdvcmtzIGFjcm9zcyBhbGwgdW5pY29kZSBsb2NhbGVzXG4vLyB7IDxwb3NpeCBjbGFzcz46IFs8dHJhbnNsYXRpb24+LCAvdSBmbGFnIHJlcXVpcmVkLCBuZWdhdGVkXVxuY29uc3QgcG9zaXhDbGFzc2VzID0ge1xuICAgICdbOmFsbnVtOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6YWxwaGE6XSc6IFsnXFxcXHB7TH1cXFxccHtObH0nLCB0cnVlXSxcbiAgICAnWzphc2NpaTpdJzogWydcXFxceCcgKyAnMDAtXFxcXHgnICsgJzdmJywgZmFsc2VdLFxuICAgICdbOmJsYW5rOl0nOiBbJ1xcXFxwe1pzfVxcXFx0JywgdHJ1ZV0sXG4gICAgJ1s6Y250cmw6XSc6IFsnXFxcXHB7Q2N9JywgdHJ1ZV0sXG4gICAgJ1s6ZGlnaXQ6XSc6IFsnXFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6Z3JhcGg6XSc6IFsnXFxcXHB7Wn1cXFxccHtDfScsIHRydWUsIHRydWVdLFxuICAgICdbOmxvd2VyOl0nOiBbJ1xcXFxwe0xsfScsIHRydWVdLFxuICAgICdbOnByaW50Ol0nOiBbJ1xcXFxwe0N9JywgdHJ1ZV0sXG4gICAgJ1s6cHVuY3Q6XSc6IFsnXFxcXHB7UH0nLCB0cnVlXSxcbiAgICAnWzpzcGFjZTpdJzogWydcXFxccHtafVxcXFx0XFxcXHJcXFxcblxcXFx2XFxcXGYnLCB0cnVlXSxcbiAgICAnWzp1cHBlcjpdJzogWydcXFxccHtMdX0nLCB0cnVlXSxcbiAgICAnWzp3b3JkOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9XFxcXHB7UGN9JywgdHJ1ZV0sXG4gICAgJ1s6eGRpZ2l0Ol0nOiBbJ0EtRmEtZjAtOScsIGZhbHNlXSxcbn07XG4vLyBvbmx5IG5lZWQgdG8gZXNjYXBlIGEgZmV3IHRoaW5ncyBpbnNpZGUgb2YgYnJhY2UgZXhwcmVzc2lvbnNcbi8vIGVzY2FwZXM6IFsgXFwgXSAtXG5jb25zdCBicmFjZUVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1tbXFxdXFxcXC1dL2csICdcXFxcJCYnKTtcbi8vIGVzY2FwZSBhbGwgcmVnZXhwIG1hZ2ljIGNoYXJhY3RlcnNcbmNvbnN0IHJlZ2V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBldmVyeXRoaW5nIGhhcyBhbHJlYWR5IGJlZW4gZXNjYXBlZCwgd2UganVzdCBoYXZlIHRvIGpvaW5cbmNvbnN0IHJhbmdlc1RvU3RyaW5nID0gKHJhbmdlcykgPT4gcmFuZ2VzLmpvaW4oJycpO1xuLy8gdGFrZXMgYSBnbG9iIHN0cmluZyBhdCBhIHBvc2l4IGJyYWNlIGV4cHJlc3Npb24sIGFuZCByZXR1cm5zXG4vLyBhbiBlcXVpdmFsZW50IHJlZ3VsYXIgZXhwcmVzc2lvbiBzb3VyY2UsIGFuZCBib29sZWFuIGluZGljYXRpbmdcbi8vIHdoZXRoZXIgdGhlIC91IGZsYWcgbmVlZHMgdG8gYmUgYXBwbGllZCwgYW5kIHRoZSBudW1iZXIgb2YgY2hhcnNcbi8vIGNvbnN1bWVkIHRvIHBhcnNlIHRoZSBjaGFyYWN0ZXIgY2xhc3MuXG4vLyBUaGlzIGFsc28gcmVtb3ZlcyBvdXQgb2Ygb3JkZXIgcmFuZ2VzLCBhbmQgcmV0dXJucyAoJC4pIGlmIHRoZVxuLy8gZW50aXJlIGNsYXNzIGp1c3Qgbm8gZ29vZC5cbmV4cG9ydCBjb25zdCBwYXJzZUNsYXNzID0gKGdsb2IsIHBvc2l0aW9uKSA9PiB7XG4gICAgY29uc3QgcG9zID0gcG9zaXRpb247XG4gICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgaWYgKGdsb2IuY2hhckF0KHBvcykgIT09ICdbJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbiBhIGJyYWNlIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICBjb25zdCByYW5nZXMgPSBbXTtcbiAgICBjb25zdCBuZWdzID0gW107XG4gICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgIGxldCBzYXdTdGFydCA9IGZhbHNlO1xuICAgIGxldCB1ZmxhZyA9IGZhbHNlO1xuICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICBsZXQgZW5kUG9zID0gcG9zO1xuICAgIGxldCByYW5nZVN0YXJ0ID0gJyc7XG4gICAgV0hJTEU6IHdoaWxlIChpIDwgZ2xvYi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICBpZiAoKGMgPT09ICchJyB8fCBjID09PSAnXicpICYmIGkgPT09IHBvcyArIDEpIHtcbiAgICAgICAgICAgIG5lZ2F0ZSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ10nICYmIHNhd1N0YXJ0ICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgZW5kUG9zID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzYXdTdGFydCA9IHRydWU7XG4gICAgICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGlmICghZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNjYXBlZCBcXCBjaGFyLCBmYWxsIHRocm91Z2ggYW5kIHRyZWF0IGxpa2Ugbm9ybWFsIGNoYXJcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ1snICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGEgcG9zaXggY2xhc3MsIGEgY29sbGF0aW9uIGVxdWl2YWxlbnQsIG9yIGp1c3QgYSBbXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjbHMsIFt1bmlwLCB1LCBuZWddXSBvZiBPYmplY3QuZW50cmllcyhwb3NpeENsYXNzZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aChjbHMsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGludmFsaWQsIFthLVtdIGlzIGZpbmUsIGJ1dCBub3QgW2EtWzphbHBoYV1dXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyckLicsIGZhbHNlLCBnbG9iLmxlbmd0aCAtIHBvcywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSArPSBjbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmVncy5wdXNoKHVuaXApO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh1bmlwKTtcbiAgICAgICAgICAgICAgICAgICAgdWZsYWcgPSB1ZmxhZyB8fCB1O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBXSElMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm93IGl0J3MganVzdCBhIG5vcm1hbCBjaGFyYWN0ZXIsIGVmZmVjdGl2ZWx5XG4gICAgICAgIGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAvLyB0aHJvdyB0aGlzIHJhbmdlIGF3YXkgaWYgaXQncyBub3QgdmFsaWQsIGJ1dCBvdGhlcnNcbiAgICAgICAgICAgIC8vIGNhbiBzdGlsbCBtYXRjaC5cbiAgICAgICAgICAgIGlmIChjID4gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKHJhbmdlU3RhcnQpICsgJy0nICsgYnJhY2VFc2NhcGUoYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSAnJztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBtaWdodCBiZSB0aGUgc3RhcnQgb2YgYSByYW5nZS5cbiAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBjLWQgb3IgYy1dIG9yIGM8bW9yZS4uLj5dIG9yIGNdIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aCgnLV0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMgKyAnLScpKTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iLnN0YXJ0c1dpdGgoJy0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBjO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90IHRoZSBzdGFydCBvZiBhIHJhbmdlLCBqdXN0IGEgc2luZ2xlIGNoYXJhY3RlclxuICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShjKSk7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGVuZFBvcyA8IGkpIHtcbiAgICAgICAgLy8gZGlkbid0IHNlZSB0aGUgZW5kIG9mIHRoZSBjbGFzcywgbm90IGEgdmFsaWQgY2xhc3MsXG4gICAgICAgIC8vIGJ1dCBtaWdodCBzdGlsbCBiZSB2YWxpZCBhcyBhIGxpdGVyYWwgbWF0Y2guXG4gICAgICAgIHJldHVybiBbJycsIGZhbHNlLCAwLCBmYWxzZV07XG4gICAgfVxuICAgIC8vIGlmIHdlIGdvdCBubyByYW5nZXMgYW5kIG5vIG5lZ2F0ZXMsIHRoZW4gd2UgaGF2ZSBhIHJhbmdlIHRoYXRcbiAgICAvLyBjYW5ub3QgcG9zc2libHkgbWF0Y2ggYW55dGhpbmcsIGFuZCB0aGF0IHBvaXNvbnMgdGhlIHdob2xlIGdsb2JcbiAgICBpZiAoIXJhbmdlcy5sZW5ndGggJiYgIW5lZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbJyQuJywgZmFsc2UsIGdsb2IubGVuZ3RoIC0gcG9zLCB0cnVlXTtcbiAgICB9XG4gICAgLy8gaWYgd2UgZ290IG9uZSBwb3NpdGl2ZSByYW5nZSwgYW5kIGl0J3MgYSBzaW5nbGUgY2hhcmFjdGVyLCB0aGVuIHRoYXQnc1xuICAgIC8vIG5vdCBhY3R1YWxseSBhIG1hZ2ljIHBhdHRlcm4sIGl0J3MganVzdCB0aGF0IG9uZSBsaXRlcmFsIGNoYXJhY3Rlci5cbiAgICAvLyB3ZSBzaG91bGQgbm90IHRyZWF0IHRoYXQgYXMgXCJtYWdpY1wiLCB3ZSBzaG91bGQganVzdCByZXR1cm4gdGhlIGxpdGVyYWxcbiAgICAvLyBjaGFyYWN0ZXIuIFtfXSBpcyBhIHBlcmZlY3RseSB2YWxpZCB3YXkgdG8gZXNjYXBlIGdsb2IgbWFnaWMgY2hhcnMuXG4gICAgaWYgKG5lZ3MubGVuZ3RoID09PSAwICYmXG4gICAgICAgIHJhbmdlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgL15cXFxcPy4kLy50ZXN0KHJhbmdlc1swXSkgJiZcbiAgICAgICAgIW5lZ2F0ZSkge1xuICAgICAgICBjb25zdCByID0gcmFuZ2VzWzBdLmxlbmd0aCA9PT0gMiA/IHJhbmdlc1swXS5zbGljZSgtMSkgOiByYW5nZXNbMF07XG4gICAgICAgIHJldHVybiBbcmVnZXhwRXNjYXBlKHIpLCBmYWxzZSwgZW5kUG9zIC0gcG9zLCBmYWxzZV07XG4gICAgfVxuICAgIGNvbnN0IHNyYW5nZXMgPSAnWycgKyAobmVnYXRlID8gJ14nIDogJycpICsgcmFuZ2VzVG9TdHJpbmcocmFuZ2VzKSArICddJztcbiAgICBjb25zdCBzbmVncyA9ICdbJyArIChuZWdhdGUgPyAnJyA6ICdeJykgKyByYW5nZXNUb1N0cmluZyhuZWdzKSArICddJztcbiAgICBjb25zdCBjb21iID0gcmFuZ2VzLmxlbmd0aCAmJiBuZWdzLmxlbmd0aFxuICAgICAgICA/ICcoJyArIHNyYW5nZXMgKyAnfCcgKyBzbmVncyArICcpJ1xuICAgICAgICA6IHJhbmdlcy5sZW5ndGhcbiAgICAgICAgICAgID8gc3Jhbmdlc1xuICAgICAgICAgICAgOiBzbmVncztcbiAgICByZXR1cm4gW2NvbWIsIHVmbGFnLCBlbmRQb3MgLSBwb3MsIHRydWVdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYWNlLWV4cHJlc3Npb25zLmpzLm1hcCIsIi8qKlxuICogVW4tZXNjYXBlIGEgc3RyaW5nIHRoYXQgaGFzIGJlZW4gZXNjYXBlZCB3aXRoIHtAbGluayBlc2NhcGV9LlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGV9IG9wdGlvbiBpcyB1c2VkLCB0aGVuIHNxdWFyZS1icmFjZVxuICogZXNjYXBlcyBhcmUgcmVtb3ZlZCwgYnV0IG5vdCBiYWNrc2xhc2ggZXNjYXBlcy4gIEZvciBleGFtcGxlLCBpdCB3aWxsIHR1cm5cbiAqIHRoZSBzdHJpbmcgYCdbKl0nYCBpbnRvIGAqYCwgYnV0IGl0IHdpbGwgbm90IHR1cm4gYCdcXFxcKidgIGludG8gYCcqJ2AsXG4gKiBiZWN1YXNlIGBcXGAgaXMgYSBwYXRoIHNlcGFyYXRvciBpbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIG1vZGUuXG4gKlxuICogV2hlbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIGlzIG5vdCBzZXQsIHRoZW4gYm90aCBicmFjZSBlc2NhcGVzIGFuZFxuICogYmFja3NsYXNoIGVzY2FwZXMgYXJlIHJlbW92ZWQuXG4gKlxuICogU2xhc2hlcyAoYW5kIGJhY2tzbGFzaGVzIGluIGB3aW5kb3dzUGF0aHNOb0VzY2FwZWAgbW9kZSkgY2Fubm90IGJlIGVzY2FwZWRcbiAqIG9yIHVuZXNjYXBlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuZXNjYXBlID0gKHMsIHsgd2luZG93c1BhdGhzTm9Fc2NhcGUgPSBmYWxzZSwgfSA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9cXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJylcbiAgICAgICAgOiBzLnJlcGxhY2UoLygoPyFcXFxcKS58XilcXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJDInKS5yZXBsYWNlKC9cXFxcKFteXFwvXSkvZywgJyQxJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5lc2NhcGUuanMubWFwIiwiLy8gcGFyc2UgYSBzaW5nbGUgcGF0aCBwb3J0aW9uXG5pbXBvcnQgeyBwYXJzZUNsYXNzIH0gZnJvbSAnLi9icmFjZS1leHByZXNzaW9ucy5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuY29uc3QgdHlwZXMgPSBuZXcgU2V0KFsnIScsICc/JywgJysnLCAnKicsICdAJ10pO1xuY29uc3QgaXNFeHRnbG9iVHlwZSA9IChjKSA9PiB0eXBlcy5oYXMoYyk7XG4vLyBQYXR0ZXJucyB0aGF0IGdldCBwcmVwZW5kZWQgdG8gYmluZCB0byB0aGUgc3RhcnQgb2YgZWl0aGVyIHRoZVxuLy8gZW50aXJlIHN0cmluZywgb3IganVzdCBhIHNpbmdsZSBwYXRoIHBvcnRpb24sIHRvIHByZXZlbnQgZG90c1xuLy8gYW5kL29yIHRyYXZlcnNhbCBwYXR0ZXJucywgd2hlbiBuZWVkZWQuXG4vLyBFeHRzIGRvbid0IG5lZWQgdGhlIF4gb3IgLyBiaXQsIGJlY2F1c2UgdGhlIHJvb3QgYmluZHMgdGhhdCBhbHJlYWR5LlxuY29uc3Qgc3RhcnROb1RyYXZlcnNhbCA9ICcoPyEoPzpefC8pXFxcXC5cXFxcLj8oPzokfC8pKSc7XG5jb25zdCBzdGFydE5vRG90ID0gJyg/IVxcXFwuKSc7XG4vLyBjaGFyYWN0ZXJzIHRoYXQgaW5kaWNhdGUgYSBzdGFydCBvZiBwYXR0ZXJuIG5lZWRzIHRoZSBcIm5vIGRvdHNcIiBiaXQsXG4vLyBiZWNhdXNlIGEgZG90ICptaWdodCogYmUgbWF0Y2hlZC4gKCBpcyBub3QgaW4gdGhlIGxpc3QsIGJlY2F1c2UgaW5cbi8vIHRoZSBjYXNlIG9mIGEgY2hpbGQgZXh0Z2xvYiwgaXQgd2lsbCBoYW5kbGUgdGhlIHByZXZlbnRpb24gaXRzZWxmLlxuY29uc3QgYWRkUGF0dGVyblN0YXJ0ID0gbmV3IFNldChbJ1snLCAnLiddKTtcbi8vIGNhc2VzIHdoZXJlIHRyYXZlcnNhbCBpcyBBLU9LLCBubyBkb3QgcHJldmVudGlvbiBuZWVkZWRcbmNvbnN0IGp1c3REb3RzID0gbmV3IFNldChbJy4uJywgJy4nXSk7XG5jb25zdCByZVNwZWNpYWxzID0gbmV3IFNldCgnKCkuKnt9Kz9bXV4kXFxcXCEnKTtcbmNvbnN0IHJlZ0V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuY29uc3QgcW1hcmsgPSAnW14vXSc7XG4vLyAqID0+IGFueSBudW1iZXIgb2YgY2hhcmFjdGVyc1xuY29uc3Qgc3RhciA9IHFtYXJrICsgJyo/Jztcbi8vIHVzZSArIHdoZW4gd2UgbmVlZCB0byBlbnN1cmUgdGhhdCAqc29tZXRoaW5nKiBtYXRjaGVzLCBiZWNhdXNlIHRoZSAqIGlzXG4vLyB0aGUgb25seSB0aGluZyBpbiB0aGUgcGF0aCBwb3J0aW9uLlxuY29uc3Qgc3Rhck5vRW1wdHkgPSBxbWFyayArICcrPyc7XG4vLyByZW1vdmUgdGhlIFxcIGNoYXJzIHRoYXQgd2UgYWRkZWQgaWYgd2UgZW5kIHVwIGRvaW5nIGEgbm9ubWFnaWMgY29tcGFyZVxuLy8gY29uc3QgZGVzbGFzaCA9IChzOiBzdHJpbmcpID0+IHMucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKVxuZXhwb3J0IGNsYXNzIEFTVCB7XG4gICAgdHlwZTtcbiAgICAjcm9vdDtcbiAgICAjaGFzTWFnaWM7XG4gICAgI3VmbGFnID0gZmFsc2U7XG4gICAgI3BhcnRzID0gW107XG4gICAgI3BhcmVudDtcbiAgICAjcGFyZW50SW5kZXg7XG4gICAgI25lZ3M7XG4gICAgI2ZpbGxlZE5lZ3MgPSBmYWxzZTtcbiAgICAjb3B0aW9ucztcbiAgICAjdG9TdHJpbmc7XG4gICAgLy8gc2V0IHRvIHRydWUgaWYgaXQncyBhbiBleHRnbG9iIHdpdGggbm8gY2hpbGRyZW5cbiAgICAvLyAod2hpY2ggcmVhbGx5IG1lYW5zIG9uZSBjaGlsZCBvZiAnJylcbiAgICAjZW1wdHlFeHQgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvLyBleHRnbG9icyBhcmUgaW5oZXJlbnRseSBtYWdpY2FsXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICB0aGlzLiNwYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuI3Jvb3QgPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3Jvb3QgOiB0aGlzO1xuICAgICAgICB0aGlzLiNvcHRpb25zID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IG9wdGlvbnMgOiB0aGlzLiNyb290LiNvcHRpb25zO1xuICAgICAgICB0aGlzLiNuZWdzID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IFtdIDogdGhpcy4jcm9vdC4jbmVncztcbiAgICAgICAgaWYgKHR5cGUgPT09ICchJyAmJiAhdGhpcy4jcm9vdC4jZmlsbGVkTmVncylcbiAgICAgICAgICAgIHRoaXMuI25lZ3MucHVzaCh0aGlzKTtcbiAgICAgICAgdGhpcy4jcGFyZW50SW5kZXggPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3BhcnRzLmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIGdldCBoYXNNYWdpYygpIHtcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzLiNoYXNNYWdpYyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhc01hZ2ljO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocC50eXBlIHx8IHAuaGFzTWFnaWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLiNoYXNNYWdpYyA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGU6IHdpbGwgYmUgdW5kZWZpbmVkIHVudGlsIHdlIGdlbmVyYXRlIHRoZSByZWdleHAgc3JjIGFuZCBmaW5kIG91dFxuICAgICAgICByZXR1cm4gdGhpcy4jaGFzTWFnaWM7XG4gICAgfVxuICAgIC8vIHJlY29uc3RydWN0cyB0aGUgcGF0dGVyblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy4jdG9TdHJpbmcgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiN0b1N0cmluZztcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPSB0aGlzLiNwYXJ0cy5tYXAocCA9PiBTdHJpbmcocCkpLmpvaW4oJycpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPVxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSArICcoJyArIHRoaXMuI3BhcnRzLm1hcChwID0+IFN0cmluZyhwKSkuam9pbignfCcpICsgJyknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZmlsbE5lZ3MoKSB7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBpZiAodGhpcyAhPT0gdGhpcy4jcm9vdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2hvdWxkIG9ubHkgY2FsbCBvbiByb290Jyk7XG4gICAgICAgIGlmICh0aGlzLiNmaWxsZWROZWdzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIC8vIGNhbGwgdG9TdHJpbmcoKSBvbmNlIHRvIGZpbGwgdGhpcyBvdXRcbiAgICAgICAgdGhpcy50b1N0cmluZygpO1xuICAgICAgICB0aGlzLiNmaWxsZWROZWdzID0gdHJ1ZTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHdoaWxlICgobiA9IHRoaXMuI25lZ3MucG9wKCkpKSB7XG4gICAgICAgICAgICBpZiAobi50eXBlICE9PSAnIScpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyB3YWxrIHVwIHRoZSB0cmVlLCBhcHBlbmRpbmcgZXZlcnRoaW5nIHRoYXQgY29tZXMgQUZURVIgcGFyZW50SW5kZXhcbiAgICAgICAgICAgIGxldCBwID0gbjtcbiAgICAgICAgICAgIGxldCBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChwcCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwLiNwYXJlbnRJbmRleCArIDE7ICFwcC50eXBlICYmIGkgPCBwcC4jcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG4uI3BhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZyBwYXJ0IGluIGV4dGdsb2IgQVNUPz8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNvcHlJbihwcC4jcGFydHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAgPSBwcDtcbiAgICAgICAgICAgICAgICBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcHVzaCguLi5wYXJ0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwID09PSAnJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJyAmJiAhKHAgaW5zdGFuY2VvZiBBU1QgJiYgcC4jcGFyZW50ID09PSB0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwYXJ0OiAnICsgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgdGhpcy4jcGFydHMucHVzaChwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHRoaXMudHlwZSA9PT0gbnVsbFxuICAgICAgICAgICAgPyB0aGlzLiNwYXJ0cy5zbGljZSgpLm1hcChwID0+ICh0eXBlb2YgcCA9PT0gJ3N0cmluZycgPyBwIDogcC50b0pTT04oKSkpXG4gICAgICAgICAgICA6IFt0aGlzLnR5cGUsIC4uLnRoaXMuI3BhcnRzLm1hcChwID0+IHAudG9KU09OKCkpXTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpICYmICF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXQudW5zaGlmdChbXSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW5kKCkgJiZcbiAgICAgICAgICAgICh0aGlzID09PSB0aGlzLiNyb290IHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuI3Jvb3QuI2ZpbGxlZE5lZ3MgJiYgdGhpcy4jcGFyZW50Py50eXBlID09PSAnIScpKSkge1xuICAgICAgICAgICAgcmV0LnB1c2goe30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGlzU3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGlmICh0aGlzLnR5cGUpIHJldHVybiAhIXRoaXMuI3BhcmVudD8uaXNTdGFydCgpXG4gICAgICAgIGlmICghdGhpcy4jcGFyZW50Py5pc1N0YXJ0KCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnRJbmRleCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBpZiBldmVyeXRoaW5nIEFIRUFEIG9mIHRoaXMgaXMgYSBuZWdhdGlvbiwgdGhlbiBpdCdzIHN0aWxsIHRoZSBcInN0YXJ0XCJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuI3BhcmVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNwYXJlbnRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcCA9IHAuI3BhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKCEocHAgaW5zdGFuY2VvZiBBU1QgJiYgcHAudHlwZSA9PT0gJyEnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaXNFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnQ/LnR5cGUgPT09ICchJylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuI3BhcmVudD8uaXNFbmQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50Py5pc0VuZCgpO1xuICAgICAgICAvLyBpZiBub3Qgcm9vdCwgaXQnbGwgYWx3YXlzIGhhdmUgYSBwYXJlbnRcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGNvbnN0IHBsID0gdGhpcy4jcGFyZW50ID8gdGhpcy4jcGFyZW50LiNwYXJ0cy5sZW5ndGggOiAwO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50SW5kZXggPT09IHBsIC0gMTtcbiAgICB9XG4gICAgY29weUluKHBhcnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRoaXMucHVzaChwYXJ0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wdXNoKHBhcnQuY2xvbmUodGhpcykpO1xuICAgIH1cbiAgICBjbG9uZShwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IG5ldyBBU1QodGhpcy50eXBlLCBwYXJlbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGMuY29weUluKHApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlQVNUKHN0ciwgYXN0LCBwb3MsIG9wdCkge1xuICAgICAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJyYWNlU3RhcnQgPSAtMTtcbiAgICAgICAgbGV0IGJyYWNlTmVnID0gZmFsc2U7XG4gICAgICAgIGlmIChhc3QudHlwZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gb3V0c2lkZSBvZiBhIGV4dGdsb2IsIGFwcGVuZCB1bnRpbCB3ZSBmaW5kIGEgc3RhcnRcbiAgICAgICAgICAgIGxldCBpID0gcG9zO1xuICAgICAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSsrKTtcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyB0aGF0IGFyZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nIHx8IGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5CcmFjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYnJhY2VTdGFydCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICddJyAmJiAhKGkgPT09IGJyYWNlU3RhcnQgKyAyICYmIGJyYWNlTmVnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5CcmFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW9wdC5ub2V4dCAmJiBpc0V4dGdsb2JUeXBlKGMpICYmIHN0ci5jaGFyQXQoaSkgPT09ICcoJykge1xuICAgICAgICAgICAgICAgICAgICBhc3QucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBhc3QpO1xuICAgICAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICAgICAgYXN0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN0LnB1c2goYWNjKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNvbWUga2luZCBvZiBleHRnbG9iLCBwb3MgaXMgYXQgdGhlIChcbiAgICAgICAgLy8gZmluZCB0aGUgbmV4dCB8IG9yIClcbiAgICAgICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgICAgICBsZXQgcGFydCA9IG5ldyBBU1QobnVsbCwgYXN0KTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkrKyk7XG4gICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgLy8gc3RhcnRzIHRoYXQgYXJlIGVzY2FwZWRcbiAgICAgICAgICAgIGlmIChlc2NhcGluZyB8fCBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbkJyYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGJyYWNlU3RhcnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmFjZU5lZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ10nICYmICEoaSA9PT0gYnJhY2VTdGFydCArIDIgJiYgYnJhY2VOZWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICBpbkJyYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICBicmFjZU5lZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRXh0Z2xvYlR5cGUoYykgJiYgc3RyLmNoYXJBdChpKSA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnfCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgQVNUKG51bGwsIGFzdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjYyA9PT0gJycgJiYgYXN0LiNwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXN0LiNlbXB0eUV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnQucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgIGFzdC5wdXNoKC4uLnBhcnRzLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVuZmluaXNoZWQgZXh0Z2xvYlxuICAgICAgICAvLyBpZiB3ZSBnb3QgaGVyZSwgaXQgd2FzIGEgbWFsZm9ybWVkIGV4dGdsb2IhIG5vdCBhbiBleHRnbG9iLCBidXRcbiAgICAgICAgLy8gbWF5YmUgc29tZXRoaW5nIGVsc2UgaW4gdGhlcmUuXG4gICAgICAgIGFzdC50eXBlID0gbnVsbDtcbiAgICAgICAgYXN0LiNoYXNNYWdpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgYXN0LiNwYXJ0cyA9IFtzdHIuc3Vic3RyaW5nKHBvcyAtIDEpXTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgYXN0ID0gbmV3IEFTVChudWxsLCB1bmRlZmluZWQsIG9wdGlvbnMpO1xuICAgICAgICBBU1QuI3BhcnNlQVNUKHBhdHRlcm4sIGFzdCwgMCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfVxuICAgIC8vIHJldHVybnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB0aGVyZSdzIG1hZ2ljLCBvciB0aGUgdW5lc2NhcGVkXG4gICAgLy8gc3RyaW5nIGlmIG5vdC5cbiAgICB0b01NUGF0dGVybigpIHtcbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIHJvb3RcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzICE9PSB0aGlzLiNyb290KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3Jvb3QudG9NTVBhdHRlcm4oKTtcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgY29uc3QgZ2xvYiA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgW3JlLCBib2R5LCBoYXNNYWdpYywgdWZsYWddID0gdGhpcy50b1JlZ0V4cFNvdXJjZSgpO1xuICAgICAgICAvLyBpZiB3ZSdyZSBpbiBub2Nhc2UgbW9kZSwgYW5kIG5vdCBub2Nhc2VNYWdpY09ubHksIHRoZW4gd2UgZG9cbiAgICAgICAgLy8gc3RpbGwgbmVlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB3ZSBoYXZlIHRvIGNhc2UtaW5zZW5zaXRpdmVseVxuICAgICAgICAvLyBtYXRjaCBjYXBpdGFsL2xvd2VyY2FzZSBjaGFyYWN0ZXJzLlxuICAgICAgICBjb25zdCBhbnlNYWdpYyA9IGhhc01hZ2ljIHx8XG4gICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyB8fFxuICAgICAgICAgICAgKHRoaXMuI29wdGlvbnMubm9jYXNlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuI29wdGlvbnMubm9jYXNlTWFnaWNPbmx5ICYmXG4gICAgICAgICAgICAgICAgZ2xvYi50b1VwcGVyQ2FzZSgpICE9PSBnbG9iLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoIWFueU1hZ2ljKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmbGFncyA9ICh0aGlzLiNvcHRpb25zLm5vY2FzZSA/ICdpJyA6ICcnKSArICh1ZmxhZyA/ICd1JyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFJlZ0V4cChgXiR7cmV9JGAsIGZsYWdzKSwge1xuICAgICAgICAgICAgX3NyYzogcmUsXG4gICAgICAgICAgICBfZ2xvYjogZ2xvYixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jb3B0aW9ucztcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgc3RyaW5nIG1hdGNoLCB0aGUgcmVnZXhwIHNvdXJjZSwgd2hldGhlciB0aGVyZSdzIG1hZ2ljXG4gICAgLy8gaW4gdGhlIHJlZ2V4cCAoc28gYSByZWd1bGFyIGV4cHJlc3Npb24gaXMgcmVxdWlyZWQpIGFuZCB3aGV0aGVyIG9yXG4gICAgLy8gbm90IHRoZSB1ZmxhZyBpcyBuZWVkZWQgZm9yIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gKGZvciBwb3NpeCBjbGFzc2VzKVxuICAgIC8vIFRPRE86IGluc3RlYWQgb2YgaW5qZWN0aW5nIHRoZSBzdGFydC9lbmQgYXQgdGhpcyBwb2ludCwganVzdCByZXR1cm5cbiAgICAvLyB0aGUgQk9EWSBvZiB0aGUgcmVnZXhwLCBhbG9uZyB3aXRoIHRoZSBzdGFydC9lbmQgcG9ydGlvbnMgc3VpdGFibGVcbiAgICAvLyBmb3IgYmluZGluZyB0aGUgc3RhcnQvZW5kIGluIGVpdGhlciBhIGpvaW5lZCBmdWxsLXBhdGggbWFrZVJlIGNvbnRleHRcbiAgICAvLyAod2hlcmUgd2UgYmluZCB0byAoXnwvKSwgb3IgYSBzdGFuZGFsb25lIG1hdGNoUGFydCBjb250ZXh0ICh3aGVyZVxuICAgIC8vIHdlIGJpbmQgdG8gXiwgYW5kIG5vdCAvKS4gIE90aGVyd2lzZSBzbGFzaGVzIGdldCBkdXBlZCFcbiAgICAvL1xuICAgIC8vIEluIHBhcnQtbWF0Y2hpbmcgbW9kZSwgdGhlIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiBeKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiBeXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogXig/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBub3QgaXNFbmQoKTogbm90aGluZ1xuICAgIC8vIC0gZWxzZTogJFxuICAgIC8vXG4gICAgLy8gSW4gZnVsbC1wYXRoIG1hdGNoaW5nIG1vZGUsIHdlIHB1dCB0aGUgc2xhc2ggYXQgdGhlIFNUQVJUIG9mIHRoZVxuICAgIC8vIHBhdHRlcm4sIHNvIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgZmlyc3QgcGF0dGVybjogc2FtZSBhcyBwYXJ0LW1hdGNoaW5nIG1vZGVcbiAgICAvLyAtIGlmIG5vdCBpc1N0YXJ0KCk6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAvKD8hXFwuXFwuPyg/OiR8LykpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAvXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogLyg/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBsYXN0IHBhdHRlcm4sIHNhbWUgYXMgcGFydC1tYXRjaGluZyBtb2RlXG4gICAgLy8gLSBlbHNlIG5vdGhpbmdcbiAgICAvL1xuICAgIC8vIEFsd2F5cyBwdXQgdGhlICg/OiR8Lykgb24gbmVnYXRlZCB0YWlscywgdGhvdWdoLCBiZWNhdXNlIHRoYXQgaGFzIHRvIGJlXG4gICAgLy8gdGhlcmUgdG8gYmluZCB0aGUgZW5kIG9mIHRoZSBuZWdhdGVkIHBhdHRlcm4gcG9ydGlvbiwgYW5kIGl0J3MgZWFzaWVyIHRvXG4gICAgLy8ganVzdCBzdGljayBpdCBpbiBub3cgcmF0aGVyIHRoYW4gdHJ5IHRvIGluamVjdCBpdCBsYXRlciBpbiB0aGUgbWlkZGxlIG9mXG4gICAgLy8gdGhlIHBhdHRlcm4uXG4gICAgLy9cbiAgICAvLyBXZSBjYW4ganVzdCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGVuZCwgYW5kIGxlYXZlIGl0IHVwIHRvIHRoZSBjYWxsZXJcbiAgICAvLyB0byBrbm93IHdoZXRoZXIgaXQncyBnb2luZyB0byBiZSB1c2VkIGpvaW5lZCBvciBpbiBwYXJ0cy5cbiAgICAvLyBBbmQsIGlmIHRoZSBzdGFydCBpcyBhZGp1c3RlZCBzbGlnaHRseSwgY2FuIGRvIHRoZSBzYW1lIHRoZXJlOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAoPzovfF4pKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAoPzovfF4pXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogKD86L3xeKSg/IVxcLilcbiAgICAvL1xuICAgIC8vIEJ1dCBpdCdzIGJldHRlciB0byBoYXZlIGEgc2ltcGxlciBiaW5kaW5nIHdpdGhvdXQgYSBjb25kaXRpb25hbCwgZm9yXG4gICAgLy8gcGVyZm9ybWFuY2UsIHNvIHByb2JhYmx5IGJldHRlciB0byByZXR1cm4gYm90aCBzdGFydCBvcHRpb25zLlxuICAgIC8vXG4gICAgLy8gVGhlbiB0aGUgY2FsbGVyIGp1c3QgaWdub3JlcyB0aGUgZW5kIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBwYXR0ZXJuLFxuICAgIC8vIGFuZCB0aGUgc3RhcnQgYWx3YXlzIGdldHMgYXBwbGllZC5cbiAgICAvL1xuICAgIC8vIEJ1dCB0aGF0J3MgYWx3YXlzIGdvaW5nIHRvIGJlICQgaWYgaXQncyB0aGUgZW5kaW5nIHBhdHRlcm4sIG9yIG5vdGhpbmcsXG4gICAgLy8gc28gdGhlIGNhbGxlciBjYW4ganVzdCBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gYnVpbGRpbmcuXG4gICAgLy9cbiAgICAvLyBTbyB0aGUgdG9kbyBpczpcbiAgICAvLyAtIGJldHRlciBkZXRlY3Qgd2hhdCBraW5kIG9mIHN0YXJ0IGlzIG5lZWRlZFxuICAgIC8vIC0gcmV0dXJuIGJvdGggZmxhdm9ycyBvZiBzdGFydGluZyBwYXR0ZXJuXG4gICAgLy8gLSBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gY3JlYXRpbmcgdGhlIGFjdHVhbCBSZWdFeHBcbiAgICAvL1xuICAgIC8vIEFoLCBidXQgd2FpdCwgbm8sIHRoYXQgYWxsIG9ubHkgYXBwbGllcyB0byB0aGUgcm9vdCB3aGVuIHRoZSBmaXJzdCBwYXR0ZXJuXG4gICAgLy8gaXMgbm90IGFuIGV4dGdsb2IuIElmIHRoZSBmaXJzdCBwYXR0ZXJuIElTIGFuIGV4dGdsb2IsIHRoZW4gd2UgbmVlZCBhbGxcbiAgICAvLyB0aGF0IGRvdCBwcmV2ZW50aW9uIGJpeiB0byBsaXZlIGluIHRoZSBleHRnbG9iIHBvcnRpb25zLCBiZWNhdXNlIGVnXG4gICAgLy8gKygqfC54KikgY2FuIG1hdGNoIC54eSBidXQgbm90IC55eC5cbiAgICAvL1xuICAgIC8vIFNvLCByZXR1cm4gdGhlIHR3byBmbGF2b3JzIGlmIGl0J3MgI3Jvb3QgYW5kIHRoZSBmaXJzdCBjaGlsZCBpcyBub3QgYW5cbiAgICAvLyBBU1QsIG90aGVyd2lzZSBsZWF2ZSBpdCB0byB0aGUgY2hpbGQgQVNUIHRvIGhhbmRsZSBpdCwgYW5kIHRoZXJlLFxuICAgIC8vIHVzZSB0aGUgKD86XnwvKSBzdHlsZSBvZiBzdGFydCBiaW5kaW5nLlxuICAgIC8vXG4gICAgLy8gRXZlbiBzaW1wbGlmaWVkIGZ1cnRoZXI6XG4gICAgLy8gLSBTaW5jZSB0aGUgc3RhcnQgZm9yIGEgam9pbiBpcyBlZyAvKD8hXFwuKSBhbmQgdGhlIHN0YXJ0IGZvciBhIHBhcnRcbiAgICAvLyBpcyBeKD8hXFwuKSwgd2UgY2FuIGp1c3QgcHJlcGVuZCAoPyFcXC4pIHRvIHRoZSBwYXR0ZXJuIChlaXRoZXIgcm9vdFxuICAgIC8vIG9yIHN0YXJ0IG9yIHdoYXRldmVyKSBhbmQgcHJlcGVuZCBeIG9yIC8gYXQgdGhlIFJlZ2V4cCBjb25zdHJ1Y3Rpb24uXG4gICAgdG9SZWdFeHBTb3VyY2UoYWxsb3dEb3QpIHtcbiAgICAgICAgY29uc3QgZG90ID0gYWxsb3dEb3QgPz8gISF0aGlzLiNvcHRpb25zLmRvdDtcbiAgICAgICAgaWYgKHRoaXMuI3Jvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiNmaWxsTmVncygpO1xuICAgICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9FbXB0eSA9IHRoaXMuaXNTdGFydCgpICYmIHRoaXMuaXNFbmQoKTtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuI3BhcnRzXG4gICAgICAgICAgICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbcmUsIF8sIGhhc01hZ2ljLCB1ZmxhZ10gPSB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBBU1QuI3BhcnNlR2xvYihwLCB0aGlzLiNoYXNNYWdpYywgbm9FbXB0eSlcbiAgICAgICAgICAgICAgICAgICAgOiBwLnRvUmVnRXhwU291cmNlKGFsbG93RG90KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyA9IHRoaXMuI2hhc01hZ2ljIHx8IGhhc01hZ2ljO1xuICAgICAgICAgICAgICAgIHRoaXMuI3VmbGFnID0gdGhpcy4jdWZsYWcgfHwgdWZsYWc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy4jcGFydHNbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHN0cmluZyB0aGF0IHdpbGwgbWF0Y2ggdGhlIHN0YXJ0IG9mIHRoZSBwYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHByb3RlY3QgYWdhaW5zdCBkb3RzIGFuZCBzdWNoLlxuICAgICAgICAgICAgICAgICAgICAvLyAnLicgYW5kICcuLicgY2Fubm90IG1hdGNoIHVubGVzcyB0aGUgcGF0dGVybiBpcyB0aGF0IGV4YWN0bHksXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgaXQgc3RhcnRzIHdpdGggLiBvciBkb3Q6dHJ1ZSBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdFRyYXZBbGxvd2VkID0gdGhpcy4jcGFydHMubGVuZ3RoID09PSAxICYmIGp1c3REb3RzLmhhcyh0aGlzLiNwYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG90VHJhdkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcyA9IGFkZFBhdHRlcm5TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBwb3NzaWJpbGl0eSBvZiBtYXRjaGluZyAuIG9yIC4uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHByZXZlbnQgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb1RyYXYgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvdHMgYXJlIGFsbG93ZWQsIGFuZCB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBbIG9yIC5cbiAgICAgICAgICAgICAgICAgICAgICAgIChkb3QgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDApKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBcXC4sIGFuZCB0aGVuIFsgb3IgLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcmMuc3RhcnRzV2l0aCgnXFxcXC4nKSAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoMikpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIFxcLlxcLiwgYW5kIHRoZW4gWyBvciAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNyYy5zdGFydHNXaXRoKCdcXFxcLlxcXFwuJykgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDQpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIHByZXZlbnQgZG90cyBpZiBpdCBjYW4ndCBtYXRjaCBhIGRvdCwgb3IgaWYgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ViLXBhdHRlcm4gd2lsbCBiZSBwcmV2ZW50aW5nIGl0IGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb0RvdCA9ICFkb3QgJiYgIWFsbG93RG90ICYmIGFwcy5oYXMoc3JjLmNoYXJBdCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG5lZWROb1RyYXYgPyBzdGFydE5vVHJhdmVyc2FsIDogbmVlZE5vRG90ID8gc3RhcnROb0RvdCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBcImVuZCBvZiBwYXRoIHBvcnRpb25cIiBwYXR0ZXJuIHRvIG5lZ2F0aW9uIHRhaWxzXG4gICAgICAgICAgICBsZXQgZW5kID0gJyc7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuZCgpICYmXG4gICAgICAgICAgICAgICAgdGhpcy4jcm9vdC4jZmlsbGVkTmVncyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuI3BhcmVudD8udHlwZSA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gJyg/OiR8XFxcXC8pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsID0gc3RhcnQgKyBzcmMgKyBlbmQ7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGZpbmFsLFxuICAgICAgICAgICAgICAgIHVuZXNjYXBlKHNyYyksXG4gICAgICAgICAgICAgICAgKHRoaXMuI2hhc01hZ2ljID0gISF0aGlzLiNoYXNNYWdpYyksXG4gICAgICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBib2R5ICp0d2ljZSogaWYgaXQncyBhIHJlcGVhdCBwYXR0ZXJuXG4gICAgICAgIC8vIGF0IHRoZSBzdGFydCwgb25jZSBpbiBub2RvdCBtb2RlLCB0aGVuIGFnYWluIGluIGRvdCBtb2RlLCBzbyBhXG4gICAgICAgIC8vIHBhdHRlcm4gbGlrZSAqKD8pIGNhbiBtYXRjaCAneC55J1xuICAgICAgICBjb25zdCByZXBlYXRlZCA9IHRoaXMudHlwZSA9PT0gJyonIHx8IHRoaXMudHlwZSA9PT0gJysnO1xuICAgICAgICAvLyBzb21lIGtpbmQgb2YgZXh0Z2xvYlxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMudHlwZSA9PT0gJyEnID8gJyg/Oig/ISg/OicgOiAnKD86JztcbiAgICAgICAgbGV0IGJvZHkgPSB0aGlzLiNwYXJ0c1RvUmVnRXhwKGRvdCk7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSAmJiB0aGlzLmlzRW5kKCkgJiYgIWJvZHkgJiYgdGhpcy50eXBlICE9PSAnIScpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgZXh0Z2xvYiwgaGFzIHRvIGF0IGxlYXN0IGJlICpzb21ldGhpbmcqIHByZXNlbnQsIGlmIGl0J3NcbiAgICAgICAgICAgIC8vIHRoZSBlbnRpcmUgcGF0aCBwb3J0aW9uLlxuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuI3BhcnRzID0gW3NdO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIFtzLCB1bmVzY2FwZSh0aGlzLnRvU3RyaW5nKCkpLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFhYWCBhYnN0cmFjdCBvdXQgdGhpcyBtYXAgbWV0aG9kXG4gICAgICAgIGxldCBib2R5RG90QWxsb3dlZCA9ICFyZXBlYXRlZCB8fCBhbGxvd0RvdCB8fCBkb3QgfHwgIXN0YXJ0Tm9Eb3RcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogdGhpcy4jcGFydHNUb1JlZ0V4cCh0cnVlKTtcbiAgICAgICAgaWYgKGJvZHlEb3RBbGxvd2VkID09PSBib2R5KSB7XG4gICAgICAgICAgICBib2R5RG90QWxsb3dlZCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5RG90QWxsb3dlZCkge1xuICAgICAgICAgICAgYm9keSA9IGAoPzoke2JvZHl9KSg/OiR7Ym9keURvdEFsbG93ZWR9KSo/YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiBlbXB0eSAhKCkgaXMgZXhhY3RseSBlcXVpdmFsZW50IHRvIGEgc3Rhck5vRW1wdHlcbiAgICAgICAgbGV0IGZpbmFsID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICchJyAmJiB0aGlzLiNlbXB0eUV4dCkge1xuICAgICAgICAgICAgZmluYWwgPSAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCA/IHN0YXJ0Tm9Eb3QgOiAnJykgKyBzdGFyTm9FbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlID0gdGhpcy50eXBlID09PSAnISdcbiAgICAgICAgICAgICAgICA/IC8vICEoKSBtdXN0IG1hdGNoIHNvbWV0aGluZyxidXQgISh4KSBjYW4gbWF0Y2ggJydcbiAgICAgICAgICAgICAgICAgICAgJykpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCAmJiAhYWxsb3dEb3QgPyBzdGFydE5vRG90IDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICdAJ1xuICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcpPydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKycgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKicgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgKT9gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCkke3RoaXMudHlwZX1gO1xuICAgICAgICAgICAgZmluYWwgPSBzdGFydCArIGJvZHkgKyBjbG9zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZmluYWwsXG4gICAgICAgICAgICB1bmVzY2FwZShib2R5KSxcbiAgICAgICAgICAgICh0aGlzLiNoYXNNYWdpYyA9ICEhdGhpcy4jaGFzTWFnaWMpLFxuICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgIF07XG4gICAgfVxuICAgICNwYXJ0c1RvUmVnRXhwKGRvdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFydHNcbiAgICAgICAgICAgIC5tYXAocCA9PiB7XG4gICAgICAgICAgICAvLyBleHRnbG9iIEFTVHMgc2hvdWxkIG9ubHkgY29udGFpbiBwYXJlbnQgQVNUc1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgdHlwZSBpbiBleHRnbG9iIGFzdD8/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgLy8gY2FuIGlnbm9yZSBoYXNNYWdpYywgYmVjYXVzZSBleHRnbG9icyBhcmUgYWxyZWFkeSBhbHdheXMgbWFnaWNcbiAgICAgICAgICAgIGNvbnN0IFtyZSwgXywgX2hhc01hZ2ljLCB1ZmxhZ10gPSBwLnRvUmVnRXhwU291cmNlKGRvdCk7XG4gICAgICAgICAgICB0aGlzLiN1ZmxhZyA9IHRoaXMuI3VmbGFnIHx8IHVmbGFnO1xuICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihwID0+ICEodGhpcy5pc1N0YXJ0KCkgJiYgdGhpcy5pc0VuZCgpKSB8fCAhIXApXG4gICAgICAgICAgICAuam9pbignfCcpO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlR2xvYihnbG9iLCBoYXNNYWdpYywgbm9FbXB0eSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgcmUgPSAnJztcbiAgICAgICAgbGV0IHVmbGFnID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZSArPSAocmVTcGVjaWFscy5oYXMoYykgPyAnXFxcXCcgOiAnJykgKyBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBnbG9iLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gJ1xcXFxcXFxcJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3NyYywgbmVlZFVmbGFnLCBjb25zdW1lZCwgbWFnaWNdID0gcGFyc2VDbGFzcyhnbG9iLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3JjO1xuICAgICAgICAgICAgICAgICAgICB1ZmxhZyA9IHVmbGFnIHx8IG5lZWRVZmxhZztcbiAgICAgICAgICAgICAgICAgICAgaSArPSBjb25zdW1lZCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgbWFnaWM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9FbXB0eSAmJiBnbG9iID09PSAnKicpXG4gICAgICAgICAgICAgICAgICAgIHJlICs9IHN0YXJOb0VtcHR5O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3RhcjtcbiAgICAgICAgICAgICAgICBoYXNNYWdpYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgICAgcmUgKz0gcW1hcms7XG4gICAgICAgICAgICAgICAgaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmUgKz0gcmVnRXhwRXNjYXBlKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmUsIHVuZXNjYXBlKGdsb2IpLCAhIWhhc01hZ2ljLCB1ZmxhZ107XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0LmpzLm1hcCIsIi8qKlxuICogRXNjYXBlIGFsbCBtYWdpYyBjaGFyYWN0ZXJzIGluIGEgZ2xvYiBwYXR0ZXJuLlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGUgfCBHbG9iT3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZX1cbiAqIG9wdGlvbiBpcyB1c2VkLCB0aGVuIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQgYnkgd3JhcHBpbmcgaW4gYFtdYCwgYmVjYXVzZVxuICogYSBtYWdpYyBjaGFyYWN0ZXIgd3JhcHBlZCBpbiBhIGNoYXJhY3RlciBjbGFzcyBjYW4gb25seSBiZSBzYXRpc2ZpZWQgYnlcbiAqIHRoYXQgZXhhY3QgY2hhcmFjdGVyLiAgSW4gdGhpcyBtb2RlLCBgXFxgIGlzIF9ub3RfIGVzY2FwZWQsIGJlY2F1c2UgaXQgaXNcbiAqIG5vdCBpbnRlcnByZXRlZCBhcyBhIG1hZ2ljIGNoYXJhY3RlciwgYnV0IGluc3RlYWQgYXMgYSBwYXRoIHNlcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGVzY2FwZSA9IChzLCB7IHdpbmRvd3NQYXRoc05vRXNjYXBlID0gZmFsc2UsIH0gPSB7fSkgPT4ge1xuICAgIC8vIGRvbid0IG5lZWQgdG8gZXNjYXBlICtAISBiZWNhdXNlIHdlIGVzY2FwZSB0aGUgcGFyZW5zXG4gICAgLy8gdGhhdCBtYWtlIHRob3NlIG1hZ2ljLCBhbmQgZXNjYXBpbmcgISBhcyBbIV0gaXNuJ3QgdmFsaWQsXG4gICAgLy8gYmVjYXVzZSBbIV1dIGlzIGEgdmFsaWQgZ2xvYiBjbGFzcyBtZWFuaW5nIG5vdCAnXScuXG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9bPyooKVtcXF1dL2csICdbJCZdJylcbiAgICAgICAgOiBzLnJlcGxhY2UoL1s/KigpW1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lc2NhcGUuanMubWFwIiwiaW1wb3J0IGV4cGFuZCBmcm9tICdicmFjZS1leHBhbnNpb24nO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRQYXR0ZXJuIH0gZnJvbSAnLi9hc3NlcnQtdmFsaWQtcGF0dGVybi5qcyc7XG5pbXBvcnQgeyBBU1QgfSBmcm9tICcuL2FzdC5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuL2VzY2FwZS5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuZXhwb3J0IGNvbnN0IG1pbmltYXRjaCA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gc2hvcnRjdXQ6IGNvbW1lbnRzIG1hdGNoIG5vdGhpbmcuXG4gICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWF0Y2gocCk7XG59O1xuLy8gT3B0aW1pemVkIGNoZWNraW5nIGZvciB0aGUgbW9zdCBjb21tb24gZ2xvYiBwYXR0ZXJucy5cbmNvbnN0IHN0YXJEb3RFeHRSRSA9IC9eXFwqKyhbXitAIT9cXCpcXFtcXChdKikkLztcbmNvbnN0IHN0YXJEb3RFeHRUZXN0ID0gKGV4dCkgPT4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdERvdCA9IChleHQpID0+IChmKSA9PiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZSA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZURvdCA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+IGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHN0YXJEb3RTdGFyUkUgPSAvXlxcKitcXC5cXCorJC87XG5jb25zdCBzdGFyRG90U3RhclRlc3QgPSAoZikgPT4gIWYuc3RhcnRzV2l0aCgnLicpICYmIGYuaW5jbHVkZXMoJy4nKTtcbmNvbnN0IHN0YXJEb3RTdGFyVGVzdERvdCA9IChmKSA9PiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJyAmJiBmLmluY2x1ZGVzKCcuJyk7XG5jb25zdCBkb3RTdGFyUkUgPSAvXlxcLlxcKiskLztcbmNvbnN0IGRvdFN0YXJUZXN0ID0gKGYpID0+IGYgIT09ICcuJyAmJiBmICE9PSAnLi4nICYmIGYuc3RhcnRzV2l0aCgnLicpO1xuY29uc3Qgc3RhclJFID0gL15cXCorJC87XG5jb25zdCBzdGFyVGVzdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG5jb25zdCBzdGFyVGVzdERvdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJztcbmNvbnN0IHFtYXJrc1JFID0gL15cXD8rKFteK0AhP1xcKlxcW1xcKF0qKT8kLztcbmNvbnN0IHFtYXJrc1Rlc3ROb2Nhc2UgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dChbJDBdKTtcbiAgICBpZiAoIWV4dClcbiAgICAgICAgcmV0dXJuIG5vZXh0O1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gbm9leHQoZikgJiYgZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vY2FzZURvdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0RG90KFskMF0pO1xuICAgIGlmICghZXh0KVxuICAgICAgICByZXR1cm4gbm9leHQ7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiBub2V4dChmKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0RG90ID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHREb3QoWyQwXSk7XG4gICAgcmV0dXJuICFleHQgPyBub2V4dCA6IChmKSA9PiBub2V4dChmKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0KFskMF0pO1xuICAgIHJldHVybiAhZXh0ID8gbm9leHQgOiAoZikgPT4gbm9leHQoZikgJiYgZi5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3ROb0V4dCA9IChbJDBdKSA9PiB7XG4gICAgY29uc3QgbGVuID0gJDAubGVuZ3RoO1xuICAgIHJldHVybiAoZikgPT4gZi5sZW5ndGggPT09IGxlbiAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vRXh0RG90ID0gKFskMF0pID0+IHtcbiAgICBjb25zdCBsZW4gPSAkMC5sZW5ndGg7XG4gICAgcmV0dXJuIChmKSA9PiBmLmxlbmd0aCA9PT0gbGVuICYmIGYgIT09ICcuJyAmJiBmICE9PSAnLi4nO1xufTtcbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuY29uc3QgZGVmYXVsdFBsYXRmb3JtID0gKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiBwcm9jZXNzXG4gICAgPyAodHlwZW9mIHByb2Nlc3MuZW52ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwcm9jZXNzLmVudiAmJlxuICAgICAgICBwcm9jZXNzLmVudi5fX01JTklNQVRDSF9URVNUSU5HX1BMQVRGT1JNX18pIHx8XG4gICAgICAgIHByb2Nlc3MucGxhdGZvcm1cbiAgICA6ICdwb3NpeCcpO1xuY29uc3QgcGF0aCA9IHtcbiAgICB3aW4zMjogeyBzZXA6ICdcXFxcJyB9LFxuICAgIHBvc2l4OiB7IHNlcDogJy8nIH0sXG59O1xuLyogYzggaWdub3JlIHN0b3AgKi9cbmV4cG9ydCBjb25zdCBzZXAgPSBkZWZhdWx0UGxhdGZvcm0gPT09ICd3aW4zMicgPyBwYXRoLndpbjMyLnNlcCA6IHBhdGgucG9zaXguc2VwO1xubWluaW1hdGNoLnNlcCA9IHNlcDtcbmV4cG9ydCBjb25zdCBHTE9CU1RBUiA9IFN5bWJvbCgnZ2xvYnN0YXIgKionKTtcbm1pbmltYXRjaC5HTE9CU1RBUiA9IEdMT0JTVEFSO1xuLy8gYW55IHNpbmdsZSB0aGluZyBvdGhlciB0aGFuIC9cbi8vIGRvbid0IG5lZWQgdG8gZXNjYXBlIC8gd2hlbiB1c2luZyBuZXcgUmVnRXhwKClcbmNvbnN0IHFtYXJrID0gJ1teL10nO1xuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbmNvbnN0IHN0YXIgPSBxbWFyayArICcqPyc7XG4vLyAqKiB3aGVuIGRvdHMgYXJlIGFsbG93ZWQuICBBbnl0aGluZyBnb2VzLCBleGNlcHQgLi4gYW5kIC5cbi8vIG5vdCAoXiBvciAvIGZvbGxvd2VkIGJ5IG9uZSBvciB0d28gZG90cyBmb2xsb3dlZCBieSAkIG9yIC8pLFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG5jb25zdCB0d29TdGFyRG90ID0gJyg/Oig/ISg/OlxcXFwvfF4pKD86XFxcXC57MSwyfSkoJHxcXFxcLykpLikqPyc7XG4vLyBub3QgYSBeIG9yIC8gZm9sbG93ZWQgYnkgYSBkb3QsXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbmNvbnN0IHR3b1N0YXJOb0RvdCA9ICcoPzooPyEoPzpcXFxcL3xeKVxcXFwuKS4pKj8nO1xuZXhwb3J0IGNvbnN0IGZpbHRlciA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IChwKSA9PiBtaW5pbWF0Y2gocCwgcGF0dGVybiwgb3B0aW9ucyk7XG5taW5pbWF0Y2guZmlsdGVyID0gZmlsdGVyO1xuY29uc3QgZXh0ID0gKGEsIGIgPSB7fSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYSwgYik7XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSAoZGVmKSA9PiB7XG4gICAgaWYgKCFkZWYgfHwgdHlwZW9mIGRlZiAhPT0gJ29iamVjdCcgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBtaW5pbWF0Y2g7XG4gICAgfVxuICAgIGNvbnN0IG9yaWcgPSBtaW5pbWF0Y2g7XG4gICAgY29uc3QgbSA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcocCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG0sIHtcbiAgICAgICAgTWluaW1hdGNoOiBjbGFzcyBNaW5pbWF0Y2ggZXh0ZW5kcyBvcmlnLk1pbmltYXRjaCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICBzdXBlcihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKS5NaW5pbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEFTVDogY2xhc3MgQVNUIGV4dGVuZHMgb3JpZy5BU1Qge1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgICAgIHN1cGVyKHR5cGUsIHBhcmVudCwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5BU1QuZnJvbUdsb2IocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bmVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy51bmVzY2FwZShzLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5lc2NhcGUocywgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBmaWx0ZXI6IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcuZmlsdGVyKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgZGVmYXVsdHM6IChvcHRpb25zKSA9PiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWFrZVJlOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLm1ha2VSZShwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGJyYWNlRXhwYW5kOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLmJyYWNlRXhwYW5kKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWF0Y2g6IChsaXN0LCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcubWF0Y2gobGlzdCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBzZXA6IG9yaWcuc2VwLFxuICAgICAgICBHTE9CU1RBUjogR0xPQlNUQVIsXG4gICAgfSk7XG59O1xubWluaW1hdGNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4vLyBCcmFjZSBleHBhbnNpb246XG4vLyBhe2IsY31kIC0+IGFiZCBhY2Rcbi8vIGF7Yix9YyAtPiBhYmMgYWNcbi8vIGF7MC4uM31kIC0+IGEwZCBhMWQgYTJkIGEzZFxuLy8gYXtiLGN7ZCxlfWZ9ZyAtPiBhYmcgYWNkZmcgYWNlZmdcbi8vIGF7YixjfWR7ZSxmfWcgLT4gYWJkZWcgYWNkZWcgYWJkZWcgYWJkZmdcbi8vXG4vLyBJbnZhbGlkIHNldHMgYXJlIG5vdCBleHBhbmRlZC5cbi8vIGF7Mi4ufWIgLT4gYXsyLi59YlxuLy8gYXtifWMgLT4gYXtifWNcbmV4cG9ydCBjb25zdCBicmFjZUV4cGFuZCA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gVGhhbmtzIHRvIFlldGluZyBMaSA8aHR0cHM6Ly9naXRodWIuY29tL3lldGluZ2xpPiBmb3JcbiAgICAvLyBpbXByb3ZpbmcgdGhpcyByZWdleHAgdG8gYXZvaWQgYSBSZURPUyB2dWxuZXJhYmlsaXR5LlxuICAgIGlmIChvcHRpb25zLm5vYnJhY2UgfHwgIS9cXHsoPzooPyFcXHspLikqXFx9Ly50ZXN0KHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIHNob3J0Y3V0LiBubyBuZWVkIHRvIGV4cGFuZC5cbiAgICAgICAgcmV0dXJuIFtwYXR0ZXJuXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGFuZChwYXR0ZXJuKTtcbn07XG5taW5pbWF0Y2guYnJhY2VFeHBhbmQgPSBicmFjZUV4cGFuZDtcbi8vIHBhcnNlIGEgY29tcG9uZW50IG9mIHRoZSBleHBhbmRlZCBzZXQuXG4vLyBBdCB0aGlzIHBvaW50LCBubyBwYXR0ZXJuIG1heSBjb250YWluIFwiL1wiIGluIGl0XG4vLyBzbyB3ZSdyZSBnb2luZyB0byByZXR1cm4gYSAyZCBhcnJheSwgd2hlcmUgZWFjaCBlbnRyeSBpcyB0aGUgZnVsbFxuLy8gcGF0dGVybiwgc3BsaXQgb24gJy8nLCBhbmQgdGhlbiB0dXJuZWQgaW50byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbi8vIEEgcmVnZXhwIGlzIG1hZGUgYXQgdGhlIGVuZCB3aGljaCBqb2lucyBlYWNoIGFycmF5IHdpdGggYW5cbi8vIGVzY2FwZWQgLywgYW5kIGFub3RoZXIgZnVsbCBvbmUgd2hpY2ggam9pbnMgZWFjaCByZWdleHAgd2l0aCB8LlxuLy9cbi8vIEZvbGxvd2luZyB0aGUgbGVhZCBvZiBCYXNoIDQuMSwgbm90ZSB0aGF0IFwiKipcIiBvbmx5IGhhcyBzcGVjaWFsIG1lYW5pbmdcbi8vIHdoZW4gaXQgaXMgdGhlICpvbmx5KiB0aGluZyBpbiBhIHBhdGggcG9ydGlvbi4gIE90aGVyd2lzZSwgYW55IHNlcmllc1xuLy8gb2YgKiBpcyBlcXVpdmFsZW50IHRvIGEgc2luZ2xlICouICBHbG9ic3RhciBiZWhhdmlvciBpcyBlbmFibGVkIGJ5XG4vLyBkZWZhdWx0LCBhbmQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgb3B0aW9ucy5ub2dsb2JzdGFyLlxuZXhwb3J0IGNvbnN0IG1ha2VSZSA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWFrZVJlKCk7XG5taW5pbWF0Y2gubWFrZVJlID0gbWFrZVJlO1xuZXhwb3J0IGNvbnN0IG1hdGNoID0gKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1tID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICBsaXN0ID0gbGlzdC5maWx0ZXIoZiA9PiBtbS5tYXRjaChmKSk7XG4gICAgaWYgKG1tLm9wdGlvbnMubm9udWxsICYmICFsaXN0Lmxlbmd0aCkge1xuICAgICAgICBsaXN0LnB1c2gocGF0dGVybik7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufTtcbm1pbmltYXRjaC5tYXRjaCA9IG1hdGNoO1xuLy8gcmVwbGFjZSBzdHVmZiBsaWtlIFxcKiB3aXRoICpcbmNvbnN0IGdsb2JNYWdpYyA9IC9bPypdfFsrQCFdXFwoLio/XFwpfFxcW3xcXF0vO1xuY29uc3QgcmVnRXhwRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbmV4cG9ydCBjbGFzcyBNaW5pbWF0Y2gge1xuICAgIG9wdGlvbnM7XG4gICAgc2V0O1xuICAgIHBhdHRlcm47XG4gICAgd2luZG93c1BhdGhzTm9Fc2NhcGU7XG4gICAgbm9uZWdhdGU7XG4gICAgbmVnYXRlO1xuICAgIGNvbW1lbnQ7XG4gICAgZW1wdHk7XG4gICAgcHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgcGFydGlhbDtcbiAgICBnbG9iU2V0O1xuICAgIGdsb2JQYXJ0cztcbiAgICBub2Nhc2U7XG4gICAgaXNXaW5kb3dzO1xuICAgIHBsYXRmb3JtO1xuICAgIHdpbmRvd3NOb01hZ2ljUm9vdDtcbiAgICByZWdleHA7XG4gICAgY29uc3RydWN0b3IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBvcHRpb25zLnBsYXRmb3JtIHx8IGRlZmF1bHRQbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5pc1dpbmRvd3MgPSB0aGlzLnBsYXRmb3JtID09PSAnd2luMzInO1xuICAgICAgICB0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlID1cbiAgICAgICAgICAgICEhb3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZSB8fCBvcHRpb25zLmFsbG93V2luZG93c0VzY2FwZSA9PT0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSB0aGlzLnBhdHRlcm4ucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMgPSAhIW9wdGlvbnMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgICAgIHRoaXMucmVnZXhwID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub25lZ2F0ZSA9ICEhb3B0aW9ucy5ub25lZ2F0ZTtcbiAgICAgICAgdGhpcy5jb21tZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJ0aWFsID0gISFvcHRpb25zLnBhcnRpYWw7XG4gICAgICAgIHRoaXMubm9jYXNlID0gISF0aGlzLm9wdGlvbnMubm9jYXNlO1xuICAgICAgICB0aGlzLndpbmRvd3NOb01hZ2ljUm9vdCA9XG4gICAgICAgICAgICBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdFxuICAgICAgICAgICAgICAgIDogISEodGhpcy5pc1dpbmRvd3MgJiYgdGhpcy5ub2Nhc2UpO1xuICAgICAgICB0aGlzLmdsb2JTZXQgPSBbXTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXQgPSBbXTtcbiAgICAgICAgLy8gbWFrZSB0aGUgc2V0IG9mIHJlZ2V4cHMgZXRjLlxuICAgICAgICB0aGlzLm1ha2UoKTtcbiAgICB9XG4gICAgaGFzTWFnaWMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFnaWNhbEJyYWNlcyAmJiB0aGlzLnNldC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdGhpcy5zZXQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWJ1ZyguLi5fKSB7IH1cbiAgICBtYWtlKCkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyBlbXB0eSBwYXR0ZXJucyBhbmQgY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGF0dGVybikge1xuICAgICAgICAgICAgdGhpcy5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcCAxOiBmaWd1cmUgb3V0IG5lZ2F0aW9uLCBldGMuXG4gICAgICAgIHRoaXMucGFyc2VOZWdhdGUoKTtcbiAgICAgICAgLy8gc3RlcCAyOiBleHBhbmQgYnJhY2VzXG4gICAgICAgIHRoaXMuZ2xvYlNldCA9IFsuLi5uZXcgU2V0KHRoaXMuYnJhY2VFeHBhbmQoKSldO1xuICAgICAgICBpZiAob3B0aW9ucy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9ICguLi5hcmdzKSA9PiBjb25zb2xlLmVycm9yKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCB0aGlzLmdsb2JTZXQpO1xuICAgICAgICAvLyBzdGVwIDM6IG5vdyB3ZSBoYXZlIGEgc2V0LCBzbyB0dXJuIGVhY2ggb25lIGludG8gYSBzZXJpZXMgb2ZcbiAgICAgICAgLy8gcGF0aC1wb3J0aW9uIG1hdGNoaW5nIHBhdHRlcm5zLlxuICAgICAgICAvLyBUaGVzZSB3aWxsIGJlIHJlZ2V4cHMsIGV4Y2VwdCBpbiB0aGUgY2FzZSBvZiBcIioqXCIsIHdoaWNoIGlzXG4gICAgICAgIC8vIHNldCB0byB0aGUgR0xPQlNUQVIgb2JqZWN0IGZvciBnbG9ic3RhciBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHdpbGwgbm90IGNvbnRhaW4gYW55IC8gY2hhcmFjdGVyc1xuICAgICAgICAvL1xuICAgICAgICAvLyBGaXJzdCwgd2UgcHJlcHJvY2VzcyB0byBtYWtlIHRoZSBnbG9iIHBhdHRlcm4gc2V0cyBhIGJpdCBzaW1wbGVyXG4gICAgICAgIC8vIGFuZCBkZWR1cGVkLiAgVGhlcmUgYXJlIHNvbWUgcGVyZi1raWxsaW5nIHBhdHRlcm5zIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHByb2JsZW1zIHdpdGggYSBnbG9iIHdhbGssIGJ1dCB3ZSBjYW4gc2ltcGxpZnkgdGhlbSBkb3duIGEgYml0LlxuICAgICAgICBjb25zdCByYXdHbG9iUGFydHMgPSB0aGlzLmdsb2JTZXQubWFwKHMgPT4gdGhpcy5zbGFzaFNwbGl0KHMpKTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSB0aGlzLnByZXByb2Nlc3MocmF3R2xvYlBhcnRzKTtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuZ2xvYlBhcnRzKTtcbiAgICAgICAgLy8gZ2xvYiAtLT4gcmVnZXhwc1xuICAgICAgICBsZXQgc2V0ID0gdGhpcy5nbG9iUGFydHMubWFwKChzLCBfLCBfXykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzICYmIHRoaXMud2luZG93c05vTWFnaWNSb290KSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXQncyBhIGRyaXZlIG9yIHVuYyBwYXRoLlxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVU5DID0gc1swXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgc1sxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNbMl0gPT09ICc/JyB8fCAhZ2xvYk1hZ2ljLnRlc3Qoc1syXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICFnbG9iTWFnaWMudGVzdChzWzNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0RyaXZlID0gL15bYS16XTovaS50ZXN0KHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChpc1VOQykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnMuc2xpY2UoMCwgNCksIC4uLnMuc2xpY2UoNCkubWFwKHNzID0+IHRoaXMucGFyc2Uoc3MpKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzWzBdLCAuLi5zLnNsaWNlKDEpLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KTtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgZGlkbid0IGNvbXBpbGUgcHJvcGVybHkuXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0LmZpbHRlcihzID0+IHMuaW5kZXhPZihmYWxzZSkgPT09IC0xKTtcbiAgICAgICAgLy8gZG8gbm90IHRyZWF0IHRoZSA/IGluIFVOQyBwYXRocyBhcyBtYWdpY1xuICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5zZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBbMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHBbMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYlBhcnRzW2ldWzJdID09PSAnPycgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBbM10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFsyXSA9ICc/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuc2V0KTtcbiAgICB9XG4gICAgLy8gdmFyaW91cyB0cmFuc2Zvcm1zIHRvIGVxdWl2YWxlbnQgcGF0dGVybiBzZXRzIHRoYXQgYXJlXG4gICAgLy8gZmFzdGVyIHRvIHByb2Nlc3MgaW4gYSBmaWxlc3lzdGVtIHdhbGsuICBUaGUgZ29hbCBpcyB0b1xuICAgIC8vIGVsaW1pbmF0ZSB3aGF0IHdlIGNhbiwgYW5kIHB1c2ggYWxsICoqIHBhdHRlcm5zIGFzIGZhclxuICAgIC8vIHRvIHRoZSByaWdodCBhcyBwb3NzaWJsZSwgZXZlbiBpZiBpdCBpbmNyZWFzZXMgdGhlIG51bWJlclxuICAgIC8vIG9mIHBhdHRlcm5zIHRoYXQgd2UgaGF2ZSB0byBwcm9jZXNzLlxuICAgIHByZXByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIG5vdCBpbiBnbG9ic3RhciBtb2RlLCB0aGVuIHR1cm4gYWxsICoqIGludG8gKlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vZ2xvYnN0YXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYlBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnbG9iUGFydHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JQYXJ0c1tpXVtqXSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2ldW2pdID0gJyonO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3B0aW1pemF0aW9uTGV2ZWwgPSAxIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICAvLyBhZ2dyZXNzaXZlIG9wdGltaXphdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2YgZnMgd2Fsa2luZ1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5maXJzdFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpO1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5zZWNvbmRQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAxKSB7XG4gICAgICAgICAgICAvLyBqdXN0IGJhc2ljIG9wdGltaXphdGlvbnMgdG8gcmVtb3ZlIHNvbWUgLi4gcGFydHNcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMubGV2ZWxPbmVPcHRpbWl6ZShnbG9iUGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8ganVzdCBjb2xsYXBzZSBtdWx0aXBsZSAqKiBwb3J0aW9ucyBpbnRvIG9uZVxuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5hZGphc2NlbnRHbG9ic3Rhck9wdGltaXplKGdsb2JQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cztcbiAgICB9XG4gICAgLy8ganVzdCBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBwb3J0aW9uc1xuICAgIGFkamFzY2VudEdsb2JzdGFyT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIGxldCBncyA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZ3MgPSBwYXJ0cy5pbmRleE9mKCcqKicsIGdzICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSBncztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbaSArIDFdID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShncywgaSAtIGdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBhbmQgcmVzb2x2ZSAuLiBwb3J0aW9uc1xuICAgIGxldmVsT25lT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIHBhcnRzID0gcGFydHMucmVkdWNlKChzZXQsIHBhcnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocGFydCA9PT0gJyoqJyAmJiBwcmV2ID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ICYmIHByZXYgIT09ICcuLicgJiYgcHJldiAhPT0gJy4nICYmIHByZXYgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDAgPyBbJyddIDogcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXZlbFR3b0ZpbGVPcHRpbWl6ZShwYXJ0cykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IHRoaXMuc2xhc2hTcGxpdChwYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIDxwcmU+LzxlPi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNxdWVlemUgb3V0IFVOQyBwYXR0ZXJuc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09ICcuJyB8fCBwID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJyAmJlxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhcnRzWzFdID09PSAnLicgfHwgcGFydHNbMV0gPT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgbGV0IGRkID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGRkID0gcGFydHMuaW5kZXhPZignLi4nLCBkZCArIDEpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwICYmIHAgIT09ICcuJyAmJiBwICE9PSAnLi4nICYmIHAgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMik7XG4gICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRTb21ldGhpbmcpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID09PSAwID8gWycnXSA6IHBhcnRzO1xuICAgIH1cbiAgICAvLyBGaXJzdCBwaGFzZTogc2luZ2xlLXBhdHRlcm4gcHJvY2Vzc2luZ1xuICAgIC8vIDxwcmU+IGlzIDEgb3IgbW9yZSBwb3J0aW9uc1xuICAgIC8vIDxyZXN0PiBpcyAxIG9yIG1vcmUgcG9ydGlvbnNcbiAgICAvLyA8cD4gaXMgYW55IHBvcnRpb24gb3RoZXIgdGhhbiAuLCAuLiwgJycsIG9yICoqXG4gICAgLy8gPGU+IGlzIC4gb3IgJydcbiAgICAvL1xuICAgIC8vICoqLy4uIGlzICpicnV0YWwqIGZvciBmaWxlc3lzdGVtIHdhbGtpbmcgcGVyZm9ybWFuY2UsIGJlY2F1c2VcbiAgICAvLyBpdCBlZmZlY3RpdmVseSByZXNldHMgdGhlIHJlY3Vyc2l2ZSB3YWxrIGVhY2ggdGltZSBpdCBvY2N1cnMsXG4gICAgLy8gYW5kICoqIGNhbm5vdCBiZSByZWR1Y2VkIG91dCBieSBhIC4uIHBhdHRlcm4gcGFydCBsaWtlIGEgcmVnZXhwXG4gICAgLy8gb3IgbW9zdCBzdHJpbmdzIChvdGhlciB0aGFuIC4uLCAuLCBhbmQgJycpIGNhbiBiZS5cbiAgICAvL1xuICAgIC8vIDxwcmU+LyoqLy4uLzxwPi88cD4vPHJlc3Q+IC0+IHs8cHJlPi8uLi88cD4vPHA+LzxyZXN0Piw8cHJlPi8qKi88cD4vPHA+LzxyZXN0Pn1cbiAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIDxwcmU+LzxwPi8uLi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgLy8gKiovKiovPHJlc3Q+IC0+ICoqLzxyZXN0PlxuICAgIC8vXG4gICAgLy8gKiovKi88cmVzdD4gLT4gKi8qKi88cmVzdD4gPD09IG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZXNuJ3QgZm9sbG93XG4gICAgLy8gdGhpcyBXT1VMRCBiZSBhbGxvd2VkIGlmICoqIGRpZCBmb2xsb3cgc3ltbGlua3MsIG9yICogZGlkbid0XG4gICAgZmlyc3RQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIGxldCBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyA8cHJlPi8qKi8uLi88cD4vPHA+LzxyZXN0PiAtPiB7PHByZT4vLi4vPHA+LzxwPi88cmVzdD4sPHByZT4vKiovPHA+LzxwPi88cmVzdD59XG4gICAgICAgICAgICBmb3IgKGxldCBwYXJ0cyBvZiBnbG9iUGFydHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZ3MgPSAtMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLTEgIT09IChncyA9IHBhcnRzLmluZGV4T2YoJyoqJywgZ3MgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzcyA9IGdzO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbZ3NzICsgMV0gPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxwcmU+LyoqLyoqLzxyZXN0PiAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdzcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVnLCBpZiBncyBpcyAyIGFuZCBnc3MgaXMgNCwgdGhhdCBtZWFucyB3ZSBoYXZlIDMgKipcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydHMsIGFuZCBjYW4gcmVtb3ZlIDIgb2YgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdzcyA+IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZ3MgKyAxLCBnc3MgLSBncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwYXJ0c1tncyArIDFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbZ3MgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcDIgPSBwYXJ0c1tncyArIDNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gJy4uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIXAyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWRpdCBwYXJ0cyBpbiBwbGFjZSwgYW5kIHB1c2ggdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGdzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYXJ0cy5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJbZ3NdID0gJyoqJztcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzLnB1c2gob3RoZXIpO1xuICAgICAgICAgICAgICAgICAgICBncy0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3F1ZWV6ZSBvdXQgVU5DIHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCA9PT0gJy4nIHx8IHAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1swXSA9PT0gJy4nICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0c1sxXSA9PT0gJy4nIHx8IHBhcnRzWzFdID09PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGxldCBkZCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZGQgPSBwYXJ0cy5pbmRleE9mKCcuLicsIGRkICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAmJiBwICE9PSAnLicgJiYgcCAhPT0gJy4uJyAmJiBwICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZERvdCA9IGRkID09PSAxICYmIHBhcnRzW2RkICsgMV0gPT09ICcqKic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpbiA9IG5lZWREb3QgPyBbJy4nXSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMiwgLi4uc3BsaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpZFNvbWV0aGluZyk7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHM7XG4gICAgfVxuICAgIC8vIHNlY29uZCBwaGFzZTogbXVsdGktcGF0dGVybiBkZWR1cGVzXG4gICAgLy8gezxwcmU+LyovPHJlc3Q+LDxwcmU+LzxwPi88cmVzdD59IC0+IDxwcmU+LyovPHJlc3Q+XG4gICAgLy8gezxwcmU+LzxyZXN0Piw8cHJlPi88cmVzdD59IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vPHJlc3Q+fSAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAvL1xuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vKiovPHA+LzxyZXN0Pn0gLT4gPHByZT4vKiovPHJlc3Q+XG4gICAgLy8gXi0tIG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZW5zJ3QgZm9sbG93IHN5bWxpbmtzXG4gICAgc2Vjb25kUGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2JQYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGdsb2JQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSB0aGlzLnBhcnRzTWF0Y2goZ2xvYlBhcnRzW2ldLCBnbG9iUGFydHNbal0sICF0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHNbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2pdID0gbWF0Y2hlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMuZmlsdGVyKGdzID0+IGdzLmxlbmd0aCk7XG4gICAgfVxuICAgIHBhcnRzTWF0Y2goYSwgYiwgZW1wdHlHU01hdGNoID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGFpID0gMDtcbiAgICAgICAgbGV0IGJpID0gMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgd2hpY2ggPSAnJztcbiAgICAgICAgd2hpbGUgKGFpIDwgYS5sZW5ndGggJiYgYmkgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGFbYWldID09PSBiW2JpXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdoaWNoID09PSAnYicgPyBiW2JpXSA6IGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbXB0eUdTTWF0Y2ggJiYgYVthaV0gPT09ICcqKicgJiYgYltiaV0gPT09IGFbYWkgKyAxXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW1wdHlHU01hdGNoICYmIGJbYmldID09PSAnKionICYmIGFbYWldID09PSBiW2JpICsgMV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFbYWldID09PSAnKicgJiZcbiAgICAgICAgICAgICAgICBiW2JpXSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZG90IHx8ICFiW2JpXS5zdGFydHNXaXRoKCcuJykpICYmXG4gICAgICAgICAgICAgICAgYltiaV0gIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICBpZiAod2hpY2ggPT09ICdiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWNoID0gJ2EnO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiW2JpXSA9PT0gJyonICYmXG4gICAgICAgICAgICAgICAgYVthaV0gJiZcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRvdCB8fCAhYVthaV0uc3RhcnRzV2l0aCgnLicpKSAmJlxuICAgICAgICAgICAgICAgIGFbYWldICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoID09PSAnYScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGljaCA9ICdiJztcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGZhbGwgb3V0IG9mIHRoZSBsb29wLCBpdCBtZWFucyB0aGV5IHR3byBhcmUgaWRlbnRpY2FsXG4gICAgICAgIC8vIGFzIGxvbmcgYXMgdGhlaXIgbGVuZ3RocyBtYXRjaFxuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIHJlc3VsdDtcbiAgICB9XG4gICAgcGFyc2VOZWdhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vbmVnYXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgICAgIGxldCBuZWdhdGVPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoICYmIHBhdHRlcm4uY2hhckF0KGkpID09PSAnISc7IGkrKykge1xuICAgICAgICAgICAgbmVnYXRlID0gIW5lZ2F0ZTtcbiAgICAgICAgICAgIG5lZ2F0ZU9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWdhdGVPZmZzZXQpXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKG5lZ2F0ZU9mZnNldCk7XG4gICAgICAgIHRoaXMubmVnYXRlID0gbmVnYXRlO1xuICAgIH1cbiAgICAvLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuICAgIC8vIFwiL2EvYlwiIG1hdGNoZXMgdGhlIHN0YXJ0IG9mIFwiLyovYi8qL2RcIlxuICAgIC8vIFBhcnRpYWwgbWVhbnMsIGlmIHlvdSBydW4gb3V0IG9mIGZpbGUgYmVmb3JlIHlvdSBydW5cbiAgICAvLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbiAgICAvLyB0aGUgcGFydHMgbWF0Y2guXG4gICAgbWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIFVOQyBwYXRocyBsaWtlIC8vPy9YOi8uLi4gY2FuIG1hdGNoIFg6Ly4uLiBhbmQgdmljZSB2ZXJzYVxuICAgICAgICAvLyBEcml2ZSBsZXR0ZXJzIGluIGFic29sdXRlIGRyaXZlIG9yIHVuYyBwYXRocyBhcmUgYWx3YXlzIGNvbXBhcmVkXG4gICAgICAgIC8vIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlRHJpdmUgPSB0eXBlb2YgZmlsZVswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChmaWxlWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVVTkMgPSAhZmlsZURyaXZlICYmXG4gICAgICAgICAgICAgICAgZmlsZVswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBmaWxlWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIGZpbGVbMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QoZmlsZVszXSk7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuRHJpdmUgPSB0eXBlb2YgcGF0dGVyblswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChwYXR0ZXJuWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5VTkMgPSAhcGF0dGVybkRyaXZlICYmXG4gICAgICAgICAgICAgICAgcGF0dGVyblswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBwYXR0ZXJuWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIHBhdHRlcm5bMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBwYXR0ZXJuWzNdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocGF0dGVyblszXSk7XG4gICAgICAgICAgICBjb25zdCBmZGkgPSBmaWxlVU5DID8gMyA6IGZpbGVEcml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBwZGkgPSBwYXR0ZXJuVU5DID8gMyA6IHBhdHRlcm5Ecml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZkaSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHBkaSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbZmQsIHBkXSA9IFtmaWxlW2ZkaV0sIHBhdHRlcm5bcGRpXV07XG4gICAgICAgICAgICAgICAgaWYgKGZkLnRvTG93ZXJDYXNlKCkgPT09IHBkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybltwZGldID0gZmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZGkgPiBmZGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKHBkaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmRpID4gcGRpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gZmlsZS5zbGljZShmZGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgYW5kIHJlZHVjZSAuIGFuZCAuLiBwb3J0aW9ucyBpbiB0aGUgZmlsZSBhcyB3ZWxsLlxuICAgICAgICAvLyBkb250JyBuZWVkIHRvIGRvIHRoZSBzZWNvbmQgcGhhc2UsIGJlY2F1c2UgaXQncyBvbmx5IG9uZSBzdHJpbmdbXVxuICAgICAgICBjb25zdCB7IG9wdGltaXphdGlvbkxldmVsID0gMSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW1pemF0aW9uTGV2ZWwgPj0gMikge1xuICAgICAgICAgICAgZmlsZSA9IHRoaXMubGV2ZWxUd29GaWxlT3B0aW1pemUoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLCB0aGlzLCB7IGZpbGUsIHBhdHRlcm4gfSk7XG4gICAgICAgIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgZmkgPSAwLCBwaSA9IDAsIGZsID0gZmlsZS5sZW5ndGgsIHBsID0gcGF0dGVybi5sZW5ndGg7IGZpIDwgZmwgJiYgcGkgPCBwbDsgZmkrKywgcGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUgbG9vcCcpO1xuICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuW3BpXTtcbiAgICAgICAgICAgIHZhciBmID0gZmlsZVtmaV07XG4gICAgICAgICAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpO1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGUuXG4gICAgICAgICAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGlmIChwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICBpZiAocCA9PT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdHTE9CU1RBUicsIFtwYXR0ZXJuLCBwLCBmXSk7XG4gICAgICAgICAgICAgICAgLy8gXCIqKlwiXG4gICAgICAgICAgICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgICAgICAgICAgICAvLyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIGEveC95L3ovYi9jXG4gICAgICAgICAgICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgICAgICAgICAgICAvLyBhL2IvY1xuICAgICAgICAgICAgICAgIC8vIFRvIGRvIHRoaXMsIHRha2UgdGhlIHJlc3Qgb2YgdGhlIHBhdHRlcm4gYWZ0ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgIC8vIElmIHNvLCByZXR1cm4gc3VjY2Vzcy5cbiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIHRoZSAqKiBcInN3YWxsb3dzXCIgYSBzZWdtZW50LCBhbmQgdHJ5IGFnYWluLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBhLyoqL2IvKiovYyBtYXRjaGluZyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgICAgICAgICAgICAvLyAtIGRvdWJsZXN0YXJcbiAgICAgICAgICAgICAgICAvLyAgIC0gbWF0Y2hPbmUoYi94L3kvei9jLCBiLyoqL2MpXG4gICAgICAgICAgICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgICAgICAgICAgICAvLyAgICAgLSBkb3VibGVzdGFyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh4L3kvei9jLCBjKSAtPiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh6L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZShjLCBjKSB5ZXMsIGhpdFxuICAgICAgICAgICAgICAgIHZhciBmciA9IGZpO1xuICAgICAgICAgICAgICAgIHZhciBwciA9IHBpICsgMTtcbiAgICAgICAgICAgICAgICBpZiAocHIgPT09IHBsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJyoqIGF0IHRoZSBlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYSAqKiBhdCB0aGUgZW5kIHdpbGwganVzdCBzd2FsbG93IHRoZSByZXN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgIC8vIGhvd2V2ZXIsIGl0IHdpbGwgbm90IHN3YWxsb3cgLy54LCB1bmxlc3NcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucy5kb3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyAuIGFuZCAuLiBhcmUgKm5ldmVyKiBtYXRjaGVkIGJ5ICoqLCBmb3IgZXhwbG9zaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgcmVhc29ucy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGZpIDwgZmw7IGZpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlW2ZpXSA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW9wdGlvbnMuZG90ICYmIGZpbGVbZmldLmNoYXJBdCgwKSA9PT0gJy4nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9rLCBsZXQncyBzZWUgaWYgd2UgY2FuIHN3YWxsb3cgd2hhdGV2ZXIgd2UgY2FuLlxuICAgICAgICAgICAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnXFxuZ2xvYnN0YXIgd2hpbGUnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIsIHN3YWxsb3dlZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFhYWCByZW1vdmUgdGhpcyBzbGljZS4gIEp1c3QgcGFzcyB0aGUgc3RhcnQgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoT25lKGZpbGUuc2xpY2UoZnIpLCBwYXR0ZXJuLnNsaWNlKHByKSwgcGFydGlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IHN3YWxsb3cgXCIuXCIgb3IgXCIuLlwiIGV2ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBzd2FsbG93IFwiLmZvb1wiIHdoZW4gZXhwbGljaXRseSBhc2tlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWxsb3dlZSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2RvdCBkZXRlY3RlZCEnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdnbG9ic3RhciBzd2FsbG93IGEgc2VnbWVudCwgYW5kIGNvbnRpbnVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBpbiBwYXJ0aWFsIG1vZGUsIHdlIGNhbid0IHNheSB0aGlzIGlzIG5lY2Vzc2FyaWx5IG92ZXIuXG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ1xcbj4+PiBubyBtYXRjaCwgcGFydGlhbD8nLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnIgPT09IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuICoqXG4gICAgICAgICAgICAvLyBub24tbWFnaWMgcGF0dGVybnMganVzdCBoYXZlIHRvIG1hdGNoIGV4YWN0bHlcbiAgICAgICAgICAgIC8vIHBhdHRlcm5zIHdpdGggbWFnaWMgaGF2ZSBiZWVuIHR1cm5lZCBpbnRvIHJlZ2V4cHMuXG4gICAgICAgICAgICBsZXQgaGl0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGhpdCA9IGYgPT09IHA7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpdCA9IHAudGVzdChmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGl0KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiBlbmRpbmcgaW4gLyBtZWFucyB0aGF0IHdlJ2xsIGdldCBhIGZpbmFsIFwiXCJcbiAgICAgICAgLy8gYXQgdGhlIGVuZCBvZiB0aGUgcGF0dGVybi4gIFRoaXMgY2FuIG9ubHkgbWF0Y2ggYVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIFwiXCIgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZS5cbiAgICAgICAgLy8gSWYgdGhlIGZpbGUgZW5kcyBpbiAvLCB0aGVuIGl0IGNhbiBvbmx5IG1hdGNoIGFcbiAgICAgICAgLy8gYSBwYXR0ZXJuIHRoYXQgZW5kcyBpbiAvLCB1bmxlc3MgdGhlIHBhdHRlcm4ganVzdFxuICAgICAgICAvLyBkb2Vzbid0IGhhdmUgYW55IG1vcmUgZm9yIGl0LiBCdXQsIGEvYi8gc2hvdWxkICpub3QqXG4gICAgICAgIC8vIG1hdGNoIFwiYS9iLypcIiwgZXZlbiB0aG91Z2ggXCJcIiBtYXRjaGVzIGFnYWluc3QgdGhlXG4gICAgICAgIC8vIFteL10qPyBwYXR0ZXJuLCBleGNlcHQgaW4gcGFydGlhbCBtb2RlLCB3aGVyZSBpdCBtaWdodFxuICAgICAgICAvLyBzaW1wbHkgbm90IGJlIHJlYWNoZWQgeWV0LlxuICAgICAgICAvLyBIb3dldmVyLCBhL2IvIHNob3VsZCBzdGlsbCBzYXRpc2Z5IGEvKlxuICAgICAgICAvLyBub3cgZWl0aGVyIHdlIGZlbGwgb2ZmIHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4sIG9yIHdlJ3JlIGRvbmUuXG4gICAgICAgIGlmIChmaSA9PT0gZmwgJiYgcGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4gYW5kIGZpbGVuYW1lIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgICAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgZmlsZSwgYnV0IHN0aWxsIGhhZCBwYXR0ZXJuIGxlZnQuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9rIGlmIHdlJ3JlIGRvaW5nIHRoZSBtYXRjaCBhcyBwYXJ0IG9mXG4gICAgICAgICAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4sIHN0aWxsIGhhdmUgZmlsZSBsZWZ0LlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGFjY2VwdGFibGUgaWYgd2UncmUgb24gdGhlIHZlcnkgbGFzdFxuICAgICAgICAgICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgICAgICAgICAgLy8gYS8qIHNob3VsZCBtYXRjaCBhL2IvXG4gICAgICAgICAgICByZXR1cm4gZmkgPT09IGZsIC0gMSAmJiBmaWxlW2ZpXSA9PT0gJyc7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSB1bnJlYWNoYWJsZS5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignd3RmPycpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgfVxuICAgIGJyYWNlRXhwYW5kKCkge1xuICAgICAgICByZXR1cm4gYnJhY2VFeHBhbmQodGhpcy5wYXR0ZXJuLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICBwYXJzZShwYXR0ZXJuKSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gc2hvcnRjdXRzXG4gICAgICAgIGlmIChwYXR0ZXJuID09PSAnKionKVxuICAgICAgICAgICAgcmV0dXJuIEdMT0JTVEFSO1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gJycpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIC8vIGZhciBhbmQgYXdheSwgdGhlIG1vc3QgY29tbW9uIGdsb2IgcGF0dGVybiBwYXJ0cyBhcmVcbiAgICAgICAgLy8gKiwgKi4qLCBhbmQgKi48ZXh0PiAgQWRkIGEgZmFzdCBjaGVjayBtZXRob2QgZm9yIHRob3NlLlxuICAgICAgICBsZXQgbTtcbiAgICAgICAgbGV0IGZhc3RUZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKChtID0gcGF0dGVybi5tYXRjaChzdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJUZXN0RG90IDogc3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RFeHRSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBzdGFyRG90RXh0VGVzdE5vY2FzZURvdFxuICAgICAgICAgICAgICAgICAgICA6IHN0YXJEb3RFeHRUZXN0Tm9jYXNlXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHN0YXJEb3RFeHRUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogc3RhckRvdEV4dFRlc3QpKG1bMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChxbWFya3NSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0Tm9jYXNlRG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdE5vY2FzZVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdCkobSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RTdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJEb3RTdGFyVGVzdERvdCA6IHN0YXJEb3RTdGFyVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goZG90U3RhclJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gZG90U3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmUgPSBBU1QuZnJvbUdsb2IocGF0dGVybiwgdGhpcy5vcHRpb25zKS50b01NUGF0dGVybigpO1xuICAgICAgICBpZiAoZmFzdFRlc3QgJiYgdHlwZW9mIHJlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gQXZvaWRzIG92ZXJyaWRpbmcgaW4gZnJvemVuIGVudmlyb25tZW50c1xuICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShyZSwgJ3Rlc3QnLCB7IHZhbHVlOiBmYXN0VGVzdCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfVxuICAgIG1ha2VSZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVnZXhwIHx8IHRoaXMucmVnZXhwID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cDtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgdGhpcy5zZXQgaXMgYSAyZCBhcnJheSBvZiBwYXJ0aWFsXG4gICAgICAgIC8vIHBhdHRlcm4gc3RyaW5ncywgb3IgXCIqKlwiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJdCdzIGJldHRlciB0byB1c2UgLm1hdGNoKCkuICBUaGlzIGZ1bmN0aW9uIHNob3VsZG4ndFxuICAgICAgICAvLyBiZSB1c2VkLCByZWFsbHksIGJ1dCBpdCdzIHByZXR0eSBjb252ZW5pZW50IHNvbWV0aW1lcyxcbiAgICAgICAgLy8gd2hlbiB5b3UganVzdCB3YW50IHRvIHdvcmsgd2l0aCBhIHJlZ2V4LlxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLnNldDtcbiAgICAgICAgaWYgKCFzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2V4cCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHR3b1N0YXIgPSBvcHRpb25zLm5vZ2xvYnN0YXJcbiAgICAgICAgICAgID8gc3RhclxuICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgID8gdHdvU3RhckRvdFxuICAgICAgICAgICAgICAgIDogdHdvU3Rhck5vRG90O1xuICAgICAgICBjb25zdCBmbGFncyA9IG5ldyBTZXQob3B0aW9ucy5ub2Nhc2UgPyBbJ2knXSA6IFtdKTtcbiAgICAgICAgLy8gcmVnZXhwaWZ5IG5vbi1nbG9ic3RhciBwYXR0ZXJuc1xuICAgICAgICAvLyBpZiAqKiBpcyBvbmx5IGl0ZW0sIHRoZW4gd2UganVzdCBkbyBvbmUgdHdvU3RhclxuICAgICAgICAvLyBpZiAqKiBpcyBmaXJzdCwgYW5kIHRoZXJlIGFyZSBtb3JlLCBwcmVwZW5kIChcXC98dHdvU3RhclxcLyk/IHRvIG5leHRcbiAgICAgICAgLy8gaWYgKiogaXMgbGFzdCwgYXBwZW5kIChcXC90d29TdGFyfCkgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gaWYgKiogaXMgaW4gdGhlIG1pZGRsZSwgYXBwZW5kIChcXC98XFwvdHdvU3RhclxcLykgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gdGhlbiBmaWx0ZXIgb3V0IEdMT0JTVEFSIHN5bWJvbHNcbiAgICAgICAgbGV0IHJlID0gc2V0XG4gICAgICAgICAgICAubWFwKHBhdHRlcm4gPT4ge1xuICAgICAgICAgICAgY29uc3QgcHAgPSBwYXR0ZXJuLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5mbGFncy5zcGxpdCgnJykpXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncy5hZGQoZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyByZWdFeHBFc2NhcGUocClcbiAgICAgICAgICAgICAgICAgICAgOiBwID09PSBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLl9zcmM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBwLmZvckVhY2goKHAsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcHBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHAgIT09IEdMT0JTVEFSIHx8IHByZXYgPT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmIG5leHQgIT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSAnKD86XFxcXC98JyArIHR3b1N0YXIgKyAnXFxcXC8pPycgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHBbaV0gPSB0d29TdGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwcFtpIC0gMV0gPSBwcmV2ICsgJyg/OlxcXFwvfCcgKyB0d29TdGFyICsgJyk/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHBbaSAtIDFdID0gcHJldiArICcoPzpcXFxcL3xcXFxcLycgKyB0d29TdGFyICsgJ1xcXFwvKScgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSBHTE9CU1RBUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcC5maWx0ZXIocCA9PiBwICE9PSBHTE9CU1RBUikuam9pbignLycpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICAgICAgLy8gbmVlZCB0byB3cmFwIGluIHBhcmVucyBpZiB3ZSBoYWQgbW9yZSB0aGFuIG9uZSB0aGluZyB3aXRoIHwsXG4gICAgICAgIC8vIG90aGVyd2lzZSBvbmx5IHRoZSBmaXJzdCB3aWxsIGJlIGFuY2hvcmVkIHRvIF4gYW5kIHRoZSBsYXN0IHRvICRcbiAgICAgICAgY29uc3QgW29wZW4sIGNsb3NlXSA9IHNldC5sZW5ndGggPiAxID8gWycoPzonLCAnKSddIDogWycnLCAnJ107XG4gICAgICAgIC8vIG11c3QgbWF0Y2ggZW50aXJlIHBhdHRlcm5cbiAgICAgICAgLy8gZW5kaW5nIGluIGEgKiBvciAqKiB3aWxsIG1ha2UgaXQgbGVzcyBzdHJpY3QuXG4gICAgICAgIHJlID0gJ14nICsgb3BlbiArIHJlICsgY2xvc2UgKyAnJCc7XG4gICAgICAgIC8vIGNhbiBtYXRjaCBhbnl0aGluZywgYXMgbG9uZyBhcyBpdCdzIG5vdCB0aGlzLlxuICAgICAgICBpZiAodGhpcy5uZWdhdGUpXG4gICAgICAgICAgICByZSA9ICdeKD8hJyArIHJlICsgJykuKyQnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKHJlLCBbLi4uZmxhZ3NdLmpvaW4oJycpKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGVcbiAgICAgICAgICAgIHRoaXMucmVnZXhwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgIH1cbiAgICBzbGFzaFNwbGl0KHApIHtcbiAgICAgICAgLy8gaWYgcCBzdGFydHMgd2l0aCAvLyBvbiB3aW5kb3dzLCB3ZSBwcmVzZXJ2ZSB0aGF0XG4gICAgICAgIC8vIHNvIHRoYXQgVU5DIHBhdGhzIGFyZW4ndCBicm9rZW4uICBPdGhlcndpc2UsIGFueSBudW1iZXIgb2ZcbiAgICAgICAgLy8gLyBjaGFyYWN0ZXJzIGFyZSBjb2FsZXNjZWQgaW50byBvbmUsIHVubGVzc1xuICAgICAgICAvLyBwcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgaWYgKHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1dpbmRvd3MgJiYgL15cXC9cXC9bXlxcL10rLy50ZXN0KHApKSB7XG4gICAgICAgICAgICAvLyBhZGQgYW4gZXh0cmEgJycgZm9yIHRoZSBvbmUgd2UgbG9zZVxuICAgICAgICAgICAgcmV0dXJuIFsnJywgLi4ucC5zcGxpdCgvXFwvKy8pXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KC9cXC8rLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2goZiwgcGFydGlhbCA9IHRoaXMucGFydGlhbCkge1xuICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaCcsIGYsIHRoaXMucGF0dGVybik7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgICAgICAgLy8gY29tbWVudHMsIGV0Yy5cbiAgICAgICAgaWYgKHRoaXMuY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZiA9PT0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGYgPT09ICcvJyAmJiBwYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBmID0gZi5zcGxpdCgnXFxcXCcpLmpvaW4oJy8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgICAgICAgY29uc3QgZmYgPSB0aGlzLnNsYXNoU3BsaXQoZik7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCAnc3BsaXQnLCBmZik7XG4gICAgICAgIC8vIGp1c3QgT05FIG9mIHRoZSBwYXR0ZXJuIHNldHMgaW4gdGhpcy5zZXQgbmVlZHMgdG8gbWF0Y2hcbiAgICAgICAgLy8gaW4gb3JkZXIgZm9yIGl0IHRvIGJlIHZhbGlkLiAgSWYgbmVnYXRpbmcsIHRoZW4ganVzdCBvbmVcbiAgICAgICAgLy8gbWF0Y2ggbWVhbnMgdGhhdCB3ZSBoYXZlIGZhaWxlZC5cbiAgICAgICAgLy8gRWl0aGVyIHdheSwgcmV0dXJuIG9uIHRoZSBmaXJzdCBoaXQuXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMuc2V0O1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NldCcsIHNldCk7XG4gICAgICAgIC8vIEZpbmQgdGhlIGJhc2VuYW1lIG9mIHRoZSBwYXRoIGJ5IGxvb2tpbmcgZm9yIHRoZSBsYXN0IG5vbi1lbXB0eSBzZWdtZW50XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGZmW2ZmLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZmYubGVuZ3RoIC0gMjsgIWZpbGVuYW1lICYmIGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmZltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNldFtpXTtcbiAgICAgICAgICAgIGxldCBmaWxlID0gZmY7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBmaWxlID0gW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhpdCA9IHRoaXMubWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCk7XG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm5lZ2F0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAgICAgICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHRzKGRlZikge1xuICAgICAgICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoO1xuICAgIH1cbn1cbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuZXhwb3J0IHsgQVNUIH0gZnJvbSAnLi9hc3QuanMnO1xuZXhwb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi9lc2NhcGUuanMnO1xuZXhwb3J0IHsgdW5lc2NhcGUgfSBmcm9tICcuL3VuZXNjYXBlLmpzJztcbi8qIGM4IGlnbm9yZSBzdG9wICovXG5taW5pbWF0Y2guQVNUID0gQVNUO1xubWluaW1hdGNoLk1pbmltYXRjaCA9IE1pbmltYXRjaDtcbm1pbmltYXRjaC5lc2NhcGUgPSBlc2NhcGU7XG5taW5pbWF0Y2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB0eXBlIHsgQ2FjaGVSZW1vdGUsIFJlbW90ZU1hdGNoZXIgfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgcmVxdWVzdFVybCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkwgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQgeyBBdHRhY2htZW50RXJyb3IgfSBmcm9tICcuL0F0dGFjaG1lbnRFcnJvcidcbmltcG9ydCB7IGNvbXBhcmVCeVNwZWNpZmljaXR5LCBnZXRNaW1lRXh0IH0gZnJvbSAnLi9zdHJpbmdzJ1xuXG4vKiogRW5zdXJlcyB1bmlxdWVuZXNzIGFuZCBvcmRlciBvZiBhIGxpc3Qgb2YgcmVtb3Rlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogQ2FjaGVSZW1vdGVbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVSZW1vdGVbXVxuICAgIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgICAvLyBrZWVwIG9ubHkgZmlyc3QgYXBwZXJlbmNlc1xuICAgIGZvciAoY29uc3QgYSBvZiByZW1vdGVzKSB7XG4gICAgICAgIGlmIChyZXN1bHQuZXZlcnkoKGIpID0+IGIucGF0dGVybiAhPT0gYS5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgaWYgKGEucGF0dGVybiA9PT0gJyonKSBoYXNGYWxsYmFjayA9IHRydWVcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc0ZhbGxiYWNrKSByZXN1bHQucHVzaCh7IHBhdHRlcm46ICcqJywgd2hpdGVsaXN0ZWQ6IGZhbHNlIH0pXG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbi8qKiBTZXJpYWxpemUgcmVtb3RlcyBhcyBhbiBzdHJpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcmVtb3Rlc1xuICAgICAgICAubWFwKCh7IHdoaXRlbGlzdGVkLCBwYXR0ZXJuIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBgJHt3aGl0ZWxpc3RlZCA/ICd3JyA6ICdiJ30gJHtwYXR0ZXJufWBcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpXG59XG5cbi8qKlxuICogUGFyc2VzIGEgcmVtb3RlIHN0cmluZywga2VlcGluZyB3aGl0ZWxpc3RlZCBzdGF0dXMgaWYgcHJlc2VudC5cbiAqIC0gYCd3IGV4YW1wbGUuY29tJ2Ag4oaSIGBbJ2V4YW1wbGUuY29tJywgdHJ1ZV1gXG4gKiAtIGAnYiBleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIGZhbHNlXWBcbiAqIC0gYCdleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIHVuZGVmaW5lZF1gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbW90ZShzb3VyY2U6IHN0cmluZyk6IFtzdHJpbmcsIGJvb2xlYW4gfCB1bmRlZmluZWRdIHtcbiAgICBpZiAoIS9cXHMrLy50ZXN0KHNvdXJjZSkpIHJldHVybiBbc291cmNlLCB1bmRlZmluZWRdXG5cbiAgICBjb25zdCBwYXJ0cyA9IHNvdXJjZS5zcGxpdCgvXFxzKy9nKVxuICAgIGlmIChwYXJ0c1swXS5zdGFydHNXaXRoKCd3JykpIHJldHVybiBbcGFydHNbMV0sIHRydWVdXG4gICAgaWYgKHBhcnRzWzBdLnN0YXJ0c1dpdGgoJ2InKSkgcmV0dXJuIFtwYXJ0c1sxXSwgZmFsc2VdXG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgdW5kZWZpbmVkXVxufVxuXG4vKiogU3BsaXRzIGEgcmVtb3RlcyBzdHJpbmcsIGtlZXBpbmcgcHJldmlvdXMgc3RhdGVzIHdoZW4gcG9zaWJsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbW90ZXMoXG4gICAgcmVtb3RlczogQ2FjaGVSZW1vdGVbXSxcbiAgICBzb3VyY2VzOiBzdHJpbmcsXG4pOiBDYWNoZVJlbW90ZVtdIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZVJlbW90ZVtdXG4gICAgbGV0IGhhc0ZhbGxiYWNrID0gZmFsc2VcblxuICAgIC8vIG9uZSByZW1vdGUgcGVyLWxpbmVcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgICAgIGNvbnN0IFtwYXR0ZXJuLCB3XSA9IHBhcnNlUmVtb3RlKHNvdXJjZSlcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgaGFzRmFsbGJhY2sgPSB0cnVlXG5cbiAgICAgICAgLy8gaWdub3JlIGR1cGxpY2F0ZWQgZW50cmllc1xuICAgICAgICBpZiAocmVzdWx0LnNvbWUoKGIpID0+IGIucGF0dGVybiA9PT0gcGF0dGVybikpIGNvbnRpbnVlXG5cbiAgICAgICAgLy8gaWYgaGFzIHdoaXRlbGlzdGVkIGRlZmluaXRpb24sIHVzZSBpdFxuICAgICAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiB3IH0pXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VhcmNoIHByZXZpb3VzIGRlZmluaXRpb25cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlbW90ZXMpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCBzYW1lIHBhdHRlcm5zXG4gICAgICAgICAgICBpZiAocGF0dGVybiA9PT0gcy5wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogcy53aGl0ZWxpc3RlZCB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCBvbmx5IHdpdGggYSBkaWZlcmVuY2Ugb2Ygb25lIGNoYXJhY3RlclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4ubGVuZ3RoIC0gcy5wYXR0ZXJuLmxlbmd0aCkgIT09IDEpIGNvbnRpbnVlXG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCB0aGUgcGF0dGVybnNcbiAgICAgICAgICAgIGlmIChzLnBhdHRlcm4uc3RhcnRzV2l0aChwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGUuY29tL3BhdGggPT4gZXhhbXBsZS5jb20vcGF0XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogcy53aGl0ZWxpc3RlZCB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdHRlcm4uc3RhcnRzV2l0aChzLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZS5jb20vcGF0aCA9PiBleGFtcGxlLmNvbS9wYXRoc1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbGJhY2sgYmVoYXZpb3JcbiAgICAgICAgaWYgKCFyZXN1bHQuc29tZSgoYikgPT4gYi5wYXR0ZXJuID09PSBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzRmFsbGJhY2spIHJlc3VsdC5wdXNoKHsgcGF0dGVybjogJyonLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcblxuICAgIC8vIHNvcnRpbmdcbiAgICByZXR1cm4gcmVzdWx0LnNvcnQoKGEsIGIpID0+IGNvbXBhcmVCeVNwZWNpZmljaXR5KGEucGF0dGVybiwgYi5wYXR0ZXJuKSlcbn1cblxuLyoqIERldGVjdHMgcG9zaWJsZSBwcm9ibGVtcyB3aXRoIHRoZSB1c2VyIGRlZmluZWQgcmVtb3Rlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlbW90ZXMoc291cmNlczogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHByb2JsZW1zOiBzdHJpbmdbXSA9IFtdXG4gICAgbGV0IGhhc0ZhbGxiYWNrID0gZmFsc2VcblxuICAgIC8vIG9uZSByZW1vdGUgcGVyLWxpbmVcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSBzb3VyY2UudHJpbSgpLnJlcGxhY2UoL15bd2JdXFxzKy8sICcnKVxuICAgICAgICBpZiAodHJpbW1lZCA9PT0gJyonKSB7XG4gICAgICAgICAgICBoYXNGYWxsYmFjayA9IHRydWVcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL15cXHcrOi9naS50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgICAgICBwcm9ibGVtcy5wdXNoKFwicmVtb3ZlIHByb3RvY29scywgZXg6ICdodHRwOi8vJ1wiKVxuICAgICAgICB9XG4gICAgICAgIGlmICghL14oXFx3K1xcLikrXFx3Ky8udGVzdCh0cmltbWVkKSkge1xuICAgICAgICAgICAgcHJvYmxlbXMucHVzaChcInNob3VsZCBpbmNsdWRlIGRvbWFpbiwgZXg6ICdleGFtcGxlLm9yZy9wYXRoJ1wiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNGYWxsYmFjaykgcHJvYmxlbXMudW5zaGlmdChcInNob3VsZCBpbmNsdWRlIGEgZmFsbGJhY2sgJyonXCIpXG5cbiAgICByZXR1cm4gcHJvYmxlbXNcbn1cblxuLyoqIEdlbmVyYXRlcyBhIG1hdGNoZXIsIHRoYXQgZGV0ZWN0cyB0aGUgcHJlc2VuY2Ugb2YgYW4gVVJMIHBhcmFtLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVSZW1vdGVNYXRjaGVyKFxuICAgIHVybF9wYXJhbSA9ICdmYWxsYmFja19wYXJhbScsXG4pOiBSZW1vdGVNYXRjaGVyIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJ1s/Jl0nICsgdXJsX3BhcmFtICsgJyhbJj1cXFxcc118JCknLCAnaScpXG4gICAgcmV0dXJuIChyZW1vdGU6IHN0cmluZykgPT4gcmVnZXgudGVzdChyZW1vdGUpXG59XG5cbi8qKlxuICogUmVxdWVzdCB0aGUgbWV0YWRhdGEgb2YgYSBmaWxlLCB0byBkZXRlcm1pbmUgdGhlIGZpbGUgZXh0ZW5zaW9uLlxuICogQHRocm93cyB7QXR0YWNobWVudEVycm9yfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVtb3RlRXh0KHVybDogc3RyaW5nLCBsb2c6IExvZ2dlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbG9nLmRlYnVnKGBSZXNvbHZpbmcgZXh0ZW5zaW9uIGZvciAke3VybH1gKVxuXG4gICAgY29uc3QgcmVmZXJlciA9IFVSTC5nZXRPcmlnaW4odXJsKVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICB0aHJvdzogZmFsc2UsXG4gICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHJlZmVyZXIgPyByZWZlcmVyICsgJy8nIDogJycgfSxcbiAgICB9KVxuXG4gICAgQXR0YWNobWVudEVycm9yLmFzc2VydFJlc3BvbnNlKHVybCwgcmVzcG9uc2UsICd1cmwtcmVxdWVzdC1oZWFkJylcbiAgICByZXR1cm4gZ2V0TWltZUV4dChyZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSlcbn1cblxuLyoqXG4gKiBEb3dubG9hZHMgdGhlIGNvbnRlbnQgb2YgYSBmaWxlLlxuICogQHRocm93cyB7QXR0YWNobWVudEVycm9yfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVtb3RlQ29udGVudChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBsb2c6IExvZ2dlcixcbik6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBsb2cuZGVidWcoYERvd25sb2FkaW5nICR7dXJsfWApXG5cbiAgICBjb25zdCByZWZlcmVyID0gVVJMLmdldE9yaWdpbih1cmwpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHRocm93OiBmYWxzZSxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiByZWZlcmVyID8gcmVmZXJlciArICcvJyA6ICcnIH0sXG4gICAgfSlcblxuICAgIEF0dGFjaG1lbnRFcnJvci5hc3NlcnRSZXNwb25zZSh1cmwsIHJlc3BvbnNlLCAndXJsLXJlcXVlc3QtZ2V0JylcbiAgICByZXR1cm4gcmVzcG9uc2UuYXJyYXlCdWZmZXJcbn1cbiIsImltcG9ydCB0eXBlIHsgQ2FjaGVDb25maWcsIENhY2hlTWF0Y2hlciB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBVUkkgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQgeyBtaW5pbWF0Y2ggfSBmcm9tICdtaW5pbWF0Y2gnXG5pbXBvcnQgeyBjb21wYXJlQnlTcGVjaWZpY2l0eSB9IGZyb20gJy4vc3RyaW5ncydcbmltcG9ydCB7IHByZXBhcmVSZW1vdGVzIH0gZnJvbSAnLi9yZW1vdGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZ01hdGNoZXJzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZU1hdGNoZXJbXSB7XG4gICAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25maWcpID0+IHtcbiAgICAgICAgLy8gZGVmYXVsdDogYWxvbmdzaWRlIHRoZSBub3RlXG4gICAgICAgIGxldCByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+IFVSSS5nZXRQYXJlbnQoX3BhdGgpXG4gICAgICAgIHN3aXRjaCAoY29uZmlnLm1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ05PVEUtRk9MREVSJzogLy8gYWxvbmdzaWRlIHRoZSBub3RlIGluIGEgc3ViZm9sZGVyIHdpdGggdGhlIHRhcmdldFBhdGggYXMgbmFtZVxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSAoX3BhdGg6IHN0cmluZykgPT5cbiAgICAgICAgICAgICAgICAgICAgVVJJLmpvaW4oVVJJLmdldFBhcmVudChfcGF0aCksIGNvbmZpZy50YXJnZXQpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ1RBUkdFVC1QQVRIJzogLy8gaW5zaWRlIHRoZSB0YXJnZXRQYXRoIHJlcGxhdGluZyB0aGUgbm90ZS1wYXRoLCB3aXRob3V0IGAubWRgXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IChfcGF0aDogc3RyaW5nKSA9PlxuICAgICAgICAgICAgICAgICAgICBVUkkuam9pbihjb25maWcudGFyZ2V0LCBVUkkucmVtb3ZlRXh0KF9wYXRoKSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnVEFSR0VULU5PVEUnOiAvLyBpbnNpZGUgdGhlIHRhcmdldFBhdGggaW4gYSBmb2xkZXIgbmFtZWQgYXMgdGhlIG5vdGUsIHdpdGhvdXQgYC5tZGBcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgIFVSSS5qb2luKGNvbmZpZy50YXJnZXQsIFVSSS5nZXRCYXNlbmFtZShfcGF0aCkpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ1RBUkdFVCc6IC8vIGRpcmVjdGx5IGluc2lkZSB0aGUgdGFyZ2V0UGF0aFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSAoKSA9PiBjb25maWcudGFyZ2V0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlc3RQYXRoID1cbiAgICAgICAgICAgIGNvbmZpZy5wYXR0ZXJuICE9PSAnKidcbiAgICAgICAgICAgICAgICA/IChfbm90ZXBhdGg6IHN0cmluZykgPT4gbWluaW1hdGNoKF9ub3RlcGF0aCwgY29uZmlnLnBhdHRlcm4pXG4gICAgICAgICAgICAgICAgOiAoKSA9PiB0cnVlXG4gICAgICAgIGNvbnN0IHRlc3RSZW1vdGUgPSAoX3JlbW90ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQgfSBvZiBjb25maWcucmVtb3Rlcykge1xuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuID09PSAnKicpIHJldHVybiB3aGl0ZWxpc3RlZFxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cCgnXmh0dHBzPzovLyhcXFxcdytcXFxcLikqJyArIHBhdHRlcm4sICdnJykudGVzdChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdGUsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlOiBPYmplY3QuZnJlZXplKGNvbmZpZyksXG4gICAgICAgICAgICBpc0VuYWJsZWQ6ICgpID0+IGNvbmZpZy5lbmFibGVkLFxuICAgICAgICAgICAgdGVzdFJlbW90ZSxcbiAgICAgICAgICAgIHRlc3RQYXRoLFxuICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQ29uZmlncyhjb25maWdzOiBDYWNoZUNvbmZpZ1tdKTogQ2FjaGVDb25maWdbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVDb25maWdbXVxuXG4gICAgZm9yIChjb25zdCBhIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgLy8gaWYgaXMgdW5pcXVlLCBrZWVwIGl0XG4gICAgICAgIGNvbnN0IGJJbmRleCA9IHJlc3VsdC5maW5kSW5kZXgoKGIpID0+IGIucGF0dGVybiA9PT0gYS5wYXR0ZXJuKVxuICAgICAgICBpZiAoYkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIHJlbW90ZXMgYXJlIHNvcnRlZFxuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyAuLi5hLCByZW1vdGVzOiBwcmVwYXJlUmVtb3RlcyhhLnJlbW90ZXMpIH0pXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiBkdXBsaWNhdGVzLCBrZWVwIHRoZSBtb3JlIHNwZWNpZmljIG9uZVxuICAgICAgICBpZiAoYS5yZW1vdGVzLmxlbmd0aCA+IHJlc3VsdFtiSW5kZXhdLnJlbW90ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgcmVtb3RlcyBhcmUgc29ydGVkXG4gICAgICAgICAgICByZXN1bHRbYkluZGV4XSA9IHsgLi4uYSwgcmVtb3RlczogcHJlcGFyZVJlbW90ZXMoYS5yZW1vdGVzKSB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgc29ydGluZyBvZiBwYXRoc1xuICAgIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQYXR0ZXJuKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10sIF92YWx1ZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGlmICghX3ZhbHVlKSByZXR1cm4gWydpbnZhbGlkIHBhdHRlcm4nXVxuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wYXR0ZXJuID09PSBfdmFsdWUpIHJldHVybiBbYGR1cGxpY2F0ZWQgcGF0dGVybiAnJHtfdmFsdWV9J2BdXG4gICAgfVxuICAgIHJldHVybiBbXVxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVNb2RlLCBDYWNoZVJlbW90ZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCwgVGV4dENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgY2hlY2tSZW1vdGVzLCBwYXJzZVJlbW90ZXMsIHNlcmlhbGl6ZVJlbW90ZXMgfSBmcm9tICdAL3V0aWxpdHknXG5cbnR5cGUgRXZlbnRDYWxsYmFjayA9IChjYWNoZTogQ2FjaGVDb25maWcpID0+IHZvaWRcblxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBNT0RFU19OQU1FOiBSZWNvcmQ8Q2FjaGVNb2RlLCBzdHJpbmc+ID0ge1xuICAgICdOT1RFJzogLyogICovICdBdHRhY2htZW50cyBuZXh0IHRvIHRoZSBOb3RlJyxcbiAgICAnTk9URS1GT0xERVInOiAnQXR0YWNobWVudHMgb24gU3ViZm9sZGVyJyxcbiAgICAnVEFSR0VUJzogLyoqLyAnQXR0YWNobWVudHMgb24gQ2FjaGUgRm9sZGVyJyxcbiAgICAnVEFSR0VULU5PVEUnOiAnQXR0YWNobWVudHMgb24gQ2FjaGUgTm90ZSBGb2xkZXInLFxuICAgICdUQVJHRVQtUEFUSCc6ICdBdHRhY2htZW50cyBvbiBDYWNoZSBOb3RlIFBhdGgnLFxufVxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBNT0RFU19ERVNDOiBSZWNvcmQ8Q2FjaGVNb2RlLCBzdHJpbmc+ID0ge1xuICAgICdOT1RFJzogLyogICovICdTdG9yZSBpbiB0aGUgc2FtZSBmb2xkZXIgYXMgdGhlIG5vdGUnLFxuICAgICdOT1RFLUZPTERFUic6ICdTdG9yZSBuZXh0IHRvIHRoZSBub3RlIGluIHN1YmZvbGRlciAnLFxuICAgICdUQVJHRVQnOiAvKiovICdTdG9yZSBpbiBmb2xkZXIgJyxcbiAgICAnVEFSR0VULU5PVEUnOiAnU3RvcmUgaW4gc3ViZm9sZGVyIHdpdGggdGhlIG5vdGUtbmFtZSB1bmRlciAnLFxuICAgICdUQVJHRVQtUEFUSCc6ICdTdG9yZSBpbiBhIHJlcGxhdGVkIG5vdGUtcGF0aCB1bmRlciAnLFxufVxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBtb2Rlc0V4ID0gKHsgbW9kZSwgdGFyZ2V0IH06IENhY2hlQ29uZmlnKSA9PiB7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgJ05PVEUnOiAvKiAgKi8gcmV0dXJuICdmb2xkZXIvaW1nMS5qcGcnXG4gICAgICAgIGNhc2UgJ05PVEUtRk9MREVSJzogcmV0dXJuIGBmb2xkZXIvJHt0YXJnZXR9L2ltZzEuanBnYFxuICAgICAgICBjYXNlICdUQVJHRVQnOiAvKiovIHJldHVybiBgJHt0YXJnZXR9L2ltZzEuanBnYFxuICAgICAgICBjYXNlICdUQVJHRVQtTk9URSc6IHJldHVybiBgJHt0YXJnZXR9L25vdGUxL2ltZzEuanBnYFxuICAgICAgICBjYXNlICdUQVJHRVQtUEFUSCc6IHJldHVybiBgJHt0YXJnZXR9L2ZvbGRlci9ub3RlMS9pbWcxLmpwZ2BcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYWNoZVNldHRpbmdzIHtcbiAgICAjY2FjaGU6IENhY2hlQ29uZmlnXG4gICAgI2NhY2hlSGVhZGVyOiBTZXR0aW5nXG4gICAgI2NhY2hlRGV0YWlsczogSFRNTEVsZW1lbnRcbiAgICAjY2FjaGVSZW1vdGVzOiBIVE1MRWxlbWVudFxuICAgICNyZW1vdGVzVGV4dD86IFRleHRBcmVhQ29tcG9uZW50XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEhUTUxFbGVtZW50LCBjYWNoZTogQ2FjaGVDb25maWcpIHtcbiAgICAgICAgLy8gY2xvbmVkIHRvIGNvbnRyb2wgZmxvdyBvZiB1cGRhdGVzXG4gICAgICAgIHRoaXMuI2NhY2hlID0geyAuLi5jYWNoZSwgcmVtb3RlczogWy4uLmNhY2hlLnJlbW90ZXNdIH1cblxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlciA9IG5ldyBTZXR0aW5nKHBhcmVudClcbiAgICAgICAgdGhpcy4jY2FjaGVEZXRhaWxzID1cbiAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5jcmVhdGVEaXYoJ2NhY2hlLWRldGFpbHMnKVxuICAgICAgICB0aGlzLiNjYWNoZVJlbW90ZXMgPVxuICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtcmVtb3RlcycpXG5cbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlSGVhZGVyKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlRGV0YWlscygpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICAgIH1cblxuICAgICNjYWNoZU5hbWUoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKGAke3RoaXMuI2NhY2hlLmVuYWJsZWQgPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnfSBwYXRoOiBgKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJykuYXBwZW5kVGV4dCh0aGlzLiNjYWNoZS5wYXR0ZXJuKVxuICAgICAgICB9KVxuICAgIH1cbiAgICAjY2FjaGVEZXNjKCk6IERvY3VtZW50RnJhZ21lbnQgfCBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy4jY2FjaGUubW9kZSA9PT0gJ05PVEUnKSByZXR1cm4gTU9ERVNfREVTQy5OT1RFXG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKE1PREVTX0RFU0NbdGhpcy4jY2FjaGUubW9kZV0pXG4gICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2NvZGUnKS5hcHBlbmRUZXh0KHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2Rpc3BsYXlDYWNoZUhlYWRlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0TmFtZSh0aGlzLiNjYWNoZU5hbWUoKSlcbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0RGVzYyh0aGlzLiNjYWNoZURlc2MoKSlcblxuICAgICAgICBpZiAodGhpcy4jY2FjaGUucGF0dGVybiAhPT0gJyonKSB7XG4gICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ3RyYXNoLTInKS5zZXRUb29sdGlwKCdSZW1vdmUnKVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2NhY2hlLnBhdHRlcm4gPT09ICcqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiZmFsbGJhY2sgY29uZmlnKCcqJykgY2FuJ3QgYmUgcmVtb3ZlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5jbGVhcigpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNpbnZva2VSZW1vdmUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy4jY2FjaGUuZW5hYmxlZClcbiAgICAgICAgICAgIHRvZ2dsZS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZS5lbmFibGVkID0gdmFsdWVcbiAgICAgICAgICAgICAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuXG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0TmFtZSh0aGlzLiNjYWNoZU5hbWUoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGxldCB2aXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLWRvd24nKS5zZXRUb29sdGlwKCdEZXRhaWxzJylcbiAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlID0gIXZpc2libGVcbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc2V0SWNvbignY2hldnJvbi11cCcpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5hZGRDbGFzcygnc2hvdy1kZXRhaWxzJylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc2V0SWNvbignY2hldnJvbi1kb3duJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLnJlbW92ZUNsYXNzKCdzaG93LWRldGFpbHMnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI3RhcmdldERlc2MoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKCdBdHRhY2htZW50cyBzdG9yYWdlIHBhdGgsIGV4OicpXG5cbiAgICAgICAgICAgIGNvbnN0IHVsID0gZGl2LmNyZWF0ZUVsKCd1bCcpXG4gICAgICAgICAgICBjb25zdCBub3RlID0gdWwuY3JlYXRlRWwoJ2xpJylcbiAgICAgICAgICAgIG5vdGUuYXBwZW5kKFwiTm90ZTogJ1wiKVxuICAgICAgICAgICAgbm90ZS5jcmVhdGVFbCgnYicpLmFwcGVuZFRleHQoJ2ZvbGRlci9ub3RlMS5tZCcpXG4gICAgICAgICAgICBub3RlLmFwcGVuZChcIidcIilcblxuICAgICAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHVsLmNyZWF0ZUVsKCdsaScpXG4gICAgICAgICAgICBhdHRhY2htZW50LmFwcGVuZChcIkF0dGFjaG1lbnQ6ICdcIilcbiAgICAgICAgICAgIGNvbnN0IGIgPSBhdHRhY2htZW50LmNyZWF0ZUVsKCdiJylcblxuICAgICAgICAgICAgYi5hcHBlbmRUZXh0KG1vZGVzRXgodGhpcy4jY2FjaGUpKVxuICAgICAgICAgICAgYXR0YWNobWVudC5hcHBlbmQoXCInXCIpXG4gICAgICAgIH0pXG4gICAgfVxuICAgICNkaXNwbGF5Q2FjaGVEZXRhaWxzKCk6IHZvaWQge1xuICAgICAgICBsZXQgdGFyZ2V0SW5wdXQ6IFRleHRDb21wb25lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcblxuICAgICAgICBjb25zdCBjYWNoZVNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLiNjYWNoZURldGFpbHMpXG4gICAgICAgIGNhY2hlU2V0dGluZy5zZXROYW1lKCdBdHRhY2htZW50cyBTdG9yYWdlJylcbiAgICAgICAgY2FjaGVTZXR0aW5nLnNldERlc2ModGhpcy4jdGFyZ2V0RGVzYygpKVxuICAgICAgICBjYWNoZVNldHRpbmcuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb25zKE1PREVTX05BTUUpXG4gICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLiNjYWNoZS5tb2RlKVxuICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUubW9kZSA9IHZhbHVlIGFzIENhY2hlTW9kZVxuICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgICAgICAgICBjYWNoZVNldHRpbmcuc2V0RGVzYyh0aGlzLiN0YXJnZXREZXNjKCkpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI2NhY2hlLm1vZGUgPT09ICdOT1RFJykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbnB1dD8uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldFZhbHVlKCcnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElucHV0Py5zZXREaXNhYmxlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldFZhbHVlKHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBjYWNoZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRhcmdldElucHV0ID0gaW5wdXRcbiAgICAgICAgICAgIGlmICh0aGlzLiNjYWNoZS5tb2RlID09PSAnTk9URScpIGlucHV0LnNldERpc2FibGVkKHRydWUpXG4gICAgICAgICAgICBlbHNlIGlucHV0LnNldFZhbHVlKHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLnRhcmdldCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICAgICAgICAgIGNhY2hlU2V0dGluZy5zZXREZXNjKHRoaXMuI3RhcmdldERlc2MoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcmVtb3Rlc0Rlc2MgPSBjcmVhdGVGcmFnbWVudCgpXG4gICAgICAgIGNvbnN0IHJlbW90ZXNEZXNjVWwgPSByZW1vdGVzRGVzYy5jcmVhdGVFbCgndWwnKVxuICAgICAgICBjb25zdCByZW1vdGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuc2V0Q2xhc3MoJ3JlbW90ZXMtaW5wdXQnKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5zZXROYW1lKCdSZW1vdGVzIExpc3QnKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5zZXREZXNjKHJlbW90ZXNEZXNjKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5hZGRUZXh0QXJlYSgodGV4dGFyZWEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3JlbW90ZXNUZXh0ID0gdGV4dGFyZWFcbiAgICAgICAgICAgIHRleHRhcmVhLnNldFZhbHVlKHNlcmlhbGl6ZVJlbW90ZXModGhpcy4jY2FjaGUucmVtb3RlcykpXG4gICAgICAgICAgICB0ZXh0YXJlYS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgIHJlbW90ZXNEZXNjVWwuZW1wdHkoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2JsZW1zID0gY2hlY2tSZW1vdGVzKHZhbHVlKVxuICAgICAgICAgICAgICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1zLmZvckVhY2goKHApID0+XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVzRGVzY1VsLmNyZWF0ZUVsKCdsaScpLmFwcGVuZFRleHQocCksXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUucmVtb3RlcyA9IHBhcnNlUmVtb3Rlcyh0aGlzLiNjYWNoZS5yZW1vdGVzLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuICAgICAgICAgICAgICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAjcmVtb3RlTmFtZShyOiBDYWNoZVJlbW90ZSk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgICAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoKGRpdikgPT4ge1xuICAgICAgICAgICAgZGl2LmFwcGVuZChcbiAgICAgICAgICAgICAgICBgJHtyLndoaXRlbGlzdGVkID8gJ1doaXRlbGlzdGVkJyA6ICdCbGFja2xpc3RlZCd9IHJlbW90ZTogYCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGRpdi5jcmVhdGVFbCgnY29kZScpLmFwcGVuZFRleHQoci5wYXR0ZXJuKVxuICAgICAgICB9KVxuICAgIH1cbiAgICAjZGlzcGxheUNhY2hlUmVtb3RlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4jY2FjaGVSZW1vdGVzLmVtcHR5KClcblxuICAgICAgICBmb3IgKGNvbnN0IHJlbW90ZSBvZiB0aGlzLiNjYWNoZS5yZW1vdGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmcodGhpcy4jY2FjaGVSZW1vdGVzKVxuICAgICAgICAgICAgc2V0dGluZy5zZXROYW1lKHRoaXMuI3JlbW90ZU5hbWUocmVtb3RlKSlcblxuICAgICAgICAgICAgaWYgKHJlbW90ZS5wYXR0ZXJuICE9PSAnKicpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ3RyYXNoLTInKS5zZXRUb29sdGlwKCdSZW1vdmUnKVxuICAgICAgICAgICAgICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVzID0gdGhpcy4jY2FjaGUucmVtb3RlcyAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHIpID0+IHIucGF0dGVybiAhPT0gcmVtb3RlLnBhdHRlcm4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVSZW1vdGVzKHJlbW90ZXMpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0dGluZy5hZGRCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRCdXR0b25UZXh0KFxuICAgICAgICAgICAgICAgICAgICByZW1vdGUud2hpdGVsaXN0ZWQgPyAnQmxhY2tsaXN0JyA6ICdXaGl0ZWxpc3QnLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZXMgPSB0aGlzLiNjYWNoZS5yZW1vdGVzLm1hcCgocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIucGF0dGVybiAhPT0gcmVtb3RlLnBhdHRlcm4pIHJldHVybiByXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yLCB3aGl0ZWxpc3RlZDogIXIud2hpdGVsaXN0ZWQgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVSZW1vdGVzKHJlbW90ZXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjdXBkYXRlUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI2NhY2hlLnJlbW90ZXMgPSByZW1vdGVzXG4gICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgdGhpcy4jcmVtb3Rlc1RleHQ/LnNldFZhbHVlKHNlcmlhbGl6ZVJlbW90ZXMocmVtb3RlcykpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICAgIH1cblxuICAgICNjaGFuZ2VMaXN0ZW5lcnM6IEV2ZW50Q2FsbGJhY2tbXSA9IFtdXG4gICAgI3JlbW92ZUxpc3RlbmVyczogRXZlbnRDYWxsYmFja1tdID0gW11cblxuICAgICNpbnZva2VDaGFuZ2UoKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4jY2hhbmdlTGlzdGVuZXJzKSBsaXN0ZW5lcih0aGlzLiNjYWNoZSlcbiAgICB9XG4gICAgI2ludm9rZVJlbW92ZSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiNyZW1vdmVMaXN0ZW5lcnMpIGxpc3RlbmVyKHRoaXMuI2NhY2hlKVxuICAgIH1cblxuICAgIG9uQ2hhbmdlKGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKTogdGhpcyB7XG4gICAgICAgIHRoaXMuI2NoYW5nZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBvblJlbW92ZShjYWxsYmFjazogRXZlbnRDYWxsYmFjayk6IHRoaXMge1xuICAgICAgICB0aGlzLiNyZW1vdmVMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7XG4gICAgQXR0YWNobWVudHNDYWNoZVBsdWdpbixcbiAgICBDYWNoZUNvbmZpZyxcbiAgICBQbHVnaW5TZXR0aW5ncyxcbn0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7XG4gICAgQnV0dG9uQ29tcG9uZW50LFxuICAgIERyb3Bkb3duQ29tcG9uZW50LFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBUZXh0Q29tcG9uZW50LFxufSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7fSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQgeyBjaGVja1BhdHRlcm4sIHByZXBhcmVDb25maWdzIH0gZnJvbSAnQC91dGlsaXR5J1xuaW1wb3J0IHsgQ2FjaGVTZXR0aW5ncyB9IGZyb20gJy4vQ2FjaGVTZXR0aW5ncydcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgI3BsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpblxuICAgICNzZXR0aW5nczogUGx1Z2luU2V0dGluZ3NcblxuICAgICNjb25maWdzTGlzdD86IEhUTUxEaXZFbGVtZW50XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIocGx1Z2luLmFwcCwgcGx1Z2luKVxuICAgICAgICB0aGlzLiNwbHVnaW4gPSBwbHVnaW5cbiAgICAgICAgdGhpcy4jc2V0dGluZ3MgPSBwbHVnaW4uc2V0dGluZ3NcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICAvLyBUT0RPOiBwZXJzaXN0IGRhdGFcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KClcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygnYXR0YWNobWVudHMtY2FjaGUtc2V0dGluZ3MnKVxuXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MoKVxuXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpLnNldE5hbWUoJ1BhdGhzIFNldHRpbmdzJykuc2V0SGVhZGluZygpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDb25maWdzSGVhZGVyKClcbiAgICAgICAgdGhpcy4jY29uZmlnc0xpc3QgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdignY29uZmlncy1saXN0JylcbiAgICAgICAgdGhpcy4jZGlzcGxheUNvbmZpZ3NMaXN0KClcbiAgICB9XG5cbiAgICAjZGlzcGxheUdlbmVyYWxTZXR0aW5ncygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbGV2ZWxTZXR0aW5nID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgbGV2ZWxTZXR0aW5nLnNldE5hbWUoJ1BsdWdnaW5nIExvZyBMZXZlbCcpXG4gICAgICAgIGxldmVsU2V0dGluZy5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignRVJST1InLCAnRVJST1InKVxuICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdXQVJOJywgJyBXQVJOJylcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignSU5GTycsICcgSU5GTycpXG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ0RFQlVHJywgJ0RFQlVHJylcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignVFJBQ0UnLCAnVFJBQ0UnKVxuICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy4jc2V0dGluZ3MubG9nX2xldmVsKVxuICAgICAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ2xvZ19sZXZlbCcpKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGNoYXJzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIGNoYXJzU2V0dGluZy5zZXROYW1lKCdLZWVwIFNwZWNpYWwgQ2hhcmFjdGVycycpXG4gICAgICAgIGNoYXJzU2V0dGluZy5zZXREZXNjKFxuICAgICAgICAgICAgJ0lmIHlvdSBhcmUgaGF2aW5nIHByb2JsZW1zIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIG9uIHBhdGhzLCBkaXNhYmxlIHRoaXMgc2V0dGluZy4nLFxuICAgICAgICApXG4gICAgICAgIGNoYXJzU2V0dGluZy5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMuI3NldHRpbmdzLmFsbG93X2NoYXJhY3RlcnMpXG4gICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ2FsbG93X2NoYXJhY3RlcnMnKSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyNyZWdpb24gVVJMIHBhcmFtc1xuICAgICAgICBjb25zdCB1cmxjYWNoZVNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICB1cmxjYWNoZVNldHRpbmcuc2V0TmFtZSgnVVJMIFBhcmFtIENhY2hlJylcbiAgICAgICAgdXJsY2FjaGVTZXR0aW5nLnNldERlc2MoJ092ZXJyaWRlcyBzdGFuZGFyZCBydWxlcyBhbmQgc3RvcmVzIHRoZSBmaWxlLicpXG4gICAgICAgIHVybGNhY2hlU2V0dGluZy5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuc2V0VmFsdWUodGhpcy4jc2V0dGluZ3MudXJsX3BhcmFtX2NhY2hlKVxuICAgICAgICAgICAgaW5wdXQub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ3VybF9wYXJhbV9jYWNoZScpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCB1cmxpZ25vcmVTZXR0aW5nID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgdXJsaWdub3JlU2V0dGluZy5zZXROYW1lKCdVUkwgUGFyYW0gSWdub3JlJylcbiAgICAgICAgdXJsaWdub3JlU2V0dGluZy5zZXREZXNjKFxuICAgICAgICAgICAgJ092ZXJyaWRlcyBzdGFuZGFyZCBydWxlcyBhbmQgaWdub3JlcyB0aGUgZmlsZS4nLFxuICAgICAgICApXG4gICAgICAgIHVybGlnbm9yZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3NldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2lnbm9yZScpKVxuICAgICAgICB9KVxuICAgICAgICAvLyNlbmRyZWdpb25cbiAgICB9XG5cbiAgICAjZGlzcGxheUNvbmZpZ3NIZWFkZXIoKTogdm9pZCB7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5wdXQ6IFRleHRDb21wb25lbnQgfCBudWxsID0gbnVsbFxuICAgICAgICBsZXQgc291cmNlRHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50IHwgbnVsbCA9IG51bGxcbiAgICAgICAgbGV0IGR1cGxpY2F0ZUJ1dHRvbjogQnV0dG9uQ29tcG9uZW50IHwgbnVsbCA9IG51bGxcblxuICAgICAgICBjb25zdCBoZWFkZXJEZXNjID0gY3JlYXRlRnJhZ21lbnQoKVxuICAgICAgICBjb25zdCBoZWFkZXJEZXNjVWwgPSBoZWFkZXJEZXNjLmNyZWF0ZUVsKCd1bCcpXG5cbiAgICAgICAgY29uc3QgaGVhZGVyRWwgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICBoZWFkZXJFbC5zZXRDbGFzcygnY29uZmlncy1oZWFkZXInKVxuICAgICAgICBoZWFkZXJFbC5zZXROYW1lKCdEdXBsaWNhdGUgVmF1bHQgUGF0aCcpXG4gICAgICAgIGhlYWRlckVsLnNldERlc2MoaGVhZGVyRGVzYylcbiAgICAgICAgaGVhZGVyRWwuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dCA9IGlucHV0XG4gICAgICAgICAgICBpbnB1dC5zZXRQbGFjZWhvbGRlcignZ2xvYjogKiovKi5tZCcpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJEZXNjVWwuZW1wdHkoKVxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uPy5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2JsZW1zID0gY2hlY2tQYXR0ZXJuKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKHByb2JsZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbXMuZm9yRWFjaCgocCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlckRlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVCdXR0b24/LnNldERpc2FibGVkKHByb2JsZW1zLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBoZWFkZXJFbC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIHNvdXJjZURyb3Bkb3duID0gZHJvcGRvd25cbiAgICAgICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKCcqJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oY29uZmlnLnBhdHRlcm4sIGNvbmZpZy5wYXR0ZXJuKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBoZWFkZXJFbC5hZGRCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uID0gYnV0dG9uXG4gICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgnRHVwbGljYXRlJylcbiAgICAgICAgICAgIGJ1dHRvbi5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybklucHV0Py5nZXRWYWx1ZSgpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmID0gc291cmNlRHJvcGRvd24/LmdldFZhbHVlKCkgPz8gJyonXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIChpKSA9PiBpLnBhdHRlcm4gPT09IHJlZixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaCB8fCAhc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndW5leHBlY3RlZCBzdGF0ZScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZ3MgPSB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzXG4gICAgICAgICAgICAgICAgY29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZXM6IHNyYy5yZW1vdGVzLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBzcmMuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBzcmMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBzcmMubW9kZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHRoaXMuI3VwZGF0ZUNvbmZpZ3MoY29uZmlncylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI2Rpc3BsYXlDb25maWdzTGlzdCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLiNjb25maWdzTGlzdCkgcmV0dXJuXG4gICAgICAgIHRoaXMuI2NvbmZpZ3NMaXN0LmVtcHR5KClcblxuICAgICAgICBmb3IgKGNvbnN0IGNhY2hlIG9mIHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgQ2FjaGVTZXR0aW5ncyh0aGlzLiNjb25maWdzTGlzdCwgY2FjaGUpXG4gICAgICAgICAgICBzZXR0aW5nLm9uQ2hhbmdlKChfY2FjaGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZS1yZW5kZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyAvL1xuICAgICAgICAgICAgICAgICAgICAubWFwKChjKSA9PiAoYy5wYXR0ZXJuID09PSBfY2FjaGUucGF0dGVybiA/IF9jYWNoZSA6IGMpKVxuICAgICAgICAgICAgICAgIHRoaXMuI3VwZGF0ZUNvbmZpZ3MoY29uZmlncylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBzZXR0aW5nLm9uUmVtb3ZlKChfY2FjaGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhbiB1cCBvZiByZWRlciBpcyBhbHJlYWR5IGhhbmRsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZ3MgPSB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzIC8vXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGMpID0+IGMucGF0dGVybiAhPT0gX2NhY2hlLnBhdHRlcm4pXG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQ29uZmlncyhjb25maWdzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgICNoYW5kbGUoa2V5OiBrZXlvZiBQbHVnaW5TZXR0aW5ncywgdmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBkeW5hbWljIGFzc2lnbm1lbnRcbiAgICAgICAgdGhpcy4jc2V0dGluZ3Nba2V5XSA9IHZhbHVlXG4gICAgICAgIHZvaWQgdGhpcy4jcGx1Z2luLnNhdmVTZXR0aW5ncygpXG4gICAgfVxuICAgICN1cGRhdGVDb25maWdzKGNvbmZpZzogQ2FjaGVDb25maWdbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzID0gcHJlcGFyZUNvbmZpZ3MoY29uZmlnKVxuICAgICAgICB2b2lkIHRoaXMuI3BsdWdpbi5zYXZlU2V0dGluZ3MoKVxuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQXR0YWNobWVudHNDYWNoZVBsdWdpbiB9IGZyb20gJ0AvdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBNYXJrZG93bkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7fVxuXG4gICAgcHVibGljIHJlZ2lzdGVyTWFya2Rvd25Qcm9jZXNzb3IoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKFxuICAgICAgICAgICAgKGVsZW1lbnQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChlbCkgPT4gdm9pZCB0aGlzLiNpbWFnZShlbCwgY3R4LnNvdXJjZVBhdGgpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRPRE86IHRlc3QgdGhpcyBwYXJhbWV0ZXJcbiAgICAgICAgICAgIC8vIC8qKlxuICAgICAgICAgICAgLy8gICogaGlnaGVyIG51bWJlciBhZmZlY3RzIGFmdGVyLFxuICAgICAgICAgICAgLy8gICogZW5zdXJpbmcgaXQgYWZmZWN0cyB0aGUgb3V0cHV0IG9mIG90aGVyIHByb2Nlc3NvcnNcbiAgICAgICAgICAgIC8vICAqLyAxMDAwMCxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGFzeW5jICNpbWFnZShlbDogSFRNTEltYWdlRWxlbWVudCwgc291cmNlUGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpLmNhY2hlKHNvdXJjZVBhdGgsIGVsLnNyYylcbiAgICAgICAgaWYgKHJlc29sdmVkKSBlbC5zcmMgPSByZXNvbHZlZFxuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQXR0YWNobWVudHNDYWNoZVBsdWdpbiwgQ2FjaGVNYXRjaGVyIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB0eXBlIHsgQXR0YWNobWVudHNDYWNoZVBsdWdpbkFQSSB9IGZyb20gJ0AvaW5kZXgnXG5pbXBvcnQgeyBWYXVsdCwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkksIFVSTCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IGdldFJlbW90ZUNvbnRlbnQsIGdldFJlbW90ZUV4dCwgQXR0YWNobWVudEVycm9yIH0gZnJvbSAnLi91dGlsaXR5J1xuXG5pbnRlcmZhY2UgUmVtb3RlRGVmIHtcbiAgICBub3RlcGF0aDogc3RyaW5nXG4gICAgcmVtb3RlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRzQ2FjaGVBUEkgaW1wbGVtZW50cyBBdHRhY2htZW50c0NhY2hlUGx1Z2luQVBJIHtcbiAgICBwdWJsaWMgbG9nOiBMb2dnZXJcblxuICAgICN2YXVsdDogVmF1bHRcbiAgICAjcGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luXG5cbiAgICAjbWVtbyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+KClcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpbikge1xuICAgICAgICB0aGlzLmxvZyA9IHBsdWdpbi5sb2cubWFrZShBdHRhY2htZW50c0NhY2hlQVBJLm5hbWUpXG4gICAgICAgIHRoaXMuI3ZhdWx0ID0gcGx1Z2luLmFwcC52YXVsdFxuICAgICAgICB0aGlzLiNwbHVnaW4gPSBwbHVnaW5cbiAgICB9XG5cbiAgICBtYXlDYWNoZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLiNmaW5kQ2FjaGVSdWxlKHsgbm90ZXBhdGgsIHJlbW90ZSB9LCB0aGlzLmxvZylcbiAgICB9XG5cbiAgICBhc3luYyBpc0NhY2hlZChub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLnJlc29sdmUobm90ZXBhdGgsIHJlbW90ZSlcbiAgICAgICAgcmV0dXJuIGxvY2FsUGF0aCA/IGF3YWl0IHRoaXMuI3ZhdWx0LmFkYXB0ZXIuZXhpc3RzKGxvY2FsUGF0aCkgOiBmYWxzZVxuICAgIH1cblxuICAgIGFzeW5jIHJlc291cmNlKFxuICAgICAgICBub3RlcGF0aDogc3RyaW5nLFxuICAgICAgICByZW1vdGU6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLnJlc29sdmUobm90ZXBhdGgsIHJlbW90ZSlcbiAgICAgICAgaWYgKCFsb2NhbFBhdGgpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLiN2YXVsdC5nZXRGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICAgICAgcmV0dXJuIGZpbGUgPyB0aGlzLiN2YXVsdC5nZXRSZXNvdXJjZVBhdGgoZmlsZSkgOiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBhc3luYyByZXNvbHZlKFxuICAgICAgICBub3RlcGF0aDogc3RyaW5nLFxuICAgICAgICByZW1vdGU6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMubG9nLmdyb3VwKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ3JvdXAuZGVidWcoJ1Jlc29sdmluZycsIHsgbm90ZXBhdGgsIHJlbW90ZSB9KVxuICAgICAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy4jcmVzb2x2ZSh7IG5vdGVwYXRoLCByZW1vdGUgfSwgZ3JvdXApXG4gICAgICAgICAgICBpZiAobG9jYWxQYXRoKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSByZXNvbHZlZCcsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxQYXRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBncm91cC5lcnJvcihlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmZsdXNoKCdyZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkJywgcmVtb3RlKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBhc3luYyBjYWNoZShub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5sb2cuZ3JvdXAoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBncm91cC5kZWJ1ZygnQ2FjaGluZycsIHsgbm90ZXBhdGgsIHJlbW90ZSB9KVxuICAgICAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy4jcmVzb2x2ZSh7IG5vdGVwYXRoLCByZW1vdGUgfSwgZ3JvdXApXG4gICAgICAgICAgICBpZiAoIWxvY2FsUGF0aCkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmRlYnVnKCdyZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkJylcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIHdhcyBub3QgY2FjaGVkJywgcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBleGlzdGVuY2VcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZEZpbGUgPSB0aGlzLiN2YXVsdC5nZXRGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICAgICAgICAgIGlmIChjYWNoZWRGaWxlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSBpcyBhbHJlYWR5IGluIGNhY2hlJywgcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiN2YXVsdC5nZXRSZXNvdXJjZVBhdGgoY2FjaGVkRmlsZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG93bmxvYWQgZmlsZVxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGdldFJlbW90ZUNvbnRlbnQocmVtb3RlLCBncm91cClcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI3ZhdWx0LmFkYXB0ZXIubWtkaXIoVVJJLmdldFBhcmVudChsb2NhbFBhdGgpKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy4jdmF1bHQuYWRhcHRlci53cml0ZUJpbmFyeShsb2NhbFBhdGgsIGNvbnRlbnQpXG5cbiAgICAgICAgICAgIC8vIGNoZWNrIHJlc3VsdFxuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRlZEZpbGUgPSB0aGlzLiN2YXVsdC5nZXRGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICAgICAgICAgIGlmIChkb3dubG9hZGVkRmlsZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmZsdXNoKCdyZW1vdGUgd2FzIGNhY2hlZCcsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGRvd25sb2FkZWRGaWxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZ3JvdXAuZXJyb3IoZXJyb3IpXG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIGNvdWxkIG5vdCBiZSBjYWNoZWQnLCByZW1vdGUpXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgICNmaW5kQ2FjaGVSdWxlKHY6IFJlbW90ZURlZiwgbG9nPzogTG9nZ2VyKTogQ2FjaGVNYXRjaGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbG9nPy5kZWJ1Zygnc2VhcmNoaW5nIGFuIGFjdGl2ZSBjYWNoZSBydWxlJylcbiAgICAgICAgY29uc3QgbWF0Y2hlciA9IHRoaXMuI3BsdWdpbi5zdGF0ZS5jYWNoZV9tYXRjaGVycyAvL1xuICAgICAgICAgICAgLmZpbmQoKG1hdGNoZXIpID0+IG1hdGNoZXIudGVzdFBhdGgodi5ub3RlcGF0aCkpXG5cbiAgICAgICAgLy8gbm90LWZvdW5kIG9yIGRpc2FibGVkIHBhdGhzXG4gICAgICAgIGlmICghbWF0Y2hlcj8uaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIGxvZz8uZGVidWcoJ25vdGVwYXRoIGRvZXMgbm90IG1hdGNoIGFuZCBhY3RpdmUgcnVsZScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBlci1saW5rIG92ZXJyaWRlc1xuICAgICAgICBpZiAodGhpcy4jcGx1Z2luLnN0YXRlLnVybF9pZ25vcmVfbWF0Y2hlcih2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZz8uZGVidWcoJ3JlbW90ZSBpcyBtYXJrZWQgdG8gYmUgaWdub3JlZCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jcGx1Z2luLnN0YXRlLnVybF9jYWNoZV9tYXRjaGVyKHYucmVtb3RlKSkge1xuICAgICAgICAgICAgbG9nPy5kZWJ1ZygncmVtb3RlIGlzIG1hcmtlZCB0byBiZSBjYWNoZWQnKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YW5kYXJkIGJlaGF2aW9yXG4gICAgICAgIGlmIChtYXRjaGVyLnRlc3RSZW1vdGUodi5yZW1vdGUpKSB7XG4gICAgICAgICAgICBsb2c/LmRlYnVnKCdyZW1vdGUgbWF0Y2hlcyBhbiBhY3RpdmUgcnVsZScpXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlclxuICAgICAgICB9XG5cbiAgICAgICAgbG9nPy5kZWJ1ZygncmVtb3RlIGRvZXMgbm90IG1hdGNoIGFuZCBhY3RpdmUgcnVsZScpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICAvKiogQHRocm93cyB7QXR0YWNobWVudEVycm9yfSAqL1xuICAgIGFzeW5jICNyZXNvbHZlKHY6IFJlbW90ZURlZiwgbG9nOiBMb2dnZXIpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gVVJMLmdldEJhc2V1cmwodi5yZW1vdGUpXG4gICAgICAgIGlmICghYmFzZVVybCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgaXMgbm90IGEgdmFsaWQgVVJMJylcbiAgICAgICAgICAgIHRocm93IG5ldyBBdHRhY2htZW50RXJyb3IoJ3JlbW90ZS1uby11cmwnLCBgcmVtb3RlKCR7di5yZW1vdGV9KWApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYXN0ZXIgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBjYWNoZWRQYXRoID0gdGhpcy4jbWVtby5nZXQoYmFzZVVybClcbiAgICAgICAgaWYgKGNhY2hlZFBhdGgpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIHJlc29sdmVkIGZyb20gY2FjaGUnLCBjYWNoZWRQYXRoKVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFBhdGhcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlkZW50aWZ5IGJlaGF2aW9yXG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSB0aGlzLiNmaW5kQ2FjaGVSdWxlKHYsIGxvZylcbiAgICAgICAgaWYgKCFtYXRjaGVyKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ2EgY2FjaGUgcnVsZSBjb3VsZCBub3QgYmUgbWF0Y2hlZCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSBub3JtYWxpemF0aW9uXG4gICAgICAgIGNvbnN0IG5hbWUgPSBVUkkuZ2V0QmFzZW5hbWUoYmFzZVVybClcbiAgICAgICAgY29uc3QgZXh0ID0gVVJJLmdldEV4dChiYXNlVXJsKSA/PyAoYXdhaXQgZ2V0UmVtb3RlRXh0KHYucmVtb3RlLCBsb2cpKVxuICAgICAgICBpZiAoIW5hbWUgfHwgIWV4dCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKGBuYW1lKCR7bmFtZX0pIG9yIGV4dCgke2V4dH0pIGNvdWxkIG5vdCBiZSByZXNvbHZlZGApXG4gICAgICAgICAgICB0aHJvdyBuZXcgQXR0YWNobWVudEVycm9yKCdyZW1vdGUtbm8tZXh0JylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVwYXRoID0gVVJJLmpvaW4obWF0Y2hlci5yZXNvbHZlKHYubm90ZXBhdGgpLCBuYW1lICsgJy4nICsgZXh0KVxuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSAhdGhpcy4jcGx1Z2luLnNldHRpbmdzLmFsbG93X2NoYXJhY3RlcnNcbiAgICAgICAgICAgID8gbm9ybWFsaXplUGF0aChVUkkubm9ybWFsaXplKGZpbGVwYXRoKSlcbiAgICAgICAgICAgIDogbm9ybWFsaXplUGF0aChmaWxlcGF0aClcblxuICAgICAgICAvLyBzYXZlIGZvciBmYXN0ZXIgcmVzb2x1dGlvblxuICAgICAgICB0aGlzLiNtZW1vLnNldChiYXNlVXJsLCBsb2NhbFBhdGgpXG5cbiAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgcmVzb2x2ZWQnLCBsb2NhbFBhdGgpXG4gICAgICAgIHJldHVybiBsb2NhbFBhdGhcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBsdWdpblNldHRpbmdzLCBQbHVnaW5TdGF0ZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQge1xuICAgIHByZXBhcmVDb25maWdzLFxuICAgIHByZXBhcmVDb25maWdNYXRjaGVycyxcbiAgICBwcmVwYXJlUmVtb3RlTWF0Y2hlcixcbn0gZnJvbSAnLi91dGlsaXR5J1xuaW1wb3J0IHsgU2V0dGluZ3NUYWIgfSBmcm9tICcuL3NldHRpbmdzL1NldHRpbmdzVGFiJ1xuaW1wb3J0IHsgTWFya2Rvd25IYW5kbGVyIH0gZnJvbSAnLi9maWxlc3lzdGVtL01hcmtkb3duSGFuZGxlcidcbmltcG9ydCB7IEF0dGFjaG1lbnRzQ2FjaGVBUEkgfSBmcm9tICcuL0F0dGFjaG1lbnRzQ2FjaGVBUEknXG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBsdWdpblNldHRpbmdzID0ge1xuICAgIC8vICogV0FSTiBsZXZlbCB0byBmb3JjZSB0aGUgdXNlciB0byBjaG9vc2UgYSBsb3dlciBsZXZlbCB3aGVuIGlzIHJlcXVpcmVkXG4gICAgLy8gKiB0aGlzIGRlY2l0aW9uLCBwcmV2ZW50cyB0aGUgY29uc29sZSBmcm9tIGJlZW4gb3ZlcnBvcHVsYXRlZCBieSBkZWZhdWx0XG4gICAgbG9nX2xldmVsOiAnV0FSTicsXG4gICAgYWxsb3dfY2hhcmFjdGVyczogZmFsc2UsXG4gICAgdXJsX3BhcmFtX2NhY2hlOiAnY2FjaGVfZmlsZScsXG4gICAgdXJsX3BhcmFtX2lnbm9yZTogJ2lnbm9yZV9maWxlJyxcbiAgICBjYWNoZV9jb25maWdzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhdHRlcm46ICcqJyxcbiAgICAgICAgICAgIHJlbW90ZXM6IFt7IHdoaXRlbGlzdGVkOiBmYWxzZSwgcGF0dGVybjogJyonIH1dLFxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICB0YXJnZXQ6ICcnLFxuICAgICAgICAgICAgbW9kZTogJ05PVEUnLFxuICAgICAgICB9LFxuICAgIF0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHB1YmxpYyBsb2cgPSBMb2dnZXIuY29uc29sZUxvZ2dlcihBdHRhY2htZW50c0NhY2hlUGx1Z2luLm5hbWUpXG5cbiAgICBwdWJsaWMgc2V0dGluZ3MgPSB7fSBhcyBQbHVnaW5TZXR0aW5nc1xuICAgIHB1YmxpYyBzdGF0ZSA9IHt9IGFzIFBsdWdpblN0YXRlXG5cbiAgICBwdWJsaWMgYXBpOiBBdHRhY2htZW50c0NhY2hlQVBJXG4gICAgcHVibGljIG1hcmtkb3duOiBNYXJrZG93bkhhbmRsZXJcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcbiAgICAgICAgc3VwZXIoYXBwLCBtYW5pZmVzdClcblxuICAgICAgICAvLyAqIGFsd2F5cyBwcmludGluZyB0aGUgZmlyc3QgbG9hZFNldHRpbmdzKClcbiAgICAgICAgLy8gKiBhZnRlciB0aGF0LCB0aGUgdXNlci1kZWZpbmVkIGxldmVsIGlzIHVzZWRcbiAgICAgICAgdGhpcy5sb2cuc2V0TGV2ZWwoTG9nTGV2ZWwuREVCVUcpXG4gICAgICAgIHRoaXMubG9nLnNldEZvcm1hdCgnW2hoOm1tOnNzLm1zXSBsZXZlbDonKVxuICAgICAgICB0aGlzLmFwaSA9IG5ldyBBdHRhY2htZW50c0NhY2hlQVBJKHRoaXMpXG4gICAgICAgIHRoaXMubWFya2Rvd24gPSBuZXcgTWFya2Rvd25IYW5kbGVyKHRoaXMpXG5cbiAgICAgICAgLy8gdGhyaWQtcGFydHkgQVBJXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm9uLXN0YW5kYXJkIEFQSVxuICAgICAgICB3aW5kb3cuQXR0YWNobWVudHNDYWNoZSA9IHRoaXMuYXBpXG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ3NUYWIodGhpcykpXG5cbiAgICAgICAgdGhpcy5tYXJrZG93bi5yZWdpc3Rlck1hcmtkb3duUHJvY2Vzc29yKClcbiAgICB9XG5cbiAgICAvLyBhc3luYyBvbnVubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyAgICAgLy8gVE9ET1xuICAgIC8vIH1cblxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmxvZy5ncm91cCgnTG9hZGluZyBTZXR0aW5ncycpXG4gICAgICAgIGNvbnN0IHsgY2FjaGVfY29uZmlncywgLi4ucHJpbWl0aXZlcyB9ID0gKChhd2FpdCB0aGlzLmxvYWREYXRhKCkpIHx8XG4gICAgICAgICAgICB7fSkgYXMgUGFydGlhbDxQbHVnaW5TZXR0aW5ncz5cblxuICAgICAgICAvLyBlbnN1cmUgYSBmYWxsYmFjayB2YWx1ZSBpcyBwcmVzZW50XG4gICAgICAgIC8vIGVuc3VyZSBvcmRlciBvZiBjb25maWdzIGFuZCByZW1vdGVzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBwcmltaXRpdmVzKVxuICAgICAgICB0aGlzLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgPSBwcmVwYXJlQ29uZmlncyhbXG4gICAgICAgICAgICAuLi4oY2FjaGVfY29uZmlncyA/PyBbXSksXG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLmNhY2hlX2NvbmZpZ3MsXG4gICAgICAgIF0pXG5cbiAgICAgICAgZ3JvdXAuZGVidWcoJ0xvYWRlZDogJywgdGhpcy5zZXR0aW5ncylcblxuICAgICAgICB0aGlzLiNwcmVwYXJlU3RhdGUoZ3JvdXApXG4gICAgICAgIGdyb3VwLmZsdXNoKCdMb2FkZWQgU2V0dGluZ3MnKVxuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmxvZy5ncm91cCgnU2F2aW5nIFNldHRpbmdzJylcbiAgICAgICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MpXG5cbiAgICAgICAgLy8gc2VyaWFsaXplIHNwZWNpYWwgZGF0YSB0eXBlcyAoTWFwLCBTZXQsIGV0YylcbiAgICAgICAgLy8gZW5zdXJlIG9yZGVyIG9mIGNvbmZpZ3MgYW5kIHJlbW90ZXNcbiAgICAgICAgZGF0YS5jYWNoZV9jb25maWdzID0gcHJlcGFyZUNvbmZpZ3MoZGF0YS5jYWNoZV9jb25maWdzKVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEoZGF0YSlcbiAgICAgICAgZ3JvdXAuZGVidWcoJ1NhdmVkOiAnLCBkYXRhKVxuXG4gICAgICAgIHRoaXMuI3ByZXBhcmVTdGF0ZShncm91cClcbiAgICAgICAgZ3JvdXAuZmx1c2goJ1NhdmVkIFNldHRpbmdzJylcbiAgICB9XG5cbiAgICAjcHJlcGFyZVN0YXRlKGxvZzogTG9nZ2VyKTogdm9pZCB7XG4gICAgICAgIGxvZy5pbmZvKCdQcmVwYXJpbmcgc3RhdGUnKVxuXG4gICAgICAgIC8vICogY2hhbmdlcyBsb2cgbGV2ZWwgYmFzZWQgb24gdXNlciBpbnB1dFxuICAgICAgICB0aGlzLmxvZy5zZXRMZXZlbChMb2dMZXZlbFt0aGlzLnNldHRpbmdzLmxvZ19sZXZlbF0pXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjYWNoZV9tYXRjaGVyczogcHJlcGFyZUNvbmZpZ01hdGNoZXJzKHRoaXMuc2V0dGluZ3MuY2FjaGVfY29uZmlncyksXG4gICAgICAgICAgICB1cmxfY2FjaGVfbWF0Y2hlcjogcHJlcGFyZVJlbW90ZU1hdGNoZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdXJsX2lnbm9yZV9tYXRjaGVyOiBwcmVwYXJlUmVtb3RlTWF0Y2hlcihcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUsXG4gICAgICAgICAgICApLFxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInB0IiwibiIsImciLCJ3dCIsIlYiLCIjcyIsIiNlIiwiI24iLCJpIiwiciIsIm10IiwibyIsIkp0IiwiUXQiLCJBdHRhY2htZW50RXJyb3IiLCJjb2RlIiwiY2F1c2UiLCJ1cmwiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCIjZGVzY3JpcHRpb24iLCJjb21wYXJlQnlTcGVjaWZpY2l0eSIsImEiLCJiIiwiZ2V0TWltZUV4dCIsIm1pbWUiLCJiYWxhbmNlZE1hdGNoIiwiYmFsYW5jZWQiLCJzdHIiLCJtYXliZU1hdGNoIiwicmFuZ2UiLCJyZWciLCJtIiwiYmVncyIsImJlZyIsImxlZnQiLCJyaWdodCIsInJlc3VsdCIsImFpIiwiYmkiLCJyZXF1aXJlJCQwIiwiYnJhY2VFeHBhbnNpb24iLCJleHBhbmRUb3AiLCJlc2NTbGFzaCIsImVzY09wZW4iLCJlc2NDbG9zZSIsImVzY0NvbW1hIiwiZXNjUGVyaW9kIiwibnVtZXJpYyIsImVzY2FwZUJyYWNlcyIsInVuZXNjYXBlQnJhY2VzIiwicGFyc2VDb21tYVBhcnRzIiwicGFydHMiLCJwcmUiLCJib2R5IiwicG9zdCIsInAiLCJwb3N0UGFydHMiLCJleHBhbmQiLCJlbWJyYWNlIiwiaXNQYWRkZWQiLCJlbCIsImx0ZSIsInkiLCJndGUiLCJpc1RvcCIsImV4cGFuc2lvbnMiLCJrIiwiZXhwYW5zaW9uIiwiaXNOdW1lcmljU2VxdWVuY2UiLCJpc0FscGhhU2VxdWVuY2UiLCJpc1NlcXVlbmNlIiwiaXNPcHRpb25zIiwiTiIsIngiLCJ3aWR0aCIsImluY3IiLCJ0ZXN0IiwicmV2ZXJzZSIsInBhZCIsImMiLCJuZWVkIiwieiIsImoiLCJNQVhfUEFUVEVSTl9MRU5HVEgiLCJhc3NlcnRWYWxpZFBhdHRlcm4iLCJwYXR0ZXJuIiwicG9zaXhDbGFzc2VzIiwiYnJhY2VFc2NhcGUiLCJzIiwicmVnZXhwRXNjYXBlIiwicmFuZ2VzVG9TdHJpbmciLCJyYW5nZXMiLCJwYXJzZUNsYXNzIiwiZ2xvYiIsInBvc2l0aW9uIiwicG9zIiwibmVncyIsInNhd1N0YXJ0IiwidWZsYWciLCJlc2NhcGluZyIsIm5lZ2F0ZSIsImVuZFBvcyIsInJhbmdlU3RhcnQiLCJXSElMRSIsImNscyIsInVuaXAiLCJ1IiwibmVnIiwic3JhbmdlcyIsInNuZWdzIiwidW5lc2NhcGUiLCJ3aW5kb3dzUGF0aHNOb0VzY2FwZSIsInR5cGVzIiwiaXNFeHRnbG9iVHlwZSIsInN0YXJ0Tm9UcmF2ZXJzYWwiLCJzdGFydE5vRG90IiwiYWRkUGF0dGVyblN0YXJ0IiwianVzdERvdHMiLCJyZVNwZWNpYWxzIiwicmVnRXhwRXNjYXBlIiwicW1hcmsiLCJzdGFyIiwic3Rhck5vRW1wdHkiLCJBU1QiLCIjcm9vdCIsIiNoYXNNYWdpYyIsIiN1ZmxhZyIsIiNwYXJ0cyIsIiNwYXJlbnQiLCIjcGFyZW50SW5kZXgiLCIjbmVncyIsIiNmaWxsZWROZWdzIiwiI29wdGlvbnMiLCIjdG9TdHJpbmciLCIjZW1wdHlFeHQiLCJ0eXBlIiwicGFyZW50Iiwib3B0aW9ucyIsIiNmaWxsTmVncyIsInBwIiwicGFydCIsInJldCIsInBsIiwiI3BhcnNlQVNUIiwiYXN0Iiwib3B0IiwiaW5CcmFjZSIsImJyYWNlU3RhcnQiLCJicmFjZU5lZyIsImFjYyIsImV4dCIsInJlIiwiaGFzTWFnaWMiLCJmbGFncyIsImFsbG93RG90IiwiZG90Iiwibm9FbXB0eSIsInNyYyIsIl8iLCIjcGFyc2VHbG9iIiwic3RhcnQiLCJhcHMiLCJuZWVkTm9UcmF2IiwibmVlZE5vRG90IiwiZW5kIiwicmVwZWF0ZWQiLCIjcGFydHNUb1JlZ0V4cCIsImJvZHlEb3RBbGxvd2VkIiwiZmluYWwiLCJjbG9zZSIsIl9oYXNNYWdpYyIsIm5lZWRVZmxhZyIsImNvbnN1bWVkIiwibWFnaWMiLCJlc2NhcGUiLCJtaW5pbWF0Y2giLCJNaW5pbWF0Y2giLCJzdGFyRG90RXh0UkUiLCJzdGFyRG90RXh0VGVzdCIsImYiLCJzdGFyRG90RXh0VGVzdERvdCIsInN0YXJEb3RFeHRUZXN0Tm9jYXNlIiwic3RhckRvdEV4dFRlc3ROb2Nhc2VEb3QiLCJzdGFyRG90U3RhclJFIiwic3RhckRvdFN0YXJUZXN0Iiwic3RhckRvdFN0YXJUZXN0RG90IiwiZG90U3RhclJFIiwiZG90U3RhclRlc3QiLCJzdGFyUkUiLCJzdGFyVGVzdCIsInN0YXJUZXN0RG90IiwicW1hcmtzUkUiLCJxbWFya3NUZXN0Tm9jYXNlIiwiJDAiLCJub2V4dCIsInFtYXJrc1Rlc3ROb0V4dCIsInFtYXJrc1Rlc3ROb2Nhc2VEb3QiLCJxbWFya3NUZXN0Tm9FeHREb3QiLCJxbWFya3NUZXN0RG90IiwicW1hcmtzVGVzdCIsImxlbiIsImRlZmF1bHRQbGF0Zm9ybSIsInBhdGgiLCJzZXAiLCJHTE9CU1RBUiIsInR3b1N0YXJEb3QiLCJ0d29TdGFyTm9Eb3QiLCJmaWx0ZXIiLCJkZWZhdWx0cyIsImRlZiIsIm9yaWciLCJsaXN0IiwiYnJhY2VFeHBhbmQiLCJtYWtlUmUiLCJtYXRjaCIsIm1tIiwiZ2xvYk1hZ2ljIiwiYXJncyIsInJhd0dsb2JQYXJ0cyIsInNldCIsIl9fIiwiaXNVTkMiLCJpc0RyaXZlIiwic3MiLCJnbG9iUGFydHMiLCJvcHRpbWl6YXRpb25MZXZlbCIsImdzIiwicHJldiIsImRpZFNvbWV0aGluZyIsImRkIiwiZ3NzIiwibmV4dCIsInAyIiwib3RoZXIiLCJzcGxpbiIsIm1hdGNoZWQiLCJlbXB0eUdTTWF0Y2giLCJ3aGljaCIsIm5lZ2F0ZU9mZnNldCIsImZpbGUiLCJwYXJ0aWFsIiwiZmlsZURyaXZlIiwiZmlsZVVOQyIsInBhdHRlcm5Ecml2ZSIsInBhdHRlcm5VTkMiLCJmZGkiLCJwZGkiLCJmZCIsInBkIiwiZmkiLCJwaSIsImZsIiwiZnIiLCJwciIsInN3YWxsb3dlZSIsImhpdCIsImZhc3RUZXN0IiwidHdvU3RhciIsIm9wZW4iLCJmZiIsImZpbGVuYW1lIiwicHJlcGFyZVJlbW90ZXMiLCJyZW1vdGVzIiwiaGFzRmFsbGJhY2siLCJzZXJpYWxpemVSZW1vdGVzIiwid2hpdGVsaXN0ZWQiLCJwYXJzZVJlbW90ZSIsInNvdXJjZSIsInBhcnNlUmVtb3RlcyIsInNvdXJjZXMiLCJ3IiwiY2hlY2tSZW1vdGVzIiwicHJvYmxlbXMiLCJ0cmltbWVkIiwicHJlcGFyZVJlbW90ZU1hdGNoZXIiLCJ1cmxfcGFyYW0iLCJyZWdleCIsInJlbW90ZSIsImdldFJlbW90ZUV4dCIsImxvZyIsInJlZmVyZXIiLCJVUkwiLCJyZXF1ZXN0VXJsIiwiZ2V0UmVtb3RlQ29udGVudCIsInByZXBhcmVDb25maWdNYXRjaGVycyIsImNvbmZpZ3MiLCJjb25maWciLCJyZXNvbHZlIiwiX3BhdGgiLCJVUkkiLCJ0ZXN0UGF0aCIsIl9ub3RlcGF0aCIsInRlc3RSZW1vdGUiLCJfcmVtb3RlIiwicHJlcGFyZUNvbmZpZ3MiLCJiSW5kZXgiLCJjaGVja1BhdHRlcm4iLCJfdmFsdWUiLCJNT0RFU19OQU1FIiwiTU9ERVNfREVTQyIsIm1vZGVzRXgiLCJtb2RlIiwidGFyZ2V0IiwiQ2FjaGVTZXR0aW5ncyIsIiNjYWNoZSIsIiNjYWNoZUhlYWRlciIsIiNjYWNoZURldGFpbHMiLCIjY2FjaGVSZW1vdGVzIiwiI3JlbW90ZXNUZXh0IiwiY2FjaGUiLCJTZXR0aW5nIiwiI2Rpc3BsYXlDYWNoZUhlYWRlciIsIiNkaXNwbGF5Q2FjaGVEZXRhaWxzIiwiI2Rpc3BsYXlDYWNoZVJlbW90ZXMiLCIjY2FjaGVOYW1lIiwiZGl2IiwiI2NhY2hlRGVzYyIsImJ1dHRvbiIsIiNpbnZva2VSZW1vdmUiLCJ0b2dnbGUiLCJ2YWx1ZSIsIiNpbnZva2VDaGFuZ2UiLCJ2aXNpYmxlIiwiI3RhcmdldERlc2MiLCJ1bCIsIm5vdGUiLCJhdHRhY2htZW50IiwidGFyZ2V0SW5wdXQiLCJjYWNoZVNldHRpbmciLCJkcm9wZG93biIsImlucHV0IiwicmVtb3Rlc0Rlc2MiLCJyZW1vdGVzRGVzY1VsIiwicmVtb3Rlc1NldHRpbmciLCJ0ZXh0YXJlYSIsIiNyZW1vdGVOYW1lIiwic2V0dGluZyIsIiN1cGRhdGVSZW1vdGVzIiwiI2NoYW5nZUxpc3RlbmVycyIsIiNyZW1vdmVMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImNhbGxiYWNrIiwiU2V0dGluZ3NUYWIiLCJQbHVnaW5TZXR0aW5nVGFiIiwiI3BsdWdpbiIsIiNzZXR0aW5ncyIsIiNjb25maWdzTGlzdCIsInBsdWdpbiIsIiNkaXNwbGF5R2VuZXJhbFNldHRpbmdzIiwiI2Rpc3BsYXlDb25maWdzSGVhZGVyIiwiI2Rpc3BsYXlDb25maWdzTGlzdCIsImxldmVsU2V0dGluZyIsIiNoYW5kbGUiLCJjaGFyc1NldHRpbmciLCJ1cmxjYWNoZVNldHRpbmciLCJ1cmxpZ25vcmVTZXR0aW5nIiwicGF0dGVybklucHV0Iiwic291cmNlRHJvcGRvd24iLCJkdXBsaWNhdGVCdXR0b24iLCJoZWFkZXJEZXNjIiwiaGVhZGVyRGVzY1VsIiwiaGVhZGVyRWwiLCJyZWYiLCIjdXBkYXRlQ29uZmlncyIsIl9jYWNoZSIsImtleSIsIk1hcmtkb3duSGFuZGxlciIsImVsZW1lbnQiLCJjdHgiLCIjaW1hZ2UiLCJzb3VyY2VQYXRoIiwicmVzb2x2ZWQiLCJBdHRhY2htZW50c0NhY2hlQVBJIiwiI3ZhdWx0IiwiI21lbW8iLCJub3RlcGF0aCIsIiNmaW5kQ2FjaGVSdWxlIiwibG9jYWxQYXRoIiwiZ3JvdXAiLCIjcmVzb2x2ZSIsImVycm9yIiwiY2FjaGVkRmlsZSIsImNvbnRlbnQiLCJkb3dubG9hZGVkRmlsZSIsInYiLCJtYXRjaGVyIiwiYmFzZVVybCIsImNhY2hlZFBhdGgiLCJuYW1lIiwiZmlsZXBhdGgiLCJub3JtYWxpemVQYXRoIiwiREVGQVVMVF9TRVRUSU5HUyIsIkF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4iLCJQbHVnaW4iLCJMb2dnZXIiLCJhcHAiLCJtYW5pZmVzdCIsIkxvZ0xldmVsIiwiY2FjaGVfY29uZmlncyIsInByaW1pdGl2ZXMiLCIjcHJlcGFyZVN0YXRlIiwiZGF0YSJdLCJtYXBwaW5ncyI6InlDQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FNQSxNQUFNQSxFQUFHLENBQ1AsTUFBTSxFQUFHQyxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLEtBQUssRUFBR0Es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RUFBUSxLQUFLLElBQUksTUFBTSxpQkFBaUIsRUFDeEN1QixFQUFPLE9BQU8sT0FBTyxDQUFBLEVBQUksS0FBSyxRQUFRLEVBSXZDQSxFQUFBLGNBQWdCM0csRUFBZTJHLEVBQUssYUFBYSxFQUVoRCxNQUFBLEtBQUssU0FBU0EsQ0FBSSxFQUNsQnZCLEVBQUEsTUFBTSxVQUFXdUIsQ0FBSSxFQUUzQixLQUFLRCxHQUFjdEIsQ0FBSyxFQUN4QkEsRUFBTSxNQUFNLGdCQUFnQixDQUFBLENBR2hDc0IsR0FBY3pILEVBQW1CLENBQzdCQSxFQUFJLEtBQUssaUJBQWlCLEVBRzFCLEtBQUssSUFBSSxTQUFTc0gsRUFBUyxLQUFLLFNBQVMsU0FBUyxDQUFDLEVBQ25ELEtBQUssTUFBUSxDQUNULGVBQWdCakgsR0FBc0IsS0FBSyxTQUFTLGFBQWEsRUFDakUsa0JBQW1CVixHQUNmLEtBQUssU0FBUyxlQUNsQixFQUNBLG1CQUFvQkEsR0FDaEIsS0FBSyxTQUFTLGdCQUFBLENBRXRCLENBQUEsQ0FFUiIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDMsNCw1LDYsNyw4LDksMTBdfQ==
