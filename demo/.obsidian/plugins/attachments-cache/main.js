/*!
 * @copyright Copyright (c) 2022-present Luis Brayan
 * @license @luis.bs/obsidian-attachments-cache@1.3.4 is released under the GPL-3.0-or-later license
 * @source https://github.com/luisbs/obsidian-attachments-cache
 */
"use strict";var yt=Object.defineProperty;var h=(r,t)=>yt(r,"name",{value:t,configurable:!0});Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const R=require("obsidian");/*!
 * Copyright (c) 2022-present Luis Brayan
 * @luis.bs/obsidian-fnc@1.3.5 is released under the MIT license
 * @source https://github.com/luisbs/obsidian-fnc
 */class St{static{h(this,"pt")}error(t,e){console.error(t,...e)}warn(t,e){console.warn(t,...e)}info(t,e){console.info(t,...e)}debug(t,e){console.debug(t,...e)}trace(t,e){console.trace(t,...e)}group(t,e){return console.groupCollapsed(t,...e),console.groupEnd}}const v=Object.freeze({TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5}),xt=Object.freeze({1:"TRACE",2:"DEBUG",3:" INFO",4:" WARN",5:"ERROR"});class _{static{h(this,"V")}#t;#e;#r;#s=[];#i=[];get level(){return this.#e?this.#e:this.#t?.level??v.WARN}get format(){return this.#r?this.#r:this.#t?.format??"[hh:mm:ss.ms] level (namespace):"}get namespace(){const t=[];for(let e=0;e<this.#i.length-1;e++)t.push(this.#i[e][0]);return t.push(this.#i.at(-1)??""),t.join(".")}get drivers(){return Object.freeze(this.#s)}setLevel(t){return this.#e=t,this}setFormat(t){return this.#r=t,this}addDrivers(...t){for(const e of t)Array.isArray(e)?this.#s.push(...e):e&&this.#s.push(e);return this}addNamespaces(...t){for(const e of t)Array.isArray(e)?this.#i.push(...e):e&&this.#i.push(e);return this}static consoleLogger(t){const e=new _;return e.setLevel(v.WARN),e.addDrivers(new St),e.addNamespaces(t),e}make(t){const e=new _;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i,t),e}prefix(t,e){return this.format.replace("hh",String(t.getHours()).padStart(2,"0")).replace("mm",String(t.getMinutes()).padStart(2,"0")).replace("ss",String(t.getSeconds()).padStart(2,"0")).replace("ms",String(t.getMilliseconds()).padStart(3,"0")).replace("level",xt[e]).replace("namespace",this.namespace)}log(t,e,s){if(this.level>e)return;const i=this.prefix(t,e);switch(this.level){case v.ERROR:this.#s.forEach(n=>n.error(i,s));break;case v.WARN:this.#s.forEach(n=>n.warn(i,s));break;case v.INFO:this.#s.forEach(n=>n.info(i,s));break;case v.DEBUG:this.#s.forEach(n=>n.debug(i,s));break;default:this.#s.forEach(n=>n.trace(i,s))}}error(...t){this.log(new Date,v.ERROR,t)}warn(...t){this.log(new Date,v.WARN,t)}info(...t){this.log(new Date,v.INFO,t)}debug(...t){this.log(new Date,v.DEBUG,t)}trace(...t){this.log(new Date,v.TRACE,t)}group(...t){const e=new Tt;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i),e.log(new Date,v.INFO,t),e}}class Tt extends _{static{h(this,"mt")}#t=[];log(t,e,s){this.level>e||this.#t.push({timestamp:t,level:e,content:s})}flush(...t){const e=this.prefix(new Date,v.INFO),s=this.drivers.map(i=>i.group(e,t));for(const{timestamp:i,level:n,content:a}of this.#t)super.log(i,n,a);s.forEach(i=>i()),this.#t=[]}}class T{static{h(this,"Jt")}static join(...t){return t.reduce((e,s)=>s?e?e.replace(/[\\/]+$/gi,"")+"/"+s.replace(/^[\\/]+/gi,""):s:e,"")}static normalize(t){return t.replaceAll(/[^\w-\\/#?&=':,. ]+/gi,"_")}static getName(t){return t.match(/[^\\/]+$/gi)?.at(0)}static getBasename(t){const e=this.getName(t);return e?this.removeExt(e):void 0}static getParent(t){return t.replace(/[\\/][^\\/]*$/gi,"")}static hasExt(t){return/\.[^\\/]*$/gi.test(t)}static getExt(t){return/(?<=\.)([^\\/#?]*)([#?].*)?$/gi.exec(t)?.at(1)}static removeExt(t){return t.replace(/(\.[^\\/]*)?([#?].*)?$/gi,"")}}class I{static{h(this,"Qt")}static isUrl(t){return/^https?:\/\//gi.test(t)}static getOrigin(t){return/^https?:\/\/[^\\/]+/gi.exec(t)?.at(0)}static getBaseurl(t){return/^https?:\/\/[^#?]*/gi.exec(t)?.at(0)}static getHash(t){return/(?<=#)[^?]*/gi.exec(t)?.at(0)}static getparams(t){return/(?<=\?).*/gi.exec(t)?.at(0)}}class A extends Error{static{h(this,"AttachmentError")}constructor(t,e){super(),this.code=t,this.cause=e,this.name=`AttachmentError(${this.code})`,this.message=this.toStringMessage()}static assertResponse(t,e,s){if(!(e.status<400))throw new A(s,`requested url: ${t}
response status: ${e.status}
response headers:
${JSON.stringify(e.headers)}`)}toString(){return`${this.name}: ${this.toStringMessage()}`}toStringMessage(){const t=A.#t(this.code);return this.cause?this.cause instanceof Error?`${t}, context:

${this.cause}`:`${t}, context:

${JSON.stringify(this.cause)}`:t}static#t(t){switch(t){case"remote-no-url":return"remote param should be an URL";case"remote-no-ext":return"a file-extension could not be determined";case"url-request-head":return"the request to get the file-extension failed";case"url-request-get":return"the request to download the file failed";default:return"try-reloading Obsidian"}}}function z(r,t){return!r.startsWith("*")&&t.startsWith("*")?-1:r.startsWith("*")&&!t.startsWith("*")?1:r.startsWith(t)?-1:t.startsWith(r)?1:r.localeCompare(t,"en")}h(z,"compareBySpecificity");function Rt(r){switch(r){case"image/jpeg":return"jpg";case"image/tiff":return"tif";default:return r.split(/\/|\+/gi)[1]}}h(Rt,"getMimeExt");function Ot(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}h(Ot,"getDefaultExportFromCjs");var Nt=ht;function ht(r,t,e){r instanceof RegExp&&(r=K(r,e)),t instanceof RegExp&&(t=K(t,e));var s=ct(r,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+r.length,s[1]),post:e.slice(s[1]+t.length)}}h(ht,"balanced$1");function K(r,t){var e=t.match(r);return e?e[0]:null}h(K,"maybeMatch");ht.range=ct;function ct(r,t,e){var s,i,n,a,o,c=e.indexOf(r),l=e.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(r===t)return[c,l];for(s=[],n=e.length;u>=0&&!o;)u==c?(s.push(u),c=e.indexOf(r,u+1)):s.length==1?o=[s.pop(),l]:(i=s.pop(),i<n&&(n=i,a=l),l=e.indexOf(t,u+1)),u=c<l&&c>=0?c:l;s.length&&(o=[n,a])}return o}h(ct,"range");var lt=Nt,Dt=At,ut="\0SLASH"+Math.random()+"\0",pt="\0OPEN"+Math.random()+"\0",U="\0CLOSE"+Math.random()+"\0",ft="\0COMMA"+Math.random()+"\0",dt="\0PERIOD"+Math.random()+"\0";function B(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}h(B,"numeric");function $t(r){return r.split("\\\\").join(ut).split("\\{").join(pt).split("\\}").join(U).split("\\,").join(ft).split("\\.").join(dt)}h($t,"escapeBraces");function Ct(r){return r.split(ut).join("\\").split(pt).join("{").split(U).join("}").split(ft).join(",").split(dt).join(".")}h(Ct,"unescapeBraces");function gt(r){if(!r)return[""];var t=[],e=lt("{","}",r);if(!e)return r.split(",");var s=e.pre,i=e.body,n=e.post,a=s.split(",");a[a.length-1]+="{"+i+"}";var o=gt(n);return n.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}h(gt,"parseCommaParts");function At(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),k($t(r),!0).map(Ct)):[]}h(At,"expandTop");function Mt(r){return"{"+r+"}"}h(Mt,"embrace");function Pt(r){return/^-?0\d/.test(r)}h(Pt,"isPadded");function kt(r,t){return r<=t}h(kt,"lte");function jt(r,t){return r>=t}h(jt,"gte");function k(r,t){var e=[],s=lt("{","}",r);if(!s)return[r];var i=s.pre,n=s.post.length?k(s.post,!1):[""];if(/\$$/.test(s.pre))for(var a=0;a<n.length;a++){var o=i+"{"+s.body+"}"+n[a];e.push(o)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),u=c||l,g=s.body.indexOf(",")>=0;if(!u&&!g)return s.post.match(/,.*\}/)?(r=s.pre+"{"+s.body+U+s.post,k(r)):[r];var p;if(u)p=s.body.split(/\.\./);else if(p=gt(s.body),p.length===1&&(p=k(p[0],!1).map(Mt),p.length===1))return n.map(function(bt){return s.pre+p[0]+bt});var f;if(u){var m=B(p[0]),d=B(p[1]),b=Math.max(p[0].length,p[1].length),O=p.length==3?Math.abs(B(p[2])):1,M=kt,N=d<m;N&&(O*=-1,M=jt);var D=p.some(Pt);f=[];for(var $=m;M($,d);$+=O){var y;if(l)y=String.fromCharCode($),y==="\\"&&(y="");else if(y=String($),D){var J=b-y.length;if(J>0){var Z=new Array(J+1).join("0");$<0?y="-"+Z+y.slice(1):y=Z+y}}f.push(y)}}else{f=[];for(var C=0;C<p.length;C++)f.push.apply(f,k(p[C],!1))}for(var C=0;C<f.length;C++)for(var a=0;a<n.length;a++){var o=i+f[C]+n[a];(!t||u||o)&&e.push(o)}}return e}h(k,"expand");const _t=Ot(Dt),Lt=1024*64,L=h(r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Lt)throw new TypeError("pattern is too long")},"assertValidPattern"),Wt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},P=h(r=>r.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Bt=h(r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Q=h(r=>r.join(""),"rangesToString"),Ft=h((r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,a=!1,o=!1,c=!1,l=!1,u=e,g="";t:for(;n<r.length;){const d=r.charAt(n);if((d==="!"||d==="^")&&n===e+1){l=!0,n++;continue}if(d==="]"&&a&&!c){u=n+1;break}if(a=!0,d==="\\"&&!c){c=!0,n++;continue}if(d==="["&&!c){for(const[b,[O,M,N]]of Object.entries(Wt))if(r.startsWith(b,n)){if(g)return["$.",!1,r.length-e,!0];n+=b.length,N?i.push(O):s.push(O),o=o||M;continue t}}if(c=!1,g){d>g?s.push(P(g)+"-"+P(d)):d===g&&s.push(P(d)),g="",n++;continue}if(r.startsWith("-]",n+1)){s.push(P(d+"-")),n+=2;continue}if(r.startsWith("-",n+1)){g=d,n+=2;continue}s.push(P(d)),n++}if(u<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!l){const d=s[0].length===2?s[0].slice(-1):s[0];return[Bt(d),!1,u-e,!1]}const p="["+(l?"^":"")+Q(s)+"]",f="["+(l?"":"^")+Q(i)+"]";return[s.length&&i.length?"("+p+"|"+f+")":s.length?p:f,o,u-e,!0]},"parseClass"),j=h((r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape"),Gt=new Set(["!","?","+","*","@"]),X=h(r=>Gt.has(r),"isExtglobType"),It="(?!(?:^|/)\\.\\.?(?:$|/))",F="(?!\\.)",zt=new Set(["[","."]),Ut=new Set(["..","."]),qt=new Set("().*{}+?[]^$\\!"),Ht=h(r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape$1"),q="[^/]",Y=q+"*?",tt=q+"+?";class E{static{h(this,"AST")}type;#t;#e;#r=!1;#s=[];#i;#a;#c;#h=!1;#n;#o;#d=!1;constructor(t,e,s={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#n=this.#t===this?s:this.#t.#n,this.#c=this.#t===this?[]:this.#t.#c,t==="!"&&!this.#t.#h&&this.#c.push(this),this.#a=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#e!==void 0)return this.#e;for(const t of this.#s)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return this.#o!==void 0?this.#o:this.type?this.#o=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#o=this.#s.map(t=>String(t)).join("")}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#h)return this;this.toString(),this.#h=!0;let t;for(;t=this.#c.pop();){if(t.type!=="!")continue;let e=t,s=e.#i;for(;s;){for(let i=e.#a+1;!s.type&&i<s.#s.length;i++)for(const n of t.#s){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#s[i])}e=s,s=e.#i}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof E&&e.#i===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){const t=this.type===null?this.#s.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#s.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#h&&this.#i?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(this.#a===0)return!0;const t=this.#i;for(let e=0;e<this.#a;e++){const s=t.#s[e];if(!(s instanceof E&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#s.length:0;return this.#a===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new E(this.type,t);for(const s of this.#s)e.copyIn(s);return e}static#l(t,e,s,i){let n=!1,a=!1,o=-1,c=!1;if(e.type===null){let f=s,m="";for(;f<t.length;){const d=t.charAt(f++);if(n||d==="\\"){n=!n,m+=d;continue}if(a){f===o+1?(d==="^"||d==="!")&&(c=!0):d==="]"&&!(f===o+2&&c)&&(a=!1),m+=d;continue}else if(d==="["){a=!0,o=f,c=!1,m+=d;continue}if(!i.noext&&X(d)&&t.charAt(f)==="("){e.push(m),m="";const b=new E(d,e);f=E.#l(t,b,f,i),e.push(b);continue}m+=d}return e.push(m),f}let l=s+1,u=new E(null,e);const g=[];let p="";for(;l<t.length;){const f=t.charAt(l++);if(n||f==="\\"){n=!n,p+=f;continue}if(a){l===o+1?(f==="^"||f==="!")&&(c=!0):f==="]"&&!(l===o+2&&c)&&(a=!1),p+=f;continue}else if(f==="["){a=!0,o=l,c=!1,p+=f;continue}if(X(f)&&t.charAt(l)==="("){u.push(p),p="";const m=new E(f,u);u.push(m),l=E.#l(t,m,l,i);continue}if(f==="|"){u.push(p),p="",g.push(u),u=new E(null,e);continue}if(f===")")return p===""&&e.#s.length===0&&(e.#d=!0),u.push(p),p="",e.push(...g,u),l;p+=f}return e.type=null,e.#e=void 0,e.#s=[t.substring(s-1)],l}static fromGlob(t,e={}){const s=new E(null,void 0,e);return E.#l(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#e||this.#n.nocase&&!this.#n.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const o=(this.#n.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#n}toRegExpSource(t){const e=t??!!this.#n.dot;if(this.#t===this&&this.#u(),!this.type){const c=this.isStart()&&this.isEnd(),l=this.#s.map(f=>{const[m,d,b,O]=typeof f=="string"?E.#g(f,this.#e,c):f.toRegExpSource(t);return this.#e=this.#e||b,this.#r=this.#r||O,m}).join("");let u="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&Ut.has(this.#s[0]))){const m=zt,d=e&&m.has(l.charAt(0))||l.startsWith("\\.")&&m.has(l.charAt(2))||l.startsWith("\\.\\.")&&m.has(l.charAt(4)),b=!e&&!t&&m.has(l.charAt(0));u=d?It:b?F:""}let g="";return this.isEnd()&&this.#t.#h&&this.#i?.type==="!"&&(g="(?:$|\\/)"),[u+l+g,j(l),this.#e=!!this.#e,this.#r]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#p(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const c=this.toString();return this.#s=[c],this.type=null,this.#e=void 0,[c,j(this.toString()),!1,!1]}let a=!s||t||e?"":this.#p(!0);a===n&&(a=""),a&&(n=`(?:${n})(?:${a})*?`);let o="";if(this.type==="!"&&this.#d)o=(this.isStart()&&!e?F:"")+tt;else{const c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?F:"")+Y+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=i+n+c}return[o,j(n),this.#e=!!this.#e,this.#r]}#p(t){return this.#s.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,a]=e.toRegExpSource(t);return this.#r=this.#r||a,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#g(t,e,s=!1){let i=!1,n="",a=!1;for(let o=0;o<t.length;o++){const c=t.charAt(o);if(i){i=!1,n+=(qt.has(c)?"\\":"")+c;continue}if(c==="\\"){o===t.length-1?n+="\\\\":i=!0;continue}if(c==="["){const[l,u,g,p]=Ft(t,o);if(g){n+=l,a=a||u,o+=g-1,e=e||p;continue}}if(c==="*"){s&&t==="*"?n+=tt:n+=Y,e=!0;continue}if(c==="?"){n+=q,e=!0;continue}n+=Ht(c)}return[n,j(t),!!e,a]}}const Vt=h((r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&"),"escape"),w=h((r,t,e={})=>(L(t),!e.nocomment&&t.charAt(0)==="#"?!1:new W(t,e).match(r)),"minimatch"),Jt=/^\*+([^+@!?\*\[\(]*)$/,Zt=h(r=>t=>!t.startsWith(".")&&t.endsWith(r),"starDotExtTest"),Kt=h(r=>t=>t.endsWith(r),"starDotExtTestDot"),Qt=h(r=>(r=r.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(r)),"starDotExtTestNocase"),Xt=h(r=>(r=r.toLowerCase(),t=>t.toLowerCase().endsWith(r)),"starDotExtTestNocaseDot"),Yt=/^\*+\.\*+$/,te=h(r=>!r.startsWith(".")&&r.includes("."),"starDotStarTest"),ee=h(r=>r!=="."&&r!==".."&&r.includes("."),"starDotStarTestDot"),se=/^\.\*+$/,ie=h(r=>r!=="."&&r!==".."&&r.startsWith("."),"dotStarTest"),re=/^\*+$/,ne=h(r=>r.length!==0&&!r.startsWith("."),"starTest"),ae=h(r=>r.length!==0&&r!=="."&&r!=="..","starTestDot"),oe=/^\?+([^+@!?\*\[\(]*)?$/,he=h(([r,t=""])=>{const e=mt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},"qmarksTestNocase"),ce=h(([r,t=""])=>{const e=wt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},"qmarksTestNocaseDot"),le=h(([r,t=""])=>{const e=wt([r]);return t?s=>e(s)&&s.endsWith(t):e},"qmarksTestDot"),ue=h(([r,t=""])=>{const e=mt([r]);return t?s=>e(s)&&s.endsWith(t):e},"qmarksTest"),mt=h(([r])=>{const t=r.length;return e=>e.length===t&&!e.startsWith(".")},"qmarksTestNoExt"),wt=h(([r])=>{const t=r.length;return e=>e.length===t&&e!=="."&&e!==".."},"qmarksTestNoExtDot"),Et=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",et={win32:{sep:"\\"},posix:{sep:"/"}},pe=Et==="win32"?et.win32.sep:et.posix.sep;w.sep=pe;const x=Symbol("globstar **");w.GLOBSTAR=x;const fe="[^/]",de=fe+"*?",ge="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",me="(?:(?!(?:\\/|^)\\.).)*?",we=h((r,t={})=>e=>w(e,r,t),"filter");w.filter=we;const S=h((r,t={})=>Object.assign({},r,t),"ext"),Ee=h(r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return w;const t=w;return Object.assign(h((s,i,n={})=>t(s,i,S(r,n)),"m"),{Minimatch:class extends t.Minimatch{static{h(this,"Minimatch")}constructor(i,n={}){super(i,S(r,n))}static defaults(i){return t.defaults(S(r,i)).Minimatch}},AST:class extends t.AST{static{h(this,"AST")}constructor(i,n,a={}){super(i,n,S(r,a))}static fromGlob(i,n={}){return t.AST.fromGlob(i,S(r,n))}},unescape:h((s,i={})=>t.unescape(s,S(r,i)),"unescape"),escape:h((s,i={})=>t.escape(s,S(r,i)),"escape"),filter:h((s,i={})=>t.filter(s,S(r,i)),"filter"),defaults:h(s=>t.defaults(S(r,s)),"defaults"),makeRe:h((s,i={})=>t.makeRe(s,S(r,i)),"makeRe"),braceExpand:h((s,i={})=>t.braceExpand(s,S(r,i)),"braceExpand"),match:h((s,i,n={})=>t.match(s,i,S(r,n)),"match"),sep:t.sep,GLOBSTAR:x})},"defaults");w.defaults=Ee;const vt=h((r,t={})=>(L(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:_t(r)),"braceExpand");w.braceExpand=vt;const ve=h((r,t={})=>new W(r,t).makeRe(),"makeRe");w.makeRe=ve;const be=h((r,t,e={})=>{const s=new W(t,e);return r=r.filter(i=>s.match(i)),s.options.nonull&&!r.length&&r.push(t),r},"match");w.match=be;const st=/[?*]|[+@!]\(.*?\)|\[|\]/,ye=h(r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape");class W{static{h(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){L(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Et,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);const s=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let i=this.globParts.map((n,a,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){const c=n[0]===""&&n[1]===""&&(n[2]==="?"||!st.test(n[2]))&&!st.test(n[3]),l=/^[a-z]:/i.test(n[0]);if(c)return[...n.slice(0,4),...n.slice(4).map(u=>this.parse(u))];if(l)return[n[0],...n.slice(1).map(u=>this.parse(u))]}return n.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){const a=this.set[n];a[0]===""&&a[1]===""&&this.globParts[n][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let i=0;i<t[s].length;i++)t[s][i]==="**"&&(t[s][i]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let i=s;for(;e[i+1]==="**";)i++;i!==s&&e.splice(s,i-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,i)=>{const n=s[s.length-1];return i==="**"&&n==="**"?s:i===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(s.pop(),s):(s.push(i),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const n=t[i];i===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){const i=t[s-1];i&&i!=="."&&i!==".."&&i!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let i=-1;for(;(i=s.indexOf("**",i+1))!==-1;){let a=i;for(;s[a+1]==="**";)a++;a>i&&s.splice(i+1,a-i);let o=s[i+1];const c=s[i+2],l=s[i+3];if(o!==".."||!c||c==="."||c===".."||!l||l==="."||l==="..")continue;e=!0,s.splice(i,1);const u=s.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<s.length-1;a++){const o=s[a];a===1&&o===""&&s[0]===""||(o==="."||o==="")&&(e=!0,s.splice(a,1),a--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let n=0;for(;(n=s.indexOf("..",n+1))!==-1;){const a=s[n-1];if(a&&a!=="."&&a!==".."&&a!=="**"){e=!0;const c=n===1&&s[n+1]==="**"?["."]:[];s.splice(n-1,2,...c),s.length===0&&s.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const i=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(i){t[e]=[],t[s]=i;break}}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let i=0,n=0,a=[],o="";for(;i<t.length&&n<e.length;)if(t[i]===e[n])a.push(o==="b"?e[n]:t[i]),i++,n++;else if(s&&t[i]==="**"&&e[n]===t[i+1])a.push(t[i]),i++;else if(s&&e[n]==="**"&&t[i]===e[n+1])a.push(e[n]),n++;else if(t[i]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(o==="b")return!1;o="a",a.push(t[i]),i++,n++}else if(e[n]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(o==="a")return!1;o="b",a.push(e[n]),i++,n++}else return!1;return t.length===e.length&&a}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){const i=this.options;if(this.isWindows){const d=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!d&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),O=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),M=!O&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),N=b?3:d?0:void 0,D=M?3:O?0:void 0;if(typeof N=="number"&&typeof D=="number"){const[$,y]=[t[N],e[D]];$.toLowerCase()===y.toLowerCase()&&(e[D]=$,D>N?e=e.slice(D):N>D&&(t=t.slice(N)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var a=0,o=0,c=t.length,l=e.length;a<c&&o<l;a++,o++){this.debug("matchOne loop");var u=e[o],g=t[a];if(this.debug(e,u,g),u===!1)return!1;if(u===x){this.debug("GLOBSTAR",[e,u,g]);var p=a,f=o+1;if(f===l){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var m=t[p];if(this.debug(`
globstar while`,t,p,e,f,m),this.matchOne(t.slice(p),e.slice(f),s))return this.debug("globstar found match!",p,c,m),!0;if(m==="."||m===".."||!i.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,p,e,f),p===c))}let d;if(typeof u=="string"?(d=g===u,this.debug("string match",u,g,d)):(d=u.test(g),this.debug("pattern match",u,g,d)),!d)return!1}if(a===c&&o===l)return!0;if(a===c)return s;if(o===l)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return vt(this.pattern,this.options)}parse(t){L(t);const e=this.options;if(t==="**")return x;if(t==="")return"";let s,i=null;(s=t.match(re))?i=e.dot?ae:ne:(s=t.match(Jt))?i=(e.nocase?e.dot?Xt:Qt:e.dot?Kt:Zt)(s[1]):(s=t.match(oe))?i=(e.nocase?e.dot?ce:he:e.dot?le:ue)(s):(s=t.match(Yt))?i=e.dot?ee:te:(s=t.match(se))&&(i=ie);const n=E.fromGlob(t,this.options).toMMPattern();return i&&typeof n=="object"&&Reflect.defineProperty(n,"test",{value:i}),n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,s=e.noglobstar?de:e.dot?ge:me,i=new Set(e.nocase?["i"]:[]);let n=t.map(c=>{const l=c.map(u=>{if(u instanceof RegExp)for(const g of u.flags.split(""))i.add(g);return typeof u=="string"?ye(u):u===x?x:u._src});return l.forEach((u,g)=>{const p=l[g+1],f=l[g-1];u!==x||f===x||(f===void 0?p!==void 0&&p!==x?l[g+1]="(?:\\/|"+s+"\\/)?"+p:l[g]=s:p===void 0?l[g-1]=f+"(?:\\/|"+s+")?":p!==x&&(l[g-1]=f+"(?:\\/|\\/"+s+"\\/)"+p,l[g+1]=x))}),l.filter(u=>u!==x).join("/")}).join("|");const[a,o]=t.length>1?["(?:",")"]:["",""];n="^"+a+n+o+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const n=this.set;this.debug(this.pattern,"set",n);let a=i[i.length-1];if(!a)for(let o=i.length-2;!a&&o>=0;o--)a=i[o];for(let o=0;o<n.length;o++){const c=n[o];let l=i;if(s.matchBase&&c.length===1&&(l=[a]),this.matchOne(l,c,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return w.defaults(t).Minimatch}}w.AST=E;w.Minimatch=W;w.escape=Vt;w.unescape=j;function it(r){const t=[];let e=!1;for(const s of r)t.every(i=>i.pattern!==s.pattern)&&(s.pattern==="*"&&(e=!0),t.push(s));return e||t.push({pattern:"*",whitelisted:!1}),t.sort((s,i)=>z(s.pattern,i.pattern))}h(it,"prepareRemotes");function rt(r){return r.map(({whitelisted:t,pattern:e})=>`${t?"w":"b"} ${e}`).join(`
`)}h(rt,"serializeRemotes");function Se(r){if(!/\s+/.test(r))return[r,void 0];const t=r.split(/\s+/g);return t[0].startsWith("w")?[t[1],!0]:t[0].startsWith("b")?[t[1],!1]:[t[1],void 0]}h(Se,"parseRemote");function xe(r,t){const e=[];let s=!1;for(const i of t.split(/\n+/g)){const[n,a]=Se(i);if(n==="*"&&(s=!0),!e.some(o=>o.pattern===n)){if(a!==void 0){e.push({pattern:n,whitelisted:a});continue}for(const o of r){if(n===o.pattern){e.push({pattern:n,whitelisted:o.whitelisted});break}if(Math.abs(n.length-o.pattern.length)===1){if(o.pattern.startsWith(n)){e.push({pattern:n,whitelisted:o.whitelisted});break}else if(n.startsWith(o.pattern)){e.push({pattern:n,whitelisted:o.whitelisted});break}}}e.some(o=>o.pattern===n)||e.push({pattern:n,whitelisted:!1})}}return s||e.push({pattern:"*",whitelisted:!1}),e.sort((i,n)=>z(i.pattern,n.pattern))}h(xe,"parseRemotes");function Te(r){const t=[];let e=!1;for(const s of r.split(/\n+/g)){const i=s.trim().replace(/^[wb]\s+/,"");if(i==="*"){e=!0;continue}/^\w+:/gi.test(i)&&t.push("remove protocols, ex: 'http://'"),/^(\w+\.)+\w+/.test(i)||t.push("should include domain, ex: 'example.org/path'")}return e||t.unshift("should include a fallback '*'"),t}h(Te,"checkRemotes");function nt(r="fallback_param"){const t=new RegExp("[?&]"+r+"([&=\\s]|$)","i");return e=>t.test(e)}h(nt,"prepareRemoteMatcher");async function Re(r,t){t.debug(`Resolving extension for ${r}`);const e=I.getOrigin(r),s=await R.requestUrl({url:r,throw:!1,method:"HEAD",headers:{Referer:e?e+"/":""}});return A.assertResponse(r,s,"url-request-head"),Rt(s.headers["content-type"])}h(Re,"getRemoteExt");async function Oe(r,t){t.debug(`Downloading ${r}`);const e=I.getOrigin(r),s=await R.requestUrl({url:r,throw:!1,method:"GET",headers:{Referer:e?e+"/":""}});return A.assertResponse(r,s,"url-request-get"),s.arrayBuffer}h(Oe,"getRemoteContent");function Ne(r){return r.map(t=>{let e=h(n=>T.getParent(n),"resolve");switch(t.mode){case"NOTE-FOLDER":e=h(n=>T.join(T.getParent(n),t.target),"resolve");break;case"TARGET-PATH":e=h(n=>T.join(t.target,T.removeExt(n)),"resolve");break;case"TARGET-NOTE":e=h(n=>T.join(t.target,T.getBasename(n)),"resolve");break;case"TARGET":e=h(()=>t.target,"resolve");break}const s=t.pattern!=="*"?n=>w(n,t.pattern):()=>!0,i=h(n=>{for(const{pattern:a,whitelisted:o}of t.remotes)if(a==="*"||new RegExp("^https?://(\\w+\\.)*"+a,"g").test(n))return o;return!1},"testRemote");return{source:Object.freeze(t),isEnabled:h(()=>t.enabled,"isEnabled"),testRemote:i,testPath:s,resolve:e}})}h(Ne,"prepareConfigMatchers");function G(r){const t=[];for(const e of r){const s=t.findIndex(i=>i.pattern===e.pattern);if(s===-1){t.push({...e,remotes:it(e.remotes)});continue}e.remotes.length>t[s].remotes.length&&(t[s]={...e,remotes:it(e.remotes)})}return t.sort((e,s)=>z(e.pattern,s.pattern))}h(G,"prepareConfigs");function De(r,t){if(!t)return["invalid pattern"];for(const e of r)if(e.pattern===t)return[`duplicated pattern '${t}'`];return[]}h(De,"checkPattern");const $e={NOTE:"Attachments next to the Note","NOTE-FOLDER":"Attachments on Subfolder",TARGET:"Attachments on Cache Folder","TARGET-NOTE":"Attachments on Cache Note Folder","TARGET-PATH":"Attachments on Cache Note Path"},at={NOTE:"Store in the same folder as the note","NOTE-FOLDER":"Store next to the note in subfolder ",TARGET:"Store in folder ","TARGET-NOTE":"Store in subfolder with the note-name under ","TARGET-PATH":"Store in a replated note-path under "},Ce=h(({mode:r,target:t})=>{switch(r){case"NOTE":return"folder/img1.jpg";case"NOTE-FOLDER":return`folder/${t}/img1.jpg`;case"TARGET":return`${t}/img1.jpg`;case"TARGET-NOTE":return`${t}/note1/img1.jpg`;case"TARGET-PATH":return`${t}/folder/note1/img1.jpg`}},"modesEx");class Ae{static{h(this,"CacheSettings")}#t;#e;#r;#s;#i;constructor(t,e){this.#t={...e,remotes:[...e.remotes]},this.#e=new R.Setting(t),this.#r=this.#e.settingEl.createDiv("cache-details"),this.#s=this.#e.settingEl.createDiv("cache-remotes"),this.#h(),this.#o(),this.#u()}#a(){return createFragment(t=>{t.append(`${this.#t.enabled?"Enabled":"Disabled"} path: `),t.createEl("code").appendText(this.#t.pattern)})}#c(){return this.#t.mode==="NOTE"?at.NOTE:createFragment(t=>{t.append(at[this.#t.mode]),t.createEl("code").appendText(this.#t.target)})}#h(){this.#e.setName(this.#a()),this.#e.setDesc(this.#c()),this.#t.pattern!=="*"&&this.#e.addExtraButton(t=>{t.setIcon("trash-2").setTooltip("Remove"),t.onClick(()=>{if(this.#t.pattern==="*"){console.warn("fallback config('*') can't be removed");return}this.#e.clear(),this.#e.settingEl.remove(),this.#m()})}),this.#e.addToggle(t=>{t.setValue(this.#t.enabled),t.onChange(e=>{this.#t.enabled=e,this.#f(),this.#e.setName(this.#a())})}),this.#e.addExtraButton(t=>{let e=!1;t.setIcon("chevron-down").setTooltip("Details"),t.onClick(()=>{e=!e,e?(t.setIcon("chevron-up"),this.#e.settingEl.addClass("show-details")):(t.setIcon("chevron-down"),this.#e.settingEl.removeClass("show-details"))})})}#n(){return createFragment(t=>{t.append("Attachments storage path, ex:");const e=t.createEl("ul"),s=e.createEl("li");s.append("Note: '"),s.createEl("b").appendText("folder/note1.md"),s.append("'");const i=e.createEl("li");i.append("Attachment: '"),i.createEl("b").appendText(Ce(this.#t)),i.append("'")})}#o(){let t;const e=new R.Setting(this.#r);e.setName("Attachments Storage"),e.setDesc(this.#n()),e.addDropdown(a=>{a.addOptions($e),a.setValue(this.#t.mode),a.onChange(o=>{this.#t.mode=o,this.#f(),e.setDesc(this.#n()),this.#t.mode==="NOTE"?(t?.setDisabled(!0),t?.setValue("")):(t?.setDisabled(!1),t?.setValue(this.#t.target))})}),e.addText(a=>{t=a,this.#t.mode==="NOTE"?a.setDisabled(!0):a.setValue(this.#t.target),a.onChange(o=>{this.#t.target=o,this.#f(),e.setDesc(this.#n())})});const s=createFragment(),i=s.createEl("ul"),n=new R.Setting(this.#r);n.setClass("remotes-input"),n.setName("Remotes List"),n.setDesc(s),n.addTextArea(a=>{this.#i=a,a.setValue(rt(this.#t.remotes)),a.onChange(o=>{i.empty();const c=Te(o);if(c.length>0){c.forEach(l=>i.createEl("li").appendText(l));return}this.#t.remotes=xe(this.#t.remotes,o),this.#f(),this.#u()})})}#d(t){return createFragment(e=>{e.append(`${t.whitelisted?"Whitelisted":"Blacklisted"} remote: `),e.createEl("code").appendText(t.pattern)})}#u(){this.#s.empty();for(const t of this.#t.remotes){const e=new R.Setting(this.#s);e.setName(this.#d(t)),t.pattern!=="*"&&e.addExtraButton(s=>{s.setIcon("trash-2").setTooltip("Remove"),s.onClick(()=>{const i=this.#t.remotes.filter(n=>n.pattern!==t.pattern);this.#l(i)})}),e.addButton(s=>{s.setButtonText(t.whitelisted?"Blacklist":"Whitelist"),s.onClick(()=>{const i=this.#t.remotes.map(n=>n.pattern!==t.pattern?n:{...n,whitelisted:!n.whitelisted});this.#l(i)})})}}#l(t){this.#t.remotes=t,this.#f(),this.#i?.setValue(rt(t)),this.#u()}#p=[];#g=[];#f(){for(const t of this.#p)t(this.#t)}#m(){for(const t of this.#g)t(this.#t)}onChange(t){return this.#p.push(t),this}onRemove(t){return this.#g.push(t),this}}class Me extends R.PluginSettingTab{static{h(this,"SettingsTab")}#t;#e;#r;constructor(t){super(t.app,t),this.#t=t,this.#e=t.settings}hide(){}display(){this.containerEl.empty(),this.containerEl.addClass("attachments-cache-settings"),this.#a(),this.#s().setName("Paths Settings").setHeading(),this.#c(),this.#r=this.containerEl.createDiv("configs-list"),this.#h()}#s(){return this.#i(this.containerEl)}#i(t){return new R.Setting(t)}#a(){const t=this.#s();t.setName("Keep Special Characters"),t.setDesc("If you are having problems with special characters on paths, disable this setting."),t.addToggle(i=>{i.setValue(this.#e.allow_characters),i.onChange(this.#n.bind(this,"allow_characters"))});const e=this.#s();e.setName("URL Param Cache"),e.setDesc("Overrides standard rules and stores the file."),e.addText(i=>{i.setValue(this.#e.url_param_cache),i.onChange(this.#n.bind(this,"url_param_cache"))});const s=this.#s();s.setName("URL Param Ignore"),s.setDesc("Overrides standard rules and ignores the file."),s.addText(i=>{i.setValue(this.#e.url_param_ignore),i.onChange(this.#n.bind(this,"url_param_ignore"))})}#c(){let t=null,e=null,s=null;const i=createFragment(),n=i.createEl("ul"),a=this.#s();a.setClass("configs-header"),a.setName("Duplicate Vault Path"),a.setDesc(i),a.addText(o=>{t=o,o.setPlaceholder("glob: **/*.md"),o.onChange(c=>{if(n.empty(),!c){s?.setDisabled(!0);return}const l=De(this.#e.cache_configs,c);if(l.length>0){l.forEach(u=>n.createEl("li").appendText(u));return}s?.setDisabled(l.length>0)})}),a.addDropdown(o=>{e=o,o.setValue("*");for(const c of this.#e.cache_configs)o.addOption(c.pattern,c.pattern)}),a.addButton(o=>{s=o,o.setButtonText("Duplicate"),o.setDisabled(!0),o.onClick(()=>{const c=t?.getValue(),l=e?.getValue()??"*",u=this.#e.cache_configs.find(p=>p.pattern===l);if(!c||!u){console.warn("unexpected state");return}const g=this.#e.cache_configs;g.push({pattern:c,remotes:u.remotes,enabled:u.enabled,target:u.target,mode:u.mode}),this.#o(g)})})}#h(){if(this.#r){this.#r.empty();for(const t of this.#e.cache_configs){const e=new Ae(this.#r,t);e.onChange(s=>{const i=this.#e.cache_configs.map(n=>n.pattern===s.pattern?s:n);this.#o(i)}),e.onRemove(s=>{const i=this.#e.cache_configs.filter(n=>n.pattern!==s.pattern);this.#o(i)})}}}#n(t,e){this.#e[t]=e,this.#t.saveSettings()}#o(t){this.#e.cache_configs=G(t),this.#t.saveSettings()}}class Pe{static{h(this,"MarkdownHandler")}constructor(t){this.plugin=t}registerMarkdownProcessor(){this.plugin.registerMarkdownPostProcessor((t,e)=>{t.querySelectorAll("img").forEach(s=>void this.#t(s,e.sourcePath))})}async#t(t,e){const s=await this.plugin.api.cache(e,t.src);s&&(t.src=s)}}class H{static{h(this,"AttachmentsCacheAPI")}log;#t;#e;#r=new Map;constructor(t){this.log=t.log.make(H.name),this.#t=t.app.vault,this.#e=t}mayCache(t,e){return!!this.#s({notepath:t,remote:e},this.log)}async isCached(t,e){const s=await this.resolve(t,e);return s?await this.#t.adapter.exists(s):!1}async resource(t,e){const s=await this.resolve(t,e);if(!s)return;const i=this.#t.getFileByPath(s);return i?this.#t.getResourcePath(i):void 0}async resolve(t,e){const s=this.log.group("Resolving",{notepath:t,remote:e});try{const i=await this.#i({notepath:t,remote:e},s);if(i)return s.flush(`remote resolved to <${i}>`),i}catch(i){s.error(i)}s.flush("remote could not be resolved")}async cache(t,e){const s=this.log.group("Caching",{notepath:t,remote:e});try{const i=await this.#i({notepath:t,remote:e},s);if(!i){s.info("remote could not be resolved"),s.flush("remote was not cached");return}const n=this.#t.getFileByPath(i);if(n)return s.flush("remote is already in cache"),this.#t.getResourcePath(n);const a=await Oe(e,s);await this.#t.adapter.mkdir(T.getParent(i)),await this.#t.adapter.writeBinary(i,a);const o=this.#t.getFileByPath(i);if(o)return s.flush(`remote was cached to <${i}>`),this.#t.getResourcePath(o)}catch(i){s.error(i)}s.flush("remote could not be cached")}#s(t,e){e?.debug("searching an active cache rule");const s=this.#e.state.cache_matchers.find(i=>i.testPath(t.notepath));if(!s?.isEnabled()){e?.debug("notepath does not match and active rule");return}if(this.#e.state.url_ignore_matcher(t.remote)){e?.debug("remote is marked to be ignored");return}if(this.#e.state.url_cache_matcher(t.remote))return e?.debug("remote is marked to be cached"),s;if(s.testRemote(t.remote))return e?.debug("remote matches an active rule"),s;e?.debug("remote does not match and active rule")}async#i(t,e){const s=I.getBaseurl(t.remote);if(!s)throw e.debug("remote is not a valid URL"),new A("remote-no-url",`remote('${t.remote}')`);const i=this.#r.get(s);if(i)return e.debug(`remote resolved from cache <${i}>`),i;const n=this.#s(t,e);if(!n){e.debug("a cache rule could not be matched");return}const a=T.getBasename(s),o=T.getExt(s)??await Re(t.remote,e);if(!a||!o)throw e.debug(`name(${a}) or ext(${o}) could not be resolved`),new A("remote-no-ext");const c=T.join(n.resolve(t.notepath),a+"."+o),l=this.#e.settings.allow_characters?R.normalizePath(c):R.normalizePath(T.normalize(c));return this.#r.set(s,l),e.debug(`remote resolved to <${l}>`),l}}const ot={allow_characters:!1,url_param_cache:"cache_file",url_param_ignore:"ignore_file",cache_configs:[{pattern:"*",remotes:[{whitelisted:!1,pattern:"*"}],enabled:!1,target:"",mode:"NOTE"}]};class V extends R.Plugin{static{h(this,"AttachmentsCachePlugin")}log=_.consoleLogger(V.name);settings={};state={};api;markdown;constructor(t,e){super(t,e),this.log.setFormat("[hh:mm:ss.ms] level:"),this.log.setLevel(v.DEBUG),this.api=new H(this),this.markdown=new Pe(this),window.AttachmentsCache=this.api}async onload(){await this.loadSettings(),this.addSettingTab(new Me(this)),this.markdown.registerMarkdownProcessor()}async loadSettings(){const t=this.log.group("Loading Settings"),{cache_configs:e,...s}=await this.loadData()||{};this.settings=Object.assign({},ot,s),this.settings.cache_configs=G([...e??[],...ot.cache_configs]),t.debug("Loaded: ",this.settings),this.#t(t),t.flush("Loaded Settings")}async saveSettings(){const t=this.log.group("Saving Settings"),e=Object.assign({},this.settings);e.cache_configs=G(e.cache_configs),await this.saveData(e),t.debug("Saved: ",e),this.#t(t),t.flush("Saved Settings")}#t(t){t.info("Preparing state"),this.state={cache_matchers:Ne(this.settings.cache_configs),url_cache_matcher:nt(this.settings.url_param_cache),url_ignore_matcher:nt(this.settings.url_param_ignore)}}}exports.default=V;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vb2JzaWRpYW4tZm5jL2xpYi9vYnNpZGlhbi1mbmMuZXNtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvQXR0YWNobWVudEVycm9yLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvc3RyaW5ncy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9iYWxhbmNlZC1tYXRjaEAxLjAuMi9ub2RlX21vZHVsZXMvYmFsYW5jZWQtbWF0Y2gvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYnJhY2UtZXhwYW5zaW9uQDIuMC4xL25vZGVfbW9kdWxlcy9icmFjZS1leHBhbnNpb24vaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2Fzc2VydC12YWxpZC1wYXR0ZXJuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9icmFjZS1leHByZXNzaW9ucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vdW5lc2NhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2FzdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vZXNjYXBlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L3JlbW90ZXMudHMiLCIuLi8uLi8uLi8uLi9zcmMvdXRpbGl0eS9jb25maWdzLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzL0NhY2hlU2V0dGluZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi8uLi8uLi8uLi9zcmMvZmlsZXN5c3RlbS9NYXJrZG93bkhhbmRsZXIudHMiLCIuLi8uLi8uLi8uLi9zcmMvQXR0YWNobWVudHNDYWNoZUFQSS50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDIyLXByZXNlbnQgTHVpcyBCcmF5YW5cbiAqIEBsdWlzLmJzL29ic2lkaWFuLWZuY0AxLjMuNSBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL2x1aXNicy9vYnNpZGlhbi1mbmNcbiAqL1xuaW1wb3J0IHsgU2NvcGUgYXMgZHQsIG5vcm1hbGl6ZVBhdGggYXMgZ3QsIFRGb2xkZXIgYXMgRiwgVEZpbGUgYXMgQiB9IGZyb20gXCJvYnNpZGlhblwiO1xuY2xhc3MgcHQge1xuICBlcnJvcih0LCBuKSB7XG4gICAgY29uc29sZS5lcnJvcih0LCAuLi5uKTtcbiAgfVxuICB3YXJuKHQsIG4pIHtcbiAgICBjb25zb2xlLndhcm4odCwgLi4ubik7XG4gIH1cbiAgaW5mbyh0LCBuKSB7XG4gICAgY29uc29sZS5pbmZvKHQsIC4uLm4pO1xuICB9XG4gIGRlYnVnKHQsIG4pIHtcbiAgICBjb25zb2xlLmRlYnVnKHQsIC4uLm4pO1xuICB9XG4gIHRyYWNlKHQsIG4pIHtcbiAgICBjb25zb2xlLnRyYWNlKHQsIC4uLm4pO1xuICB9XG4gIGdyb3VwKHQsIG4pIHtcbiAgICByZXR1cm4gY29uc29sZS5ncm91cENvbGxhcHNlZCh0LCAuLi5uKSwgY29uc29sZS5ncm91cEVuZDtcbiAgfVxufVxuY29uc3QgcCA9IE9iamVjdC5mcmVlemUoe1xuICBUUkFDRTogMSxcbiAgREVCVUc6IDIsXG4gIElORk86IDMsXG4gIFdBUk46IDQsXG4gIEVSUk9SOiA1XG59KSwgd3QgPSBPYmplY3QuZnJlZXplKHtcbiAgMTogXCJUUkFDRVwiLFxuICAyOiBcIkRFQlVHXCIsXG4gIDM6IFwiIElORk9cIixcbiAgNDogXCIgV0FSTlwiLFxuICA1OiBcIkVSUk9SXCJcbn0pO1xuY2xhc3MgViB7XG4gICN0O1xuICAjcztcbiAgI2U7XG4gICNuID0gW107XG4gICNpID0gW107XG4gIC8qKiBPdmVycmlkZXMgY2hhaW4gaW5oZXJpdGVkIHZhbHVlLiAqL1xuICBnZXQgbGV2ZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPyB0aGlzLiNzIDogdGhpcy4jdD8ubGV2ZWwgPz8gcC5XQVJOO1xuICB9XG4gIGdldCBmb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2UgPyB0aGlzLiNlIDogdGhpcy4jdD8uZm9ybWF0ID8/IFwiW2hoOm1tOnNzLm1zXSBsZXZlbCAobmFtZXNwYWNlKTpcIjtcbiAgfVxuICBnZXQgbmFtZXNwYWNlKCkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHRoaXMuI2kubGVuZ3RoIC0gMTsgbisrKVxuICAgICAgdC5wdXNoKHRoaXMuI2lbbl1bMF0pO1xuICAgIHJldHVybiB0LnB1c2godGhpcy4jaS5hdCgtMSkgPz8gXCJcIiksIHQuam9pbihcIi5cIik7XG4gIH1cbiAgZ2V0IGRyaXZlcnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUodGhpcy4jbik7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBsZXZlbCBpcyBwcm9wYWdhdGVkLiAqL1xuICBzZXRMZXZlbCh0KSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPSB0LCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugb24gZm9ybWF0IGlzIHByb3BhZ2V0ZWQuXG4gICAqIFRoZSB2YWxpZCBwbGFjZWhvbGRlcnMgYXJlOlxuICAgKiAtIGBoaGAgKGhvdXIpXG4gICAqIC0gYG1tYCAobWludXRlKVxuICAgKiAtIGBzc2AgKHNlY29uZClcbiAgICogLSBgbXNgIChtaWxsaXNlY29uZClcbiAgICogLSBgbGV2ZWxgXG4gICAqIC0gYG5hbWVzcGFjZWBcbiAgICogQGV4YW1wbGUgJ1toaDptbTpzcy5tc10gbGV2ZWwgKG5hbWVzcGFjZSk6J1xuICAgKi9cbiAgc2V0Rm9ybWF0KHQpIHtcbiAgICByZXR1cm4gdGhpcy4jZSA9IHQsIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBkcml2ZXJzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkRHJpdmVycyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jbi5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNuLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBuYW1lc3BhY2VzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkTmFtZXNwYWNlcyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jaS5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNpLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFN0YXJ0cyBhIExvZ2dlcnMgY2hhaW4uICovXG4gIHN0YXRpYyBjb25zb2xlTG9nZ2VyKHQpIHtcbiAgICBjb25zdCBuID0gbmV3IFYoKTtcbiAgICByZXR1cm4gbi5zZXRMZXZlbChwLldBUk4pLCBuLmFkZERyaXZlcnMobmV3IHB0KCkpLCBuLmFkZE5hbWVzcGFjZXModCksIG47XG4gIH1cbiAgLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIuICovXG4gIG1ha2UodCkge1xuICAgIGNvbnN0IG4gPSBuZXcgVigpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSwgdCksIG47XG4gIH1cbiAgLyoqIFByZXBhcmUgdGhlIGxvZyBwcmVmaXggYmFzZWQgb24gYHRoaXMuZm9ybWF0YCAqL1xuICBwcmVmaXgodCwgbikge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKFwiaGhcIiwgU3RyaW5nKHQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpKS5yZXBsYWNlKFwibW1cIiwgU3RyaW5nKHQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIikpLnJlcGxhY2UoXCJzc1wiLCBTdHJpbmcodC5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKSkucmVwbGFjZShcIm1zXCIsIFN0cmluZyh0LmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCBcIjBcIikpLnJlcGxhY2UoXCJsZXZlbFwiLCB3dFtuXSkucmVwbGFjZShcIm5hbWVzcGFjZVwiLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH1cbiAgbG9nKHQsIG4sIHMpIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IG4pIHJldHVybjtcbiAgICBjb25zdCBpID0gdGhpcy5wcmVmaXgodCwgbik7XG4gICAgc3dpdGNoICh0aGlzLmxldmVsKSB7XG4gICAgICBjYXNlIHAuRVJST1I6XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci5lcnJvcihpLCBzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBwLldBUk46XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci53YXJuKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHAuSU5GTzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmluZm8oaSwgcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgcC5ERUJVRzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmRlYnVnKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLiNuLmZvckVhY2goKHIpID0+IHIudHJhY2UoaSwgcykpO1xuICAgIH1cbiAgfVxuICBlcnJvciguLi50KSB7XG4gICAgdGhpcy5sb2coLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHAuRVJST1IsIHQpO1xuICB9XG4gIHdhcm4oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLldBUk4sIHQpO1xuICB9XG4gIGluZm8oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpO1xuICB9XG4gIGRlYnVnKC4uLnQpIHtcbiAgICB0aGlzLmxvZygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgcC5ERUJVRywgdCk7XG4gIH1cbiAgdHJhY2UoLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLlRSQUNFLCB0KTtcbiAgfVxuICAvLyBvbihsb2dnZXI6IHVua25vd24pOiBMb2dnZXIge1xuICAvLyAgIHJldHVybiBsb2dnZXIgJiYgbG9nZ2VyIGluc3RhbmNlb2YgTG9nZ2VyID8gbmV3IExvZ2dlcldyYXBwZXIodGhpcy5uYW1lc3BhY2UsIGxvZ2dlcikgOiB0aGlzXG4gIC8vIH1cbiAgLy8gLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIsIHRoYXQgZ3JvdXBzIHRoZSBsb2dzLiAqL1xuICBncm91cCguLi50KSB7XG4gICAgY29uc3QgbiA9IG5ldyBtdCgpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSksIG4ubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpLCBuO1xuICB9XG59XG5jbGFzcyBtdCBleHRlbmRzIFYge1xuICAjdCA9IFtdO1xuICBsb2codCwgbiwgcykge1xuICAgIHRoaXMubGV2ZWwgPiBuIHx8IHRoaXMuI3QucHVzaCh7IHRpbWVzdGFtcDogdCwgbGV2ZWw6IG4sIGNvbnRlbnQ6IHMgfSk7XG4gIH1cbiAgZmx1c2goLi4udCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnByZWZpeCgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgcC5JTkZPKSwgcyA9IHRoaXMuZHJpdmVycy5tYXAoXG4gICAgICAoaSkgPT4gaS5ncm91cChuLCB0KVxuICAgICk7XG4gICAgZm9yIChjb25zdCB7IHRpbWVzdGFtcDogaSwgbGV2ZWw6IHIsIGNvbnRlbnQ6IG8gfSBvZiB0aGlzLiN0KVxuICAgICAgc3VwZXIubG9nKGksIHIsIG8pO1xuICAgIHMuZm9yRWFjaCgoaSkgPT4gaSgpKSwgdGhpcy4jdCA9IFtdO1xuICB9XG59XG5jbGFzcyB5dCB7XG4gIGNvbnN0cnVjdG9yKHQsIG4pIHtcbiAgICB0aGlzLmFwcCA9IHQsIHRoaXMuY29udGFpbmVyRWwgPSBuLCB0aGlzLnNjb3BlID0gbmV3IGR0KCksIHRoaXMud3JhcHBlckVsID0gY3JlYXRlRGl2KFwic3VnZ2VzdGlvbnMtdG9vbHRpcFwiKTtcbiAgfVxuICBzY29wZTtcbiAgd3JhcHBlckVsO1xuICByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKFtdLCBcIkVzY2FwZVwiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5hcHAua2V5bWFwLnB1c2hTY29wZSh0aGlzLnNjb3BlKSwgdGhpcy5jb250YWluZXJFbC5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXJFbCk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5hcHAua2V5bWFwLnBvcFNjb3BlKHRoaXMuc2NvcGUpLCB0aGlzLndyYXBwZXJFbC5lbXB0eSgpLCB0aGlzLndyYXBwZXJFbC5kZXRhY2goKTtcbiAgfVxufVxuY29uc3QgWSA9IE1hdGgubWluLCBPID0gTWF0aC5tYXgsIEggPSBNYXRoLnJvdW5kLCB4ID0gKGUpID0+ICh7XG4gIHg6IGUsXG4gIHk6IGVcbn0pO1xuZnVuY3Rpb24gWihlKSB7XG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVswXTtcbn1cbmZ1bmN0aW9uIHh0KGUpIHtcbiAgcmV0dXJuIGUuc3BsaXQoXCItXCIpWzFdO1xufVxuZnVuY3Rpb24gRXQoZSkge1xuICByZXR1cm4gZSA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xufVxuZnVuY3Rpb24gYnQoZSkge1xuICByZXR1cm4gZSA9PT0gXCJ5XCIgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xufVxuZnVuY3Rpb24gdHQoZSkge1xuICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKFooZSkpID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIHZ0KGUpIHtcbiAgcmV0dXJuIEV0KHR0KGUpKTtcbn1cbmZ1bmN0aW9uIGV0KGUpIHtcbiAgY29uc3Qge1xuICAgIHg6IHQsXG4gICAgeTogbixcbiAgICB3aWR0aDogcyxcbiAgICBoZWlnaHQ6IGlcbiAgfSA9IGU7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHMsXG4gICAgaGVpZ2h0OiBpLFxuICAgIHRvcDogbixcbiAgICBsZWZ0OiB0LFxuICAgIHJpZ2h0OiB0ICsgcyxcbiAgICBib3R0b206IG4gKyBpLFxuICAgIHg6IHQsXG4gICAgeTogblxuICB9O1xufVxuZnVuY3Rpb24gWChlLCB0LCBuKSB7XG4gIGxldCB7XG4gICAgcmVmZXJlbmNlOiBzLFxuICAgIGZsb2F0aW5nOiBpXG4gIH0gPSBlO1xuICBjb25zdCByID0gdHQodCksIG8gPSB2dCh0KSwgYyA9IGJ0KG8pLCBhID0gWih0KSwgbCA9IHIgPT09IFwieVwiLCB1ID0gcy54ICsgcy53aWR0aCAvIDIgLSBpLndpZHRoIC8gMiwgZiA9IHMueSArIHMuaGVpZ2h0IC8gMiAtIGkuaGVpZ2h0IC8gMiwgZCA9IHNbY10gLyAyIC0gaVtjXSAvIDI7XG4gIGxldCBoO1xuICBzd2l0Y2ggKGEpIHtcbiAgICBjYXNlIFwidG9wXCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiB1LFxuICAgICAgICB5OiBzLnkgLSBpLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgIGggPSB7XG4gICAgICAgIHg6IHUsXG4gICAgICAgIHk6IHMueSArIHMuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiBzLnggKyBzLndpZHRoLFxuICAgICAgICB5OiBmXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIGggPSB7XG4gICAgICAgIHg6IHMueCAtIGkud2lkdGgsXG4gICAgICAgIHk6IGZcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogcy54LFxuICAgICAgICB5OiBzLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoICh4dCh0KSkge1xuICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgaFtvXSAtPSBkICogKG4gJiYgbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICBoW29dICs9IGQgKiAobiAmJiBsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBoO1xufVxuY29uc3QgUnQgPSBhc3luYyAoZSwgdCwgbikgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50OiBzID0gXCJib3R0b21cIixcbiAgICBzdHJhdGVneTogaSA9IFwiYWJzb2x1dGVcIixcbiAgICBtaWRkbGV3YXJlOiByID0gW10sXG4gICAgcGxhdGZvcm06IG9cbiAgfSA9IG4sIGMgPSByLmZpbHRlcihCb29sZWFuKSwgYSA9IGF3YWl0IChvLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBvLmlzUlRMKHQpKTtcbiAgbGV0IGwgPSBhd2FpdCBvLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlOiBlLFxuICAgIGZsb2F0aW5nOiB0LFxuICAgIHN0cmF0ZWd5OiBpXG4gIH0pLCB7XG4gICAgeDogdSxcbiAgICB5OiBmXG4gIH0gPSBYKGwsIHMsIGEpLCBkID0gcywgaCA9IHt9LCBMID0gMDtcbiAgZm9yIChsZXQgZyA9IDA7IGcgPCBjLmxlbmd0aDsgZysrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZTogYixcbiAgICAgIGZuOiBJXG4gICAgfSA9IGNbZ10sIHtcbiAgICAgIHg6IEQsXG4gICAgICB5OiBXLFxuICAgICAgZGF0YTogUCxcbiAgICAgIHJlc2V0OiBDXG4gICAgfSA9IGF3YWl0IEkoe1xuICAgICAgeDogdSxcbiAgICAgIHk6IGYsXG4gICAgICBpbml0aWFsUGxhY2VtZW50OiBzLFxuICAgICAgcGxhY2VtZW50OiBkLFxuICAgICAgc3RyYXRlZ3k6IGksXG4gICAgICBtaWRkbGV3YXJlRGF0YTogaCxcbiAgICAgIHJlY3RzOiBsLFxuICAgICAgcGxhdGZvcm06IG8sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IGUsXG4gICAgICAgIGZsb2F0aW5nOiB0XG4gICAgICB9XG4gICAgfSk7XG4gICAgdSA9IEQgPz8gdSwgZiA9IFcgPz8gZiwgaCA9IHtcbiAgICAgIC4uLmgsXG4gICAgICBbYl06IHtcbiAgICAgICAgLi4uaFtiXSxcbiAgICAgICAgLi4uUFxuICAgICAgfVxuICAgIH0sIEMgJiYgTCA8PSA1MCAmJiAoTCsrLCB0eXBlb2YgQyA9PSBcIm9iamVjdFwiICYmIChDLnBsYWNlbWVudCAmJiAoZCA9IEMucGxhY2VtZW50KSwgQy5yZWN0cyAmJiAobCA9IEMucmVjdHMgPT09ICEwID8gYXdhaXQgby5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgZmxvYXRpbmc6IHQsXG4gICAgICBzdHJhdGVneTogaVxuICAgIH0pIDogQy5yZWN0cyksIHtcbiAgICAgIHg6IHUsXG4gICAgICB5OiBmXG4gICAgfSA9IFgobCwgZCwgYSkpLCBnID0gLTEpO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogdSxcbiAgICB5OiBmLFxuICAgIHBsYWNlbWVudDogZCxcbiAgICBzdHJhdGVneTogaSxcbiAgICBtaWRkbGV3YXJlRGF0YTogaFxuICB9O1xufTtcbmZ1bmN0aW9uICQoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93IDwgXCJ1XCI7XG59XG5mdW5jdGlvbiBBKGUpIHtcbiAgcmV0dXJuIG50KGUpID8gKGUubm9kZU5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKSA6IFwiI2RvY3VtZW50XCI7XG59XG5mdW5jdGlvbiB3KGUpIHtcbiAgdmFyIHQ7XG4gIHJldHVybiAoZSA9PSBudWxsIHx8ICh0ID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5kZWZhdWx0VmlldykgfHwgd2luZG93O1xufVxuZnVuY3Rpb24gdihlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKHQgPSAobnQoZSkgPyBlLm93bmVyRG9jdW1lbnQgOiBlLmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiB0LmRvY3VtZW50RWxlbWVudDtcbn1cbmZ1bmN0aW9uIG50KGUpIHtcbiAgcmV0dXJuICQoKSA/IGUgaW5zdGFuY2VvZiBOb2RlIHx8IGUgaW5zdGFuY2VvZiB3KGUpLk5vZGUgOiAhMTtcbn1cbmZ1bmN0aW9uIG0oZSkge1xuICByZXR1cm4gJCgpID8gZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZSBpbnN0YW5jZW9mIHcoZSkuRWxlbWVudCA6ICExO1xufVxuZnVuY3Rpb24gRShlKSB7XG4gIHJldHVybiAkKCkgPyBlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgZSBpbnN0YW5jZW9mIHcoZSkuSFRNTEVsZW1lbnQgOiAhMTtcbn1cbmZ1bmN0aW9uIHEoZSkge1xuICByZXR1cm4gISQoKSB8fCB0eXBlb2YgU2hhZG93Um9vdCA+IFwidVwiID8gITEgOiBlIGluc3RhbmNlb2YgU2hhZG93Um9vdCB8fCBlIGluc3RhbmNlb2YgdyhlKS5TaGFkb3dSb290O1xufVxuZnVuY3Rpb24gayhlKSB7XG4gIGNvbnN0IHtcbiAgICBvdmVyZmxvdzogdCxcbiAgICBvdmVyZmxvd1g6IG4sXG4gICAgb3ZlcmZsb3dZOiBzLFxuICAgIGRpc3BsYXk6IGlcbiAgfSA9IHkoZSk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdCh0ICsgcyArIG4pICYmICFbXCJpbmxpbmVcIiwgXCJjb250ZW50c1wiXS5pbmNsdWRlcyhpKTtcbn1cbmZ1bmN0aW9uIEx0KGUpIHtcbiAgcmV0dXJuIFtcInRhYmxlXCIsIFwidGRcIiwgXCJ0aFwiXS5pbmNsdWRlcyhBKGUpKTtcbn1cbmZ1bmN0aW9uIE0oZSkge1xuICByZXR1cm4gW1wiOnBvcG92ZXItb3BlblwiLCBcIjptb2RhbFwiXS5zb21lKCh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBlLm1hdGNoZXModCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHooZSkge1xuICBjb25zdCB0ID0gRygpLCBuID0gbShlKSA/IHkoZSkgOiBlO1xuICByZXR1cm4gW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiXS5zb21lKChzKSA9PiBuW3NdID8gbltzXSAhPT0gXCJub25lXCIgOiAhMSkgfHwgKG4uY29udGFpbmVyVHlwZSA/IG4uY29udGFpbmVyVHlwZSAhPT0gXCJub3JtYWxcIiA6ICExKSB8fCAhdCAmJiAobi5iYWNrZHJvcEZpbHRlciA/IG4uYmFja2Ryb3BGaWx0ZXIgIT09IFwibm9uZVwiIDogITEpIHx8ICF0ICYmIChuLmZpbHRlciA/IG4uZmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJzY2FsZVwiLCBcInJvdGF0ZVwiLCBcInBlcnNwZWN0aXZlXCIsIFwiZmlsdGVyXCJdLnNvbWUoKHMpID0+IChuLndpbGxDaGFuZ2UgfHwgXCJcIikuaW5jbHVkZXMocykpIHx8IFtcInBhaW50XCIsIFwibGF5b3V0XCIsIFwic3RyaWN0XCIsIFwiY29udGVudFwiXS5zb21lKChzKSA9PiAobi5jb250YWluIHx8IFwiXCIpLmluY2x1ZGVzKHMpKTtcbn1cbmZ1bmN0aW9uIEN0KGUpIHtcbiAgbGV0IHQgPSBSKGUpO1xuICBmb3IgKDsgRSh0KSAmJiAhUyh0KTsgKSB7XG4gICAgaWYgKHoodCkpXG4gICAgICByZXR1cm4gdDtcbiAgICBpZiAoTSh0KSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHQgPSBSKHQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gRygpIHtcbiAgcmV0dXJuIHR5cGVvZiBDU1MgPiBcInVcIiB8fCAhQ1NTLnN1cHBvcnRzID8gITEgOiBDU1Muc3VwcG9ydHMoXCItd2Via2l0LWJhY2tkcm9wLWZpbHRlclwiLCBcIm5vbmVcIik7XG59XG5mdW5jdGlvbiBTKGUpIHtcbiAgcmV0dXJuIFtcImh0bWxcIiwgXCJib2R5XCIsIFwiI2RvY3VtZW50XCJdLmluY2x1ZGVzKEEoZSkpO1xufVxuZnVuY3Rpb24geShlKSB7XG4gIHJldHVybiB3KGUpLmdldENvbXB1dGVkU3R5bGUoZSk7XG59XG5mdW5jdGlvbiBfKGUpIHtcbiAgcmV0dXJuIG0oZSkgPyB7XG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogZS5zY3JvbGxUb3BcbiAgfSA6IHtcbiAgICBzY3JvbGxMZWZ0OiBlLnNjcm9sbFgsXG4gICAgc2Nyb2xsVG9wOiBlLnNjcm9sbFlcbiAgfTtcbn1cbmZ1bmN0aW9uIFIoZSkge1xuICBpZiAoQShlKSA9PT0gXCJodG1sXCIpXG4gICAgcmV0dXJuIGU7XG4gIGNvbnN0IHQgPSAoXG4gICAgLy8gU3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUuXG4gICAgZS5hc3NpZ25lZFNsb3QgfHwgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gICAgZS5wYXJlbnROb2RlIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gICAgcShlKSAmJiBlLmhvc3QgfHwgLy8gRmFsbGJhY2suXG4gICAgdihlKVxuICApO1xuICByZXR1cm4gcSh0KSA/IHQuaG9zdCA6IHQ7XG59XG5mdW5jdGlvbiBzdChlKSB7XG4gIGNvbnN0IHQgPSBSKGUpO1xuICByZXR1cm4gUyh0KSA/IGUub3duZXJEb2N1bWVudCA/IGUub3duZXJEb2N1bWVudC5ib2R5IDogZS5ib2R5IDogRSh0KSAmJiBrKHQpID8gdCA6IHN0KHQpO1xufVxuZnVuY3Rpb24gaXQoZSwgdCwgbikge1xuICB2YXIgcztcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gW10pO1xuICBjb25zdCBpID0gc3QoZSksIHIgPSBpID09PSAoKHMgPSBlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBzLmJvZHkpLCBvID0gdyhpKTtcbiAgcmV0dXJuIHIgPyAoaihvKSwgdC5jb25jYXQobywgby52aXN1YWxWaWV3cG9ydCB8fCBbXSwgayhpKSA/IGkgOiBbXSwgW10pKSA6IHQuY29uY2F0KGksIGl0KGksIFtdKSk7XG59XG5mdW5jdGlvbiBqKGUpIHtcbiAgcmV0dXJuIGUucGFyZW50ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnBhcmVudCkgPyBlLmZyYW1lRWxlbWVudCA6IG51bGw7XG59XG5mdW5jdGlvbiBydChlKSB7XG4gIGNvbnN0IHQgPSB5KGUpO1xuICBsZXQgbiA9IHBhcnNlRmxvYXQodC53aWR0aCkgfHwgMCwgcyA9IHBhcnNlRmxvYXQodC5oZWlnaHQpIHx8IDA7XG4gIGNvbnN0IGkgPSBFKGUpLCByID0gaSA/IGUub2Zmc2V0V2lkdGggOiBuLCBvID0gaSA/IGUub2Zmc2V0SGVpZ2h0IDogcywgYyA9IEgobikgIT09IHIgfHwgSChzKSAhPT0gbztcbiAgcmV0dXJuIGMgJiYgKG4gPSByLCBzID0gbyksIHtcbiAgICB3aWR0aDogbixcbiAgICBoZWlnaHQ6IHMsXG4gICAgJDogY1xuICB9O1xufVxuZnVuY3Rpb24gb3QoZSkge1xuICByZXR1cm4gbShlKSA/IGUgOiBlLmNvbnRleHRFbGVtZW50O1xufVxuZnVuY3Rpb24gVChlKSB7XG4gIGNvbnN0IHQgPSBvdChlKTtcbiAgaWYgKCFFKHQpKVxuICAgIHJldHVybiB4KDEpO1xuICBjb25zdCBuID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwge1xuICAgIHdpZHRoOiBzLFxuICAgIGhlaWdodDogaSxcbiAgICAkOiByXG4gIH0gPSBydCh0KTtcbiAgbGV0IG8gPSAociA/IEgobi53aWR0aCkgOiBuLndpZHRoKSAvIHMsIGMgPSAociA/IEgobi5oZWlnaHQpIDogbi5oZWlnaHQpIC8gaTtcbiAgcmV0dXJuICghbyB8fCAhTnVtYmVyLmlzRmluaXRlKG8pKSAmJiAobyA9IDEpLCAoIWMgfHwgIU51bWJlci5pc0Zpbml0ZShjKSkgJiYgKGMgPSAxKSwge1xuICAgIHg6IG8sXG4gICAgeTogY1xuICB9O1xufVxuY29uc3QgVHQgPSAvKiBAX19QVVJFX18gKi8geCgwKTtcbmZ1bmN0aW9uIGN0KGUpIHtcbiAgY29uc3QgdCA9IHcoZSk7XG4gIHJldHVybiAhRygpIHx8ICF0LnZpc3VhbFZpZXdwb3J0ID8gVHQgOiB7XG4gICAgeDogdC52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0LFxuICAgIHk6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBTdChlLCB0LCBuKSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSAhMSksICFuIHx8IHQgJiYgbiAhPT0gdyhlKSA/ICExIDogdDtcbn1cbmZ1bmN0aW9uIE4oZSwgdCwgbiwgcykge1xuICB0ID09PSB2b2lkIDAgJiYgKHQgPSAhMSksIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgaSA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHIgPSBvdChlKTtcbiAgbGV0IG8gPSB4KDEpO1xuICB0ICYmIChzID8gbShzKSAmJiAobyA9IFQocykpIDogbyA9IFQoZSkpO1xuICBjb25zdCBjID0gU3QociwgbiwgcykgPyBjdChyKSA6IHgoMCk7XG4gIGxldCBhID0gKGkubGVmdCArIGMueCkgLyBvLngsIGwgPSAoaS50b3AgKyBjLnkpIC8gby55LCB1ID0gaS53aWR0aCAvIG8ueCwgZiA9IGkuaGVpZ2h0IC8gby55O1xuICBpZiAocikge1xuICAgIGNvbnN0IGQgPSB3KHIpLCBoID0gcyAmJiBtKHMpID8gdyhzKSA6IHM7XG4gICAgbGV0IEwgPSBkLCBnID0gaihMKTtcbiAgICBmb3IgKDsgZyAmJiBzICYmIGggIT09IEw7ICkge1xuICAgICAgY29uc3QgYiA9IFQoZyksIEkgPSBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBEID0geShnKSwgVyA9IEkubGVmdCArIChnLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KEQucGFkZGluZ0xlZnQpKSAqIGIueCwgUCA9IEkudG9wICsgKGcuY2xpZW50VG9wICsgcGFyc2VGbG9hdChELnBhZGRpbmdUb3ApKSAqIGIueTtcbiAgICAgIGEgKj0gYi54LCBsICo9IGIueSwgdSAqPSBiLngsIGYgKj0gYi55LCBhICs9IFcsIGwgKz0gUCwgTCA9IHcoZyksIGcgPSBqKEwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXQoe1xuICAgIHdpZHRoOiB1LFxuICAgIGhlaWdodDogZixcbiAgICB4OiBhLFxuICAgIHk6IGxcbiAgfSk7XG59XG5mdW5jdGlvbiBLKGUsIHQpIHtcbiAgY29uc3QgbiA9IF8oZSkuc2Nyb2xsTGVmdDtcbiAgcmV0dXJuIHQgPyB0LmxlZnQgKyBuIDogTih2KGUpKS5sZWZ0ICsgbjtcbn1cbmZ1bmN0aW9uIGx0KGUsIHQsIG4pIHtcbiAgbiA9PT0gdm9pZCAwICYmIChuID0gITEpO1xuICBjb25zdCBzID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgaSA9IHMubGVmdCArIHQuc2Nyb2xsTGVmdCAtIChuID8gMCA6IChcbiAgICAvLyBSVEwgPGJvZHk+IHNjcm9sbGJhci5cbiAgICBLKGUsIHMpXG4gICkpLCByID0gcy50b3AgKyB0LnNjcm9sbFRvcDtcbiAgcmV0dXJuIHtcbiAgICB4OiBpLFxuICAgIHk6IHJcbiAgfTtcbn1cbmZ1bmN0aW9uIEF0KGUpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50czogdCxcbiAgICByZWN0OiBuLFxuICAgIG9mZnNldFBhcmVudDogcyxcbiAgICBzdHJhdGVneTogaVxuICB9ID0gZTtcbiAgY29uc3QgciA9IGkgPT09IFwiZml4ZWRcIiwgbyA9IHYocyksIGMgPSB0ID8gTSh0LmZsb2F0aW5nKSA6ICExO1xuICBpZiAocyA9PT0gbyB8fCBjICYmIHIpXG4gICAgcmV0dXJuIG47XG4gIGxldCBhID0ge1xuICAgIHNjcm9sbExlZnQ6IDAsXG4gICAgc2Nyb2xsVG9wOiAwXG4gIH0sIGwgPSB4KDEpO1xuICBjb25zdCB1ID0geCgwKSwgZiA9IEUocyk7XG4gIGlmICgoZiB8fCAhZiAmJiAhcikgJiYgKChBKHMpICE9PSBcImJvZHlcIiB8fCBrKG8pKSAmJiAoYSA9IF8ocykpLCBFKHMpKSkge1xuICAgIGNvbnN0IGggPSBOKHMpO1xuICAgIGwgPSBUKHMpLCB1LnggPSBoLnggKyBzLmNsaWVudExlZnQsIHUueSA9IGgueSArIHMuY2xpZW50VG9wO1xuICB9XG4gIGNvbnN0IGQgPSBvICYmICFmICYmICFyID8gbHQobywgYSwgITApIDogeCgwKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogbi53aWR0aCAqIGwueCxcbiAgICBoZWlnaHQ6IG4uaGVpZ2h0ICogbC55LFxuICAgIHg6IG4ueCAqIGwueCAtIGEuc2Nyb2xsTGVmdCAqIGwueCArIHUueCArIGQueCxcbiAgICB5OiBuLnkgKiBsLnkgLSBhLnNjcm9sbFRvcCAqIGwueSArIHUueSArIGQueVxuICB9O1xufVxuZnVuY3Rpb24gRHQoZSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlLmdldENsaWVudFJlY3RzKCkpO1xufVxuZnVuY3Rpb24gT3QoZSkge1xuICBjb25zdCB0ID0gdihlKSwgbiA9IF8oZSksIHMgPSBlLm93bmVyRG9jdW1lbnQuYm9keSwgaSA9IE8odC5zY3JvbGxXaWR0aCwgdC5jbGllbnRXaWR0aCwgcy5zY3JvbGxXaWR0aCwgcy5jbGllbnRXaWR0aCksIHIgPSBPKHQuc2Nyb2xsSGVpZ2h0LCB0LmNsaWVudEhlaWdodCwgcy5zY3JvbGxIZWlnaHQsIHMuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IG8gPSAtbi5zY3JvbGxMZWZ0ICsgSyhlKTtcbiAgY29uc3QgYyA9IC1uLnNjcm9sbFRvcDtcbiAgcmV0dXJuIHkocykuZGlyZWN0aW9uID09PSBcInJ0bFwiICYmIChvICs9IE8odC5jbGllbnRXaWR0aCwgcy5jbGllbnRXaWR0aCkgLSBpKSwge1xuICAgIHdpZHRoOiBpLFxuICAgIGhlaWdodDogcixcbiAgICB4OiBvLFxuICAgIHk6IGNcbiAgfTtcbn1cbmZ1bmN0aW9uIEZ0KGUsIHQpIHtcbiAgY29uc3QgbiA9IHcoZSksIHMgPSB2KGUpLCBpID0gbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHIgPSBzLmNsaWVudFdpZHRoLCBvID0gcy5jbGllbnRIZWlnaHQsIGMgPSAwLCBhID0gMDtcbiAgaWYgKGkpIHtcbiAgICByID0gaS53aWR0aCwgbyA9IGkuaGVpZ2h0O1xuICAgIGNvbnN0IGwgPSBHKCk7XG4gICAgKCFsIHx8IGwgJiYgdCA9PT0gXCJmaXhlZFwiKSAmJiAoYyA9IGkub2Zmc2V0TGVmdCwgYSA9IGkub2Zmc2V0VG9wKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoOiByLFxuICAgIGhlaWdodDogbyxcbiAgICB4OiBjLFxuICAgIHk6IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIE50KGUsIHQpIHtcbiAgY29uc3QgbiA9IE4oZSwgITAsIHQgPT09IFwiZml4ZWRcIiksIHMgPSBuLnRvcCArIGUuY2xpZW50VG9wLCBpID0gbi5sZWZ0ICsgZS5jbGllbnRMZWZ0LCByID0gRShlKSA/IFQoZSkgOiB4KDEpLCBvID0gZS5jbGllbnRXaWR0aCAqIHIueCwgYyA9IGUuY2xpZW50SGVpZ2h0ICogci55LCBhID0gaSAqIHIueCwgbCA9IHMgKiByLnk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG8sXG4gICAgaGVpZ2h0OiBjLFxuICAgIHg6IGEsXG4gICAgeTogbFxuICB9O1xufVxuZnVuY3Rpb24gSihlLCB0LCBuKSB7XG4gIGxldCBzO1xuICBpZiAodCA9PT0gXCJ2aWV3cG9ydFwiKVxuICAgIHMgPSBGdChlLCBuKTtcbiAgZWxzZSBpZiAodCA9PT0gXCJkb2N1bWVudFwiKVxuICAgIHMgPSBPdCh2KGUpKTtcbiAgZWxzZSBpZiAobSh0KSlcbiAgICBzID0gTnQodCwgbik7XG4gIGVsc2Uge1xuICAgIGNvbnN0IGkgPSBjdChlKTtcbiAgICBzID0ge1xuICAgICAgeDogdC54IC0gaS54LFxuICAgICAgeTogdC55IC0gaS55LFxuICAgICAgd2lkdGg6IHQud2lkdGgsXG4gICAgICBoZWlnaHQ6IHQuaGVpZ2h0XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZXQocyk7XG59XG5mdW5jdGlvbiBhdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBSKGUpO1xuICByZXR1cm4gbiA9PT0gdCB8fCAhbShuKSB8fCBTKG4pID8gITEgOiB5KG4pLnBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgYXQobiwgdCk7XG59XG5mdW5jdGlvbiBrdChlLCB0KSB7XG4gIGNvbnN0IG4gPSB0LmdldChlKTtcbiAgaWYgKG4pXG4gICAgcmV0dXJuIG47XG4gIGxldCBzID0gaXQoZSwgW10pLmZpbHRlcigoYykgPT4gbShjKSAmJiBBKGMpICE9PSBcImJvZHlcIiksIGkgPSBudWxsO1xuICBjb25zdCByID0geShlKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiO1xuICBsZXQgbyA9IHIgPyBSKGUpIDogZTtcbiAgZm9yICg7IG0obykgJiYgIVMobyk7ICkge1xuICAgIGNvbnN0IGMgPSB5KG8pLCBhID0geihvKTtcbiAgICAhYSAmJiBjLnBvc2l0aW9uID09PSBcImZpeGVkXCIgJiYgKGkgPSBudWxsKSwgKHIgPyAhYSAmJiAhaSA6ICFhICYmIGMucG9zaXRpb24gPT09IFwic3RhdGljXCIgJiYgISFpICYmIFtcImFic29sdXRlXCIsIFwiZml4ZWRcIl0uaW5jbHVkZXMoaS5wb3NpdGlvbikgfHwgayhvKSAmJiAhYSAmJiBhdChlLCBvKSkgPyBzID0gcy5maWx0ZXIoKHUpID0+IHUgIT09IG8pIDogaSA9IGMsIG8gPSBSKG8pO1xuICB9XG4gIHJldHVybiB0LnNldChlLCBzKSwgcztcbn1cbmZ1bmN0aW9uIEl0KGUpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50OiB0LFxuICAgIGJvdW5kYXJ5OiBuLFxuICAgIHJvb3RCb3VuZGFyeTogcyxcbiAgICBzdHJhdGVneTogaVxuICB9ID0gZTtcbiAgY29uc3QgbyA9IFsuLi5uID09PSBcImNsaXBwaW5nQW5jZXN0b3JzXCIgPyBNKHQpID8gW10gOiBrdCh0LCB0aGlzLl9jKSA6IFtdLmNvbmNhdChuKSwgc10sIGMgPSBvWzBdLCBhID0gby5yZWR1Y2UoKGwsIHUpID0+IHtcbiAgICBjb25zdCBmID0gSih0LCB1LCBpKTtcbiAgICByZXR1cm4gbC50b3AgPSBPKGYudG9wLCBsLnRvcCksIGwucmlnaHQgPSBZKGYucmlnaHQsIGwucmlnaHQpLCBsLmJvdHRvbSA9IFkoZi5ib3R0b20sIGwuYm90dG9tKSwgbC5sZWZ0ID0gTyhmLmxlZnQsIGwubGVmdCksIGw7XG4gIH0sIEoodCwgYywgaSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBhLnJpZ2h0IC0gYS5sZWZ0LFxuICAgIGhlaWdodDogYS5ib3R0b20gLSBhLnRvcCxcbiAgICB4OiBhLmxlZnQsXG4gICAgeTogYS50b3BcbiAgfTtcbn1cbmZ1bmN0aW9uIFd0KGUpIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoOiB0LFxuICAgIGhlaWdodDogblxuICB9ID0gcnQoZSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHQsXG4gICAgaGVpZ2h0OiBuXG4gIH07XG59XG5mdW5jdGlvbiBCdChlLCB0LCBuKSB7XG4gIGNvbnN0IHMgPSBFKHQpLCBpID0gdih0KSwgciA9IG4gPT09IFwiZml4ZWRcIiwgbyA9IE4oZSwgITAsIHIsIHQpO1xuICBsZXQgYyA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBjb25zdCBhID0geCgwKTtcbiAgaWYgKHMgfHwgIXMgJiYgIXIpXG4gICAgaWYgKChBKHQpICE9PSBcImJvZHlcIiB8fCBrKGkpKSAmJiAoYyA9IF8odCkpLCBzKSB7XG4gICAgICBjb25zdCBkID0gTih0LCAhMCwgciwgdCk7XG4gICAgICBhLnggPSBkLnggKyB0LmNsaWVudExlZnQsIGEueSA9IGQueSArIHQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpICYmIChhLnggPSBLKGkpKTtcbiAgY29uc3QgbCA9IGkgJiYgIXMgJiYgIXIgPyBsdChpLCBjKSA6IHgoMCksIHUgPSBvLmxlZnQgKyBjLnNjcm9sbExlZnQgLSBhLnggLSBsLngsIGYgPSBvLnRvcCArIGMuc2Nyb2xsVG9wIC0gYS55IC0gbC55O1xuICByZXR1cm4ge1xuICAgIHg6IHUsXG4gICAgeTogZixcbiAgICB3aWR0aDogby53aWR0aCxcbiAgICBoZWlnaHQ6IG8uaGVpZ2h0XG4gIH07XG59XG5mdW5jdGlvbiBVKGUpIHtcbiAgcmV0dXJuIHkoZSkucG9zaXRpb24gPT09IFwic3RhdGljXCI7XG59XG5mdW5jdGlvbiBRKGUsIHQpIHtcbiAgaWYgKCFFKGUpIHx8IHkoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIilcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYgKHQpXG4gICAgcmV0dXJuIHQoZSk7XG4gIGxldCBuID0gZS5vZmZzZXRQYXJlbnQ7XG4gIHJldHVybiB2KGUpID09PSBuICYmIChuID0gbi5vd25lckRvY3VtZW50LmJvZHkpLCBuO1xufVxuZnVuY3Rpb24gdXQoZSwgdCkge1xuICBjb25zdCBuID0gdyhlKTtcbiAgaWYgKE0oZSkpXG4gICAgcmV0dXJuIG47XG4gIGlmICghRShlKSkge1xuICAgIGxldCBpID0gUihlKTtcbiAgICBmb3IgKDsgaSAmJiAhUyhpKTsgKSB7XG4gICAgICBpZiAobShpKSAmJiAhVShpKSlcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBpID0gUihpKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH1cbiAgbGV0IHMgPSBRKGUsIHQpO1xuICBmb3IgKDsgcyAmJiBMdChzKSAmJiBVKHMpOyApXG4gICAgcyA9IFEocywgdCk7XG4gIHJldHVybiBzICYmIFMocykgJiYgVShzKSAmJiAheihzKSA/IG4gOiBzIHx8IEN0KGUpIHx8IG47XG59XG5jb25zdCBWdCA9IGFzeW5jIGZ1bmN0aW9uKGUpIHtcbiAgY29uc3QgdCA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IHV0LCBuID0gdGhpcy5nZXREaW1lbnNpb25zLCBzID0gYXdhaXQgbihlLmZsb2F0aW5nKTtcbiAgcmV0dXJuIHtcbiAgICByZWZlcmVuY2U6IEJ0KGUucmVmZXJlbmNlLCBhd2FpdCB0KGUuZmxvYXRpbmcpLCBlLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogcy53aWR0aCxcbiAgICAgIGhlaWdodDogcy5oZWlnaHRcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gSHQoZSkge1xuICByZXR1cm4geShlKS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG59XG5jb25zdCAkdCA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Q6IEF0LFxuICBnZXREb2N1bWVudEVsZW1lbnQ6IHYsXG4gIGdldENsaXBwaW5nUmVjdDogSXQsXG4gIGdldE9mZnNldFBhcmVudDogdXQsXG4gIGdldEVsZW1lbnRSZWN0czogVnQsXG4gIGdldENsaWVudFJlY3RzOiBEdCxcbiAgZ2V0RGltZW5zaW9uczogV3QsXG4gIGdldFNjYWxlOiBULFxuICBpc0VsZW1lbnQ6IG0sXG4gIGlzUlRMOiBIdFxufSwgTXQgPSAoZSwgdCwgbikgPT4ge1xuICBjb25zdCBzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgaSA9IHtcbiAgICBwbGF0Zm9ybTogJHQsXG4gICAgLi4ublxuICB9LCByID0ge1xuICAgIC4uLmkucGxhdGZvcm0sXG4gICAgX2M6IHNcbiAgfTtcbiAgcmV0dXJuIFJ0KGUsIHQsIHtcbiAgICAuLi5pLFxuICAgIHBsYXRmb3JtOiByXG4gIH0pO1xufTtcbmZ1bmN0aW9uIF90KCkge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwibWF0Y2hXaWR0aFwiLFxuICAgIGZuKHsgZWxlbWVudHM6IGUsIHJlY3RzOiB0IH0pIHtcbiAgICAgIHJldHVybiBlLmZsb2F0aW5nLnN0eWxlLndpZHRoID0gYCR7dC5yZWZlcmVuY2Uud2lkdGh9cHhgLCB7IHJlc2V0OiB7IHJlY3RzOiAhMCB9IH07XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gUHQoKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJtYWtlSXRGbG9hdFwiLFxuICAgIGZuKHsgZWxlbWVudHM6IGUsIHg6IHQsIHk6IG4gfSkge1xuICAgICAgcmV0dXJuIGUuZmxvYXRpbmcuc3R5bGUudG9wID0gYCR7bn1weGAsIGUuZmxvYXRpbmcuc3R5bGUubGVmdCA9IGAke3R9cHhgLCB7fTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBVdChlLCB0KSB7XG4gIHJldHVybiAoZSAlIHQgKyB0KSAlIHQ7XG59XG5jbGFzcyBqdCBleHRlbmRzIHl0IHtcbiAgY29uc3RydWN0b3IodCwgbiwgcykge1xuICAgIHN1cGVyKHQsIHMgPz8gbi5wYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHkpLCB0aGlzLmlucHV0RWwgPSBuLCB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH1cbiAgI3QgPSBbXTtcbiAgI3MgPSBbXTtcbiAgI2UgPSAtMTtcbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCksIE10KHRoaXMuaW5wdXRFbCwgdGhpcy53cmFwcGVyRWwsIHtcbiAgICAgIHBsYWNlbWVudDogXCJib3R0b20tc3RhcnRcIixcbiAgICAgIG1pZGRsZXdhcmU6IFtfdCgpLCBQdCgpXVxuICAgIH0pO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCksIHRoaXMuI2UgPSAtMSwgdGhpcy4jdCA9IFtdLCB0aGlzLiNzID0gW107XG4gIH1cbiAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIucmVnaXN0ZXJMaXN0ZW5lcnMoKSwgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJFbnRlclwiLCAodCkgPT4gdGhpcy5vbktleXByZXNzKHQsIFwiZW50ZXJcIikpLCB0aGlzLnNjb3BlLnJlZ2lzdGVyKFtdLCBcIkFycm93VXBcIiwgKHQpID0+IHRoaXMub25LZXlwcmVzcyh0LCBcInVwXCIpKSwgdGhpcy5zY29wZS5yZWdpc3RlcihcbiAgICAgIFtdLFxuICAgICAgXCJBcnJvd0Rvd25cIixcbiAgICAgICh0KSA9PiB0aGlzLm9uS2V5cHJlc3ModCwgXCJkb3duXCIpXG4gICAgKSwgdGhpcy53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiAhMSksIHRoaXMud3JhcHBlckVsLm9uKFwiY2xpY2tcIiwgXCIuc3VnZ2VzdGlvbi1pdGVtXCIsIHRoaXMub25DbGljay5iaW5kKHRoaXMpKSwgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMub25CbHVyLmJpbmQodGhpcykpLCB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiZm9jdXNcIixcbiAgICAgIHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpXG4gICAgKSwgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImlucHV0XCIsXG4gICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UuYmluZCh0aGlzKVxuICAgICk7XG4gIH1cbiAgb25CbHVyKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jbG9zZSgpLCAxMDApO1xuICB9XG4gIG9uSW5wdXRDaGFuZ2UodCkge1xuICAgIGlmICghKHQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpICYmICEodC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbiA9IHRoaXMuZ2V0U3VnZ2VzdGlvbnModC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICBpZiAobi5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLndyYXBwZXJFbC5lbXB0eSgpLCB0aGlzLiN0ID0gbiwgdGhpcy4jcyA9IG4ubWFwKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLndyYXBwZXJFbC5jcmVhdGVEaXYoXCJzdWdnZXN0aW9uLWl0ZW1cIik7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclN1Z2dlc3Rpb24ocywgaSksIGk7XG4gICAgICB9KSwgdGhpcy5vcGVuKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuICBvbktleXByZXNzKHQsIG4pIHtcbiAgICBpZiAoIXQuaXNDb21wb3NpbmcpXG4gICAgICBzd2l0Y2ggKHQucHJldmVudERlZmF1bHQoKSwgbikge1xuICAgICAgICBjYXNlIFwiZW50ZXJcIjpcbiAgICAgICAgICB0aGlzLnNlbGVjdFN1Z2dlc3Rpb24odGhpcy4jdFt0aGlzLiNlXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ1cFwiOlxuICAgICAgICAgIHRoaXMuZm9jdXNTdWdnZXN0aW9uKHRoaXMuI2UgLSAxLCAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgICAgdGhpcy5mb2N1c1N1Z2dlc3Rpb24odGhpcy4jZSArIDEsICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuICBvbkNsaWNrKHQsIG4pIHtcbiAgICB0LnByZXZlbnREZWZhdWx0KCksIHRoaXMuZm9jdXNTdWdnZXN0aW9uKHRoaXMuI3MuaW5kZXhPZihuKSwgITEpLCB0aGlzLnNlbGVjdFN1Z2dlc3Rpb24odGhpcy4jdFt0aGlzLiNlXSk7XG4gIH1cbiAgZm9jdXNTdWdnZXN0aW9uKHQsIG4pIHtcbiAgICBjb25zdCBzID0gVXQodCwgdGhpcy4jdC5sZW5ndGgpLCBpID0gdGhpcy4jc1t0aGlzLiNlXSwgciA9IHRoaXMuI3Nbc107XG4gICAgaS5yZW1vdmVDbGFzcyhcImlzLXNlbGVjdGVkXCIpLCByLmFkZENsYXNzKFwiaXMtc2VsZWN0ZWRcIiksIHRoaXMuI2UgPSBzLCBuICYmIHIuc2Nyb2xsSW50b1ZpZXcoITEpO1xuICB9XG59XG5mdW5jdGlvbiBLdChlLCB0KSB7XG4gIHJldHVybiBmdChlLCB0ID8gKHMpID0+IHMgaW5zdGFuY2VvZiBCICYmIHQocykgOiAocykgPT4gcyBpbnN0YW5jZW9mIEIpO1xufVxuZnVuY3Rpb24genQoZSwgdCkge1xuICByZXR1cm4gZnQoZSwgdCA/IChzKSA9PiBzIGluc3RhbmNlb2YgRiAmJiB0KHMpIDogKHMpID0+IHMgaW5zdGFuY2VvZiBGKTtcbn1cbmZ1bmN0aW9uIGZ0KGUsIHQpIHtcbiAgbGV0IG4gPSBlLmdldEFsbExvYWRlZEZpbGVzKCk7XG4gIHJldHVybiB0ICYmIChuID0gbi5maWx0ZXIodCkpLCBuLnNvcnQoKHMsIGkpID0+IHMucGF0aC5sb2NhbGVDb21wYXJlKGkucGF0aCkpO1xufVxuZnVuY3Rpb24gWXQoZSwgdCwgbikge1xuICBjb25zdCBzID0gaHQoZSwgdCksIGkgPSBuID8gKHIpID0+IHIgaW5zdGFuY2VvZiBCICYmIG4ocikgOiAocikgPT4gciBpbnN0YW5jZW9mIEI7XG4gIHJldHVybiBzLmNoaWxkcmVuLmZpbHRlcihpKTtcbn1cbmZ1bmN0aW9uIFh0KGUsIHQsIG4pIHtcbiAgY29uc3QgcyA9IGh0KGUsIHQpLCBpID0gbiA/IChyKSA9PiByIGluc3RhbmNlb2YgRiAmJiBuKHIpIDogKHIpID0+IHIgaW5zdGFuY2VvZiBGO1xuICByZXR1cm4gcy5jaGlsZHJlbi5maWx0ZXIoaSk7XG59XG5mdW5jdGlvbiBodChlLCB0KSB7XG4gIGNvbnN0IG4gPSBlLmdldEFic3RyYWN0RmlsZUJ5UGF0aChndCh0KSk7XG4gIGlmICghbilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZvbGRlciBcIiR7dH1cIiBkb2Vzbid0IGV4aXN0LmApO1xuICBpZiAoIShuIGluc3RhbmNlb2YgRikpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3R9IGlzIGEgZmlsZSwgbm90IGEgZm9sZGVyLmApO1xuICByZXR1cm4gbjtcbn1cbmNsYXNzIHF0IGV4dGVuZHMganQge1xuICBnZXRTdWdnZXN0aW9ucyh0KSB7XG4gICAgY29uc3QgbiA9IHQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHp0KFxuICAgICAgdGhpcy5hcHAudmF1bHQsXG4gICAgICAvL1xuICAgICAgKHMpID0+IHMucGF0aC50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKG4pXG4gICAgKTtcbiAgfVxuICByZW5kZXJTdWdnZXN0aW9uKHQsIG4pIHtcbiAgICBuLnNldFRleHQodC5wYXRoKTtcbiAgfVxuICBzZWxlY3RTdWdnZXN0aW9uKHQpIHtcbiAgICB0aGlzLmlucHV0RWwudmFsdWUgPSB0LnBhdGgsIHRoaXMuaW5wdXRFbC50cmlnZ2VyKFwiaW5wdXRcIiksIHRoaXMuY2xvc2UoKTtcbiAgfVxufVxuY2xhc3MgSnQge1xuICBzdGF0aWMgam9pbiguLi50KSB7XG4gICAgcmV0dXJuIHQucmVkdWNlKChuLCBzKSA9PiBzID8gbiA/IG4ucmVwbGFjZSgvW1xcXFwvXSskL2dpLCBcIlwiKSArIC8vXG4gICAgXCIvXCIgKyBzLnJlcGxhY2UoL15bXFxcXC9dKy9naSwgXCJcIikgOiBzIDogbiwgXCJcIik7XG4gIH1cbiAgc3RhdGljIG5vcm1hbGl6ZSh0KSB7XG4gICAgcmV0dXJuIHQucmVwbGFjZUFsbCgvW15cXHctXFxcXC8jPyY9JzosLiBdKy9naSwgXCJfXCIpO1xuICB9XG4gIHN0YXRpYyBnZXROYW1lKHQpIHtcbiAgICByZXR1cm4gdC5tYXRjaCgvW15cXFxcL10rJC9naSk/LmF0KDApO1xuICB9XG4gIHN0YXRpYyBnZXRCYXNlbmFtZSh0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZ2V0TmFtZSh0KTtcbiAgICByZXR1cm4gbiA/IHRoaXMucmVtb3ZlRXh0KG4pIDogdm9pZCAwO1xuICB9XG4gIHN0YXRpYyBnZXRQYXJlbnQodCkge1xuICAgIHJldHVybiB0LnJlcGxhY2UoL1tcXFxcL11bXlxcXFwvXSokL2dpLCBcIlwiKTtcbiAgfVxuICBzdGF0aWMgaGFzRXh0KHQpIHtcbiAgICByZXR1cm4gL1xcLlteXFxcXC9dKiQvZ2kudGVzdCh0KTtcbiAgfVxuICAvKiogU2hvdWxkIHVzZSBgaGFzRXh0KClgIGJlZm9yZSAqL1xuICBzdGF0aWMgZ2V0RXh0KHQpIHtcbiAgICByZXR1cm4gLyg/PD1cXC4pKFteXFxcXC8jP10qKShbIz9dLiopPyQvZ2kuZXhlYyh0KT8uYXQoMSk7XG4gIH1cbiAgc3RhdGljIHJlbW92ZUV4dCh0KSB7XG4gICAgcmV0dXJuIHQucmVwbGFjZSgvKFxcLlteXFxcXC9dKik/KFsjP10uKik/JC9naSwgXCJcIik7XG4gIH1cbn1cbmNsYXNzIFF0IHtcbiAgc3RhdGljIGlzVXJsKHQpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvL2dpLnRlc3QodCk7XG4gIH1cbiAgLyoqIFNob3VsZCB1c2UgYGlzVXJsKClgIGJlZm9yZSAqL1xuICBzdGF0aWMgZ2V0T3JpZ2luKHQpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvW15cXFxcL10rL2dpLmV4ZWModCk/LmF0KDApO1xuICB9XG4gIC8qKiBTaG91bGQgdXNlIGBpc1VybCgpYCBiZWZvcmUgKi9cbiAgc3RhdGljIGdldEJhc2V1cmwodCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC9bXiM/XSovZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbiAgc3RhdGljIGdldEhhc2godCkge1xuICAgIHJldHVybiAvKD88PSMpW14/XSovZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbiAgc3RhdGljIGdldHBhcmFtcyh0KSB7XG4gICAgcmV0dXJuIC8oPzw9XFw/KS4qL2dpLmV4ZWModCk/LmF0KDApO1xuICB9XG59XG5leHBvcnQge1xuICBxdCBhcyBGb2xkZXJTdWdnZXN0ZXIsXG4gIGp0IGFzIElucHV0U3VnZ2VzdGVyLFxuICBwIGFzIExvZ0xldmVsLFxuICB3dCBhcyBMb2dMZXZlbFJldmVyc2UsXG4gIFYgYXMgTG9nZ2VyLFxuICBtdCBhcyBMb2dnaW5nR3JvdXAsXG4gIHl0IGFzIFN1Z2dlc3RlcixcbiAgSnQgYXMgVVJJLFxuICBRdCBhcyBVUkwsXG4gIGZ0IGFzIGdldEFsbEFic3RyYWN0RmlsZXNJblZhdWx0LFxuICBLdCBhcyBnZXRBbGxGaWxlc0luVmF1bHQsXG4gIHp0IGFzIGdldEFsbEZvbGRlcnNJblZhdWx0LFxuICBZdCBhcyBnZXRGaWxlc09uRm9sZGVyLFxuICBodCBhcyBnZXRGb2xkZXJJblZhdWx0LFxuICBYdCBhcyBnZXRGb2xkZXJzT25Gb2xkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNpZGlhbi1mbmMuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgUmVxdWVzdFVybFJlc3BvbnNlIH0gZnJvbSAnb2JzaWRpYW4nXG5cbnR5cGUgRXJyb3JDb2RlID1cbiAgICB8ICdyZW1vdGUtbm8tdXJsJ1xuICAgIHwgJ3JlbW90ZS1uby1leHQnXG4gICAgfCAndXJsLXJlcXVlc3QtaGVhZCdcbiAgICB8ICd1cmwtcmVxdWVzdC1nZXQnXG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIHJlc3BvbnNlIGhhcyBhIF8qKnN0YXR1c0NvZGUqKl9cbiAgICAgKiBAdGhyb3dzIHtBdHRhY2htZW50RXJyb3J9XG4gICAgICovXG4gICAgc3RhdGljIGFzc2VydFJlc3BvbnNlKFxuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2U6IFJlcXVlc3RVcmxSZXNwb25zZSxcbiAgICAgICAgY29kZTogRXJyb3JDb2RlLFxuICAgICk6IHZvaWQge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSByZXR1cm5cblxuICAgICAgICB0aHJvdyBuZXcgQXR0YWNobWVudEVycm9yKFxuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIGByZXF1ZXN0ZWQgdXJsOiAke3VybH1gICtcbiAgICAgICAgICAgICAgICBgXFxucmVzcG9uc2Ugc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gICtcbiAgICAgICAgICAgICAgICBgXFxucmVzcG9uc2UgaGVhZGVyczpcXG4ke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmhlYWRlcnMpfWAsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNvZGU6IEVycm9yQ29kZSxcbiAgICAgICAgcHVibGljIGNhdXNlPzogdW5rbm93bixcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLm5hbWUgPSBgQXR0YWNobWVudEVycm9yKCR7dGhpcy5jb2RlfSlgXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMudG9TdHJpbmdNZXNzYWdlKClcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5uYW1lfTogJHt0aGlzLnRvU3RyaW5nTWVzc2FnZSgpfWBcbiAgICB9XG5cbiAgICB0b1N0cmluZ01lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IEF0dGFjaG1lbnRFcnJvci4jZGVzY3JpcHRpb24odGhpcy5jb2RlKVxuICAgICAgICBpZiAoIXRoaXMuY2F1c2UpIHJldHVybiBtZXNzYWdlXG5cbiAgICAgICAgaWYgKHRoaXMuY2F1c2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiBgJHttZXNzYWdlfSwgY29udGV4dDpcXG5cXG4ke3RoaXMuY2F1c2V9YFxuICAgICAgICByZXR1cm4gYCR7bWVzc2FnZX0sIGNvbnRleHQ6XFxuXFxuJHtKU09OLnN0cmluZ2lmeSh0aGlzLmNhdXNlKX1gXG4gICAgfVxuXG4gICAgc3RhdGljICNkZXNjcmlwdGlvbihjb2RlOiBFcnJvckNvZGUpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JlbW90ZS1uby11cmwnOlxuICAgICAgICAgICAgICAgIHJldHVybiAncmVtb3RlIHBhcmFtIHNob3VsZCBiZSBhbiBVUkwnXG4gICAgICAgICAgICBjYXNlICdyZW1vdGUtbm8tZXh0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2EgZmlsZS1leHRlbnNpb24gY291bGQgbm90IGJlIGRldGVybWluZWQnXG5cbiAgICAgICAgICAgIGNhc2UgJ3VybC1yZXF1ZXN0LWhlYWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAndGhlIHJlcXVlc3QgdG8gZ2V0IHRoZSBmaWxlLWV4dGVuc2lvbiBmYWlsZWQnXG4gICAgICAgICAgICBjYXNlICd1cmwtcmVxdWVzdC1nZXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAndGhlIHJlcXVlc3QgdG8gZG93bmxvYWQgdGhlIGZpbGUgZmFpbGVkJ1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndHJ5LXJlbG9hZGluZyBPYnNpZGlhbidcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQnlTcGVjaWZpY2l0eShhOiBzdHJpbmcsIGI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgLy9bXG4gICAgLy8gICcqJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tL2ltYWdlcycsXG4gICAgLy8gICcqL2FsbCcsXG4gICAgLy8gICdleGFtcGxlLmNvbS9ibG9nJyxcbiAgICAvLyAgJ2ltYWdlcy5vcmcnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZy9hc2QnLFxuICAgIC8vXVxuICAgIC8vIGJlY29tZXMg4qyH77iPXG4gICAgLy9bXG4gICAgLy8gICdleGFtcGxlLmNvbS9ibG9nL2FzZCcsXG4gICAgLy8gICdleGFtcGxlLmNvbS9ibG9nJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tL2ltYWdlcycsXG4gICAgLy8gICdleGFtcGxlLmNvbScsXG4gICAgLy8gICdpbWFnZXMub3JnJyxcbiAgICAvLyAgJyovYWxsJyxcbiAgICAvLyAgJyonLFxuICAgIC8vXVxuXG4gICAgLy9cbiAgICAvLyBgKmAgbWVhbnMgYWxsLCBpdCBzaG91bGQgY29tZSBsYXN0XG4gICAgaWYgKCFhLnN0YXJ0c1dpdGgoJyonKSAmJiBiLnN0YXJ0c1dpdGgoJyonKSkgcmV0dXJuIC0xXG4gICAgaWYgKGEuc3RhcnRzV2l0aCgnKicpICYmICFiLnN0YXJ0c1dpdGgoJyonKSkgcmV0dXJuIDFcblxuICAgIC8vIHByaW9yaXRpemUgc3BlY2lmaWNpdHlcbiAgICBpZiAoYS5zdGFydHNXaXRoKGIpKSByZXR1cm4gLTFcbiAgICBpZiAoYi5zdGFydHNXaXRoKGEpKSByZXR1cm4gMVxuXG4gICAgLy8gb3JkZXIgYWxmYWJldGljYWxseVxuICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYiwgJ2VuJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbWVFeHQobWltZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBAU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9NZWRpYS9Gb3JtYXRzL0ltYWdlX3R5cGVzXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgc3dpdGNoIChtaW1lKSB7XG4gICAgICAgIC8vIE1JTUUgbWFwcyB0byBtYW55IEVYVFxuICAgICAgICAvLyAtICdpbWFnZS9qcGVnJzoganBnLGpwZWcsIC4uLmV0Y1xuICAgICAgICAvLyAtICdpbWFnZS90aWZmJzogdGlmLHRpZmZcbiAgICAgICAgY2FzZSAnaW1hZ2UvanBlZyc6IHJldHVybiAnanBnJ1xuICAgICAgICBjYXNlICdpbWFnZS90aWZmJzogcmV0dXJuICd0aWYnXG5cbiAgICAgICAgLy8gTUlNRSBjb21wb3NlZCBvZiBFWFRcbiAgICAgICAgLy8gLSAnaW1hZ2Uve2FwbmcsYXZpZixnaWYscG5nLHdlYnAsYm1wfSdcbiAgICAgICAgLy8gLSAnaW1hZ2Uvc3ZnK3htbCc6IHN2Z1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gbWltZS5zcGxpdCgvXFwvfFxcKy9naSlbMV1cbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGJhbGFuY2VkO1xuZnVuY3Rpb24gYmFsYW5jZWQoYSwgYiwgc3RyKSB7XG4gIGlmIChhIGluc3RhbmNlb2YgUmVnRXhwKSBhID0gbWF5YmVNYXRjaChhLCBzdHIpO1xuICBpZiAoYiBpbnN0YW5jZW9mIFJlZ0V4cCkgYiA9IG1heWJlTWF0Y2goYiwgc3RyKTtcblxuICB2YXIgciA9IHJhbmdlKGEsIGIsIHN0cik7XG5cbiAgcmV0dXJuIHIgJiYge1xuICAgIHN0YXJ0OiByWzBdLFxuICAgIGVuZDogclsxXSxcbiAgICBwcmU6IHN0ci5zbGljZSgwLCByWzBdKSxcbiAgICBib2R5OiBzdHIuc2xpY2UoclswXSArIGEubGVuZ3RoLCByWzFdKSxcbiAgICBwb3N0OiBzdHIuc2xpY2UoclsxXSArIGIubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXliZU1hdGNoKHJlZywgc3RyKSB7XG4gIHZhciBtID0gc3RyLm1hdGNoKHJlZyk7XG4gIHJldHVybiBtID8gbVswXSA6IG51bGw7XG59XG5cbmJhbGFuY2VkLnJhbmdlID0gcmFuZ2U7XG5mdW5jdGlvbiByYW5nZShhLCBiLCBzdHIpIHtcbiAgdmFyIGJlZ3MsIGJlZywgbGVmdCwgcmlnaHQsIHJlc3VsdDtcbiAgdmFyIGFpID0gc3RyLmluZGV4T2YoYSk7XG4gIHZhciBiaSA9IHN0ci5pbmRleE9mKGIsIGFpICsgMSk7XG4gIHZhciBpID0gYWk7XG5cbiAgaWYgKGFpID49IDAgJiYgYmkgPiAwKSB7XG4gICAgaWYoYT09PWIpIHtcbiAgICAgIHJldHVybiBbYWksIGJpXTtcbiAgICB9XG4gICAgYmVncyA9IFtdO1xuICAgIGxlZnQgPSBzdHIubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPj0gMCAmJiAhcmVzdWx0KSB7XG4gICAgICBpZiAoaSA9PSBhaSkge1xuICAgICAgICBiZWdzLnB1c2goaSk7XG4gICAgICAgIGFpID0gc3RyLmluZGV4T2YoYSwgaSArIDEpO1xuICAgICAgfSBlbHNlIGlmIChiZWdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IFsgYmVncy5wb3AoKSwgYmkgXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJlZyA9IGJlZ3MucG9wKCk7XG4gICAgICAgIGlmIChiZWcgPCBsZWZ0KSB7XG4gICAgICAgICAgbGVmdCA9IGJlZztcbiAgICAgICAgICByaWdodCA9IGJpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmkgPSBzdHIuaW5kZXhPZihiLCBpICsgMSk7XG4gICAgICB9XG5cbiAgICAgIGkgPSBhaSA8IGJpICYmIGFpID49IDAgPyBhaSA6IGJpO1xuICAgIH1cblxuICAgIGlmIChiZWdzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0ID0gWyBsZWZ0LCByaWdodCBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJ2YXIgYmFsYW5jZWQgPSByZXF1aXJlKCdiYWxhbmNlZC1tYXRjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cGFuZFRvcDtcblxudmFyIGVzY1NsYXNoID0gJ1xcMFNMQVNIJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY09wZW4gPSAnXFwwT1BFTicrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NDbG9zZSA9ICdcXDBDTE9TRScrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NDb21tYSA9ICdcXDBDT01NQScrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NQZXJpb2QgPSAnXFwwUEVSSU9EJytNYXRoLnJhbmRvbSgpKydcXDAnO1xuXG5mdW5jdGlvbiBudW1lcmljKHN0cikge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCkgPT0gc3RyXG4gICAgPyBwYXJzZUludChzdHIsIDEwKVxuICAgIDogc3RyLmNoYXJDb2RlQXQoMCk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUJyYWNlcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnXFxcXFxcXFwnKS5qb2luKGVzY1NsYXNoKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxceycpLmpvaW4oZXNjT3BlbilcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXH0nKS5qb2luKGVzY0Nsb3NlKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLCcpLmpvaW4oZXNjQ29tbWEpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFwuJykuam9pbihlc2NQZXJpb2QpO1xufVxuXG5mdW5jdGlvbiB1bmVzY2FwZUJyYWNlcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdChlc2NTbGFzaCkuam9pbignXFxcXCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjT3Blbikuam9pbigneycpXG4gICAgICAgICAgICAuc3BsaXQoZXNjQ2xvc2UpLmpvaW4oJ30nKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0NvbW1hKS5qb2luKCcsJylcbiAgICAgICAgICAgIC5zcGxpdChlc2NQZXJpb2QpLmpvaW4oJy4nKTtcbn1cblxuXG4vLyBCYXNpY2FsbHkganVzdCBzdHIuc3BsaXQoXCIsXCIpLCBidXQgaGFuZGxpbmcgY2FzZXNcbi8vIHdoZXJlIHdlIGhhdmUgbmVzdGVkIGJyYWNlZCBzZWN0aW9ucywgd2hpY2ggc2hvdWxkIGJlXG4vLyB0cmVhdGVkIGFzIGluZGl2aWR1YWwgbWVtYmVycywgbGlrZSB7YSx7YixjfSxkfVxuZnVuY3Rpb24gcGFyc2VDb21tYVBhcnRzKHN0cikge1xuICBpZiAoIXN0cilcbiAgICByZXR1cm4gWycnXTtcblxuICB2YXIgcGFydHMgPSBbXTtcbiAgdmFyIG0gPSBiYWxhbmNlZCgneycsICd9Jywgc3RyKTtcblxuICBpZiAoIW0pXG4gICAgcmV0dXJuIHN0ci5zcGxpdCgnLCcpO1xuXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIGJvZHkgPSBtLmJvZHk7XG4gIHZhciBwb3N0ID0gbS5wb3N0O1xuICB2YXIgcCA9IHByZS5zcGxpdCgnLCcpO1xuXG4gIHBbcC5sZW5ndGgtMV0gKz0gJ3snICsgYm9keSArICd9JztcbiAgdmFyIHBvc3RQYXJ0cyA9IHBhcnNlQ29tbWFQYXJ0cyhwb3N0KTtcbiAgaWYgKHBvc3QubGVuZ3RoKSB7XG4gICAgcFtwLmxlbmd0aC0xXSArPSBwb3N0UGFydHMuc2hpZnQoKTtcbiAgICBwLnB1c2guYXBwbHkocCwgcG9zdFBhcnRzKTtcbiAgfVxuXG4gIHBhcnRzLnB1c2guYXBwbHkocGFydHMsIHApO1xuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuZnVuY3Rpb24gZXhwYW5kVG9wKHN0cikge1xuICBpZiAoIXN0cilcbiAgICByZXR1cm4gW107XG5cbiAgLy8gSSBkb24ndCBrbm93IHdoeSBCYXNoIDQuMyBkb2VzIHRoaXMsIGJ1dCBpdCBkb2VzLlxuICAvLyBBbnl0aGluZyBzdGFydGluZyB3aXRoIHt9IHdpbGwgaGF2ZSB0aGUgZmlyc3QgdHdvIGJ5dGVzIHByZXNlcnZlZFxuICAvLyBidXQgKm9ubHkqIGF0IHRoZSB0b3AgbGV2ZWwsIHNvIHt9LGF9YiB3aWxsIG5vdCBleHBhbmQgdG8gYW55dGhpbmcsXG4gIC8vIGJ1dCBhe30sYn1jIHdpbGwgYmUgZXhwYW5kZWQgdG8gW2F9YyxhYmNdLlxuICAvLyBPbmUgY291bGQgYXJndWUgdGhhdCB0aGlzIGlzIGEgYnVnIGluIEJhc2gsIGJ1dCBzaW5jZSB0aGUgZ29hbCBvZlxuICAvLyB0aGlzIG1vZHVsZSBpcyB0byBtYXRjaCBCYXNoJ3MgcnVsZXMsIHdlIGVzY2FwZSBhIGxlYWRpbmcge31cbiAgaWYgKHN0ci5zdWJzdHIoMCwgMikgPT09ICd7fScpIHtcbiAgICBzdHIgPSAnXFxcXHtcXFxcfScgKyBzdHIuc3Vic3RyKDIpO1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZChlc2NhcGVCcmFjZXMoc3RyKSwgdHJ1ZSkubWFwKHVuZXNjYXBlQnJhY2VzKTtcbn1cblxuZnVuY3Rpb24gZW1icmFjZShzdHIpIHtcbiAgcmV0dXJuICd7JyArIHN0ciArICd9Jztcbn1cbmZ1bmN0aW9uIGlzUGFkZGVkKGVsKSB7XG4gIHJldHVybiAvXi0/MFxcZC8udGVzdChlbCk7XG59XG5cbmZ1bmN0aW9uIGx0ZShpLCB5KSB7XG4gIHJldHVybiBpIDw9IHk7XG59XG5mdW5jdGlvbiBndGUoaSwgeSkge1xuICByZXR1cm4gaSA+PSB5O1xufVxuXG5mdW5jdGlvbiBleHBhbmQoc3RyLCBpc1RvcCkge1xuICB2YXIgZXhwYW5zaW9ucyA9IFtdO1xuXG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG4gIGlmICghbSkgcmV0dXJuIFtzdHJdO1xuXG4gIC8vIG5vIG5lZWQgdG8gZXhwYW5kIHByZSwgc2luY2UgaXQgaXMgZ3VhcmFudGVlZCB0byBiZSBmcmVlIG9mIGJyYWNlLXNldHNcbiAgdmFyIHByZSA9IG0ucHJlO1xuICB2YXIgcG9zdCA9IG0ucG9zdC5sZW5ndGhcbiAgICA/IGV4cGFuZChtLnBvc3QsIGZhbHNlKVxuICAgIDogWycnXTtcblxuICBpZiAoL1xcJCQvLnRlc3QobS5wcmUpKSB7ICAgIFxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcG9zdC5sZW5ndGg7IGsrKykge1xuICAgICAgdmFyIGV4cGFuc2lvbiA9IHByZSsgJ3snICsgbS5ib2R5ICsgJ30nICsgcG9zdFtrXTtcbiAgICAgIGV4cGFuc2lvbnMucHVzaChleHBhbnNpb24pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgaXNOdW1lcmljU2VxdWVuY2UgPSAvXi0/XFxkK1xcLlxcLi0/XFxkKyg/OlxcLlxcLi0/XFxkKyk/JC8udGVzdChtLmJvZHkpO1xuICAgIHZhciBpc0FscGhhU2VxdWVuY2UgPSAvXlthLXpBLVpdXFwuXFwuW2EtekEtWl0oPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgICB2YXIgaXNTZXF1ZW5jZSA9IGlzTnVtZXJpY1NlcXVlbmNlIHx8IGlzQWxwaGFTZXF1ZW5jZTtcbiAgICB2YXIgaXNPcHRpb25zID0gbS5ib2R5LmluZGV4T2YoJywnKSA+PSAwO1xuICAgIGlmICghaXNTZXF1ZW5jZSAmJiAhaXNPcHRpb25zKSB7XG4gICAgICAvLyB7YX0sYn1cbiAgICAgIGlmIChtLnBvc3QubWF0Y2goLywuKlxcfS8pKSB7XG4gICAgICAgIHN0ciA9IG0ucHJlICsgJ3snICsgbS5ib2R5ICsgZXNjQ2xvc2UgKyBtLnBvc3Q7XG4gICAgICAgIHJldHVybiBleHBhbmQoc3RyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbc3RyXTtcbiAgICB9XG5cbiAgICB2YXIgbjtcbiAgICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgICAgbiA9IG0uYm9keS5zcGxpdCgvXFwuXFwuLyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSBwYXJzZUNvbW1hUGFydHMobS5ib2R5KTtcbiAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyB4e3thLGJ9fXkgPT0+IHh7YX15IHh7Yn15XG4gICAgICAgIG4gPSBleHBhbmQoblswXSwgZmFsc2UpLm1hcChlbWJyYWNlKTtcbiAgICAgICAgaWYgKG4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHBvc3QubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICAgIHJldHVybiBtLnByZSArIG5bMF0gKyBwO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgbiBpcyB0aGUgcGFydHMsIGFuZCB3ZSBrbm93IGl0J3Mgbm90IGEgY29tbWEgc2V0XG4gICAgLy8gd2l0aCBhIHNpbmdsZSBlbnRyeS5cbiAgICB2YXIgTjtcblxuICAgIGlmIChpc1NlcXVlbmNlKSB7XG4gICAgICB2YXIgeCA9IG51bWVyaWMoblswXSk7XG4gICAgICB2YXIgeSA9IG51bWVyaWMoblsxXSk7XG4gICAgICB2YXIgd2lkdGggPSBNYXRoLm1heChuWzBdLmxlbmd0aCwgblsxXS5sZW5ndGgpXG4gICAgICB2YXIgaW5jciA9IG4ubGVuZ3RoID09IDNcbiAgICAgICAgPyBNYXRoLmFicyhudW1lcmljKG5bMl0pKVxuICAgICAgICA6IDE7XG4gICAgICB2YXIgdGVzdCA9IGx0ZTtcbiAgICAgIHZhciByZXZlcnNlID0geSA8IHg7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICBpbmNyICo9IC0xO1xuICAgICAgICB0ZXN0ID0gZ3RlO1xuICAgICAgfVxuICAgICAgdmFyIHBhZCA9IG4uc29tZShpc1BhZGRlZCk7XG5cbiAgICAgIE4gPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IHg7IHRlc3QoaSwgeSk7IGkgKz0gaW5jcikge1xuICAgICAgICB2YXIgYztcbiAgICAgICAgaWYgKGlzQWxwaGFTZXF1ZW5jZSkge1xuICAgICAgICAgIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgICAgIGlmIChjID09PSAnXFxcXCcpXG4gICAgICAgICAgICBjID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYyA9IFN0cmluZyhpKTtcbiAgICAgICAgICBpZiAocGFkKSB7XG4gICAgICAgICAgICB2YXIgbmVlZCA9IHdpZHRoIC0gYy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobmVlZCA+IDApIHtcbiAgICAgICAgICAgICAgdmFyIHogPSBuZXcgQXJyYXkobmVlZCArIDEpLmpvaW4oJzAnKTtcbiAgICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICAgIGMgPSAnLScgKyB6ICsgYy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGMgPSB6ICsgYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgTi5wdXNoKGMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBOID0gW107XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbi5sZW5ndGg7IGorKykge1xuICAgICAgICBOLnB1c2guYXBwbHkoTiwgZXhwYW5kKG5bal0sIGZhbHNlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBOLmxlbmd0aDsgaisrKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGV4cGFuc2lvbiA9IHByZSArIE5bal0gKyBwb3N0W2tdO1xuICAgICAgICBpZiAoIWlzVG9wIHx8IGlzU2VxdWVuY2UgfHwgZXhwYW5zaW9uKVxuICAgICAgICAgIGV4cGFuc2lvbnMucHVzaChleHBhbnNpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBleHBhbnNpb25zO1xufVxuXG4iLCJjb25zdCBNQVhfUEFUVEVSTl9MRU5HVEggPSAxMDI0ICogNjQ7XG5leHBvcnQgY29uc3QgYXNzZXJ0VmFsaWRQYXR0ZXJuID0gKHBhdHRlcm4pID0+IHtcbiAgICBpZiAodHlwZW9mIHBhdHRlcm4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgcGF0dGVybicpO1xuICAgIH1cbiAgICBpZiAocGF0dGVybi5sZW5ndGggPiBNQVhfUEFUVEVSTl9MRU5HVEgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGF0dGVybiBpcyB0b28gbG9uZycpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NlcnQtdmFsaWQtcGF0dGVybi5qcy5tYXAiLCIvLyB0cmFuc2xhdGUgdGhlIHZhcmlvdXMgcG9zaXggY2hhcmFjdGVyIGNsYXNzZXMgaW50byB1bmljb2RlIHByb3BlcnRpZXNcbi8vIHRoaXMgd29ya3MgYWNyb3NzIGFsbCB1bmljb2RlIGxvY2FsZXNcbi8vIHsgPHBvc2l4IGNsYXNzPjogWzx0cmFuc2xhdGlvbj4sIC91IGZsYWcgcmVxdWlyZWQsIG5lZ2F0ZWRdXG5jb25zdCBwb3NpeENsYXNzZXMgPSB7XG4gICAgJ1s6YWxudW06XSc6IFsnXFxcXHB7TH1cXFxccHtObH1cXFxccHtOZH0nLCB0cnVlXSxcbiAgICAnWzphbHBoYTpdJzogWydcXFxccHtMfVxcXFxwe05sfScsIHRydWVdLFxuICAgICdbOmFzY2lpOl0nOiBbJ1xcXFx4JyArICcwMC1cXFxceCcgKyAnN2YnLCBmYWxzZV0sXG4gICAgJ1s6Ymxhbms6XSc6IFsnXFxcXHB7WnN9XFxcXHQnLCB0cnVlXSxcbiAgICAnWzpjbnRybDpdJzogWydcXFxccHtDY30nLCB0cnVlXSxcbiAgICAnWzpkaWdpdDpdJzogWydcXFxccHtOZH0nLCB0cnVlXSxcbiAgICAnWzpncmFwaDpdJzogWydcXFxccHtafVxcXFxwe0N9JywgdHJ1ZSwgdHJ1ZV0sXG4gICAgJ1s6bG93ZXI6XSc6IFsnXFxcXHB7TGx9JywgdHJ1ZV0sXG4gICAgJ1s6cHJpbnQ6XSc6IFsnXFxcXHB7Q30nLCB0cnVlXSxcbiAgICAnWzpwdW5jdDpdJzogWydcXFxccHtQfScsIHRydWVdLFxuICAgICdbOnNwYWNlOl0nOiBbJ1xcXFxwe1p9XFxcXHRcXFxcclxcXFxuXFxcXHZcXFxcZicsIHRydWVdLFxuICAgICdbOnVwcGVyOl0nOiBbJ1xcXFxwe0x1fScsIHRydWVdLFxuICAgICdbOndvcmQ6XSc6IFsnXFxcXHB7TH1cXFxccHtObH1cXFxccHtOZH1cXFxccHtQY30nLCB0cnVlXSxcbiAgICAnWzp4ZGlnaXQ6XSc6IFsnQS1GYS1mMC05JywgZmFsc2VdLFxufTtcbi8vIG9ubHkgbmVlZCB0byBlc2NhcGUgYSBmZXcgdGhpbmdzIGluc2lkZSBvZiBicmFjZSBleHByZXNzaW9uc1xuLy8gZXNjYXBlczogWyBcXCBdIC1cbmNvbnN0IGJyYWNlRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvW1tcXF1cXFxcLV0vZywgJ1xcXFwkJicpO1xuLy8gZXNjYXBlIGFsbCByZWdleHAgbWFnaWMgY2hhcmFjdGVyc1xuY29uc3QgcmVnZXhwRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbi8vIGV2ZXJ5dGhpbmcgaGFzIGFscmVhZHkgYmVlbiBlc2NhcGVkLCB3ZSBqdXN0IGhhdmUgdG8gam9pblxuY29uc3QgcmFuZ2VzVG9TdHJpbmcgPSAocmFuZ2VzKSA9PiByYW5nZXMuam9pbignJyk7XG4vLyB0YWtlcyBhIGdsb2Igc3RyaW5nIGF0IGEgcG9zaXggYnJhY2UgZXhwcmVzc2lvbiwgYW5kIHJldHVybnNcbi8vIGFuIGVxdWl2YWxlbnQgcmVndWxhciBleHByZXNzaW9uIHNvdXJjZSwgYW5kIGJvb2xlYW4gaW5kaWNhdGluZ1xuLy8gd2hldGhlciB0aGUgL3UgZmxhZyBuZWVkcyB0byBiZSBhcHBsaWVkLCBhbmQgdGhlIG51bWJlciBvZiBjaGFyc1xuLy8gY29uc3VtZWQgdG8gcGFyc2UgdGhlIGNoYXJhY3RlciBjbGFzcy5cbi8vIFRoaXMgYWxzbyByZW1vdmVzIG91dCBvZiBvcmRlciByYW5nZXMsIGFuZCByZXR1cm5zICgkLikgaWYgdGhlXG4vLyBlbnRpcmUgY2xhc3MganVzdCBubyBnb29kLlxuZXhwb3J0IGNvbnN0IHBhcnNlQ2xhc3MgPSAoZ2xvYiwgcG9zaXRpb24pID0+IHtcbiAgICBjb25zdCBwb3MgPSBwb3NpdGlvbjtcbiAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICBpZiAoZ2xvYi5jaGFyQXQocG9zKSAhPT0gJ1snKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGluIGEgYnJhY2UgZXhwcmVzc2lvbicpO1xuICAgIH1cbiAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgIGNvbnN0IHJhbmdlcyA9IFtdO1xuICAgIGNvbnN0IG5lZ3MgPSBbXTtcbiAgICBsZXQgaSA9IHBvcyArIDE7XG4gICAgbGV0IHNhd1N0YXJ0ID0gZmFsc2U7XG4gICAgbGV0IHVmbGFnID0gZmFsc2U7XG4gICAgbGV0IGVzY2FwaW5nID0gZmFsc2U7XG4gICAgbGV0IG5lZ2F0ZSA9IGZhbHNlO1xuICAgIGxldCBlbmRQb3MgPSBwb3M7XG4gICAgbGV0IHJhbmdlU3RhcnQgPSAnJztcbiAgICBXSElMRTogd2hpbGUgKGkgPCBnbG9iLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjID0gZ2xvYi5jaGFyQXQoaSk7XG4gICAgICAgIGlmICgoYyA9PT0gJyEnIHx8IGMgPT09ICdeJykgJiYgaSA9PT0gcG9zICsgMSkge1xuICAgICAgICAgICAgbmVnYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjID09PSAnXScgJiYgc2F3U3RhcnQgJiYgIWVzY2FwaW5nKSB7XG4gICAgICAgICAgICBlbmRQb3MgPSBpICsgMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNhd1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgaWYgKCFlc2NhcGluZykge1xuICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2NhcGVkIFxcIGNoYXIsIGZhbGwgdGhyb3VnaCBhbmQgdHJlYXQgbGlrZSBub3JtYWwgY2hhclxuICAgICAgICB9XG4gICAgICAgIGlmIChjID09PSAnWycgJiYgIWVzY2FwaW5nKSB7XG4gICAgICAgICAgICAvLyBlaXRoZXIgYSBwb3NpeCBjbGFzcywgYSBjb2xsYXRpb24gZXF1aXZhbGVudCwgb3IganVzdCBhIFtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2NscywgW3VuaXAsIHUsIG5lZ11dIG9mIE9iamVjdC5lbnRyaWVzKHBvc2l4Q2xhc3NlcykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYi5zdGFydHNXaXRoKGNscywgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZCwgW2EtW10gaXMgZmluZSwgYnV0IG5vdCBbYS1bOmFscGhhXV1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbJyQuJywgZmFsc2UsIGdsb2IubGVuZ3RoIC0gcG9zLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpICs9IGNscy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZWcpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdzLnB1c2godW5pcCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHVuaXApO1xuICAgICAgICAgICAgICAgICAgICB1ZmxhZyA9IHVmbGFnIHx8IHU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIFdISUxFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBub3cgaXQncyBqdXN0IGEgbm9ybWFsIGNoYXJhY3RlciwgZWZmZWN0aXZlbHlcbiAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJhbmdlU3RhcnQpIHtcbiAgICAgICAgICAgIC8vIHRocm93IHRoaXMgcmFuZ2UgYXdheSBpZiBpdCdzIG5vdCB2YWxpZCwgYnV0IG90aGVyc1xuICAgICAgICAgICAgLy8gY2FuIHN0aWxsIG1hdGNoLlxuICAgICAgICAgICAgaWYgKGMgPiByYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goYnJhY2VFc2NhcGUocmFuZ2VTdGFydCkgKyAnLScgKyBicmFjZUVzY2FwZShjKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSByYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goYnJhY2VFc2NhcGUoYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2VTdGFydCA9ICcnO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm93IG1pZ2h0IGJlIHRoZSBzdGFydCBvZiBhIHJhbmdlLlxuICAgICAgICAvLyBjYW4gYmUgZWl0aGVyIGMtZCBvciBjLV0gb3IgYzxtb3JlLi4uPl0gb3IgY10gYXQgdGhpcyBwb2ludFxuICAgICAgICBpZiAoZ2xvYi5zdGFydHNXaXRoKCctXScsIGkgKyAxKSkge1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goYnJhY2VFc2NhcGUoYyArICctJykpO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aCgnLScsIGkgKyAxKSkge1xuICAgICAgICAgICAgcmFuZ2VTdGFydCA9IGM7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3QgdGhlIHN0YXJ0IG9mIGEgcmFuZ2UsIGp1c3QgYSBzaW5nbGUgY2hhcmFjdGVyXG4gICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMpKTtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoZW5kUG9zIDwgaSkge1xuICAgICAgICAvLyBkaWRuJ3Qgc2VlIHRoZSBlbmQgb2YgdGhlIGNsYXNzLCBub3QgYSB2YWxpZCBjbGFzcyxcbiAgICAgICAgLy8gYnV0IG1pZ2h0IHN0aWxsIGJlIHZhbGlkIGFzIGEgbGl0ZXJhbCBtYXRjaC5cbiAgICAgICAgcmV0dXJuIFsnJywgZmFsc2UsIDAsIGZhbHNlXTtcbiAgICB9XG4gICAgLy8gaWYgd2UgZ290IG5vIHJhbmdlcyBhbmQgbm8gbmVnYXRlcywgdGhlbiB3ZSBoYXZlIGEgcmFuZ2UgdGhhdFxuICAgIC8vIGNhbm5vdCBwb3NzaWJseSBtYXRjaCBhbnl0aGluZywgYW5kIHRoYXQgcG9pc29ucyB0aGUgd2hvbGUgZ2xvYlxuICAgIGlmICghcmFuZ2VzLmxlbmd0aCAmJiAhbmVncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFsnJC4nLCBmYWxzZSwgZ2xvYi5sZW5ndGggLSBwb3MsIHRydWVdO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBnb3Qgb25lIHBvc2l0aXZlIHJhbmdlLCBhbmQgaXQncyBhIHNpbmdsZSBjaGFyYWN0ZXIsIHRoZW4gdGhhdCdzXG4gICAgLy8gbm90IGFjdHVhbGx5IGEgbWFnaWMgcGF0dGVybiwgaXQncyBqdXN0IHRoYXQgb25lIGxpdGVyYWwgY2hhcmFjdGVyLlxuICAgIC8vIHdlIHNob3VsZCBub3QgdHJlYXQgdGhhdCBhcyBcIm1hZ2ljXCIsIHdlIHNob3VsZCBqdXN0IHJldHVybiB0aGUgbGl0ZXJhbFxuICAgIC8vIGNoYXJhY3Rlci4gW19dIGlzIGEgcGVyZmVjdGx5IHZhbGlkIHdheSB0byBlc2NhcGUgZ2xvYiBtYWdpYyBjaGFycy5cbiAgICBpZiAobmVncy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgcmFuZ2VzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAvXlxcXFw/LiQvLnRlc3QocmFuZ2VzWzBdKSAmJlxuICAgICAgICAhbmVnYXRlKSB7XG4gICAgICAgIGNvbnN0IHIgPSByYW5nZXNbMF0ubGVuZ3RoID09PSAyID8gcmFuZ2VzWzBdLnNsaWNlKC0xKSA6IHJhbmdlc1swXTtcbiAgICAgICAgcmV0dXJuIFtyZWdleHBFc2NhcGUociksIGZhbHNlLCBlbmRQb3MgLSBwb3MsIGZhbHNlXTtcbiAgICB9XG4gICAgY29uc3Qgc3JhbmdlcyA9ICdbJyArIChuZWdhdGUgPyAnXicgOiAnJykgKyByYW5nZXNUb1N0cmluZyhyYW5nZXMpICsgJ10nO1xuICAgIGNvbnN0IHNuZWdzID0gJ1snICsgKG5lZ2F0ZSA/ICcnIDogJ14nKSArIHJhbmdlc1RvU3RyaW5nKG5lZ3MpICsgJ10nO1xuICAgIGNvbnN0IGNvbWIgPSByYW5nZXMubGVuZ3RoICYmIG5lZ3MubGVuZ3RoXG4gICAgICAgID8gJygnICsgc3JhbmdlcyArICd8JyArIHNuZWdzICsgJyknXG4gICAgICAgIDogcmFuZ2VzLmxlbmd0aFxuICAgICAgICAgICAgPyBzcmFuZ2VzXG4gICAgICAgICAgICA6IHNuZWdzO1xuICAgIHJldHVybiBbY29tYiwgdWZsYWcsIGVuZFBvcyAtIHBvcywgdHJ1ZV07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJhY2UtZXhwcmVzc2lvbnMuanMubWFwIiwiLyoqXG4gKiBVbi1lc2NhcGUgYSBzdHJpbmcgdGhhdCBoYXMgYmVlbiBlc2NhcGVkIHdpdGgge0BsaW5rIGVzY2FwZX0uXG4gKlxuICogSWYgdGhlIHtAbGluayB3aW5kb3dzUGF0aHNOb0VzY2FwZX0gb3B0aW9uIGlzIHVzZWQsIHRoZW4gc3F1YXJlLWJyYWNlXG4gKiBlc2NhcGVzIGFyZSByZW1vdmVkLCBidXQgbm90IGJhY2tzbGFzaCBlc2NhcGVzLiAgRm9yIGV4YW1wbGUsIGl0IHdpbGwgdHVyblxuICogdGhlIHN0cmluZyBgJ1sqXSdgIGludG8gYCpgLCBidXQgaXQgd2lsbCBub3QgdHVybiBgJ1xcXFwqJ2AgaW50byBgJyonYCxcbiAqIGJlY3Vhc2UgYFxcYCBpcyBhIHBhdGggc2VwYXJhdG9yIGluIGB3aW5kb3dzUGF0aHNOb0VzY2FwZWAgbW9kZS5cbiAqXG4gKiBXaGVuIGB3aW5kb3dzUGF0aHNOb0VzY2FwZWAgaXMgbm90IHNldCwgdGhlbiBib3RoIGJyYWNlIGVzY2FwZXMgYW5kXG4gKiBiYWNrc2xhc2ggZXNjYXBlcyBhcmUgcmVtb3ZlZC5cbiAqXG4gKiBTbGFzaGVzIChhbmQgYmFja3NsYXNoZXMgaW4gYHdpbmRvd3NQYXRoc05vRXNjYXBlYCBtb2RlKSBjYW5ub3QgYmUgZXNjYXBlZFxuICogb3IgdW5lc2NhcGVkLlxuICovXG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSAocywgeyB3aW5kb3dzUGF0aHNOb0VzY2FwZSA9IGZhbHNlLCB9ID0ge30pID0+IHtcbiAgICByZXR1cm4gd2luZG93c1BhdGhzTm9Fc2NhcGVcbiAgICAgICAgPyBzLnJlcGxhY2UoL1xcWyhbXlxcL1xcXFxdKVxcXS9nLCAnJDEnKVxuICAgICAgICA6IHMucmVwbGFjZSgvKCg/IVxcXFwpLnxeKVxcWyhbXlxcL1xcXFxdKVxcXS9nLCAnJDEkMicpLnJlcGxhY2UoL1xcXFwoW15cXC9dKS9nLCAnJDEnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmVzY2FwZS5qcy5tYXAiLCIvLyBwYXJzZSBhIHNpbmdsZSBwYXRoIHBvcnRpb25cbmltcG9ydCB7IHBhcnNlQ2xhc3MgfSBmcm9tICcuL2JyYWNlLWV4cHJlc3Npb25zLmpzJztcbmltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5jb25zdCB0eXBlcyA9IG5ldyBTZXQoWychJywgJz8nLCAnKycsICcqJywgJ0AnXSk7XG5jb25zdCBpc0V4dGdsb2JUeXBlID0gKGMpID0+IHR5cGVzLmhhcyhjKTtcbi8vIFBhdHRlcm5zIHRoYXQgZ2V0IHByZXBlbmRlZCB0byBiaW5kIHRvIHRoZSBzdGFydCBvZiBlaXRoZXIgdGhlXG4vLyBlbnRpcmUgc3RyaW5nLCBvciBqdXN0IGEgc2luZ2xlIHBhdGggcG9ydGlvbiwgdG8gcHJldmVudCBkb3RzXG4vLyBhbmQvb3IgdHJhdmVyc2FsIHBhdHRlcm5zLCB3aGVuIG5lZWRlZC5cbi8vIEV4dHMgZG9uJ3QgbmVlZCB0aGUgXiBvciAvIGJpdCwgYmVjYXVzZSB0aGUgcm9vdCBiaW5kcyB0aGF0IGFscmVhZHkuXG5jb25zdCBzdGFydE5vVHJhdmVyc2FsID0gJyg/ISg/Ol58LylcXFxcLlxcXFwuPyg/OiR8LykpJztcbmNvbnN0IHN0YXJ0Tm9Eb3QgPSAnKD8hXFxcXC4pJztcbi8vIGNoYXJhY3RlcnMgdGhhdCBpbmRpY2F0ZSBhIHN0YXJ0IG9mIHBhdHRlcm4gbmVlZHMgdGhlIFwibm8gZG90c1wiIGJpdCxcbi8vIGJlY2F1c2UgYSBkb3QgKm1pZ2h0KiBiZSBtYXRjaGVkLiAoIGlzIG5vdCBpbiB0aGUgbGlzdCwgYmVjYXVzZSBpblxuLy8gdGhlIGNhc2Ugb2YgYSBjaGlsZCBleHRnbG9iLCBpdCB3aWxsIGhhbmRsZSB0aGUgcHJldmVudGlvbiBpdHNlbGYuXG5jb25zdCBhZGRQYXR0ZXJuU3RhcnQgPSBuZXcgU2V0KFsnWycsICcuJ10pO1xuLy8gY2FzZXMgd2hlcmUgdHJhdmVyc2FsIGlzIEEtT0ssIG5vIGRvdCBwcmV2ZW50aW9uIG5lZWRlZFxuY29uc3QganVzdERvdHMgPSBuZXcgU2V0KFsnLi4nLCAnLiddKTtcbmNvbnN0IHJlU3BlY2lhbHMgPSBuZXcgU2V0KCcoKS4qe30rP1tdXiRcXFxcIScpO1xuY29uc3QgcmVnRXhwRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbi8vIGFueSBzaW5nbGUgdGhpbmcgb3RoZXIgdGhhbiAvXG5jb25zdCBxbWFyayA9ICdbXi9dJztcbi8vICogPT4gYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzXG5jb25zdCBzdGFyID0gcW1hcmsgKyAnKj8nO1xuLy8gdXNlICsgd2hlbiB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0ICpzb21ldGhpbmcqIG1hdGNoZXMsIGJlY2F1c2UgdGhlICogaXNcbi8vIHRoZSBvbmx5IHRoaW5nIGluIHRoZSBwYXRoIHBvcnRpb24uXG5jb25zdCBzdGFyTm9FbXB0eSA9IHFtYXJrICsgJys/Jztcbi8vIHJlbW92ZSB0aGUgXFwgY2hhcnMgdGhhdCB3ZSBhZGRlZCBpZiB3ZSBlbmQgdXAgZG9pbmcgYSBub25tYWdpYyBjb21wYXJlXG4vLyBjb25zdCBkZXNsYXNoID0gKHM6IHN0cmluZykgPT4gcy5yZXBsYWNlKC9cXFxcKC4pL2csICckMScpXG5leHBvcnQgY2xhc3MgQVNUIHtcbiAgICB0eXBlO1xuICAgICNyb290O1xuICAgICNoYXNNYWdpYztcbiAgICAjdWZsYWcgPSBmYWxzZTtcbiAgICAjcGFydHMgPSBbXTtcbiAgICAjcGFyZW50O1xuICAgICNwYXJlbnRJbmRleDtcbiAgICAjbmVncztcbiAgICAjZmlsbGVkTmVncyA9IGZhbHNlO1xuICAgICNvcHRpb25zO1xuICAgICN0b1N0cmluZztcbiAgICAvLyBzZXQgdG8gdHJ1ZSBpZiBpdCdzIGFuIGV4dGdsb2Igd2l0aCBubyBjaGlsZHJlblxuICAgIC8vICh3aGljaCByZWFsbHkgbWVhbnMgb25lIGNoaWxkIG9mICcnKVxuICAgICNlbXB0eUV4dCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8vIGV4dGdsb2JzIGFyZSBpbmhlcmVudGx5IG1hZ2ljYWxcbiAgICAgICAgaWYgKHR5cGUpXG4gICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyA9IHRydWU7XG4gICAgICAgIHRoaXMuI3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy4jcm9vdCA9IHRoaXMuI3BhcmVudCA/IHRoaXMuI3BhcmVudC4jcm9vdCA6IHRoaXM7XG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSB0aGlzLiNyb290ID09PSB0aGlzID8gb3B0aW9ucyA6IHRoaXMuI3Jvb3QuI29wdGlvbnM7XG4gICAgICAgIHRoaXMuI25lZ3MgPSB0aGlzLiNyb290ID09PSB0aGlzID8gW10gOiB0aGlzLiNyb290LiNuZWdzO1xuICAgICAgICBpZiAodHlwZSA9PT0gJyEnICYmICF0aGlzLiNyb290LiNmaWxsZWROZWdzKVxuICAgICAgICAgICAgdGhpcy4jbmVncy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLiNwYXJlbnRJbmRleCA9IHRoaXMuI3BhcmVudCA/IHRoaXMuI3BhcmVudC4jcGFydHMubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgZ2V0IGhhc01hZ2ljKCkge1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgaWYgKHRoaXMuI2hhc01hZ2ljICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jaGFzTWFnaWM7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIGZvciAoY29uc3QgcCBvZiB0aGlzLiNwYXJ0cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwLnR5cGUgfHwgcC5oYXNNYWdpYylcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuI2hhc01hZ2ljID0gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90ZTogd2lsbCBiZSB1bmRlZmluZWQgdW50aWwgd2UgZ2VuZXJhdGUgdGhlIHJlZ2V4cCBzcmMgYW5kIGZpbmQgb3V0XG4gICAgICAgIHJldHVybiB0aGlzLiNoYXNNYWdpYztcbiAgICB9XG4gICAgLy8gcmVjb25zdHJ1Y3RzIHRoZSBwYXR0ZXJuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLiN0b1N0cmluZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3RvU3RyaW5nO1xuICAgICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLiN0b1N0cmluZyA9IHRoaXMuI3BhcnRzLm1hcChwID0+IFN0cmluZyhwKSkuam9pbignJykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLiN0b1N0cmluZyA9XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlICsgJygnICsgdGhpcy4jcGFydHMubWFwKHAgPT4gU3RyaW5nKHApKS5qb2luKCd8JykgKyAnKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgICNmaWxsTmVncygpIHtcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzICE9PSB0aGlzLiNyb290KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaG91bGQgb25seSBjYWxsIG9uIHJvb3QnKTtcbiAgICAgICAgaWYgKHRoaXMuI2ZpbGxlZE5lZ3MpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgLy8gY2FsbCB0b1N0cmluZygpIG9uY2UgdG8gZmlsbCB0aGlzIG91dFxuICAgICAgICB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuI2ZpbGxlZE5lZ3MgPSB0cnVlO1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgd2hpbGUgKChuID0gdGhpcy4jbmVncy5wb3AoKSkpIHtcbiAgICAgICAgICAgIGlmIChuLnR5cGUgIT09ICchJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIHdhbGsgdXAgdGhlIHRyZWUsIGFwcGVuZGluZyBldmVydGhpbmcgdGhhdCBjb21lcyBBRlRFUiBwYXJlbnRJbmRleFxuICAgICAgICAgICAgbGV0IHAgPSBuO1xuICAgICAgICAgICAgbGV0IHBwID0gcC4jcGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHAuI3BhcmVudEluZGV4ICsgMTsgIXBwLnR5cGUgJiYgaSA8IHBwLiNwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2Ygbi4jcGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIHBhcnQgaW4gZXh0Z2xvYiBBU1Q/PycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY29weUluKHBwLiNwYXJ0c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcCA9IHBwO1xuICAgICAgICAgICAgICAgIHBwID0gcC4jcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBwdXNoKC4uLnBhcnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgaWYgKHAgPT09ICcnKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnICYmICEocCBpbnN0YW5jZW9mIEFTVCAmJiBwLiNwYXJlbnQgPT09IHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBhcnQ6ICcgKyBwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICB0aGlzLiNwYXJ0cy5wdXNoKHApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gdGhpcy50eXBlID09PSBudWxsXG4gICAgICAgICAgICA/IHRoaXMuI3BhcnRzLnNsaWNlKCkubWFwKHAgPT4gKHR5cGVvZiBwID09PSAnc3RyaW5nJyA/IHAgOiBwLnRvSlNPTigpKSlcbiAgICAgICAgICAgIDogW3RoaXMudHlwZSwgLi4udGhpcy4jcGFydHMubWFwKHAgPT4gcC50b0pTT04oKSldO1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KCkgJiYgIXRoaXMudHlwZSlcbiAgICAgICAgICAgIHJldC51bnNoaWZ0KFtdKTtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmQoKSAmJlxuICAgICAgICAgICAgKHRoaXMgPT09IHRoaXMuI3Jvb3QgfHxcbiAgICAgICAgICAgICAgICAodGhpcy4jcm9vdC4jZmlsbGVkTmVncyAmJiB0aGlzLiNwYXJlbnQ/LnR5cGUgPT09ICchJykpKSB7XG4gICAgICAgICAgICByZXQucHVzaCh7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgaXNTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3Jvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gaWYgKHRoaXMudHlwZSkgcmV0dXJuICEhdGhpcy4jcGFyZW50Py5pc1N0YXJ0KClcbiAgICAgICAgaWYgKCF0aGlzLiNwYXJlbnQ/LmlzU3RhcnQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuI3BhcmVudEluZGV4ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGlmIGV2ZXJ5dGhpbmcgQUhFQUQgb2YgdGhpcyBpcyBhIG5lZ2F0aW9uLCB0aGVuIGl0J3Mgc3RpbGwgdGhlIFwic3RhcnRcIlxuICAgICAgICBjb25zdCBwID0gdGhpcy4jcGFyZW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI3BhcmVudEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBwID0gcC4jcGFydHNbaV07XG4gICAgICAgICAgICBpZiAoIShwcCBpbnN0YW5jZW9mIEFTVCAmJiBwcC50eXBlID09PSAnIScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpc0VuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3Jvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuI3BhcmVudD8udHlwZSA9PT0gJyEnKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICghdGhpcy4jcGFyZW50Py5pc0VuZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMudHlwZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNwYXJlbnQ/LmlzRW5kKCk7XG4gICAgICAgIC8vIGlmIG5vdCByb290LCBpdCdsbCBhbHdheXMgaGF2ZSBhIHBhcmVudFxuICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgY29uc3QgcGwgPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3BhcnRzLmxlbmd0aCA6IDA7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIHJldHVybiB0aGlzLiNwYXJlbnRJbmRleCA9PT0gcGwgLSAxO1xuICAgIH1cbiAgICBjb3B5SW4ocGFydCkge1xuICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhpcy5wdXNoKHBhcnQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnB1c2gocGFydC5jbG9uZSh0aGlzKSk7XG4gICAgfVxuICAgIGNsb25lKHBhcmVudCkge1xuICAgICAgICBjb25zdCBjID0gbmV3IEFTVCh0aGlzLnR5cGUsIHBhcmVudCk7XG4gICAgICAgIGZvciAoY29uc3QgcCBvZiB0aGlzLiNwYXJ0cykge1xuICAgICAgICAgICAgYy5jb3B5SW4ocCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIHN0YXRpYyAjcGFyc2VBU1Qoc3RyLCBhc3QsIHBvcywgb3B0KSB7XG4gICAgICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgaW5CcmFjZSA9IGZhbHNlO1xuICAgICAgICBsZXQgYnJhY2VTdGFydCA9IC0xO1xuICAgICAgICBsZXQgYnJhY2VOZWcgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFzdC50eXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvdXRzaWRlIG9mIGEgZXh0Z2xvYiwgYXBwZW5kIHVudGlsIHdlIGZpbmQgYSBzdGFydFxuICAgICAgICAgICAgbGV0IGkgPSBwb3M7XG4gICAgICAgICAgICBsZXQgYWNjID0gJyc7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKyspO1xuICAgICAgICAgICAgICAgIC8vIHN0aWxsIGFjY3VtdWxhdGUgZXNjYXBlcyBhdCB0aGlzIHBvaW50LCBidXQgd2UgZG8gaWdub3JlXG4gICAgICAgICAgICAgICAgLy8gc3RhcnRzIHRoYXQgYXJlIGVzY2FwZWRcbiAgICAgICAgICAgICAgICBpZiAoZXNjYXBpbmcgfHwgYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gIWVzY2FwaW5nO1xuICAgICAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbkJyYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBicmFjZVN0YXJ0ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09ICdeJyB8fCBjID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFjZU5lZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ10nICYmICEoaSA9PT0gYnJhY2VTdGFydCArIDIgJiYgYnJhY2VOZWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkJyYWNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5CcmFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyYWNlU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmFjZU5lZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3B0Lm5vZXh0ICYmIGlzRXh0Z2xvYlR5cGUoYykgJiYgc3RyLmNoYXJBdChpKSA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzdC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBuZXcgQVNUKGMsIGFzdCk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBBU1QuI3BhcnNlQVNUKHN0ciwgZXh0LCBpLCBvcHQpO1xuICAgICAgICAgICAgICAgICAgICBhc3QucHVzaChleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3QucHVzaChhY2MpO1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc29tZSBraW5kIG9mIGV4dGdsb2IsIHBvcyBpcyBhdCB0aGUgKFxuICAgICAgICAvLyBmaW5kIHRoZSBuZXh0IHwgb3IgKVxuICAgICAgICBsZXQgaSA9IHBvcyArIDE7XG4gICAgICAgIGxldCBwYXJ0ID0gbmV3IEFTVChudWxsLCBhc3QpO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IFtdO1xuICAgICAgICBsZXQgYWNjID0gJyc7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSsrKTtcbiAgICAgICAgICAgIC8vIHN0aWxsIGFjY3VtdWxhdGUgZXNjYXBlcyBhdCB0aGlzIHBvaW50LCBidXQgd2UgZG8gaWdub3JlXG4gICAgICAgICAgICAvLyBzdGFydHMgdGhhdCBhcmUgZXNjYXBlZFxuICAgICAgICAgICAgaWYgKGVzY2FwaW5nIHx8IGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gIWVzY2FwaW5nO1xuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluQnJhY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYnJhY2VTdGFydCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09ICdeJyB8fCBjID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYWNlTmVnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAnXScgJiYgIShpID09PSBicmFjZVN0YXJ0ICsgMiAmJiBicmFjZU5lZykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5CcmFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICdbJykge1xuICAgICAgICAgICAgICAgIGluQnJhY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyYWNlU3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGJyYWNlTmVnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNFeHRnbG9iVHlwZShjKSAmJiBzdHIuY2hhckF0KGkpID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBuZXcgQVNUKGMsIHBhcnQpO1xuICAgICAgICAgICAgICAgIHBhcnQucHVzaChleHQpO1xuICAgICAgICAgICAgICAgIGkgPSBBU1QuI3BhcnNlQVNUKHN0ciwgZXh0LCBpLCBvcHQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICd8Jykge1xuICAgICAgICAgICAgICAgIHBhcnQucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgcGFydCA9IG5ldyBBU1QobnVsbCwgYXN0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnKScpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWNjID09PSAnJyAmJiBhc3QuI3BhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhc3QuI2VtcHR5RXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgYXN0LnB1c2goLi4ucGFydHMsIHBhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5maW5pc2hlZCBleHRnbG9iXG4gICAgICAgIC8vIGlmIHdlIGdvdCBoZXJlLCBpdCB3YXMgYSBtYWxmb3JtZWQgZXh0Z2xvYiEgbm90IGFuIGV4dGdsb2IsIGJ1dFxuICAgICAgICAvLyBtYXliZSBzb21ldGhpbmcgZWxzZSBpbiB0aGVyZS5cbiAgICAgICAgYXN0LnR5cGUgPSBudWxsO1xuICAgICAgICBhc3QuI2hhc01hZ2ljID0gdW5kZWZpbmVkO1xuICAgICAgICBhc3QuI3BhcnRzID0gW3N0ci5zdWJzdHJpbmcocG9zIC0gMSldO1xuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21HbG9iKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBhc3QgPSBuZXcgQVNUKG51bGwsIHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgICAgIEFTVC4jcGFyc2VBU1QocGF0dGVybiwgYXN0LCAwLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzdDtcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGlmIHRoZXJlJ3MgbWFnaWMsIG9yIHRoZSB1bmVzY2FwZWRcbiAgICAvLyBzdHJpbmcgaWYgbm90LlxuICAgIHRvTU1QYXR0ZXJuKCkge1xuICAgICAgICAvLyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gcm9vdFxuICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgaWYgKHRoaXMgIT09IHRoaXMuI3Jvb3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jcm9vdC50b01NUGF0dGVybigpO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICBjb25zdCBnbG9iID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBbcmUsIGJvZHksIGhhc01hZ2ljLCB1ZmxhZ10gPSB0aGlzLnRvUmVnRXhwU291cmNlKCk7XG4gICAgICAgIC8vIGlmIHdlJ3JlIGluIG5vY2FzZSBtb2RlLCBhbmQgbm90IG5vY2FzZU1hZ2ljT25seSwgdGhlbiB3ZSBkb1xuICAgICAgICAvLyBzdGlsbCBuZWVkIGEgcmVndWxhciBleHByZXNzaW9uIGlmIHdlIGhhdmUgdG8gY2FzZS1pbnNlbnNpdGl2ZWx5XG4gICAgICAgIC8vIG1hdGNoIGNhcGl0YWwvbG93ZXJjYXNlIGNoYXJhY3RlcnMuXG4gICAgICAgIGNvbnN0IGFueU1hZ2ljID0gaGFzTWFnaWMgfHxcbiAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljIHx8XG4gICAgICAgICAgICAodGhpcy4jb3B0aW9ucy5ub2Nhc2UgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy4jb3B0aW9ucy5ub2Nhc2VNYWdpY09ubHkgJiZcbiAgICAgICAgICAgICAgICBnbG9iLnRvVXBwZXJDYXNlKCkgIT09IGdsb2IudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmICghYW55TWFnaWMpIHtcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZsYWdzID0gKHRoaXMuI29wdGlvbnMubm9jYXNlID8gJ2knIDogJycpICsgKHVmbGFnID8gJ3UnIDogJycpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgUmVnRXhwKGBeJHtyZX0kYCwgZmxhZ3MpLCB7XG4gICAgICAgICAgICBfc3JjOiByZSxcbiAgICAgICAgICAgIF9nbG9iOiBnbG9iLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNvcHRpb25zO1xuICAgIH1cbiAgICAvLyByZXR1cm5zIHRoZSBzdHJpbmcgbWF0Y2gsIHRoZSByZWdleHAgc291cmNlLCB3aGV0aGVyIHRoZXJlJ3MgbWFnaWNcbiAgICAvLyBpbiB0aGUgcmVnZXhwIChzbyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyByZXF1aXJlZCkgYW5kIHdoZXRoZXIgb3JcbiAgICAvLyBub3QgdGhlIHVmbGFnIGlzIG5lZWRlZCBmb3IgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiAoZm9yIHBvc2l4IGNsYXNzZXMpXG4gICAgLy8gVE9ETzogaW5zdGVhZCBvZiBpbmplY3RpbmcgdGhlIHN0YXJ0L2VuZCBhdCB0aGlzIHBvaW50LCBqdXN0IHJldHVyblxuICAgIC8vIHRoZSBCT0RZIG9mIHRoZSByZWdleHAsIGFsb25nIHdpdGggdGhlIHN0YXJ0L2VuZCBwb3J0aW9ucyBzdWl0YWJsZVxuICAgIC8vIGZvciBiaW5kaW5nIHRoZSBzdGFydC9lbmQgaW4gZWl0aGVyIGEgam9pbmVkIGZ1bGwtcGF0aCBtYWtlUmUgY29udGV4dFxuICAgIC8vICh3aGVyZSB3ZSBiaW5kIHRvIChefC8pLCBvciBhIHN0YW5kYWxvbmUgbWF0Y2hQYXJ0IGNvbnRleHQgKHdoZXJlXG4gICAgLy8gd2UgYmluZCB0byBeLCBhbmQgbm90IC8pLiAgT3RoZXJ3aXNlIHNsYXNoZXMgZ2V0IGR1cGVkIVxuICAgIC8vXG4gICAgLy8gSW4gcGFydC1tYXRjaGluZyBtb2RlLCB0aGUgc3RhcnQgaXM6XG4gICAgLy8gLSBpZiBub3QgaXNTdGFydDogbm90aGluZ1xuICAgIC8vIC0gaWYgdHJhdmVyc2FsIHBvc3NpYmxlLCBidXQgbm90IGFsbG93ZWQ6IF4oPyFcXC5cXC4/JClcbiAgICAvLyAtIGlmIGRvdHMgYWxsb3dlZCBvciBub3QgcG9zc2libGU6IF5cbiAgICAvLyAtIGlmIGRvdHMgcG9zc2libGUgYW5kIG5vdCBhbGxvd2VkOiBeKD8hXFwuKVxuICAgIC8vIGVuZCBpczpcbiAgICAvLyAtIGlmIG5vdCBpc0VuZCgpOiBub3RoaW5nXG4gICAgLy8gLSBlbHNlOiAkXG4gICAgLy9cbiAgICAvLyBJbiBmdWxsLXBhdGggbWF0Y2hpbmcgbW9kZSwgd2UgcHV0IHRoZSBzbGFzaCBhdCB0aGUgU1RBUlQgb2YgdGhlXG4gICAgLy8gcGF0dGVybiwgc28gc3RhcnQgaXM6XG4gICAgLy8gLSBpZiBmaXJzdCBwYXR0ZXJuOiBzYW1lIGFzIHBhcnQtbWF0Y2hpbmcgbW9kZVxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQoKTogbm90aGluZ1xuICAgIC8vIC0gaWYgdHJhdmVyc2FsIHBvc3NpYmxlLCBidXQgbm90IGFsbG93ZWQ6IC8oPyFcXC5cXC4/KD86JHwvKSlcbiAgICAvLyAtIGlmIGRvdHMgYWxsb3dlZCBvciBub3QgcG9zc2libGU6IC9cbiAgICAvLyAtIGlmIGRvdHMgcG9zc2libGUgYW5kIG5vdCBhbGxvd2VkOiAvKD8hXFwuKVxuICAgIC8vIGVuZCBpczpcbiAgICAvLyAtIGlmIGxhc3QgcGF0dGVybiwgc2FtZSBhcyBwYXJ0LW1hdGNoaW5nIG1vZGVcbiAgICAvLyAtIGVsc2Ugbm90aGluZ1xuICAgIC8vXG4gICAgLy8gQWx3YXlzIHB1dCB0aGUgKD86JHwvKSBvbiBuZWdhdGVkIHRhaWxzLCB0aG91Z2gsIGJlY2F1c2UgdGhhdCBoYXMgdG8gYmVcbiAgICAvLyB0aGVyZSB0byBiaW5kIHRoZSBlbmQgb2YgdGhlIG5lZ2F0ZWQgcGF0dGVybiBwb3J0aW9uLCBhbmQgaXQncyBlYXNpZXIgdG9cbiAgICAvLyBqdXN0IHN0aWNrIGl0IGluIG5vdyByYXRoZXIgdGhhbiB0cnkgdG8gaW5qZWN0IGl0IGxhdGVyIGluIHRoZSBtaWRkbGUgb2ZcbiAgICAvLyB0aGUgcGF0dGVybi5cbiAgICAvL1xuICAgIC8vIFdlIGNhbiBqdXN0IGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgZW5kLCBhbmQgbGVhdmUgaXQgdXAgdG8gdGhlIGNhbGxlclxuICAgIC8vIHRvIGtub3cgd2hldGhlciBpdCdzIGdvaW5nIHRvIGJlIHVzZWQgam9pbmVkIG9yIGluIHBhcnRzLlxuICAgIC8vIEFuZCwgaWYgdGhlIHN0YXJ0IGlzIGFkanVzdGVkIHNsaWdodGx5LCBjYW4gZG8gdGhlIHNhbWUgdGhlcmU6XG4gICAgLy8gLSBpZiBub3QgaXNTdGFydDogbm90aGluZ1xuICAgIC8vIC0gaWYgdHJhdmVyc2FsIHBvc3NpYmxlLCBidXQgbm90IGFsbG93ZWQ6ICg/Oi98XikoPyFcXC5cXC4/JClcbiAgICAvLyAtIGlmIGRvdHMgYWxsb3dlZCBvciBub3QgcG9zc2libGU6ICg/Oi98XilcbiAgICAvLyAtIGlmIGRvdHMgcG9zc2libGUgYW5kIG5vdCBhbGxvd2VkOiAoPzovfF4pKD8hXFwuKVxuICAgIC8vXG4gICAgLy8gQnV0IGl0J3MgYmV0dGVyIHRvIGhhdmUgYSBzaW1wbGVyIGJpbmRpbmcgd2l0aG91dCBhIGNvbmRpdGlvbmFsLCBmb3JcbiAgICAvLyBwZXJmb3JtYW5jZSwgc28gcHJvYmFibHkgYmV0dGVyIHRvIHJldHVybiBib3RoIHN0YXJ0IG9wdGlvbnMuXG4gICAgLy9cbiAgICAvLyBUaGVuIHRoZSBjYWxsZXIganVzdCBpZ25vcmVzIHRoZSBlbmQgaWYgaXQncyBub3QgdGhlIGZpcnN0IHBhdHRlcm4sXG4gICAgLy8gYW5kIHRoZSBzdGFydCBhbHdheXMgZ2V0cyBhcHBsaWVkLlxuICAgIC8vXG4gICAgLy8gQnV0IHRoYXQncyBhbHdheXMgZ29pbmcgdG8gYmUgJCBpZiBpdCdzIHRoZSBlbmRpbmcgcGF0dGVybiwgb3Igbm90aGluZyxcbiAgICAvLyBzbyB0aGUgY2FsbGVyIGNhbiBqdXN0IGF0dGFjaCAkIGF0IHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4gd2hlbiBidWlsZGluZy5cbiAgICAvL1xuICAgIC8vIFNvIHRoZSB0b2RvIGlzOlxuICAgIC8vIC0gYmV0dGVyIGRldGVjdCB3aGF0IGtpbmQgb2Ygc3RhcnQgaXMgbmVlZGVkXG4gICAgLy8gLSByZXR1cm4gYm90aCBmbGF2b3JzIG9mIHN0YXJ0aW5nIHBhdHRlcm5cbiAgICAvLyAtIGF0dGFjaCAkIGF0IHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4gd2hlbiBjcmVhdGluZyB0aGUgYWN0dWFsIFJlZ0V4cFxuICAgIC8vXG4gICAgLy8gQWgsIGJ1dCB3YWl0LCBubywgdGhhdCBhbGwgb25seSBhcHBsaWVzIHRvIHRoZSByb290IHdoZW4gdGhlIGZpcnN0IHBhdHRlcm5cbiAgICAvLyBpcyBub3QgYW4gZXh0Z2xvYi4gSWYgdGhlIGZpcnN0IHBhdHRlcm4gSVMgYW4gZXh0Z2xvYiwgdGhlbiB3ZSBuZWVkIGFsbFxuICAgIC8vIHRoYXQgZG90IHByZXZlbnRpb24gYml6IHRvIGxpdmUgaW4gdGhlIGV4dGdsb2IgcG9ydGlvbnMsIGJlY2F1c2UgZWdcbiAgICAvLyArKCp8LngqKSBjYW4gbWF0Y2ggLnh5IGJ1dCBub3QgLnl4LlxuICAgIC8vXG4gICAgLy8gU28sIHJldHVybiB0aGUgdHdvIGZsYXZvcnMgaWYgaXQncyAjcm9vdCBhbmQgdGhlIGZpcnN0IGNoaWxkIGlzIG5vdCBhblxuICAgIC8vIEFTVCwgb3RoZXJ3aXNlIGxlYXZlIGl0IHRvIHRoZSBjaGlsZCBBU1QgdG8gaGFuZGxlIGl0LCBhbmQgdGhlcmUsXG4gICAgLy8gdXNlIHRoZSAoPzpefC8pIHN0eWxlIG9mIHN0YXJ0IGJpbmRpbmcuXG4gICAgLy9cbiAgICAvLyBFdmVuIHNpbXBsaWZpZWQgZnVydGhlcjpcbiAgICAvLyAtIFNpbmNlIHRoZSBzdGFydCBmb3IgYSBqb2luIGlzIGVnIC8oPyFcXC4pIGFuZCB0aGUgc3RhcnQgZm9yIGEgcGFydFxuICAgIC8vIGlzIF4oPyFcXC4pLCB3ZSBjYW4ganVzdCBwcmVwZW5kICg/IVxcLikgdG8gdGhlIHBhdHRlcm4gKGVpdGhlciByb290XG4gICAgLy8gb3Igc3RhcnQgb3Igd2hhdGV2ZXIpIGFuZCBwcmVwZW5kIF4gb3IgLyBhdCB0aGUgUmVnZXhwIGNvbnN0cnVjdGlvbi5cbiAgICB0b1JlZ0V4cFNvdXJjZShhbGxvd0RvdCkge1xuICAgICAgICBjb25zdCBkb3QgPSBhbGxvd0RvdCA/PyAhIXRoaXMuI29wdGlvbnMuZG90O1xuICAgICAgICBpZiAodGhpcy4jcm9vdCA9PT0gdGhpcylcbiAgICAgICAgICAgIHRoaXMuI2ZpbGxOZWdzKCk7XG4gICAgICAgIGlmICghdGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBub0VtcHR5ID0gdGhpcy5pc1N0YXJ0KCkgJiYgdGhpcy5pc0VuZCgpO1xuICAgICAgICAgICAgY29uc3Qgc3JjID0gdGhpcy4jcGFydHNcbiAgICAgICAgICAgICAgICAubWFwKHAgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtyZSwgXywgaGFzTWFnaWMsIHVmbGFnXSA9IHR5cGVvZiBwID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IEFTVC4jcGFyc2VHbG9iKHAsIHRoaXMuI2hhc01hZ2ljLCBub0VtcHR5KVxuICAgICAgICAgICAgICAgICAgICA6IHAudG9SZWdFeHBTb3VyY2UoYWxsb3dEb3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljID0gdGhpcy4jaGFzTWFnaWMgfHwgaGFzTWFnaWM7XG4gICAgICAgICAgICAgICAgdGhpcy4jdWZsYWcgPSB0aGlzLiN1ZmxhZyB8fCB1ZmxhZztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICcnO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNwYXJ0c1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgc3RyaW5nIHRoYXQgd2lsbCBtYXRjaCB0aGUgc3RhcnQgb2YgdGhlIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gcHJvdGVjdCBhZ2FpbnN0IGRvdHMgYW5kIHN1Y2guXG4gICAgICAgICAgICAgICAgICAgIC8vICcuJyBhbmQgJy4uJyBjYW5ub3QgbWF0Y2ggdW5sZXNzIHRoZSBwYXR0ZXJuIGlzIHRoYXQgZXhhY3RseSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbiBpZiBpdCBzdGFydHMgd2l0aCAuIG9yIGRvdDp0cnVlIGlzIHNldC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG90VHJhdkFsbG93ZWQgPSB0aGlzLiNwYXJ0cy5sZW5ndGggPT09IDEgJiYganVzdERvdHMuaGFzKHRoaXMuI3BhcnRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb3RUcmF2QWxsb3dlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBzID0gYWRkUGF0dGVyblN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgaGF2ZSBhIHBvc3NpYmlsaXR5IG9mIG1hdGNoaW5nIC4gb3IgLi4sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcHJldmVudCB0aGF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZE5vVHJhdiA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG90cyBhcmUgYWxsb3dlZCwgYW5kIHRoZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIFsgb3IgLlxuICAgICAgICAgICAgICAgICAgICAgICAgKGRvdCAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoMCkpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIFxcLiwgYW5kIHRoZW4gWyBvciAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNyYy5zdGFydHNXaXRoKCdcXFxcLicpICYmIGFwcy5oYXMoc3JjLmNoYXJBdCgyKSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBhdHRlcm4gc3RhcnRzIHdpdGggXFwuXFwuLCBhbmQgdGhlbiBbIG9yIC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3JjLnN0YXJ0c1dpdGgoJ1xcXFwuXFxcXC4nKSAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoNCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gcHJldmVudCBkb3RzIGlmIGl0IGNhbid0IG1hdGNoIGEgZG90LCBvciBpZiBhXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWItcGF0dGVybiB3aWxsIGJlIHByZXZlbnRpbmcgaXQgYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZE5vRG90ID0gIWRvdCAmJiAhYWxsb3dEb3QgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbmVlZE5vVHJhdiA/IHN0YXJ0Tm9UcmF2ZXJzYWwgOiBuZWVkTm9Eb3QgPyBzdGFydE5vRG90IDogJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcHBlbmQgdGhlIFwiZW5kIG9mIHBhdGggcG9ydGlvblwiIHBhdHRlcm4gdG8gbmVnYXRpb24gdGFpbHNcbiAgICAgICAgICAgIGxldCBlbmQgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiNyb290LiNmaWxsZWROZWdzICYmXG4gICAgICAgICAgICAgICAgdGhpcy4jcGFyZW50Py50eXBlID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSAnKD86JHxcXFxcLyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmluYWwgPSBzdGFydCArIHNyYyArIGVuZDtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgZmluYWwsXG4gICAgICAgICAgICAgICAgdW5lc2NhcGUoc3JjKSxcbiAgICAgICAgICAgICAgICAodGhpcy4jaGFzTWFnaWMgPSAhIXRoaXMuI2hhc01hZ2ljKSxcbiAgICAgICAgICAgICAgICB0aGlzLiN1ZmxhZyxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIGJvZHkgKnR3aWNlKiBpZiBpdCdzIGEgcmVwZWF0IHBhdHRlcm5cbiAgICAgICAgLy8gYXQgdGhlIHN0YXJ0LCBvbmNlIGluIG5vZG90IG1vZGUsIHRoZW4gYWdhaW4gaW4gZG90IG1vZGUsIHNvIGFcbiAgICAgICAgLy8gcGF0dGVybiBsaWtlICooPykgY2FuIG1hdGNoICd4LnknXG4gICAgICAgIGNvbnN0IHJlcGVhdGVkID0gdGhpcy50eXBlID09PSAnKicgfHwgdGhpcy50eXBlID09PSAnKyc7XG4gICAgICAgIC8vIHNvbWUga2luZCBvZiBleHRnbG9iXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy50eXBlID09PSAnIScgPyAnKD86KD8hKD86JyA6ICcoPzonO1xuICAgICAgICBsZXQgYm9keSA9IHRoaXMuI3BhcnRzVG9SZWdFeHAoZG90KTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpICYmIHRoaXMuaXNFbmQoKSAmJiAhYm9keSAmJiB0aGlzLnR5cGUgIT09ICchJykge1xuICAgICAgICAgICAgLy8gaW52YWxpZCBleHRnbG9iLCBoYXMgdG8gYXQgbGVhc3QgYmUgKnNvbWV0aGluZyogcHJlc2VudCwgaWYgaXQnc1xuICAgICAgICAgICAgLy8gdGhlIGVudGlyZSBwYXRoIHBvcnRpb24uXG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy4jcGFydHMgPSBbc107XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gW3MsIHVuZXNjYXBlKHRoaXMudG9TdHJpbmcoKSksIGZhbHNlLCBmYWxzZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gWFhYIGFic3RyYWN0IG91dCB0aGlzIG1hcCBtZXRob2RcbiAgICAgICAgbGV0IGJvZHlEb3RBbGxvd2VkID0gIXJlcGVhdGVkIHx8IGFsbG93RG90IHx8IGRvdCB8fCAhc3RhcnROb0RvdFxuICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgOiB0aGlzLiNwYXJ0c1RvUmVnRXhwKHRydWUpO1xuICAgICAgICBpZiAoYm9keURvdEFsbG93ZWQgPT09IGJvZHkpIHtcbiAgICAgICAgICAgIGJvZHlEb3RBbGxvd2VkID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlEb3RBbGxvd2VkKSB7XG4gICAgICAgICAgICBib2R5ID0gYCg/OiR7Ym9keX0pKD86JHtib2R5RG90QWxsb3dlZH0pKj9gO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuIGVtcHR5ICEoKSBpcyBleGFjdGx5IGVxdWl2YWxlbnQgdG8gYSBzdGFyTm9FbXB0eVxuICAgICAgICBsZXQgZmluYWwgPSAnJztcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJyEnICYmIHRoaXMuI2VtcHR5RXh0KSB7XG4gICAgICAgICAgICBmaW5hbCA9ICh0aGlzLmlzU3RhcnQoKSAmJiAhZG90ID8gc3RhcnROb0RvdCA6ICcnKSArIHN0YXJOb0VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2xvc2UgPSB0aGlzLnR5cGUgPT09ICchJ1xuICAgICAgICAgICAgICAgID8gLy8gISgpIG11c3QgbWF0Y2ggc29tZXRoaW5nLGJ1dCAhKHgpIGNhbiBtYXRjaCAnJ1xuICAgICAgICAgICAgICAgICAgICAnKSknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmlzU3RhcnQoKSAmJiAhZG90ICYmICFhbGxvd0RvdCA/IHN0YXJ0Tm9Eb3QgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhciArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJ0AnXG4gICAgICAgICAgICAgICAgICAgID8gJyknXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJyk/J1xuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICcrJyAmJiBib2R5RG90QWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICcqJyAmJiBib2R5RG90QWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGApP2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgKSR7dGhpcy50eXBlfWA7XG4gICAgICAgICAgICBmaW5hbCA9IHN0YXJ0ICsgYm9keSArIGNsb3NlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBmaW5hbCxcbiAgICAgICAgICAgIHVuZXNjYXBlKGJvZHkpLFxuICAgICAgICAgICAgKHRoaXMuI2hhc01hZ2ljID0gISF0aGlzLiNoYXNNYWdpYyksXG4gICAgICAgICAgICB0aGlzLiN1ZmxhZyxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgI3BhcnRzVG9SZWdFeHAoZG90KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwYXJ0c1xuICAgICAgICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgICAgIC8vIGV4dGdsb2IgQVNUcyBzaG91bGQgb25seSBjb250YWluIHBhcmVudCBBU1RzXG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZyB0eXBlIGluIGV4dGdsb2IgYXN0Pz8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICAvLyBjYW4gaWdub3JlIGhhc01hZ2ljLCBiZWNhdXNlIGV4dGdsb2JzIGFyZSBhbHJlYWR5IGFsd2F5cyBtYWdpY1xuICAgICAgICAgICAgY29uc3QgW3JlLCBfLCBfaGFzTWFnaWMsIHVmbGFnXSA9IHAudG9SZWdFeHBTb3VyY2UoZG90KTtcbiAgICAgICAgICAgIHRoaXMuI3VmbGFnID0gdGhpcy4jdWZsYWcgfHwgdWZsYWc7XG4gICAgICAgICAgICByZXR1cm4gcmU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKHAgPT4gISh0aGlzLmlzU3RhcnQoKSAmJiB0aGlzLmlzRW5kKCkpIHx8ICEhcClcbiAgICAgICAgICAgIC5qb2luKCd8Jyk7XG4gICAgfVxuICAgIHN0YXRpYyAjcGFyc2VHbG9iKGdsb2IsIGhhc01hZ2ljLCBub0VtcHR5ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCByZSA9ICcnO1xuICAgICAgICBsZXQgdWZsYWcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gZ2xvYi5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlICs9IChyZVNwZWNpYWxzLmhhcyhjKSA/ICdcXFxcJyA6ICcnKSArIGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGdsb2IubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZSArPSAnXFxcXFxcXFwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbc3JjLCBuZWVkVWZsYWcsIGNvbnN1bWVkLCBtYWdpY10gPSBwYXJzZUNsYXNzKGdsb2IsIGkpO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgICAgICByZSArPSBzcmM7XG4gICAgICAgICAgICAgICAgICAgIHVmbGFnID0gdWZsYWcgfHwgbmVlZFVmbGFnO1xuICAgICAgICAgICAgICAgICAgICBpICs9IGNvbnN1bWVkIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaGFzTWFnaWMgPSBoYXNNYWdpYyB8fCBtYWdpYztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICcqJykge1xuICAgICAgICAgICAgICAgIGlmIChub0VtcHR5ICYmIGdsb2IgPT09ICcqJylcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3Rhck5vRW1wdHk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZSArPSBzdGFyO1xuICAgICAgICAgICAgICAgIGhhc01hZ2ljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgICAgICByZSArPSBxbWFyaztcbiAgICAgICAgICAgICAgICBoYXNNYWdpYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZSArPSByZWdFeHBFc2NhcGUoYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyZSwgdW5lc2NhcGUoZ2xvYiksICEhaGFzTWFnaWMsIHVmbGFnXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3QuanMubWFwIiwiLyoqXG4gKiBFc2NhcGUgYWxsIG1hZ2ljIGNoYXJhY3RlcnMgaW4gYSBnbG9iIHBhdHRlcm4uXG4gKlxuICogSWYgdGhlIHtAbGluayB3aW5kb3dzUGF0aHNOb0VzY2FwZSB8IEdsb2JPcHRpb25zLndpbmRvd3NQYXRoc05vRXNjYXBlfVxuICogb3B0aW9uIGlzIHVzZWQsIHRoZW4gY2hhcmFjdGVycyBhcmUgZXNjYXBlZCBieSB3cmFwcGluZyBpbiBgW11gLCBiZWNhdXNlXG4gKiBhIG1hZ2ljIGNoYXJhY3RlciB3cmFwcGVkIGluIGEgY2hhcmFjdGVyIGNsYXNzIGNhbiBvbmx5IGJlIHNhdGlzZmllZCBieVxuICogdGhhdCBleGFjdCBjaGFyYWN0ZXIuICBJbiB0aGlzIG1vZGUsIGBcXGAgaXMgX25vdF8gZXNjYXBlZCwgYmVjYXVzZSBpdCBpc1xuICogbm90IGludGVycHJldGVkIGFzIGEgbWFnaWMgY2hhcmFjdGVyLCBidXQgaW5zdGVhZCBhcyBhIHBhdGggc2VwYXJhdG9yLlxuICovXG5leHBvcnQgY29uc3QgZXNjYXBlID0gKHMsIHsgd2luZG93c1BhdGhzTm9Fc2NhcGUgPSBmYWxzZSwgfSA9IHt9KSA9PiB7XG4gICAgLy8gZG9uJ3QgbmVlZCB0byBlc2NhcGUgK0AhIGJlY2F1c2Ugd2UgZXNjYXBlIHRoZSBwYXJlbnNcbiAgICAvLyB0aGF0IG1ha2UgdGhvc2UgbWFnaWMsIGFuZCBlc2NhcGluZyAhIGFzIFshXSBpc24ndCB2YWxpZCxcbiAgICAvLyBiZWNhdXNlIFshXV0gaXMgYSB2YWxpZCBnbG9iIGNsYXNzIG1lYW5pbmcgbm90ICddJy5cbiAgICByZXR1cm4gd2luZG93c1BhdGhzTm9Fc2NhcGVcbiAgICAgICAgPyBzLnJlcGxhY2UoL1s/KigpW1xcXV0vZywgJ1skJl0nKVxuICAgICAgICA6IHMucmVwbGFjZSgvWz8qKClbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzY2FwZS5qcy5tYXAiLCJpbXBvcnQgZXhwYW5kIGZyb20gJ2JyYWNlLWV4cGFuc2lvbic7XG5pbXBvcnQgeyBhc3NlcnRWYWxpZFBhdHRlcm4gfSBmcm9tICcuL2Fzc2VydC12YWxpZC1wYXR0ZXJuLmpzJztcbmltcG9ydCB7IEFTVCB9IGZyb20gJy4vYXN0LmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4vZXNjYXBlLmpzJztcbmltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5leHBvcnQgY29uc3QgbWluaW1hdGNoID0gKHAsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAvLyBzaG9ydGN1dDogY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKS5tYXRjaChwKTtcbn07XG4vLyBPcHRpbWl6ZWQgY2hlY2tpbmcgZm9yIHRoZSBtb3N0IGNvbW1vbiBnbG9iIHBhdHRlcm5zLlxuY29uc3Qgc3RhckRvdEV4dFJFID0gL15cXCorKFteK0AhP1xcKlxcW1xcKF0qKSQvO1xuY29uc3Qgc3RhckRvdEV4dFRlc3QgPSAoZXh0KSA9PiAoZikgPT4gIWYuc3RhcnRzV2l0aCgnLicpICYmIGYuZW5kc1dpdGgoZXh0KTtcbmNvbnN0IHN0YXJEb3RFeHRUZXN0RG90ID0gKGV4dCkgPT4gKGYpID0+IGYuZW5kc1dpdGgoZXh0KTtcbmNvbnN0IHN0YXJEb3RFeHRUZXN0Tm9jYXNlID0gKGV4dCkgPT4ge1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gIWYuc3RhcnRzV2l0aCgnLicpICYmIGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHN0YXJEb3RFeHRUZXN0Tm9jYXNlRG90ID0gKGV4dCkgPT4ge1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3Qgc3RhckRvdFN0YXJSRSA9IC9eXFwqK1xcLlxcKiskLztcbmNvbnN0IHN0YXJEb3RTdGFyVGVzdCA9IChmKSA9PiAhZi5zdGFydHNXaXRoKCcuJykgJiYgZi5pbmNsdWRlcygnLicpO1xuY29uc3Qgc3RhckRvdFN0YXJUZXN0RG90ID0gKGYpID0+IGYgIT09ICcuJyAmJiBmICE9PSAnLi4nICYmIGYuaW5jbHVkZXMoJy4nKTtcbmNvbnN0IGRvdFN0YXJSRSA9IC9eXFwuXFwqKyQvO1xuY29uc3QgZG90U3RhclRlc3QgPSAoZikgPT4gZiAhPT0gJy4nICYmIGYgIT09ICcuLicgJiYgZi5zdGFydHNXaXRoKCcuJyk7XG5jb25zdCBzdGFyUkUgPSAvXlxcKiskLztcbmNvbnN0IHN0YXJUZXN0ID0gKGYpID0+IGYubGVuZ3RoICE9PSAwICYmICFmLnN0YXJ0c1dpdGgoJy4nKTtcbmNvbnN0IHN0YXJUZXN0RG90ID0gKGYpID0+IGYubGVuZ3RoICE9PSAwICYmIGYgIT09ICcuJyAmJiBmICE9PSAnLi4nO1xuY29uc3QgcW1hcmtzUkUgPSAvXlxcPysoW14rQCE/XFwqXFxbXFwoXSopPyQvO1xuY29uc3QgcW1hcmtzVGVzdE5vY2FzZSA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0KFskMF0pO1xuICAgIGlmICghZXh0KVxuICAgICAgICByZXR1cm4gbm9leHQ7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiBub2V4dChmKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0Tm9jYXNlRG90ID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHREb3QoWyQwXSk7XG4gICAgaWYgKCFleHQpXG4gICAgICAgIHJldHVybiBub2V4dDtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+IG5vZXh0KGYpICYmIGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3REb3QgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dERvdChbJDBdKTtcbiAgICByZXR1cm4gIWV4dCA/IG5vZXh0IDogKGYpID0+IG5vZXh0KGYpICYmIGYuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0ID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHQoWyQwXSk7XG4gICAgcmV0dXJuICFleHQgPyBub2V4dCA6IChmKSA9PiBub2V4dChmKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vRXh0ID0gKFskMF0pID0+IHtcbiAgICBjb25zdCBsZW4gPSAkMC5sZW5ndGg7XG4gICAgcmV0dXJuIChmKSA9PiBmLmxlbmd0aCA9PT0gbGVuICYmICFmLnN0YXJ0c1dpdGgoJy4nKTtcbn07XG5jb25zdCBxbWFya3NUZXN0Tm9FeHREb3QgPSAoWyQwXSkgPT4ge1xuICAgIGNvbnN0IGxlbiA9ICQwLmxlbmd0aDtcbiAgICByZXR1cm4gKGYpID0+IGYubGVuZ3RoID09PSBsZW4gJiYgZiAhPT0gJy4nICYmIGYgIT09ICcuLic7XG59O1xuLyogYzggaWdub3JlIHN0YXJ0ICovXG5jb25zdCBkZWZhdWx0UGxhdGZvcm0gPSAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHByb2Nlc3NcbiAgICA/ICh0eXBlb2YgcHJvY2Vzcy5lbnYgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHByb2Nlc3MuZW52ICYmXG4gICAgICAgIHByb2Nlc3MuZW52Ll9fTUlOSU1BVENIX1RFU1RJTkdfUExBVEZPUk1fXykgfHxcbiAgICAgICAgcHJvY2Vzcy5wbGF0Zm9ybVxuICAgIDogJ3Bvc2l4Jyk7XG5jb25zdCBwYXRoID0ge1xuICAgIHdpbjMyOiB7IHNlcDogJ1xcXFwnIH0sXG4gICAgcG9zaXg6IHsgc2VwOiAnLycgfSxcbn07XG4vKiBjOCBpZ25vcmUgc3RvcCAqL1xuZXhwb3J0IGNvbnN0IHNlcCA9IGRlZmF1bHRQbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/IHBhdGgud2luMzIuc2VwIDogcGF0aC5wb3NpeC5zZXA7XG5taW5pbWF0Y2guc2VwID0gc2VwO1xuZXhwb3J0IGNvbnN0IEdMT0JTVEFSID0gU3ltYm9sKCdnbG9ic3RhciAqKicpO1xubWluaW1hdGNoLkdMT0JTVEFSID0gR0xPQlNUQVI7XG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuLy8gZG9uJ3QgbmVlZCB0byBlc2NhcGUgLyB3aGVuIHVzaW5nIG5ldyBSZWdFeHAoKVxuY29uc3QgcW1hcmsgPSAnW14vXSc7XG4vLyAqID0+IGFueSBudW1iZXIgb2YgY2hhcmFjdGVyc1xuY29uc3Qgc3RhciA9IHFtYXJrICsgJyo/Jztcbi8vICoqIHdoZW4gZG90cyBhcmUgYWxsb3dlZC4gIEFueXRoaW5nIGdvZXMsIGV4Y2VwdCAuLiBhbmQgLlxuLy8gbm90ICheIG9yIC8gZm9sbG93ZWQgYnkgb25lIG9yIHR3byBkb3RzIGZvbGxvd2VkIGJ5ICQgb3IgLyksXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbmNvbnN0IHR3b1N0YXJEb3QgPSAnKD86KD8hKD86XFxcXC98XikoPzpcXFxcLnsxLDJ9KSgkfFxcXFwvKSkuKSo/Jztcbi8vIG5vdCBhIF4gb3IgLyBmb2xsb3dlZCBieSBhIGRvdCxcbi8vIGZvbGxvd2VkIGJ5IGFueXRoaW5nLCBhbnkgbnVtYmVyIG9mIHRpbWVzLlxuY29uc3QgdHdvU3Rhck5vRG90ID0gJyg/Oig/ISg/OlxcXFwvfF4pXFxcXC4pLikqPyc7XG5leHBvcnQgY29uc3QgZmlsdGVyID0gKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gKHApID0+IG1pbmltYXRjaChwLCBwYXR0ZXJuLCBvcHRpb25zKTtcbm1pbmltYXRjaC5maWx0ZXIgPSBmaWx0ZXI7XG5jb25zdCBleHQgPSAoYSwgYiA9IHt9KSA9PiBPYmplY3QuYXNzaWduKHt9LCBhLCBiKTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IChkZWYpID0+IHtcbiAgICBpZiAoIWRlZiB8fCB0eXBlb2YgZGVmICE9PSAnb2JqZWN0JyB8fCAhT2JqZWN0LmtleXMoZGVmKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG1pbmltYXRjaDtcbiAgICB9XG4gICAgY29uc3Qgb3JpZyA9IG1pbmltYXRjaDtcbiAgICBjb25zdCBtID0gKHAsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gb3JpZyhwLCBwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obSwge1xuICAgICAgICBNaW5pbWF0Y2g6IGNsYXNzIE1pbmltYXRjaCBleHRlbmRzIG9yaWcuTWluaW1hdGNoIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgICAgIHN1cGVyKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBkZWZhdWx0cyhvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuZGVmYXVsdHMoZXh0KGRlZiwgb3B0aW9ucykpLk1pbmltYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQVNUOiBjbGFzcyBBU1QgZXh0ZW5kcyBvcmlnLkFTVCB7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHR5cGUsIHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICAgICAgc3VwZXIodHlwZSwgcGFyZW50LCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgc3RhdGljIGZyb21HbG9iKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLkFTVC5mcm9tR2xvYihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVuZXNjYXBlOiAocywgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLnVuZXNjYXBlKHMsIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgZXNjYXBlOiAocywgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLmVzY2FwZShzLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGZpbHRlcjogKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5maWx0ZXIocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBkZWZhdWx0czogKG9wdGlvbnMpID0+IG9yaWcuZGVmYXVsdHMoZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBtYWtlUmU6IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcubWFrZVJlKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgYnJhY2VFeHBhbmQ6IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcuYnJhY2VFeHBhbmQocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBtYXRjaDogKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5tYXRjaChsaXN0LCBwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIHNlcDogb3JpZy5zZXAsXG4gICAgICAgIEdMT0JTVEFSOiBHTE9CU1RBUixcbiAgICB9KTtcbn07XG5taW5pbWF0Y2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbi8vIEJyYWNlIGV4cGFuc2lvbjpcbi8vIGF7YixjfWQgLT4gYWJkIGFjZFxuLy8gYXtiLH1jIC0+IGFiYyBhY1xuLy8gYXswLi4zfWQgLT4gYTBkIGExZCBhMmQgYTNkXG4vLyBhe2IsY3tkLGV9Zn1nIC0+IGFiZyBhY2RmZyBhY2VmZ1xuLy8gYXtiLGN9ZHtlLGZ9ZyAtPiBhYmRlZyBhY2RlZyBhYmRlZyBhYmRmZ1xuLy9cbi8vIEludmFsaWQgc2V0cyBhcmUgbm90IGV4cGFuZGVkLlxuLy8gYXsyLi59YiAtPiBhezIuLn1iXG4vLyBhe2J9YyAtPiBhe2J9Y1xuZXhwb3J0IGNvbnN0IGJyYWNlRXhwYW5kID0gKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAvLyBUaGFua3MgdG8gWWV0aW5nIExpIDxodHRwczovL2dpdGh1Yi5jb20veWV0aW5nbGk+IGZvclxuICAgIC8vIGltcHJvdmluZyB0aGlzIHJlZ2V4cCB0byBhdm9pZCBhIFJlRE9TIHZ1bG5lcmFiaWxpdHkuXG4gICAgaWYgKG9wdGlvbnMubm9icmFjZSB8fCAhL1xceyg/Oig/IVxceykuKSpcXH0vLnRlc3QocGF0dGVybikpIHtcbiAgICAgICAgLy8gc2hvcnRjdXQuIG5vIG5lZWQgdG8gZXhwYW5kLlxuICAgICAgICByZXR1cm4gW3BhdHRlcm5dO1xuICAgIH1cbiAgICByZXR1cm4gZXhwYW5kKHBhdHRlcm4pO1xufTtcbm1pbmltYXRjaC5icmFjZUV4cGFuZCA9IGJyYWNlRXhwYW5kO1xuLy8gcGFyc2UgYSBjb21wb25lbnQgb2YgdGhlIGV4cGFuZGVkIHNldC5cbi8vIEF0IHRoaXMgcG9pbnQsIG5vIHBhdHRlcm4gbWF5IGNvbnRhaW4gXCIvXCIgaW4gaXRcbi8vIHNvIHdlJ3JlIGdvaW5nIHRvIHJldHVybiBhIDJkIGFycmF5LCB3aGVyZSBlYWNoIGVudHJ5IGlzIHRoZSBmdWxsXG4vLyBwYXR0ZXJuLCBzcGxpdCBvbiAnLycsIGFuZCB0aGVuIHR1cm5lZCBpbnRvIGEgcmVndWxhciBleHByZXNzaW9uLlxuLy8gQSByZWdleHAgaXMgbWFkZSBhdCB0aGUgZW5kIHdoaWNoIGpvaW5zIGVhY2ggYXJyYXkgd2l0aCBhblxuLy8gZXNjYXBlZCAvLCBhbmQgYW5vdGhlciBmdWxsIG9uZSB3aGljaCBqb2lucyBlYWNoIHJlZ2V4cCB3aXRoIHwuXG4vL1xuLy8gRm9sbG93aW5nIHRoZSBsZWFkIG9mIEJhc2ggNC4xLCBub3RlIHRoYXQgXCIqKlwiIG9ubHkgaGFzIHNwZWNpYWwgbWVhbmluZ1xuLy8gd2hlbiBpdCBpcyB0aGUgKm9ubHkqIHRoaW5nIGluIGEgcGF0aCBwb3J0aW9uLiAgT3RoZXJ3aXNlLCBhbnkgc2VyaWVzXG4vLyBvZiAqIGlzIGVxdWl2YWxlbnQgdG8gYSBzaW5nbGUgKi4gIEdsb2JzdGFyIGJlaGF2aW9yIGlzIGVuYWJsZWQgYnlcbi8vIGRlZmF1bHQsIGFuZCBjYW4gYmUgZGlzYWJsZWQgYnkgc2V0dGluZyBvcHRpb25zLm5vZ2xvYnN0YXIuXG5leHBvcnQgY29uc3QgbWFrZVJlID0gKHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKS5tYWtlUmUoKTtcbm1pbmltYXRjaC5tYWtlUmUgPSBtYWtlUmU7XG5leHBvcnQgY29uc3QgbWF0Y2ggPSAobGlzdCwgcGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgbW0gPSBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpO1xuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihmID0+IG1tLm1hdGNoKGYpKTtcbiAgICBpZiAobW0ub3B0aW9ucy5ub251bGwgJiYgIWxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGxpc3QucHVzaChwYXR0ZXJuKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG59O1xubWluaW1hdGNoLm1hdGNoID0gbWF0Y2g7XG4vLyByZXBsYWNlIHN0dWZmIGxpa2UgXFwqIHdpdGggKlxuY29uc3QgZ2xvYk1hZ2ljID0gL1s/Kl18WytAIV1cXCguKj9cXCl8XFxbfFxcXS87XG5jb25zdCByZWdFeHBFc2NhcGUgPSAocykgPT4gcy5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuZXhwb3J0IGNsYXNzIE1pbmltYXRjaCB7XG4gICAgb3B0aW9ucztcbiAgICBzZXQ7XG4gICAgcGF0dGVybjtcbiAgICB3aW5kb3dzUGF0aHNOb0VzY2FwZTtcbiAgICBub25lZ2F0ZTtcbiAgICBuZWdhdGU7XG4gICAgY29tbWVudDtcbiAgICBlbXB0eTtcbiAgICBwcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcztcbiAgICBwYXJ0aWFsO1xuICAgIGdsb2JTZXQ7XG4gICAgZ2xvYlBhcnRzO1xuICAgIG5vY2FzZTtcbiAgICBpc1dpbmRvd3M7XG4gICAgcGxhdGZvcm07XG4gICAgd2luZG93c05vTWFnaWNSb290O1xuICAgIHJlZ2V4cDtcbiAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgYXNzZXJ0VmFsaWRQYXR0ZXJuKHBhdHRlcm4pO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IG9wdGlvbnMucGxhdGZvcm0gfHwgZGVmYXVsdFBsYXRmb3JtO1xuICAgICAgICB0aGlzLmlzV2luZG93cyA9IHRoaXMucGxhdGZvcm0gPT09ICd3aW4zMic7XG4gICAgICAgIHRoaXMud2luZG93c1BhdGhzTm9Fc2NhcGUgPVxuICAgICAgICAgICAgISFvcHRpb25zLndpbmRvd3NQYXRoc05vRXNjYXBlIHx8IG9wdGlvbnMuYWxsb3dXaW5kb3dzRXNjYXBlID09PSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMud2luZG93c1BhdGhzTm9Fc2NhcGUpIHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybiA9IHRoaXMucGF0dGVybi5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcyA9ICEhb3B0aW9ucy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcztcbiAgICAgICAgdGhpcy5yZWdleHAgPSBudWxsO1xuICAgICAgICB0aGlzLm5lZ2F0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vbmVnYXRlID0gISFvcHRpb25zLm5vbmVnYXRlO1xuICAgICAgICB0aGlzLmNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbXB0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhcnRpYWwgPSAhIW9wdGlvbnMucGFydGlhbDtcbiAgICAgICAgdGhpcy5ub2Nhc2UgPSAhIXRoaXMub3B0aW9ucy5ub2Nhc2U7XG4gICAgICAgIHRoaXMud2luZG93c05vTWFnaWNSb290ID1cbiAgICAgICAgICAgIG9wdGlvbnMud2luZG93c05vTWFnaWNSb290ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMud2luZG93c05vTWFnaWNSb290XG4gICAgICAgICAgICAgICAgOiAhISh0aGlzLmlzV2luZG93cyAmJiB0aGlzLm5vY2FzZSk7XG4gICAgICAgIHRoaXMuZ2xvYlNldCA9IFtdO1xuICAgICAgICB0aGlzLmdsb2JQYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLnNldCA9IFtdO1xuICAgICAgICAvLyBtYWtlIHRoZSBzZXQgb2YgcmVnZXhwcyBldGMuXG4gICAgICAgIHRoaXMubWFrZSgpO1xuICAgIH1cbiAgICBoYXNNYWdpYygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYWdpY2FsQnJhY2VzICYmIHRoaXMuc2V0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiB0aGlzLnNldCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYnVnKC4uLl8pIHsgfVxuICAgIG1ha2UoKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm47XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIGVtcHR5IHBhdHRlcm5zIGFuZCBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICAgICAgICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgICAgICAgICB0aGlzLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdGVwIDE6IGZpZ3VyZSBvdXQgbmVnYXRpb24sIGV0Yy5cbiAgICAgICAgdGhpcy5wYXJzZU5lZ2F0ZSgpO1xuICAgICAgICAvLyBzdGVwIDI6IGV4cGFuZCBicmFjZXNcbiAgICAgICAgdGhpcy5nbG9iU2V0ID0gWy4uLm5ldyBTZXQodGhpcy5icmFjZUV4cGFuZCgpKV07XG4gICAgICAgIGlmIChvcHRpb25zLmRlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnID0gKC4uLmFyZ3MpID0+IGNvbnNvbGUuZXJyb3IoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuZ2xvYlNldCk7XG4gICAgICAgIC8vIHN0ZXAgMzogbm93IHdlIGhhdmUgYSBzZXQsIHNvIHR1cm4gZWFjaCBvbmUgaW50byBhIHNlcmllcyBvZlxuICAgICAgICAvLyBwYXRoLXBvcnRpb24gbWF0Y2hpbmcgcGF0dGVybnMuXG4gICAgICAgIC8vIFRoZXNlIHdpbGwgYmUgcmVnZXhwcywgZXhjZXB0IGluIHRoZSBjYXNlIG9mIFwiKipcIiwgd2hpY2ggaXNcbiAgICAgICAgLy8gc2V0IHRvIHRoZSBHTE9CU1RBUiBvYmplY3QgZm9yIGdsb2JzdGFyIGJlaGF2aW9yLFxuICAgICAgICAvLyBhbmQgd2lsbCBub3QgY29udGFpbiBhbnkgLyBjaGFyYWN0ZXJzXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZpcnN0LCB3ZSBwcmVwcm9jZXNzIHRvIG1ha2UgdGhlIGdsb2IgcGF0dGVybiBzZXRzIGEgYml0IHNpbXBsZXJcbiAgICAgICAgLy8gYW5kIGRlZHVwZWQuICBUaGVyZSBhcmUgc29tZSBwZXJmLWtpbGxpbmcgcGF0dGVybnMgdGhhdCBjYW4gY2F1c2VcbiAgICAgICAgLy8gcHJvYmxlbXMgd2l0aCBhIGdsb2Igd2FsaywgYnV0IHdlIGNhbiBzaW1wbGlmeSB0aGVtIGRvd24gYSBiaXQuXG4gICAgICAgIGNvbnN0IHJhd0dsb2JQYXJ0cyA9IHRoaXMuZ2xvYlNldC5tYXAocyA9PiB0aGlzLnNsYXNoU3BsaXQocykpO1xuICAgICAgICB0aGlzLmdsb2JQYXJ0cyA9IHRoaXMucHJlcHJvY2VzcyhyYXdHbG9iUGFydHMpO1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgdGhpcy5nbG9iUGFydHMpO1xuICAgICAgICAvLyBnbG9iIC0tPiByZWdleHBzXG4gICAgICAgIGxldCBzZXQgPSB0aGlzLmdsb2JQYXJ0cy5tYXAoKHMsIF8sIF9fKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MgJiYgdGhpcy53aW5kb3dzTm9NYWdpY1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdCdzIGEgZHJpdmUgb3IgdW5jIHBhdGguXG4gICAgICAgICAgICAgICAgY29uc3QgaXNVTkMgPSBzWzBdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICBzWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICAoc1syXSA9PT0gJz8nIHx8ICFnbG9iTWFnaWMudGVzdChzWzJdKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWdsb2JNYWdpYy50ZXN0KHNbM10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRHJpdmUgPSAvXlthLXpdOi9pLnRlc3Qoc1swXSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVU5DKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4ucy5zbGljZSgwLCA0KSwgLi4ucy5zbGljZSg0KS5tYXAoc3MgPT4gdGhpcy5wYXJzZShzcykpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNEcml2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3NbMF0sIC4uLnMuc2xpY2UoMSkubWFwKHNzID0+IHRoaXMucGFyc2Uoc3MpKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHMubWFwKHNzID0+IHRoaXMucGFyc2Uoc3MpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCBzZXQpO1xuICAgICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBkaWRuJ3QgY29tcGlsZSBwcm9wZXJseS5cbiAgICAgICAgdGhpcy5zZXQgPSBzZXQuZmlsdGVyKHMgPT4gcy5pbmRleE9mKGZhbHNlKSA9PT0gLTEpO1xuICAgICAgICAvLyBkbyBub3QgdHJlYXQgdGhlID8gaW4gVU5DIHBhdGhzIGFzIG1hZ2ljXG4gICAgICAgIGlmICh0aGlzLmlzV2luZG93cykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnNldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAocFswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgcFsxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iUGFydHNbaV1bMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcFszXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgL15bYS16XTokL2kudGVzdChwWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICBwWzJdID0gJz8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgdGhpcy5zZXQpO1xuICAgIH1cbiAgICAvLyB2YXJpb3VzIHRyYW5zZm9ybXMgdG8gZXF1aXZhbGVudCBwYXR0ZXJuIHNldHMgdGhhdCBhcmVcbiAgICAvLyBmYXN0ZXIgdG8gcHJvY2VzcyBpbiBhIGZpbGVzeXN0ZW0gd2Fsay4gIFRoZSBnb2FsIGlzIHRvXG4gICAgLy8gZWxpbWluYXRlIHdoYXQgd2UgY2FuLCBhbmQgcHVzaCBhbGwgKiogcGF0dGVybnMgYXMgZmFyXG4gICAgLy8gdG8gdGhlIHJpZ2h0IGFzIHBvc3NpYmxlLCBldmVuIGlmIGl0IGluY3JlYXNlcyB0aGUgbnVtYmVyXG4gICAgLy8gb2YgcGF0dGVybnMgdGhhdCB3ZSBoYXZlIHRvIHByb2Nlc3MuXG4gICAgcHJlcHJvY2VzcyhnbG9iUGFydHMpIHtcbiAgICAgICAgLy8gaWYgd2UncmUgbm90IGluIGdsb2JzdGFyIG1vZGUsIHRoZW4gdHVybiBhbGwgKiogaW50byAqXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9nbG9ic3Rhcikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdsb2JQYXJ0c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYlBhcnRzW2ldW2pdID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHNbaV1bal0gPSAnKic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvcHRpbWl6YXRpb25MZXZlbCA9IDEgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGltaXphdGlvbkxldmVsID49IDIpIHtcbiAgICAgICAgICAgIC8vIGFnZ3Jlc3NpdmUgb3B0aW1pemF0aW9uIGZvciB0aGUgcHVycG9zZSBvZiBmcyB3YWxraW5nXG4gICAgICAgICAgICBnbG9iUGFydHMgPSB0aGlzLmZpcnN0UGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cyk7XG4gICAgICAgICAgICBnbG9iUGFydHMgPSB0aGlzLnNlY29uZFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGltaXphdGlvbkxldmVsID49IDEpIHtcbiAgICAgICAgICAgIC8vIGp1c3QgYmFzaWMgb3B0aW1pemF0aW9ucyB0byByZW1vdmUgc29tZSAuLiBwYXJ0c1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5sZXZlbE9uZU9wdGltaXplKGdsb2JQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBqdXN0IGNvbGxhcHNlIG11bHRpcGxlICoqIHBvcnRpb25zIGludG8gb25lXG4gICAgICAgICAgICBnbG9iUGFydHMgPSB0aGlzLmFkamFzY2VudEdsb2JzdGFyT3B0aW1pemUoZ2xvYlBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xvYlBhcnRzO1xuICAgIH1cbiAgICAvLyBqdXN0IGdldCByaWQgb2YgYWRqYXNjZW50ICoqIHBvcnRpb25zXG4gICAgYWRqYXNjZW50R2xvYnN0YXJPcHRpbWl6ZShnbG9iUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cy5tYXAocGFydHMgPT4ge1xuICAgICAgICAgICAgbGV0IGdzID0gLTE7XG4gICAgICAgICAgICB3aGlsZSAoLTEgIT09IChncyA9IHBhcnRzLmluZGV4T2YoJyoqJywgZ3MgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IGdzO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXJ0c1tpICsgMV0gPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGdzLCBpIC0gZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJ0cztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGdldCByaWQgb2YgYWRqYXNjZW50ICoqIGFuZCByZXNvbHZlIC4uIHBvcnRpb25zXG4gICAgbGV2ZWxPbmVPcHRpbWl6ZShnbG9iUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cy5tYXAocGFydHMgPT4ge1xuICAgICAgICAgICAgcGFydHMgPSBwYXJ0cy5yZWR1Y2UoKHNldCwgcGFydCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBzZXRbc2V0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnKionICYmIHByZXYgPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYgJiYgcHJldiAhPT0gJy4uJyAmJiBwcmV2ICE9PSAnLicgJiYgcHJldiAhPT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXQucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA9PT0gMCA/IFsnJ10gOiBwYXJ0cztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldmVsVHdvRmlsZU9wdGltaXplKHBhcnRzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJ0cykpIHtcbiAgICAgICAgICAgIHBhcnRzID0gdGhpcy5zbGFzaFNwbGl0KHBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gPHByZT4vPGU+LzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAgICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3F1ZWV6ZSBvdXQgVU5DIHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAxICYmIHAgPT09ICcnICYmIHBhcnRzWzBdID09PSAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCA9PT0gJy4nIHx8IHAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1swXSA9PT0gJy4nICYmXG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAocGFydHNbMV0gPT09ICcuJyB8fCBwYXJ0c1sxXSA9PT0gJycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDxwcmU+LzxwPi8uLi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICBsZXQgZGQgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZGQgPSBwYXJ0cy5pbmRleE9mKCcuLicsIGRkICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2RkIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHAgJiYgcCAhPT0gJy4nICYmIHAgIT09ICcuLicgJiYgcCAhPT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZGQgLSAxLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgZGQgLT0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpZFNvbWV0aGluZyk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDAgPyBbJyddIDogcGFydHM7XG4gICAgfVxuICAgIC8vIEZpcnN0IHBoYXNlOiBzaW5nbGUtcGF0dGVybiBwcm9jZXNzaW5nXG4gICAgLy8gPHByZT4gaXMgMSBvciBtb3JlIHBvcnRpb25zXG4gICAgLy8gPHJlc3Q+IGlzIDEgb3IgbW9yZSBwb3J0aW9uc1xuICAgIC8vIDxwPiBpcyBhbnkgcG9ydGlvbiBvdGhlciB0aGFuIC4sIC4uLCAnJywgb3IgKipcbiAgICAvLyA8ZT4gaXMgLiBvciAnJ1xuICAgIC8vXG4gICAgLy8gKiovLi4gaXMgKmJydXRhbCogZm9yIGZpbGVzeXN0ZW0gd2Fsa2luZyBwZXJmb3JtYW5jZSwgYmVjYXVzZVxuICAgIC8vIGl0IGVmZmVjdGl2ZWx5IHJlc2V0cyB0aGUgcmVjdXJzaXZlIHdhbGsgZWFjaCB0aW1lIGl0IG9jY3VycyxcbiAgICAvLyBhbmQgKiogY2Fubm90IGJlIHJlZHVjZWQgb3V0IGJ5IGEgLi4gcGF0dGVybiBwYXJ0IGxpa2UgYSByZWdleHBcbiAgICAvLyBvciBtb3N0IHN0cmluZ3MgKG90aGVyIHRoYW4gLi4sIC4sIGFuZCAnJykgY2FuIGJlLlxuICAgIC8vXG4gICAgLy8gPHByZT4vKiovLi4vPHA+LzxwPi88cmVzdD4gLT4gezxwcmU+Ly4uLzxwPi88cD4vPHJlc3Q+LDxwcmU+LyoqLzxwPi88cD4vPHJlc3Q+fVxuICAgIC8vIDxwcmU+LzxlPi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgLy8gPHByZT4vPHA+Ly4uLzxyZXN0PiAtPiA8cHJlPi88cmVzdD5cbiAgICAvLyAqKi8qKi88cmVzdD4gLT4gKiovPHJlc3Q+XG4gICAgLy9cbiAgICAvLyAqKi8qLzxyZXN0PiAtPiAqLyoqLzxyZXN0PiA8PT0gbm90IHZhbGlkIGJlY2F1c2UgKiogZG9lc24ndCBmb2xsb3dcbiAgICAvLyB0aGlzIFdPVUxEIGJlIGFsbG93ZWQgaWYgKiogZGlkIGZvbGxvdyBzeW1saW5rcywgb3IgKiBkaWRuJ3RcbiAgICBmaXJzdFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpIHtcbiAgICAgICAgbGV0IGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIDxwcmU+LyoqLy4uLzxwPi88cD4vPHJlc3Q+IC0+IHs8cHJlPi8uLi88cD4vPHA+LzxyZXN0Piw8cHJlPi8qKi88cD4vPHA+LzxyZXN0Pn1cbiAgICAgICAgICAgIGZvciAobGV0IHBhcnRzIG9mIGdsb2JQYXJ0cykge1xuICAgICAgICAgICAgICAgIGxldCBncyA9IC0xO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGdzID0gcGFydHMuaW5kZXhPZignKionLCBncyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZ3NzID0gZ3M7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwYXJ0c1tnc3MgKyAxXSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gPHByZT4vKiovKiovPHJlc3Q+IC0+IDxwcmU+LyoqLzxyZXN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3NzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWcsIGlmIGdzIGlzIDIgYW5kIGdzcyBpcyA0LCB0aGF0IG1lYW5zIHdlIGhhdmUgMyAqKlxuICAgICAgICAgICAgICAgICAgICAvLyBwYXJ0cywgYW5kIGNhbiByZW1vdmUgMiBvZiB0aGVtLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3NzID4gZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShncyArIDEsIGdzcyAtIGdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHBhcnRzW2dzICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tncyArIDJdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwMiA9IHBhcnRzW2dzICsgM107XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSAnLi4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwID09PSAnLi4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhcDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAyID09PSAnLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAyID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBlZGl0IHBhcnRzIGluIHBsYWNlLCBhbmQgcHVzaCB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZ3MsIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IHBhcnRzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgICAgICBvdGhlcltnc10gPSAnKionO1xuICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHMucHVzaChvdGhlcik7XG4gICAgICAgICAgICAgICAgICAgIGdzLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIDxwcmU+LzxlPi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBzcXVlZXplIG91dCBVTkMgcGF0dGVybnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAxICYmIHAgPT09ICcnICYmIHBhcnRzWzBdID09PSAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwID09PSAnLicgfHwgcCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09PSAnLicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHBhcnRzWzFdID09PSAnLicgfHwgcGFydHNbMV0gPT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIDxwcmU+LzxwPi8uLi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICAgICAgbGV0IGRkID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLTEgIT09IChkZCA9IHBhcnRzLmluZGV4T2YoJy4uJywgZGQgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2RkIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwICYmIHAgIT09ICcuJyAmJiBwICE9PSAnLi4nICYmIHAgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkRG90ID0gZGQgPT09IDEgJiYgcGFydHNbZGQgKyAxXSA9PT0gJyoqJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGluID0gbmVlZERvdCA/IFsnLiddIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZGQgLSAxLCAyLCAuLi5zcGxpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGQgLT0gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZGlkU29tZXRoaW5nKTtcbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cztcbiAgICB9XG4gICAgLy8gc2Vjb25kIHBoYXNlOiBtdWx0aS1wYXR0ZXJuIGRlZHVwZXNcbiAgICAvLyB7PHByZT4vKi88cmVzdD4sPHByZT4vPHA+LzxyZXN0Pn0gLT4gPHByZT4vKi88cmVzdD5cbiAgICAvLyB7PHByZT4vPHJlc3Q+LDxwcmU+LzxyZXN0Pn0gLT4gPHByZT4vPHJlc3Q+XG4gICAgLy8gezxwcmU+LyoqLzxyZXN0Piw8cHJlPi88cmVzdD59IC0+IDxwcmU+LyoqLzxyZXN0PlxuICAgIC8vXG4gICAgLy8gezxwcmU+LyoqLzxyZXN0Piw8cHJlPi8qKi88cD4vPHJlc3Q+fSAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAvLyBeLS0gbm90IHZhbGlkIGJlY2F1c2UgKiogZG9lbnMndCBmb2xsb3cgc3ltbGlua3NcbiAgICBzZWNvbmRQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYlBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgZ2xvYlBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlZCA9IHRoaXMucGFydHNNYXRjaChnbG9iUGFydHNbaV0sIGdsb2JQYXJ0c1tqXSwgIXRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JQYXJ0c1tpXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHNbal0gPSBtYXRjaGVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cy5maWx0ZXIoZ3MgPT4gZ3MubGVuZ3RoKTtcbiAgICB9XG4gICAgcGFydHNNYXRjaChhLCBiLCBlbXB0eUdTTWF0Y2ggPSBmYWxzZSkge1xuICAgICAgICBsZXQgYWkgPSAwO1xuICAgICAgICBsZXQgYmkgPSAwO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCB3aGljaCA9ICcnO1xuICAgICAgICB3aGlsZSAoYWkgPCBhLmxlbmd0aCAmJiBiaSA8IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoYVthaV0gPT09IGJbYmldKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2god2hpY2ggPT09ICdiJyA/IGJbYmldIDogYVthaV0pO1xuICAgICAgICAgICAgICAgIGFpKys7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVtcHR5R1NNYXRjaCAmJiBhW2FpXSA9PT0gJyoqJyAmJiBiW2JpXSA9PT0gYVthaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYVthaV0pO1xuICAgICAgICAgICAgICAgIGFpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbXB0eUdTTWF0Y2ggJiYgYltiaV0gPT09ICcqKicgJiYgYVthaV0gPT09IGJbYmkgKyAxXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJbYmldKTtcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYVthaV0gPT09ICcqJyAmJlxuICAgICAgICAgICAgICAgIGJbYmldICYmXG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5kb3QgfHwgIWJbYmldLnN0YXJ0c1dpdGgoJy4nKSkgJiZcbiAgICAgICAgICAgICAgICBiW2JpXSAhPT0gJyoqJykge1xuICAgICAgICAgICAgICAgIGlmICh3aGljaCA9PT0gJ2InKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpY2ggPSAnYSc7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYVthaV0pO1xuICAgICAgICAgICAgICAgIGFpKys7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJbYmldID09PSAnKicgJiZcbiAgICAgICAgICAgICAgICBhW2FpXSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZG90IHx8ICFhW2FpXS5zdGFydHNXaXRoKCcuJykpICYmXG4gICAgICAgICAgICAgICAgYVthaV0gIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICBpZiAod2hpY2ggPT09ICdhJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWNoID0gJ2InO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJbYmldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgZmFsbCBvdXQgb2YgdGhlIGxvb3AsIGl0IG1lYW5zIHRoZXkgdHdvIGFyZSBpZGVudGljYWxcbiAgICAgICAgLy8gYXMgbG9uZyBhcyB0aGVpciBsZW5ndGhzIG1hdGNoXG4gICAgICAgIHJldHVybiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgcmVzdWx0O1xuICAgIH1cbiAgICBwYXJzZU5lZ2F0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9uZWdhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm47XG4gICAgICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IG5lZ2F0ZU9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5sZW5ndGggJiYgcGF0dGVybi5jaGFyQXQoaSkgPT09ICchJzsgaSsrKSB7XG4gICAgICAgICAgICBuZWdhdGUgPSAhbmVnYXRlO1xuICAgICAgICAgICAgbmVnYXRlT2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZ2F0ZU9mZnNldClcbiAgICAgICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm4uc2xpY2UobmVnYXRlT2Zmc2V0KTtcbiAgICAgICAgdGhpcy5uZWdhdGUgPSBuZWdhdGU7XG4gICAgfVxuICAgIC8vIHNldCBwYXJ0aWFsIHRvIHRydWUgdG8gdGVzdCBpZiwgZm9yIGV4YW1wbGUsXG4gICAgLy8gXCIvYS9iXCIgbWF0Y2hlcyB0aGUgc3RhcnQgb2YgXCIvKi9iLyovZFwiXG4gICAgLy8gUGFydGlhbCBtZWFucywgaWYgeW91IHJ1biBvdXQgb2YgZmlsZSBiZWZvcmUgeW91IHJ1blxuICAgIC8vIG91dCBvZiBwYXR0ZXJuLCB0aGVuIHRoYXQncyBmaW5lLCBhcyBsb25nIGFzIGFsbFxuICAgIC8vIHRoZSBwYXJ0cyBtYXRjaC5cbiAgICBtYXRjaE9uZShmaWxlLCBwYXR0ZXJuLCBwYXJ0aWFsID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gVU5DIHBhdGhzIGxpa2UgLy8/L1g6Ly4uLiBjYW4gbWF0Y2ggWDovLi4uIGFuZCB2aWNlIHZlcnNhXG4gICAgICAgIC8vIERyaXZlIGxldHRlcnMgaW4gYWJzb2x1dGUgZHJpdmUgb3IgdW5jIHBhdGhzIGFyZSBhbHdheXMgY29tcGFyZWRcbiAgICAgICAgLy8gY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVEcml2ZSA9IHR5cGVvZiBmaWxlWzBdID09PSAnc3RyaW5nJyAmJiAvXlthLXpdOiQvaS50ZXN0KGZpbGVbMF0pO1xuICAgICAgICAgICAgY29uc3QgZmlsZVVOQyA9ICFmaWxlRHJpdmUgJiZcbiAgICAgICAgICAgICAgICBmaWxlWzBdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIGZpbGVbMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgZmlsZVsyXSA9PT0gJz8nICYmXG4gICAgICAgICAgICAgICAgL15bYS16XTokL2kudGVzdChmaWxlWzNdKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5Ecml2ZSA9IHR5cGVvZiBwYXR0ZXJuWzBdID09PSAnc3RyaW5nJyAmJiAvXlthLXpdOiQvaS50ZXN0KHBhdHRlcm5bMF0pO1xuICAgICAgICAgICAgY29uc3QgcGF0dGVyblVOQyA9ICFwYXR0ZXJuRHJpdmUgJiZcbiAgICAgICAgICAgICAgICBwYXR0ZXJuWzBdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIHBhdHRlcm5bMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgcGF0dGVyblsyXSA9PT0gJz8nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHBhdHRlcm5bM10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgL15bYS16XTokL2kudGVzdChwYXR0ZXJuWzNdKTtcbiAgICAgICAgICAgIGNvbnN0IGZkaSA9IGZpbGVVTkMgPyAzIDogZmlsZURyaXZlID8gMCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHBkaSA9IHBhdHRlcm5VTkMgPyAzIDogcGF0dGVybkRyaXZlID8gMCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmRpID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgcGRpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtmZCwgcGRdID0gW2ZpbGVbZmRpXSwgcGF0dGVybltwZGldXTtcbiAgICAgICAgICAgICAgICBpZiAoZmQudG9Mb3dlckNhc2UoKSA9PT0gcGQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuW3BkaV0gPSBmZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBkaSA+IGZkaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc2xpY2UocGRpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmZGkgPiBwZGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgPSBmaWxlLnNsaWNlKGZkaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzb2x2ZSBhbmQgcmVkdWNlIC4gYW5kIC4uIHBvcnRpb25zIGluIHRoZSBmaWxlIGFzIHdlbGwuXG4gICAgICAgIC8vIGRvbnQnIG5lZWQgdG8gZG8gdGhlIHNlY29uZCBwaGFzZSwgYmVjYXVzZSBpdCdzIG9ubHkgb25lIHN0cmluZ1tdXG4gICAgICAgIGNvbnN0IHsgb3B0aW1pemF0aW9uTGV2ZWwgPSAxIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICBmaWxlID0gdGhpcy5sZXZlbFR3b0ZpbGVPcHRpbWl6ZShmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaE9uZScsIHRoaXMsIHsgZmlsZSwgcGF0dGVybiB9KTtcbiAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLCBmaWxlLmxlbmd0aCwgcGF0dGVybi5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBmaSA9IDAsIHBpID0gMCwgZmwgPSBmaWxlLmxlbmd0aCwgcGwgPSBwYXR0ZXJuLmxlbmd0aDsgZmkgPCBmbCAmJiBwaSA8IHBsOyBmaSsrLCBwaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaE9uZSBsb29wJyk7XG4gICAgICAgICAgICB2YXIgcCA9IHBhdHRlcm5bcGldO1xuICAgICAgICAgICAgdmFyIGYgPSBmaWxlW2ZpXTtcbiAgICAgICAgICAgIHRoaXMuZGVidWcocGF0dGVybiwgcCwgZik7XG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgaW1wb3NzaWJsZS5cbiAgICAgICAgICAgIC8vIHNvbWUgaW52YWxpZCByZWdleHAgc3R1ZmYgaW4gdGhlIHNldC5cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgaWYgKHAgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIGlmIChwID09PSBHTE9CU1RBUikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ0dMT0JTVEFSJywgW3BhdHRlcm4sIHAsIGZdKTtcbiAgICAgICAgICAgICAgICAvLyBcIioqXCJcbiAgICAgICAgICAgICAgICAvLyBhLyoqL2IvKiovYyB3b3VsZCBtYXRjaCB0aGUgZm9sbG93aW5nOlxuICAgICAgICAgICAgICAgIC8vIGEvYi94L3kvei9jXG4gICAgICAgICAgICAgICAgLy8gYS94L3kvei9iL2NcbiAgICAgICAgICAgICAgICAvLyBhL2IveC9iL3gvY1xuICAgICAgICAgICAgICAgIC8vIGEvYi9jXG4gICAgICAgICAgICAgICAgLy8gVG8gZG8gdGhpcywgdGFrZSB0aGUgcmVzdCBvZiB0aGUgcGF0dGVybiBhZnRlclxuICAgICAgICAgICAgICAgIC8vIHRoZSAqKiwgYW5kIHNlZSBpZiBpdCB3b3VsZCBtYXRjaCB0aGUgZmlsZSByZW1haW5kZXIuXG4gICAgICAgICAgICAgICAgLy8gSWYgc28sIHJldHVybiBzdWNjZXNzLlxuICAgICAgICAgICAgICAgIC8vIElmIG5vdCwgdGhlICoqIFwic3dhbGxvd3NcIiBhIHNlZ21lbnQsIGFuZCB0cnkgYWdhaW4uXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyByZWN1cnNpdmVseSBhd2Z1bC5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIGEvKiovYi8qKi9jIG1hdGNoaW5nIGEvYi94L3kvei9jXG4gICAgICAgICAgICAgICAgLy8gLSBhIG1hdGNoZXMgYVxuICAgICAgICAgICAgICAgIC8vIC0gZG91Ymxlc3RhclxuICAgICAgICAgICAgICAgIC8vICAgLSBtYXRjaE9uZShiL3gveS96L2MsIGIvKiovYylcbiAgICAgICAgICAgICAgICAvLyAgICAgLSBiIG1hdGNoZXMgYlxuICAgICAgICAgICAgICAgIC8vICAgICAtIGRvdWJsZXN0YXJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAtIG1hdGNoT25lKHgveS96L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh5L3ovYywgYykgLT4gbm9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAtIG1hdGNoT25lKHovYywgYykgLT4gbm9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAtIG1hdGNoT25lKGMsIGMpIHllcywgaGl0XG4gICAgICAgICAgICAgICAgdmFyIGZyID0gZmk7XG4gICAgICAgICAgICAgICAgdmFyIHByID0gcGkgKyAxO1xuICAgICAgICAgICAgICAgIGlmIChwciA9PT0gcGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnKiogYXQgdGhlIGVuZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhICoqIGF0IHRoZSBlbmQgd2lsbCBqdXN0IHN3YWxsb3cgdGhlIHJlc3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgZm91bmQgYSBtYXRjaC5cbiAgICAgICAgICAgICAgICAgICAgLy8gaG93ZXZlciwgaXQgd2lsbCBub3Qgc3dhbGxvdyAvLngsIHVubGVzc1xuICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25zLmRvdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIC4gYW5kIC4uIGFyZSAqbmV2ZXIqIG1hdGNoZWQgYnkgKiosIGZvciBleHBsb3NpdmVseVxuICAgICAgICAgICAgICAgICAgICAvLyBleHBvbmVudGlhbCByZWFzb25zLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgZmkgPCBmbDsgZmkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVbZmldID09PSAnLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlW2ZpXSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgZmlsZVtmaV0uY2hhckF0KDApID09PSAnLicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb2ssIGxldCdzIHNlZSBpZiB3ZSBjYW4gc3dhbGxvdyB3aGF0ZXZlciB3ZSBjYW4uXG4gICAgICAgICAgICAgICAgd2hpbGUgKGZyIDwgZmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN3YWxsb3dlZSA9IGZpbGVbZnJdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdcXG5nbG9ic3RhciB3aGlsZScsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwciwgc3dhbGxvd2VlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gWFhYIHJlbW92ZSB0aGlzIHNsaWNlLiAgSnVzdCBwYXNzIHRoZSBzdGFydCBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hPbmUoZmlsZS5zbGljZShmciksIHBhdHRlcm4uc2xpY2UocHIpLCBwYXJ0aWFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgZm91bmQgbWF0Y2ghJywgZnIsIGZsLCBzd2FsbG93ZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBtYXRjaC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3Qgc3dhbGxvdyBcIi5cIiBvciBcIi4uXCIgZXZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbiBvbmx5IHN3YWxsb3cgXCIuZm9vXCIgd2hlbiBleHBsaWNpdGx5IGFza2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN3YWxsb3dlZSA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhbGxvd2VlID09PSAnLi4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFvcHRpb25zLmRvdCAmJiBzd2FsbG93ZWUuY2hhckF0KDApID09PSAnLicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZG90IGRldGVjdGVkIScsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAqKiBzd2FsbG93cyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIHN3YWxsb3cgYSBzZWdtZW50LCBhbmQgY29udGludWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbm8gbWF0Y2ggd2FzIGZvdW5kLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIGluIHBhcnRpYWwgbW9kZSwgd2UgY2FuJ3Qgc2F5IHRoaXMgaXMgbmVjZXNzYXJpbHkgb3Zlci5cbiAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgICAgICBpZiAocGFydGlhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByYW4gb3V0IG9mIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnXFxuPj4+IG5vIG1hdGNoLCBwYXJ0aWFsPycsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmciA9PT0gZmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc29tZXRoaW5nIG90aGVyIHRoYW4gKipcbiAgICAgICAgICAgIC8vIG5vbi1tYWdpYyBwYXR0ZXJucyBqdXN0IGhhdmUgdG8gbWF0Y2ggZXhhY3RseVxuICAgICAgICAgICAgLy8gcGF0dGVybnMgd2l0aCBtYWdpYyBoYXZlIGJlZW4gdHVybmVkIGludG8gcmVnZXhwcy5cbiAgICAgICAgICAgIGxldCBoaXQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaGl0ID0gZiA9PT0gcDtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdzdHJpbmcgbWF0Y2gnLCBwLCBmLCBoaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGl0ID0gcC50ZXN0KGYpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ3BhdHRlcm4gbWF0Y2gnLCBwLCBmLCBoaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoaXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IGVuZGluZyBpbiAvIG1lYW5zIHRoYXQgd2UnbGwgZ2V0IGEgZmluYWwgXCJcIlxuICAgICAgICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLiAgVGhpcyBjYW4gb25seSBtYXRjaCBhXG4gICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgXCJcIiBhdCB0aGUgZW5kIG9mIHRoZSBmaWxlLlxuICAgICAgICAvLyBJZiB0aGUgZmlsZSBlbmRzIGluIC8sIHRoZW4gaXQgY2FuIG9ubHkgbWF0Y2ggYVxuICAgICAgICAvLyBhIHBhdHRlcm4gdGhhdCBlbmRzIGluIC8sIHVubGVzcyB0aGUgcGF0dGVybiBqdXN0XG4gICAgICAgIC8vIGRvZXNuJ3QgaGF2ZSBhbnkgbW9yZSBmb3IgaXQuIEJ1dCwgYS9iLyBzaG91bGQgKm5vdCpcbiAgICAgICAgLy8gbWF0Y2ggXCJhL2IvKlwiLCBldmVuIHRob3VnaCBcIlwiIG1hdGNoZXMgYWdhaW5zdCB0aGVcbiAgICAgICAgLy8gW14vXSo/IHBhdHRlcm4sIGV4Y2VwdCBpbiBwYXJ0aWFsIG1vZGUsIHdoZXJlIGl0IG1pZ2h0XG4gICAgICAgIC8vIHNpbXBseSBub3QgYmUgcmVhY2hlZCB5ZXQuXG4gICAgICAgIC8vIEhvd2V2ZXIsIGEvYi8gc2hvdWxkIHN0aWxsIHNhdGlzZnkgYS8qXG4gICAgICAgIC8vIG5vdyBlaXRoZXIgd2UgZmVsbCBvZmYgdGhlIGVuZCBvZiB0aGUgcGF0dGVybiwgb3Igd2UncmUgZG9uZS5cbiAgICAgICAgaWYgKGZpID09PSBmbCAmJiBwaSA9PT0gcGwpIHtcbiAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgcGF0dGVybiBhbmQgZmlsZW5hbWUgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgICAgIC8vIGFuIGV4YWN0IGhpdCFcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpID09PSBmbCkge1xuICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlLCBidXQgc3RpbGwgaGFkIHBhdHRlcm4gbGVmdC5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2sgaWYgd2UncmUgZG9pbmcgdGhlIG1hdGNoIGFzIHBhcnQgb2ZcbiAgICAgICAgICAgIC8vIGEgZ2xvYiBmcyB0cmF2ZXJzYWwuXG4gICAgICAgICAgICByZXR1cm4gcGFydGlhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwaSA9PT0gcGwpIHtcbiAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgcGF0dGVybiwgc3RpbGwgaGF2ZSBmaWxlIGxlZnQuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiB3ZSdyZSBvbiB0aGUgdmVyeSBsYXN0XG4gICAgICAgICAgICAvLyBlbXB0eSBzZWdtZW50IG9mIGEgZmlsZSB3aXRoIGEgdHJhaWxpbmcgc2xhc2guXG4gICAgICAgICAgICAvLyBhLyogc2hvdWxkIG1hdGNoIGEvYi9cbiAgICAgICAgICAgIHJldHVybiBmaSA9PT0gZmwgLSAxICYmIGZpbGVbZmldID09PSAnJztcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHVucmVhY2hhYmxlLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3dGY/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICB9XG4gICAgYnJhY2VFeHBhbmQoKSB7XG4gICAgICAgIHJldHVybiBicmFjZUV4cGFuZCh0aGlzLnBhdHRlcm4sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICAgIHBhcnNlKHBhdHRlcm4pIHtcbiAgICAgICAgYXNzZXJ0VmFsaWRQYXR0ZXJuKHBhdHRlcm4pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyBzaG9ydGN1dHNcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqKicpXG4gICAgICAgICAgICByZXR1cm4gR0xPQlNUQVI7XG4gICAgICAgIGlmIChwYXR0ZXJuID09PSAnJylcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgLy8gZmFyIGFuZCBhd2F5LCB0aGUgbW9zdCBjb21tb24gZ2xvYiBwYXR0ZXJuIHBhcnRzIGFyZVxuICAgICAgICAvLyAqLCAqLiosIGFuZCAqLjxleHQ+ICBBZGQgYSBmYXN0IGNoZWNrIG1ldGhvZCBmb3IgdGhvc2UuXG4gICAgICAgIGxldCBtO1xuICAgICAgICBsZXQgZmFzdFRlc3QgPSBudWxsO1xuICAgICAgICBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IG9wdGlvbnMuZG90ID8gc3RhclRlc3REb3QgOiBzdGFyVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goc3RhckRvdEV4dFJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gKG9wdGlvbnMubm9jYXNlXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHN0YXJEb3RFeHRUZXN0Tm9jYXNlRG90XG4gICAgICAgICAgICAgICAgICAgIDogc3RhckRvdEV4dFRlc3ROb2Nhc2VcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZG90XG4gICAgICAgICAgICAgICAgICAgID8gc3RhckRvdEV4dFRlc3REb3RcbiAgICAgICAgICAgICAgICAgICAgOiBzdGFyRG90RXh0VGVzdCkobVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHFtYXJrc1JFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gKG9wdGlvbnMubm9jYXNlXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHFtYXJrc1Rlc3ROb2Nhc2VEb3RcbiAgICAgICAgICAgICAgICAgICAgOiBxbWFya3NUZXN0Tm9jYXNlXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHFtYXJrc1Rlc3REb3RcbiAgICAgICAgICAgICAgICAgICAgOiBxbWFya3NUZXN0KShtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goc3RhckRvdFN0YXJSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IG9wdGlvbnMuZG90ID8gc3RhckRvdFN0YXJUZXN0RG90IDogc3RhckRvdFN0YXJUZXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChkb3RTdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBkb3RTdGFyVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZSA9IEFTVC5mcm9tR2xvYihwYXR0ZXJuLCB0aGlzLm9wdGlvbnMpLnRvTU1QYXR0ZXJuKCk7XG4gICAgICAgIGlmIChmYXN0VGVzdCAmJiB0eXBlb2YgcmUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBBdm9pZHMgb3ZlcnJpZGluZyBpbiBmcm96ZW4gZW52aXJvbm1lbnRzXG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHJlLCAndGVzdCcsIHsgdmFsdWU6IGZhc3RUZXN0IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZTtcbiAgICB9XG4gICAgbWFrZVJlKCkge1xuICAgICAgICBpZiAodGhpcy5yZWdleHAgfHwgdGhpcy5yZWdleHAgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCB0aGlzLnNldCBpcyBhIDJkIGFycmF5IG9mIHBhcnRpYWxcbiAgICAgICAgLy8gcGF0dGVybiBzdHJpbmdzLCBvciBcIioqXCIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEl0J3MgYmV0dGVyIHRvIHVzZSAubWF0Y2goKS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkbid0XG4gICAgICAgIC8vIGJlIHVzZWQsIHJlYWxseSwgYnV0IGl0J3MgcHJldHR5IGNvbnZlbmllbnQgc29tZXRpbWVzLFxuICAgICAgICAvLyB3aGVuIHlvdSBqdXN0IHdhbnQgdG8gd29yayB3aXRoIGEgcmVnZXguXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMuc2V0O1xuICAgICAgICBpZiAoIXNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucmVnZXhwID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdleHA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdHdvU3RhciA9IG9wdGlvbnMubm9nbG9ic3RhclxuICAgICAgICAgICAgPyBzdGFyXG4gICAgICAgICAgICA6IG9wdGlvbnMuZG90XG4gICAgICAgICAgICAgICAgPyB0d29TdGFyRG90XG4gICAgICAgICAgICAgICAgOiB0d29TdGFyTm9Eb3Q7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gbmV3IFNldChvcHRpb25zLm5vY2FzZSA/IFsnaSddIDogW10pO1xuICAgICAgICAvLyByZWdleHBpZnkgbm9uLWdsb2JzdGFyIHBhdHRlcm5zXG4gICAgICAgIC8vIGlmICoqIGlzIG9ubHkgaXRlbSwgdGhlbiB3ZSBqdXN0IGRvIG9uZSB0d29TdGFyXG4gICAgICAgIC8vIGlmICoqIGlzIGZpcnN0LCBhbmQgdGhlcmUgYXJlIG1vcmUsIHByZXBlbmQgKFxcL3x0d29TdGFyXFwvKT8gdG8gbmV4dFxuICAgICAgICAvLyBpZiAqKiBpcyBsYXN0LCBhcHBlbmQgKFxcL3R3b1N0YXJ8KSB0byBwcmV2aW91c1xuICAgICAgICAvLyBpZiAqKiBpcyBpbiB0aGUgbWlkZGxlLCBhcHBlbmQgKFxcL3xcXC90d29TdGFyXFwvKSB0byBwcmV2aW91c1xuICAgICAgICAvLyB0aGVuIGZpbHRlciBvdXQgR0xPQlNUQVIgc3ltYm9sc1xuICAgICAgICBsZXQgcmUgPSBzZXRcbiAgICAgICAgICAgIC5tYXAocGF0dGVybiA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcCA9IHBhdHRlcm4ubWFwKHAgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBwLmZsYWdzLnNwbGl0KCcnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLmFkZChmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IHJlZ0V4cEVzY2FwZShwKVxuICAgICAgICAgICAgICAgICAgICA6IHAgPT09IEdMT0JTVEFSXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEdMT0JTVEFSXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHAuX3NyYztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHAuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwcFtpICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IHBwW2kgLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocCAhPT0gR0xPQlNUQVIgfHwgcHJldiA9PT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJldiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgbmV4dCAhPT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBwW2kgKyAxXSA9ICcoPzpcXFxcL3wnICsgdHdvU3RhciArICdcXFxcLyk/JyArIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpXSA9IHR3b1N0YXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBwW2kgLSAxXSA9IHByZXYgKyAnKD86XFxcXC98JyArIHR3b1N0YXIgKyAnKT8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ICE9PSBHTE9CU1RBUikge1xuICAgICAgICAgICAgICAgICAgICBwcFtpIC0gMV0gPSBwcmV2ICsgJyg/OlxcXFwvfFxcXFwvJyArIHR3b1N0YXIgKyAnXFxcXC8pJyArIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIHBwW2kgKyAxXSA9IEdMT0JTVEFSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBwLmZpbHRlcihwID0+IHAgIT09IEdMT0JTVEFSKS5qb2luKCcvJyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignfCcpO1xuICAgICAgICAvLyBuZWVkIHRvIHdyYXAgaW4gcGFyZW5zIGlmIHdlIGhhZCBtb3JlIHRoYW4gb25lIHRoaW5nIHdpdGggfCxcbiAgICAgICAgLy8gb3RoZXJ3aXNlIG9ubHkgdGhlIGZpcnN0IHdpbGwgYmUgYW5jaG9yZWQgdG8gXiBhbmQgdGhlIGxhc3QgdG8gJFxuICAgICAgICBjb25zdCBbb3BlbiwgY2xvc2VdID0gc2V0Lmxlbmd0aCA+IDEgPyBbJyg/OicsICcpJ10gOiBbJycsICcnXTtcbiAgICAgICAgLy8gbXVzdCBtYXRjaCBlbnRpcmUgcGF0dGVyblxuICAgICAgICAvLyBlbmRpbmcgaW4gYSAqIG9yICoqIHdpbGwgbWFrZSBpdCBsZXNzIHN0cmljdC5cbiAgICAgICAgcmUgPSAnXicgKyBvcGVuICsgcmUgKyBjbG9zZSArICckJztcbiAgICAgICAgLy8gY2FuIG1hdGNoIGFueXRoaW5nLCBhcyBsb25nIGFzIGl0J3Mgbm90IHRoaXMuXG4gICAgICAgIGlmICh0aGlzLm5lZ2F0ZSlcbiAgICAgICAgICAgIHJlID0gJ14oPyEnICsgcmUgKyAnKS4rJCc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2V4cCA9IG5ldyBSZWdFeHAocmUsIFsuLi5mbGFnc10uam9pbignJykpO1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgaW1wb3NzaWJsZVxuICAgICAgICAgICAgdGhpcy5yZWdleHAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdleHA7XG4gICAgfVxuICAgIHNsYXNoU3BsaXQocCkge1xuICAgICAgICAvLyBpZiBwIHN0YXJ0cyB3aXRoIC8vIG9uIHdpbmRvd3MsIHdlIHByZXNlcnZlIHRoYXRcbiAgICAgICAgLy8gc28gdGhhdCBVTkMgcGF0aHMgYXJlbid0IGJyb2tlbi4gIE90aGVyd2lzZSwgYW55IG51bWJlciBvZlxuICAgICAgICAvLyAvIGNoYXJhY3RlcnMgYXJlIGNvYWxlc2NlZCBpbnRvIG9uZSwgdW5sZXNzXG4gICAgICAgIC8vIHByZXNlcnZlTXVsdGlwbGVTbGFzaGVzIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIHAuc3BsaXQoJy8nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzV2luZG93cyAmJiAvXlxcL1xcL1teXFwvXSsvLnRlc3QocCkpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhbiBleHRyYSAnJyBmb3IgdGhlIG9uZSB3ZSBsb3NlXG4gICAgICAgICAgICByZXR1cm4gWycnLCAuLi5wLnNwbGl0KC9cXC8rLyldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHAuc3BsaXQoL1xcLysvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaChmLCBwYXJ0aWFsID0gdGhpcy5wYXJ0aWFsKSB7XG4gICAgICAgIHRoaXMuZGVidWcoJ21hdGNoJywgZiwgdGhpcy5wYXR0ZXJuKTtcbiAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpbiB0aGUgY2FzZSBvZiBidXN0ZWQgdGhpbmdzLlxuICAgICAgICAvLyBjb21tZW50cywgZXRjLlxuICAgICAgICBpZiAodGhpcy5jb21tZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmID09PSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZiA9PT0gJy8nICYmIHBhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIHdpbmRvd3M6IG5lZWQgdG8gdXNlIC8sIG5vdCBcXFxuICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGYgPSBmLnNwbGl0KCdcXFxcJykuam9pbignLycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyZWF0IHRoZSB0ZXN0IHBhdGggYXMgYSBzZXQgb2YgcGF0aHBhcnRzLlxuICAgICAgICBjb25zdCBmZiA9IHRoaXMuc2xhc2hTcGxpdChmKTtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzcGxpdCcsIGZmKTtcbiAgICAgICAgLy8ganVzdCBPTkUgb2YgdGhlIHBhdHRlcm4gc2V0cyBpbiB0aGlzLnNldCBuZWVkcyB0byBtYXRjaFxuICAgICAgICAvLyBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdmFsaWQuICBJZiBuZWdhdGluZywgdGhlbiBqdXN0IG9uZVxuICAgICAgICAvLyBtYXRjaCBtZWFucyB0aGF0IHdlIGhhdmUgZmFpbGVkLlxuICAgICAgICAvLyBFaXRoZXIgd2F5LCByZXR1cm4gb24gdGhlIGZpcnN0IGhpdC5cbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5zZXQ7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCAnc2V0Jywgc2V0KTtcbiAgICAgICAgLy8gRmluZCB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGggYnkgbG9va2luZyBmb3IgdGhlIGxhc3Qgbm9uLWVtcHR5IHNlZ21lbnRcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gZmZbZmYubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmZi5sZW5ndGggLSAyOyAhZmlsZW5hbWUgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZmW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2V0W2ldO1xuICAgICAgICAgICAgbGV0IGZpbGUgPSBmZjtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdGNoQmFzZSAmJiBwYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGZpbGUgPSBbZmlsZW5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5tYXRjaE9uZShmaWxlLCBwYXR0ZXJuLCBwYXJ0aWFsKTtcbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5mbGlwTmVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMubmVnYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGhpdHMuICB0aGlzIGlzIHN1Y2Nlc3MgaWYgaXQncyBhIG5lZ2F0aXZlXG4gICAgICAgIC8vIHBhdHRlcm4sIGZhaWx1cmUgb3RoZXJ3aXNlLlxuICAgICAgICBpZiAob3B0aW9ucy5mbGlwTmVnYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRlO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmYXVsdHMoZGVmKSB7XG4gICAgICAgIHJldHVybiBtaW5pbWF0Y2guZGVmYXVsdHMoZGVmKS5NaW5pbWF0Y2g7XG4gICAgfVxufVxuLyogYzggaWdub3JlIHN0YXJ0ICovXG5leHBvcnQgeyBBU1QgfSBmcm9tICcuL2FzdC5qcyc7XG5leHBvcnQgeyBlc2NhcGUgfSBmcm9tICcuL2VzY2FwZS5qcyc7XG5leHBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuLyogYzggaWdub3JlIHN0b3AgKi9cbm1pbmltYXRjaC5BU1QgPSBBU1Q7XG5taW5pbWF0Y2guTWluaW1hdGNoID0gTWluaW1hdGNoO1xubWluaW1hdGNoLmVzY2FwZSA9IGVzY2FwZTtcbm1pbmltYXRjaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHR5cGUgeyBDYWNoZVJlbW90ZSwgUmVtb3RlTWF0Y2hlciB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyByZXF1ZXN0VXJsIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBMb2dnZXIsIFVSTCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IEF0dGFjaG1lbnRFcnJvciB9IGZyb20gJy4vQXR0YWNobWVudEVycm9yJ1xuaW1wb3J0IHsgY29tcGFyZUJ5U3BlY2lmaWNpdHksIGdldE1pbWVFeHQgfSBmcm9tICcuL3N0cmluZ3MnXG5cbi8qKiBFbnN1cmVzIHVuaXF1ZW5lc3MgYW5kIG9yZGVyIG9mIGEgbGlzdCBvZiByZW1vdGVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVSZW1vdGVzKHJlbW90ZXM6IENhY2hlUmVtb3RlW10pOiBDYWNoZVJlbW90ZVtdIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZVJlbW90ZVtdXG4gICAgbGV0IGhhc0ZhbGxiYWNrID0gZmFsc2VcblxuICAgIC8vIGtlZXAgb25seSBmaXJzdCBhcHBlcmVuY2VzXG4gICAgZm9yIChjb25zdCBhIG9mIHJlbW90ZXMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5ldmVyeSgoYikgPT4gYi5wYXR0ZXJuICE9PSBhLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICBpZiAoYS5wYXR0ZXJuID09PSAnKicpIGhhc0ZhbGxiYWNrID0gdHJ1ZVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzRmFsbGJhY2spIHJlc3VsdC5wdXNoKHsgcGF0dGVybjogJyonLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcbiAgICByZXR1cm4gcmVzdWx0LnNvcnQoKGEsIGIpID0+IGNvbXBhcmVCeVNwZWNpZmljaXR5KGEucGF0dGVybiwgYi5wYXR0ZXJuKSlcbn1cblxuLyoqIFNlcmlhbGl6ZSByZW1vdGVzIGFzIGFuIHN0cmluZy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVSZW1vdGVzKHJlbW90ZXM6IENhY2hlUmVtb3RlW10pOiBzdHJpbmcge1xuICAgIHJldHVybiByZW1vdGVzXG4gICAgICAgIC5tYXAoKHsgd2hpdGVsaXN0ZWQsIHBhdHRlcm4gfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGAke3doaXRlbGlzdGVkID8gJ3cnIDogJ2InfSAke3BhdHRlcm59YFxuICAgICAgICB9KVxuICAgICAgICAuam9pbignXFxuJylcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSByZW1vdGUgc3RyaW5nLCBrZWVwaW5nIHdoaXRlbGlzdGVkIHN0YXR1cyBpZiBwcmVzZW50LlxuICogLSBgJ3cgZXhhbXBsZS5jb20nYCDihpIgYFsnZXhhbXBsZS5jb20nLCB0cnVlXWBcbiAqIC0gYCdiIGV4YW1wbGUuY29tJ2Ag4oaSIGBbJ2V4YW1wbGUuY29tJywgZmFsc2VdYFxuICogLSBgJ2V4YW1wbGUuY29tJ2Ag4oaSIGBbJ2V4YW1wbGUuY29tJywgdW5kZWZpbmVkXWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVtb3RlKHNvdXJjZTogc3RyaW5nKTogW3N0cmluZywgYm9vbGVhbiB8IHVuZGVmaW5lZF0ge1xuICAgIGlmICghL1xccysvLnRlc3Qoc291cmNlKSkgcmV0dXJuIFtzb3VyY2UsIHVuZGVmaW5lZF1cblxuICAgIGNvbnN0IHBhcnRzID0gc291cmNlLnNwbGl0KC9cXHMrL2cpXG4gICAgaWYgKHBhcnRzWzBdLnN0YXJ0c1dpdGgoJ3cnKSkgcmV0dXJuIFtwYXJ0c1sxXSwgdHJ1ZV1cbiAgICBpZiAocGFydHNbMF0uc3RhcnRzV2l0aCgnYicpKSByZXR1cm4gW3BhcnRzWzFdLCBmYWxzZV1cbiAgICByZXR1cm4gW3BhcnRzWzFdLCB1bmRlZmluZWRdXG59XG5cbi8qKiBTcGxpdHMgYSByZW1vdGVzIHN0cmluZywga2VlcGluZyBwcmV2aW91cyBzdGF0ZXMgd2hlbiBwb3NpYmxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVtb3RlcyhcbiAgICByZW1vdGVzOiBDYWNoZVJlbW90ZVtdLFxuICAgIHNvdXJjZXM6IHN0cmluZyxcbik6IENhY2hlUmVtb3RlW10ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdIGFzIENhY2hlUmVtb3RlW11cbiAgICBsZXQgaGFzRmFsbGJhY2sgPSBmYWxzZVxuXG4gICAgLy8gb25lIHJlbW90ZSBwZXItbGluZVxuICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHNvdXJjZXMuc3BsaXQoL1xcbisvZykpIHtcbiAgICAgICAgY29uc3QgW3BhdHRlcm4sIHddID0gcGFyc2VSZW1vdGUoc291cmNlKVxuICAgICAgICBpZiAocGF0dGVybiA9PT0gJyonKSBoYXNGYWxsYmFjayA9IHRydWVcblxuICAgICAgICAvLyBpZ25vcmUgZHVwbGljYXRlZCBlbnRyaWVzXG4gICAgICAgIGlmIChyZXN1bHQuc29tZSgoYikgPT4gYi5wYXR0ZXJuID09PSBwYXR0ZXJuKSkgY29udGludWVcblxuICAgICAgICAvLyBpZiBoYXMgd2hpdGVsaXN0ZWQgZGVmaW5pdGlvbiwgdXNlIGl0XG4gICAgICAgIGlmICh3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHcgfSlcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZWFyY2ggcHJldmlvdXMgZGVmaW5pdGlvblxuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgcmVtb3Rlcykge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIG1hdGNoIHNhbWUgcGF0dGVybnNcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuID09PSBzLnBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBzLndoaXRlbGlzdGVkIH0pXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdHJ5IHRvIG1hdGNoIG9ubHkgd2l0aCBhIGRpZmVyZW5jZSBvZiBvbmUgY2hhcmFjdGVyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocGF0dGVybi5sZW5ndGggLSBzLnBhdHRlcm4ubGVuZ3RoKSAhPT0gMSkgY29udGludWVcblxuICAgICAgICAgICAgLy8gdHJ5IHRvIG1hdGNoIHRoZSBwYXR0ZXJuc1xuICAgICAgICAgICAgaWYgKHMucGF0dGVybi5zdGFydHNXaXRoKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZS5jb20vcGF0aCA9PiBleGFtcGxlLmNvbS9wYXRcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBzLndoaXRlbGlzdGVkIH0pXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0dGVybi5zdGFydHNXaXRoKHMucGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICAvLyBleGFtcGxlLmNvbS9wYXRoID0+IGV4YW1wbGUuY29tL3BhdGhzXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogcy53aGl0ZWxpc3RlZCB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsYmFjayBiZWhhdmlvclxuICAgICAgICBpZiAoIXJlc3VsdC5zb21lKChiKSA9PiBiLnBhdHRlcm4gPT09IHBhdHRlcm4pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiBmYWxzZSB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNGYWxsYmFjaykgcmVzdWx0LnB1c2goeyBwYXR0ZXJuOiAnKicsIHdoaXRlbGlzdGVkOiBmYWxzZSB9KVxuXG4gICAgLy8gc29ydGluZ1xuICAgIHJldHVybiByZXN1bHQuc29ydCgoYSwgYikgPT4gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYS5wYXR0ZXJuLCBiLnBhdHRlcm4pKVxufVxuXG4vKiogRGV0ZWN0cyBwb3NpYmxlIHByb2JsZW1zIHdpdGggdGhlIHVzZXIgZGVmaW5lZCByZW1vdGVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmVtb3Rlcyhzb3VyY2VzOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcHJvYmxlbXM6IHN0cmluZ1tdID0gW11cbiAgICBsZXQgaGFzRmFsbGJhY2sgPSBmYWxzZVxuXG4gICAgLy8gb25lIHJlbW90ZSBwZXItbGluZVxuICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHNvdXJjZXMuc3BsaXQoL1xcbisvZykpIHtcbiAgICAgICAgY29uc3QgdHJpbW1lZCA9IHNvdXJjZS50cmltKCkucmVwbGFjZSgvXlt3Yl1cXHMrLywgJycpXG4gICAgICAgIGlmICh0cmltbWVkID09PSAnKicpIHtcbiAgICAgICAgICAgIGhhc0ZhbGxiYWNrID0gdHJ1ZVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgvXlxcdys6L2dpLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgICAgICAgIHByb2JsZW1zLnB1c2goXCJyZW1vdmUgcHJvdG9jb2xzLCBleDogJ2h0dHA6Ly8nXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEvXihcXHcrXFwuKStcXHcrLy50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgICAgICBwcm9ibGVtcy5wdXNoKFwic2hvdWxkIGluY2x1ZGUgZG9tYWluLCBleDogJ2V4YW1wbGUub3JnL3BhdGgnXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc0ZhbGxiYWNrKSBwcm9ibGVtcy51bnNoaWZ0KFwic2hvdWxkIGluY2x1ZGUgYSBmYWxsYmFjayAnKidcIilcblxuICAgIHJldHVybiBwcm9ibGVtc1xufVxuXG4vKiogR2VuZXJhdGVzIGEgbWF0Y2hlciwgdGhhdCBkZXRlY3RzIHRoZSBwcmVzZW5jZSBvZiBhbiBVUkwgcGFyYW0uICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJlbW90ZU1hdGNoZXIoXG4gICAgdXJsX3BhcmFtID0gJ2ZhbGxiYWNrX3BhcmFtJyxcbik6IFJlbW90ZU1hdGNoZXIge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnWz8mXScgKyB1cmxfcGFyYW0gKyAnKFsmPVxcXFxzXXwkKScsICdpJylcbiAgICByZXR1cm4gKHJlbW90ZTogc3RyaW5nKSA9PiByZWdleC50ZXN0KHJlbW90ZSlcbn1cblxuLyoqXG4gKiBSZXF1ZXN0IHRoZSBtZXRhZGF0YSBvZiBhIGZpbGUsIHRvIGRldGVybWluZSB0aGUgZmlsZSBleHRlbnNpb24uXG4gKiBAdGhyb3dzIHtBdHRhY2htZW50RXJyb3J9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVFeHQodXJsOiBzdHJpbmcsIGxvZzogTG9nZ2VyKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsb2cuZGVidWcoYFJlc29sdmluZyBleHRlbnNpb24gZm9yICR7dXJsfWApXG5cbiAgICBjb25zdCByZWZlcmVyID0gVVJMLmdldE9yaWdpbih1cmwpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHRocm93OiBmYWxzZSxcbiAgICAgICAgbWV0aG9kOiAnSEVBRCcsXG4gICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogcmVmZXJlciA/IHJlZmVyZXIgKyAnLycgOiAnJyB9LFxuICAgIH0pXG5cbiAgICBBdHRhY2htZW50RXJyb3IuYXNzZXJ0UmVzcG9uc2UodXJsLCByZXNwb25zZSwgJ3VybC1yZXF1ZXN0LWhlYWQnKVxuICAgIHJldHVybiBnZXRNaW1lRXh0KHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddKVxufVxuXG4vKipcbiAqIERvd25sb2FkcyB0aGUgY29udGVudCBvZiBhIGZpbGUuXG4gKiBAdGhyb3dzIHtBdHRhY2htZW50RXJyb3J9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZW1vdGVDb250ZW50KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGxvZzogTG9nZ2VyLFxuKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGxvZy5kZWJ1ZyhgRG93bmxvYWRpbmcgJHt1cmx9YClcblxuICAgIGNvbnN0IHJlZmVyZXIgPSBVUkwuZ2V0T3JpZ2luKHVybClcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgdGhyb3c6IGZhbHNlLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IHJlZmVyZXIgPyByZWZlcmVyICsgJy8nIDogJycgfSxcbiAgICB9KVxuXG4gICAgQXR0YWNobWVudEVycm9yLmFzc2VydFJlc3BvbnNlKHVybCwgcmVzcG9uc2UsICd1cmwtcmVxdWVzdC1nZXQnKVxuICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlclxufVxuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVNYXRjaGVyIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IFVSSSB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IG1pbmltYXRjaCB9IGZyb20gJ21pbmltYXRjaCdcbmltcG9ydCB7IGNvbXBhcmVCeVNwZWNpZmljaXR5IH0gZnJvbSAnLi9zdHJpbmdzJ1xuaW1wb3J0IHsgcHJlcGFyZVJlbW90ZXMgfSBmcm9tICcuL3JlbW90ZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnTWF0Y2hlcnMoY29uZmlnczogQ2FjaGVDb25maWdbXSk6IENhY2hlTWF0Y2hlcltdIHtcbiAgICByZXR1cm4gY29uZmlncy5tYXAoKGNvbmZpZykgPT4ge1xuICAgICAgICAvLyBkZWZhdWx0OiBhbG9uZ3NpZGUgdGhlIG5vdGVcbiAgICAgICAgbGV0IHJlc29sdmUgPSAoX3BhdGg6IHN0cmluZykgPT4gVVJJLmdldFBhcmVudChfcGF0aClcbiAgICAgICAgc3dpdGNoIChjb25maWcubW9kZSkge1xuICAgICAgICAgICAgY2FzZSAnTk9URS1GT0xERVInOiAvLyBhbG9uZ3NpZGUgdGhlIG5vdGUgaW4gYSBzdWJmb2xkZXIgd2l0aCB0aGUgdGFyZ2V0UGF0aCBhcyBuYW1lXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IChfcGF0aDogc3RyaW5nKSA9PlxuICAgICAgICAgICAgICAgICAgICBVUkkuam9pbihVUkkuZ2V0UGFyZW50KF9wYXRoKSwgY29uZmlnLnRhcmdldClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnVEFSR0VULVBBVEgnOiAvLyBpbnNpZGUgdGhlIHRhcmdldFBhdGggcmVwbGF0aW5nIHRoZSBub3RlLXBhdGgsIHdpdGhvdXQgYC5tZGBcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gKF9wYXRoOiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgIFVSSS5qb2luKGNvbmZpZy50YXJnZXQsIFVSSS5yZW1vdmVFeHQoX3BhdGgpKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdUQVJHRVQtTk9URSc6IC8vIGluc2lkZSB0aGUgdGFyZ2V0UGF0aCBpbiBhIGZvbGRlciBuYW1lZCBhcyB0aGUgbm90ZSwgd2l0aG91dCBgLm1kYFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSAoX3BhdGg6IHN0cmluZykgPT5cbiAgICAgICAgICAgICAgICAgICAgVVJJLmpvaW4oY29uZmlnLnRhcmdldCwgVVJJLmdldEJhc2VuYW1lKF9wYXRoKSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnVEFSR0VUJzogLy8gZGlyZWN0bHkgaW5zaWRlIHRoZSB0YXJnZXRQYXRoXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9ICgpID0+IGNvbmZpZy50YXJnZXRcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGVzdFBhdGggPVxuICAgICAgICAgICAgY29uZmlnLnBhdHRlcm4gIT09ICcqJ1xuICAgICAgICAgICAgICAgID8gKF9ub3RlcGF0aDogc3RyaW5nKSA9PiBtaW5pbWF0Y2goX25vdGVwYXRoLCBjb25maWcucGF0dGVybilcbiAgICAgICAgICAgICAgICA6ICgpID0+IHRydWVcbiAgICAgICAgY29uc3QgdGVzdFJlbW90ZSA9IChfcmVtb3RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZCB9IG9mIGNvbmZpZy5yZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKCdeaHR0cHM/Oi8vKFxcXFx3K1xcXFwuKSonICsgcGF0dGVybiwgJ2cnKS50ZXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW90ZSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hpdGVsaXN0ZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2U6IE9iamVjdC5mcmVlemUoY29uZmlnKSxcbiAgICAgICAgICAgIGlzRW5hYmxlZDogKCkgPT4gY29uZmlnLmVuYWJsZWQsXG4gICAgICAgICAgICB0ZXN0UmVtb3RlLFxuICAgICAgICAgICAgdGVzdFBhdGgsXG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVDb25maWdzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZUNvbmZpZ1tdIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZUNvbmZpZ1tdXG5cbiAgICBmb3IgKGNvbnN0IGEgb2YgY29uZmlncykge1xuICAgICAgICAvLyBpZiBpcyB1bmlxdWUsIGtlZXAgaXRcbiAgICAgICAgY29uc3QgYkluZGV4ID0gcmVzdWx0LmZpbmRJbmRleCgoYikgPT4gYi5wYXR0ZXJuID09PSBhLnBhdHRlcm4pXG4gICAgICAgIGlmIChiSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgcmVtb3RlcyBhcmUgc29ydGVkXG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IC4uLmEsIHJlbW90ZXM6IHByZXBhcmVSZW1vdGVzKGEucmVtb3RlcykgfSlcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIGR1cGxpY2F0ZXMsIGtlZXAgdGhlIG1vcmUgc3BlY2lmaWMgb25lXG4gICAgICAgIGlmIChhLnJlbW90ZXMubGVuZ3RoID4gcmVzdWx0W2JJbmRleF0ucmVtb3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSByZW1vdGVzIGFyZSBzb3J0ZWRcbiAgICAgICAgICAgIHJlc3VsdFtiSW5kZXhdID0geyAuLi5hLCByZW1vdGVzOiBwcmVwYXJlUmVtb3RlcyhhLnJlbW90ZXMpIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVuc3VyZSBzb3J0aW5nIG9mIHBhdGhzXG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1BhdHRlcm4oY29uZmlnczogQ2FjaGVDb25maWdbXSwgX3ZhbHVlOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCFfdmFsdWUpIHJldHVybiBbJ2ludmFsaWQgcGF0dGVybiddXG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgICAgICBpZiAoY29uZmlnLnBhdHRlcm4gPT09IF92YWx1ZSkgcmV0dXJuIFtgZHVwbGljYXRlZCBwYXR0ZXJuICcke192YWx1ZX0nYF1cbiAgICB9XG4gICAgcmV0dXJuIFtdXG59XG4iLCJpbXBvcnQgdHlwZSB7IENhY2hlQ29uZmlnLCBDYWNoZU1vZGUsIENhY2hlUmVtb3RlIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IFNldHRpbmcsIFRleHRBcmVhQ29tcG9uZW50LCBUZXh0Q29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBjaGVja1JlbW90ZXMsIHBhcnNlUmVtb3Rlcywgc2VyaWFsaXplUmVtb3RlcyB9IGZyb20gJ0AvdXRpbGl0eSdcblxudHlwZSBFdmVudENhbGxiYWNrID0gKGNhY2hlOiBDYWNoZUNvbmZpZykgPT4gdm9pZFxuXG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IE1PREVTX05BTUU6IFJlY29yZDxDYWNoZU1vZGUsIHN0cmluZz4gPSB7XG4gICAgJ05PVEUnOiAvKiAgKi8gJ0F0dGFjaG1lbnRzIG5leHQgdG8gdGhlIE5vdGUnLFxuICAgICdOT1RFLUZPTERFUic6ICdBdHRhY2htZW50cyBvbiBTdWJmb2xkZXInLFxuICAgICdUQVJHRVQnOiAvKiovICdBdHRhY2htZW50cyBvbiBDYWNoZSBGb2xkZXInLFxuICAgICdUQVJHRVQtTk9URSc6ICdBdHRhY2htZW50cyBvbiBDYWNoZSBOb3RlIEZvbGRlcicsXG4gICAgJ1RBUkdFVC1QQVRIJzogJ0F0dGFjaG1lbnRzIG9uIENhY2hlIE5vdGUgUGF0aCcsXG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IE1PREVTX0RFU0M6IFJlY29yZDxDYWNoZU1vZGUsIHN0cmluZz4gPSB7XG4gICAgJ05PVEUnOiAvKiAgKi8gJ1N0b3JlIGluIHRoZSBzYW1lIGZvbGRlciBhcyB0aGUgbm90ZScsXG4gICAgJ05PVEUtRk9MREVSJzogJ1N0b3JlIG5leHQgdG8gdGhlIG5vdGUgaW4gc3ViZm9sZGVyICcsXG4gICAgJ1RBUkdFVCc6IC8qKi8gJ1N0b3JlIGluIGZvbGRlciAnLFxuICAgICdUQVJHRVQtTk9URSc6ICdTdG9yZSBpbiBzdWJmb2xkZXIgd2l0aCB0aGUgbm90ZS1uYW1lIHVuZGVyICcsXG4gICAgJ1RBUkdFVC1QQVRIJzogJ1N0b3JlIGluIGEgcmVwbGF0ZWQgbm90ZS1wYXRoIHVuZGVyICcsXG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IG1vZGVzRXggPSAoeyBtb2RlLCB0YXJnZXQgfTogQ2FjaGVDb25maWcpID0+IHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSAnTk9URSc6IC8qICAqLyByZXR1cm4gJ2ZvbGRlci9pbWcxLmpwZydcbiAgICAgICAgY2FzZSAnTk9URS1GT0xERVInOiByZXR1cm4gYGZvbGRlci8ke3RhcmdldH0vaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVCc6IC8qKi8gcmV0dXJuIGAke3RhcmdldH0vaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVC1OT1RFJzogcmV0dXJuIGAke3RhcmdldH0vbm90ZTEvaW1nMS5qcGdgXG4gICAgICAgIGNhc2UgJ1RBUkdFVC1QQVRIJzogcmV0dXJuIGAke3RhcmdldH0vZm9sZGVyL25vdGUxL2ltZzEuanBnYFxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhY2hlU2V0dGluZ3Mge1xuICAgICNjYWNoZTogQ2FjaGVDb25maWdcbiAgICAjY2FjaGVIZWFkZXI6IFNldHRpbmdcbiAgICAjY2FjaGVEZXRhaWxzOiBIVE1MRWxlbWVudFxuICAgICNjYWNoZVJlbW90ZXM6IEhUTUxFbGVtZW50XG4gICAgI3JlbW90ZXNUZXh0PzogVGV4dEFyZWFDb21wb25lbnRcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogSFRNTEVsZW1lbnQsIGNhY2hlOiBDYWNoZUNvbmZpZykge1xuICAgICAgICAvLyBjbG9uZWQgdG8gY29udHJvbCBmbG93IG9mIHVwZGF0ZXNcbiAgICAgICAgdGhpcy4jY2FjaGUgPSB7IC4uLmNhY2hlLCByZW1vdGVzOiBbLi4uY2FjaGUucmVtb3Rlc10gfVxuXG4gICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyID0gbmV3IFNldHRpbmcocGFyZW50KVxuICAgICAgICB0aGlzLiNjYWNoZURldGFpbHMgPVxuICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtZGV0YWlscycpXG4gICAgICAgIHRoaXMuI2NhY2hlUmVtb3RlcyA9XG4gICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwuY3JlYXRlRGl2KCdjYWNoZS1yZW1vdGVzJylcblxuICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVIZWFkZXIoKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVEZXRhaWxzKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlUmVtb3RlcygpXG4gICAgfVxuXG4gICAgI2NhY2hlTmFtZSgpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoYCR7dGhpcy4jY2FjaGUuZW5hYmxlZCA/ICdFbmFibGVkJyA6ICdEaXNhYmxlZCd9IHBhdGg6IGApXG4gICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2NvZGUnKS5hcHBlbmRUZXh0KHRoaXMuI2NhY2hlLnBhdHRlcm4pXG4gICAgICAgIH0pXG4gICAgfVxuICAgICNjYWNoZURlc2MoKTogRG9jdW1lbnRGcmFnbWVudCB8IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLiNjYWNoZS5tb2RlID09PSAnTk9URScpIHJldHVybiBNT0RFU19ERVNDLk5PVEVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoTU9ERVNfREVTQ1t0aGlzLiNjYWNoZS5tb2RlXSlcbiAgICAgICAgICAgIGRpdi5jcmVhdGVFbCgnY29kZScpLmFwcGVuZFRleHQodGhpcy4jY2FjaGUudGFyZ2V0KVxuICAgICAgICB9KVxuICAgIH1cbiAgICAjZGlzcGxheUNhY2hlSGVhZGVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXROYW1lKHRoaXMuI2NhY2hlTmFtZSgpKVxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXREZXNjKHRoaXMuI2NhY2hlRGVzYygpKVxuXG4gICAgICAgIGlmICh0aGlzLiNjYWNoZS5wYXR0ZXJuICE9PSAnKicpIHtcbiAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0SWNvbigndHJhc2gtMicpLnNldFRvb2x0aXAoJ1JlbW92ZScpXG4gICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jY2FjaGUucGF0dGVybiA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJmYWxsYmFjayBjb25maWcoJyonKSBjYW4ndCBiZSByZW1vdmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmNsZWFyKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZVJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLiNjYWNoZS5lbmFibGVkKVxuICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLmVuYWJsZWQgPSB2YWx1ZVxuICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXROYW1lKHRoaXMuI2NhY2hlTmFtZSgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgbGV0IHZpc2libGUgPSBmYWxzZVxuICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ2NoZXZyb24tZG93bicpLnNldFRvb2x0aXAoJ0RldGFpbHMnKVxuICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZpc2libGUgPSAhdmlzaWJsZVxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLXVwJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmFkZENsYXNzKCdzaG93LWRldGFpbHMnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLWRvd24nKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwucmVtb3ZlQ2xhc3MoJ3Nob3ctZGV0YWlscycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAjdGFyZ2V0RGVzYygpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoJ0F0dGFjaG1lbnRzIHN0b3JhZ2UgcGF0aCwgZXg6JylcblxuICAgICAgICAgICAgY29uc3QgdWwgPSBkaXYuY3JlYXRlRWwoJ3VsJylcbiAgICAgICAgICAgIGNvbnN0IG5vdGUgPSB1bC5jcmVhdGVFbCgnbGknKVxuICAgICAgICAgICAgbm90ZS5hcHBlbmQoXCJOb3RlOiAnXCIpXG4gICAgICAgICAgICBub3RlLmNyZWF0ZUVsKCdiJykuYXBwZW5kVGV4dCgnZm9sZGVyL25vdGUxLm1kJylcbiAgICAgICAgICAgIG5vdGUuYXBwZW5kKFwiJ1wiKVxuXG4gICAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gdWwuY3JlYXRlRWwoJ2xpJylcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuYXBwZW5kKFwiQXR0YWNobWVudDogJ1wiKVxuICAgICAgICAgICAgY29uc3QgYiA9IGF0dGFjaG1lbnQuY3JlYXRlRWwoJ2InKVxuXG4gICAgICAgICAgICBiLmFwcGVuZFRleHQobW9kZXNFeCh0aGlzLiNjYWNoZSkpXG4gICAgICAgICAgICBhdHRhY2htZW50LmFwcGVuZChcIidcIilcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2Rpc3BsYXlDYWNoZURldGFpbHMoKTogdm9pZCB7XG4gICAgICAgIGxldCB0YXJnZXRJbnB1dDogVGV4dENvbXBvbmVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuXG4gICAgICAgIGNvbnN0IGNhY2hlU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICAgICAgY2FjaGVTZXR0aW5nLnNldE5hbWUoJ0F0dGFjaG1lbnRzIFN0b3JhZ2UnKVxuICAgICAgICBjYWNoZVNldHRpbmcuc2V0RGVzYyh0aGlzLiN0YXJnZXREZXNjKCkpXG4gICAgICAgIGNhY2hlU2V0dGluZy5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbnMoTU9ERVNfTkFNRSlcbiAgICAgICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKHRoaXMuI2NhY2hlLm1vZGUpXG4gICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZS5tb2RlID0gdmFsdWUgYXMgQ2FjaGVNb2RlXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICAgICAgICAgIGNhY2hlU2V0dGluZy5zZXREZXNjKHRoaXMuI3RhcmdldERlc2MoKSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jY2FjaGUubW9kZSA9PT0gJ05PVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElucHV0Py5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbnB1dD8uc2V0VmFsdWUoJycpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5wdXQ/LnNldERpc2FibGVkKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbnB1dD8uc2V0VmFsdWUodGhpcy4jY2FjaGUudGFyZ2V0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGNhY2hlU2V0dGluZy5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgdGFyZ2V0SW5wdXQgPSBpbnB1dFxuICAgICAgICAgICAgaWYgKHRoaXMuI2NhY2hlLm1vZGUgPT09ICdOT1RFJykgaW5wdXQuc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgIGVsc2UgaW5wdXQuc2V0VmFsdWUodGhpcy4jY2FjaGUudGFyZ2V0KVxuICAgICAgICAgICAgaW5wdXQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FjaGUudGFyZ2V0ID0gdmFsdWVcbiAgICAgICAgICAgICAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuXG4gICAgICAgICAgICAgICAgY2FjaGVTZXR0aW5nLnNldERlc2ModGhpcy4jdGFyZ2V0RGVzYygpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCByZW1vdGVzRGVzYyA9IGNyZWF0ZUZyYWdtZW50KClcbiAgICAgICAgY29uc3QgcmVtb3Rlc0Rlc2NVbCA9IHJlbW90ZXNEZXNjLmNyZWF0ZUVsKCd1bCcpXG4gICAgICAgIGNvbnN0IHJlbW90ZXNTZXR0aW5nID0gbmV3IFNldHRpbmcodGhpcy4jY2FjaGVEZXRhaWxzKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5zZXRDbGFzcygncmVtb3Rlcy1pbnB1dCcpXG4gICAgICAgIHJlbW90ZXNTZXR0aW5nLnNldE5hbWUoJ1JlbW90ZXMgTGlzdCcpXG4gICAgICAgIHJlbW90ZXNTZXR0aW5nLnNldERlc2MocmVtb3Rlc0Rlc2MpXG4gICAgICAgIHJlbW90ZXNTZXR0aW5nLmFkZFRleHRBcmVhKCh0ZXh0YXJlYSkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jcmVtb3Rlc1RleHQgPSB0ZXh0YXJlYVxuICAgICAgICAgICAgdGV4dGFyZWEuc2V0VmFsdWUoc2VyaWFsaXplUmVtb3Rlcyh0aGlzLiNjYWNoZS5yZW1vdGVzKSlcbiAgICAgICAgICAgIHRleHRhcmVhLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgcmVtb3Rlc0Rlc2NVbC5lbXB0eSgpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvYmxlbXMgPSBjaGVja1JlbW90ZXModmFsdWUpXG4gICAgICAgICAgICAgICAgaWYgKHByb2JsZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbXMuZm9yRWFjaCgocCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZXNEZXNjVWwuY3JlYXRlRWwoJ2xpJykuYXBwZW5kVGV4dChwKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZS5yZW1vdGVzID0gcGFyc2VSZW1vdGVzKHRoaXMuI2NhY2hlLnJlbW90ZXMsIHZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlUmVtb3RlcygpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICNyZW1vdGVOYW1lKHI6IENhY2hlUmVtb3RlKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKFxuICAgICAgICAgICAgICAgIGAke3Iud2hpdGVsaXN0ZWQgPyAnV2hpdGVsaXN0ZWQnIDogJ0JsYWNrbGlzdGVkJ30gcmVtb3RlOiBgLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJykuYXBwZW5kVGV4dChyLnBhdHRlcm4pXG4gICAgICAgIH0pXG4gICAgfVxuICAgICNkaXNwbGF5Q2FjaGVSZW1vdGVzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLiNjYWNoZVJlbW90ZXMuZW1wdHkoKVxuXG4gICAgICAgIGZvciAoY29uc3QgcmVtb3RlIG9mIHRoaXMuI2NhY2hlLnJlbW90ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLiNjYWNoZVJlbW90ZXMpXG4gICAgICAgICAgICBzZXR0aW5nLnNldE5hbWUodGhpcy4jcmVtb3RlTmFtZShyZW1vdGUpKVxuXG4gICAgICAgICAgICBpZiAocmVtb3RlLnBhdHRlcm4gIT09ICcqJykge1xuICAgICAgICAgICAgICAgIHNldHRpbmcuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc2V0SWNvbigndHJhc2gtMicpLnNldFRvb2x0aXAoJ1JlbW92ZScpXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZXMgPSB0aGlzLiNjYWNoZS5yZW1vdGVzIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigocikgPT4gci5wYXR0ZXJuICE9PSByZW1vdGUucGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3VwZGF0ZVJlbW90ZXMocmVtb3RlcylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXR0aW5nLmFkZEJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZS53aGl0ZWxpc3RlZCA/ICdCbGFja2xpc3QnIDogJ1doaXRlbGlzdCcsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlcyA9IHRoaXMuI2NhY2hlLnJlbW90ZXMubWFwKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci5wYXR0ZXJuICE9PSByZW1vdGUucGF0dGVybikgcmV0dXJuIHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnIsIHdoaXRlbGlzdGVkOiAhci53aGl0ZWxpc3RlZCB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3VwZGF0ZVJlbW90ZXMocmVtb3RlcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgICN1cGRhdGVSZW1vdGVzKHJlbW90ZXM6IENhY2hlUmVtb3RlW10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy4jY2FjaGUucmVtb3RlcyA9IHJlbW90ZXNcbiAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICB0aGlzLiNyZW1vdGVzVGV4dD8uc2V0VmFsdWUoc2VyaWFsaXplUmVtb3RlcyhyZW1vdGVzKSlcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlUmVtb3RlcygpXG4gICAgfVxuXG4gICAgI2NoYW5nZUxpc3RlbmVyczogRXZlbnRDYWxsYmFja1tdID0gW11cbiAgICAjcmVtb3ZlTGlzdGVuZXJzOiBFdmVudENhbGxiYWNrW10gPSBbXVxuXG4gICAgI2ludm9rZUNoYW5nZSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiNjaGFuZ2VMaXN0ZW5lcnMpIGxpc3RlbmVyKHRoaXMuI2NhY2hlKVxuICAgIH1cbiAgICAjaW52b2tlUmVtb3ZlKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuI3JlbW92ZUxpc3RlbmVycykgbGlzdGVuZXIodGhpcy4jY2FjaGUpXG4gICAgfVxuXG4gICAgb25DaGFuZ2UoY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spOiB0aGlzIHtcbiAgICAgICAgdGhpcy4jY2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIG9uUmVtb3ZlKGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKTogdGhpcyB7XG4gICAgICAgIHRoaXMuI3JlbW92ZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHtcbiAgICBBdHRhY2htZW50c0NhY2hlUGx1Z2luLFxuICAgIENhY2hlQ29uZmlnLFxuICAgIFBsdWdpblNldHRpbmdzLFxufSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHtcbiAgICBCdXR0b25Db21wb25lbnQsXG4gICAgRHJvcGRvd25Db21wb25lbnQsXG4gICAgUGx1Z2luU2V0dGluZ1RhYixcbiAgICBTZXR0aW5nLFxuICAgIFRleHRDb21wb25lbnQsXG59IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgY2hlY2tQYXR0ZXJuLCBwcmVwYXJlQ29uZmlncyB9IGZyb20gJ0AvdXRpbGl0eSdcbmltcG9ydCB7IENhY2hlU2V0dGluZ3MgfSBmcm9tICcuL0NhY2hlU2V0dGluZ3MnXG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgICNwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5cbiAgICAjc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzXG5cbiAgICAjY29uZmlnc0xpc3Q/OiBIVE1MRGl2RWxlbWVudFxuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHAsIHBsdWdpbilcbiAgICAgICAgdGhpcy4jcGx1Z2luID0gcGx1Z2luXG4gICAgICAgIHRoaXMuI3NldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzXG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgLy8gVE9ETzogcGVyc2lzdCBkYXRhXG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoJ2F0dGFjaG1lbnRzLWNhY2hlLXNldHRpbmdzJylcblxuICAgICAgICB0aGlzLiNkaXNwbGF5R2VuZXJhbFNldHRpbmdzKClcblxuICAgICAgICB0aGlzLiNuZXdTZXR0aW5nKCkuc2V0TmFtZSgnUGF0aHMgU2V0dGluZ3MnKS5zZXRIZWFkaW5nKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNvbmZpZ3NIZWFkZXIoKVxuICAgICAgICB0aGlzLiNjb25maWdzTGlzdCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdjb25maWdzLWxpc3QnKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q29uZmlnc0xpc3QoKVxuICAgIH1cblxuICAgICNuZXdTZXR0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbmV3U2V0dGluZ0F0KHRoaXMuY29udGFpbmVyRWwpXG4gICAgfVxuXG4gICAgI25ld1NldHRpbmdBdChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgfVxuXG4gICAgI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNoYXJzU2V0dGluZyA9IHRoaXMuI25ld1NldHRpbmcoKVxuICAgICAgICBjaGFyc1NldHRpbmcuc2V0TmFtZSgnS2VlcCBTcGVjaWFsIENoYXJhY3RlcnMnKVxuICAgICAgICBjaGFyc1NldHRpbmcuc2V0RGVzYyhcbiAgICAgICAgICAgICdJZiB5b3UgYXJlIGhhdmluZyBwcm9ibGVtcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycyBvbiBwYXRocywgZGlzYWJsZSB0aGlzIHNldHRpbmcuJyxcbiAgICAgICAgKVxuICAgICAgICBjaGFyc1NldHRpbmcuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLiNzZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzKVxuICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdhbGxvd19jaGFyYWN0ZXJzJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8jcmVnaW9uIFVSTCBwYXJhbXNcbiAgICAgICAgY29uc3QgdXJsY2FjaGVTZXR0aW5nID0gdGhpcy4jbmV3U2V0dGluZygpXG4gICAgICAgIHVybGNhY2hlU2V0dGluZy5zZXROYW1lKCdVUkwgUGFyYW0gQ2FjaGUnKVxuICAgICAgICB1cmxjYWNoZVNldHRpbmcuc2V0RGVzYygnT3ZlcnJpZGVzIHN0YW5kYXJkIHJ1bGVzIGFuZCBzdG9yZXMgdGhlIGZpbGUuJylcbiAgICAgICAgdXJsY2FjaGVTZXR0aW5nLmFkZFRleHQoKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBpbnB1dC5zZXRWYWx1ZSh0aGlzLiNzZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2NhY2hlJykpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHVybGlnbm9yZVNldHRpbmcgPSB0aGlzLiNuZXdTZXR0aW5nKClcbiAgICAgICAgdXJsaWdub3JlU2V0dGluZy5zZXROYW1lKCdVUkwgUGFyYW0gSWdub3JlJylcbiAgICAgICAgdXJsaWdub3JlU2V0dGluZy5zZXREZXNjKFxuICAgICAgICAgICAgJ092ZXJyaWRlcyBzdGFuZGFyZCBydWxlcyBhbmQgaWdub3JlcyB0aGUgZmlsZS4nLFxuICAgICAgICApXG4gICAgICAgIHVybGlnbm9yZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3NldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2lnbm9yZScpKVxuICAgICAgICB9KVxuICAgICAgICAvLyNlbmRyZWdpb25cbiAgICB9XG5cbiAgICAjZGlzcGxheUNvbmZpZ3NIZWFkZXIoKTogdm9pZCB7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5wdXQ6IFRleHRDb21wb25lbnQgfCBudWxsID0gbnVsbFxuICAgICAgICBsZXQgc291cmNlRHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50IHwgbnVsbCA9IG51bGxcbiAgICAgICAgbGV0IGR1cGxpY2F0ZUJ1dHRvbjogQnV0dG9uQ29tcG9uZW50IHwgbnVsbCA9IG51bGxcblxuICAgICAgICBjb25zdCBoZWFkZXJEZXNjID0gY3JlYXRlRnJhZ21lbnQoKVxuICAgICAgICBjb25zdCBoZWFkZXJEZXNjVWwgPSBoZWFkZXJEZXNjLmNyZWF0ZUVsKCd1bCcpXG5cbiAgICAgICAgY29uc3QgaGVhZGVyRWwgPSB0aGlzLiNuZXdTZXR0aW5nKClcbiAgICAgICAgaGVhZGVyRWwuc2V0Q2xhc3MoJ2NvbmZpZ3MtaGVhZGVyJylcbiAgICAgICAgaGVhZGVyRWwuc2V0TmFtZSgnRHVwbGljYXRlIFZhdWx0IFBhdGgnKVxuICAgICAgICBoZWFkZXJFbC5zZXREZXNjKGhlYWRlckRlc2MpXG4gICAgICAgIGhlYWRlckVsLmFkZFRleHQoKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBwYXR0ZXJuSW5wdXQgPSBpbnB1dFxuICAgICAgICAgICAgaW5wdXQuc2V0UGxhY2Vob2xkZXIoJ2dsb2I6ICoqLyoubWQnKVxuICAgICAgICAgICAgaW5wdXQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaGVhZGVyRGVzY1VsLmVtcHR5KClcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cGxpY2F0ZUJ1dHRvbj8uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ibGVtcyA9IGNoZWNrUGF0dGVybihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1zLmZvckVhY2goKHApID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJEZXNjVWwuY3JlYXRlRWwoJ2xpJykuYXBwZW5kVGV4dChwKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uPy5zZXREaXNhYmxlZChwcm9ibGVtcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgaGVhZGVyRWwuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICBzb3VyY2VEcm9wZG93biA9IGRyb3Bkb3duXG4gICAgICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSgnKicpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzKSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKGNvbmZpZy5wYXR0ZXJuLCBjb25maWcucGF0dGVybilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgaGVhZGVyRWwuYWRkQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGR1cGxpY2F0ZUJ1dHRvbiA9IGJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ0R1cGxpY2F0ZScpXG4gICAgICAgICAgICBidXR0b24uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm5JbnB1dD8uZ2V0VmFsdWUoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNvdXJjZURyb3Bkb3duPy5nZXRWYWx1ZSgpID8/ICcqJ1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAoaSkgPT4gaS5wYXR0ZXJuID09PSByZWYsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2ggfHwgIXNyYykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VuZXhwZWN0ZWQgc3RhdGUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlnc1xuICAgICAgICAgICAgICAgIGNvbmZpZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IG1hdGNoLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVzOiBzcmMucmVtb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogc3JjLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogc3JjLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogc3JjLm1vZGUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICNkaXNwbGF5Q29uZmlnc0xpc3QoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy4jY29uZmlnc0xpc3QpIHJldHVyblxuICAgICAgICB0aGlzLiNjb25maWdzTGlzdC5lbXB0eSgpXG5cbiAgICAgICAgZm9yIChjb25zdCBjYWNoZSBvZiB0aGlzLiNzZXR0aW5ncy5jYWNoZV9jb25maWdzKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gbmV3IENhY2hlU2V0dGluZ3ModGhpcy4jY29uZmlnc0xpc3QsIGNhY2hlKVxuICAgICAgICAgICAgc2V0dGluZy5vbkNoYW5nZSgoX2NhY2hlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcmUtcmVuZGVyIGlzIGFscmVhZHkgaGFuZGxlXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlncyA9IHRoaXMuI3NldHRpbmdzLmNhY2hlX2NvbmZpZ3MgLy9cbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoYykgPT4gKGMucGF0dGVybiA9PT0gX2NhY2hlLnBhdHRlcm4gPyBfY2FjaGUgOiBjKSlcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2V0dGluZy5vblJlbW92ZSgoX2NhY2hlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgb2YgcmVkZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyAvL1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChjKSA9PiBjLnBhdHRlcm4gIT09IF9jYWNoZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIHRoaXMuI3VwZGF0ZUNvbmZpZ3MoY29uZmlncylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjaGFuZGxlKGtleToga2V5b2YgUGx1Z2luU2V0dGluZ3MsIHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZHluYW1pYyBhc3NpZ25tZW50XG4gICAgICAgIHRoaXMuI3NldHRpbmdzW2tleV0gPSB2YWx1ZVxuICAgICAgICB2b2lkIHRoaXMuI3BsdWdpbi5zYXZlU2V0dGluZ3MoKVxuICAgIH1cbiAgICAjdXBkYXRlQ29uZmlncyhjb25maWc6IENhY2hlQ29uZmlnW10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy4jc2V0dGluZ3MuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGNvbmZpZylcbiAgICAgICAgdm9pZCB0aGlzLiNwbHVnaW4uc2F2ZVNldHRpbmdzKClcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4gfSBmcm9tICdAL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgTWFya2Rvd25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpbikge31cblxuICAgIHB1YmxpYyByZWdpc3Rlck1hcmtkb3duUHJvY2Vzc29yKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsdWdpbi5yZWdpc3Rlck1hcmtkb3duUG9zdFByb2Nlc3NvcihcbiAgICAgICAgICAgIChlbGVtZW50LCBjdHgpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZWwpID0+IHZvaWQgdGhpcy4jaW1hZ2UoZWwsIGN0eC5zb3VyY2VQYXRoKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUT0RPOiB0ZXN0IHRoaXMgcGFyYW1ldGVyXG4gICAgICAgICAgICAvLyAvKipcbiAgICAgICAgICAgIC8vICAqIGhpZ2hlciBudW1iZXIgYWZmZWN0cyBhZnRlcixcbiAgICAgICAgICAgIC8vICAqIGVuc3VyaW5nIGl0IGFmZmVjdHMgdGhlIG91dHB1dCBvZiBvdGhlciBwcm9jZXNzb3JzXG4gICAgICAgICAgICAvLyAgKi8gMTAwMDAsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBhc3luYyAjaW1hZ2UoZWw6IEhUTUxJbWFnZUVsZW1lbnQsIHNvdXJjZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaS5jYWNoZShzb3VyY2VQYXRoLCBlbC5zcmMpXG4gICAgICAgIGlmIChyZXNvbHZlZCkgZWwuc3JjID0gcmVzb2x2ZWRcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7XG4gICAgQXR0YWNobWVudHNDYWNoZVBsdWdpbixcbiAgICBBdHRhY2htZW50c0NhY2hlUGx1Z2luQVBJLFxuICAgIENhY2hlTWF0Y2hlcixcbn0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IFZhdWx0LCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBMb2dnZXIsIFVSSSwgVVJMIH0gZnJvbSAnQGx1aXMuYnMvb2JzaWRpYW4tZm5jJ1xuaW1wb3J0IHsgZ2V0UmVtb3RlQ29udGVudCwgZ2V0UmVtb3RlRXh0LCBBdHRhY2htZW50RXJyb3IgfSBmcm9tICcuL3V0aWxpdHknXG5cbmludGVyZmFjZSBSZW1vdGVEZWYge1xuICAgIG5vdGVwYXRoOiBzdHJpbmdcbiAgICByZW1vdGU6IHN0cmluZ1xufVxuXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudHNDYWNoZUFQSSBpbXBsZW1lbnRzIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5BUEkge1xuICAgIHB1YmxpYyBsb2c6IExvZ2dlclxuXG4gICAgI3ZhdWx0OiBWYXVsdFxuICAgICNwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5cblxuICAgICNtZW1vID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4oKVxuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7XG4gICAgICAgIHRoaXMubG9nID0gcGx1Z2luLmxvZy5tYWtlKEF0dGFjaG1lbnRzQ2FjaGVBUEkubmFtZSlcbiAgICAgICAgdGhpcy4jdmF1bHQgPSBwbHVnaW4uYXBwLnZhdWx0XG4gICAgICAgIHRoaXMuI3BsdWdpbiA9IHBsdWdpblxuICAgIH1cblxuICAgIG1heUNhY2hlKG5vdGVwYXRoOiBzdHJpbmcsIHJlbW90ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuI2ZpbmRDYWNoZVJ1bGUoeyBub3RlcGF0aCwgcmVtb3RlIH0sIHRoaXMubG9nKVxuICAgIH1cblxuICAgIGFzeW5jIGlzQ2FjaGVkKG5vdGVwYXRoOiBzdHJpbmcsIHJlbW90ZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMucmVzb2x2ZShub3RlcGF0aCwgcmVtb3RlKVxuICAgICAgICByZXR1cm4gbG9jYWxQYXRoID8gYXdhaXQgdGhpcy4jdmF1bHQuYWRhcHRlci5leGlzdHMobG9jYWxQYXRoKSA6IGZhbHNlXG4gICAgfVxuXG4gICAgYXN5bmMgcmVzb3VyY2UoXG4gICAgICAgIG5vdGVwYXRoOiBzdHJpbmcsXG4gICAgICAgIHJlbW90ZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMucmVzb2x2ZShub3RlcGF0aCwgcmVtb3RlKVxuICAgICAgICBpZiAoIWxvY2FsUGF0aCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuI3ZhdWx0LmdldEZpbGVCeVBhdGgobG9jYWxQYXRoKVxuICAgICAgICByZXR1cm4gZmlsZSA/IHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChmaWxlKSA6IHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGFzeW5jIHJlc29sdmUoXG4gICAgICAgIG5vdGVwYXRoOiBzdHJpbmcsXG4gICAgICAgIHJlbW90ZTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5sb2cuZ3JvdXAoJ1Jlc29sdmluZycsIHsgbm90ZXBhdGgsIHJlbW90ZSB9KVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLiNyZXNvbHZlKHsgbm90ZXBhdGgsIHJlbW90ZSB9LCBncm91cClcbiAgICAgICAgICAgIGlmIChsb2NhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaChgcmVtb3RlIHJlc29sdmVkIHRvIDwke2xvY2FsUGF0aH0+YClcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxQYXRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBncm91cC5lcnJvcihlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLmZsdXNoKGByZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkYClcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYXN5bmMgY2FjaGUobm90ZXBhdGg6IHN0cmluZywgcmVtb3RlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMubG9nLmdyb3VwKGBDYWNoaW5nYCwgeyBub3RlcGF0aCwgcmVtb3RlIH0pXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IGF3YWl0IHRoaXMuI3Jlc29sdmUoeyBub3RlcGF0aCwgcmVtb3RlIH0sIGdyb3VwKVxuICAgICAgICAgICAgaWYgKCFsb2NhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBncm91cC5pbmZvKGByZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkYClcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaChgcmVtb3RlIHdhcyBub3QgY2FjaGVkYClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2sgZXhpc3RlbmNlXG4gICAgICAgICAgICBjb25zdCBjYWNoZWRGaWxlID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChsb2NhbFBhdGgpXG4gICAgICAgICAgICBpZiAoY2FjaGVkRmlsZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmZsdXNoKGByZW1vdGUgaXMgYWxyZWFkeSBpbiBjYWNoZWApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3ZhdWx0LmdldFJlc291cmNlUGF0aChjYWNoZWRGaWxlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb3dubG9hZCBmaWxlXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZ2V0UmVtb3RlQ29udGVudChyZW1vdGUsIGdyb3VwKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy4jdmF1bHQuYWRhcHRlci5ta2RpcihVUkkuZ2V0UGFyZW50KGxvY2FsUGF0aCkpXG4gICAgICAgICAgICBhd2FpdCB0aGlzLiN2YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KGxvY2FsUGF0aCwgY29udGVudClcblxuICAgICAgICAgICAgLy8gY2hlY2sgcmVzdWx0XG4gICAgICAgICAgICBjb25zdCBkb3dubG9hZGVkRmlsZSA9IHRoaXMuI3ZhdWx0LmdldEZpbGVCeVBhdGgobG9jYWxQYXRoKVxuICAgICAgICAgICAgaWYgKGRvd25sb2FkZWRGaWxlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goYHJlbW90ZSB3YXMgY2FjaGVkIHRvIDwke2xvY2FsUGF0aH0+YClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGRvd25sb2FkZWRGaWxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZ3JvdXAuZXJyb3IoZXJyb3IpXG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5mbHVzaChgcmVtb3RlIGNvdWxkIG5vdCBiZSBjYWNoZWRgKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAjZmluZENhY2hlUnVsZSh2OiBSZW1vdGVEZWYsIGxvZz86IExvZ2dlcik6IENhY2hlTWF0Y2hlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxvZz8uZGVidWcoJ3NlYXJjaGluZyBhbiBhY3RpdmUgY2FjaGUgcnVsZScpXG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSB0aGlzLiNwbHVnaW4uc3RhdGUuY2FjaGVfbWF0Y2hlcnMgLy9cbiAgICAgICAgICAgIC5maW5kKChtYXRjaGVyKSA9PiBtYXRjaGVyLnRlc3RQYXRoKHYubm90ZXBhdGgpKVxuXG4gICAgICAgIC8vIG5vdC1mb3VuZCBvciBkaXNhYmxlZCBwYXRoc1xuICAgICAgICBpZiAoIW1hdGNoZXI/LmlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsb2c/LmRlYnVnKGBub3RlcGF0aCBkb2VzIG5vdCBtYXRjaCBhbmQgYWN0aXZlIHJ1bGVgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBwZXItbGluayBvdmVycmlkZXNcbiAgICAgICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfaWdub3JlX21hdGNoZXIodi5yZW1vdGUpKSB7XG4gICAgICAgICAgICBsb2c/LmRlYnVnKGByZW1vdGUgaXMgbWFya2VkIHRvIGJlIGlnbm9yZWRgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfY2FjaGVfbWF0Y2hlcih2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZz8uZGVidWcoYHJlbW90ZSBpcyBtYXJrZWQgdG8gYmUgY2FjaGVkYClcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVyXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGFuZGFyZCBiZWhhdmlvclxuICAgICAgICBpZiAobWF0Y2hlci50ZXN0UmVtb3RlKHYucmVtb3RlKSkge1xuICAgICAgICAgICAgbG9nPy5kZWJ1ZyhgcmVtb3RlIG1hdGNoZXMgYW4gYWN0aXZlIHJ1bGVgKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZz8uZGVidWcoYHJlbW90ZSBkb2VzIG5vdCBtYXRjaCBhbmQgYWN0aXZlIHJ1bGVgKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLyoqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn0gKi9cbiAgICBhc3luYyAjcmVzb2x2ZSh2OiBSZW1vdGVEZWYsIGxvZzogTG9nZ2VyKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IFVSTC5nZXRCYXNldXJsKHYucmVtb3RlKVxuICAgICAgICBpZiAoIWJhc2VVcmwpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhgcmVtb3RlIGlzIG5vdCBhIHZhbGlkIFVSTGApXG4gICAgICAgICAgICB0aHJvdyBuZXcgQXR0YWNobWVudEVycm9yKCdyZW1vdGUtbm8tdXJsJywgYHJlbW90ZSgnJHt2LnJlbW90ZX0nKWApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYXN0ZXIgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBjYWNoZWRQYXRoID0gdGhpcy4jbWVtby5nZXQoYmFzZVVybClcbiAgICAgICAgaWYgKGNhY2hlZFBhdGgpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhgcmVtb3RlIHJlc29sdmVkIGZyb20gY2FjaGUgPCR7Y2FjaGVkUGF0aH0+YClcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRQYXRoXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZGVudGlmeSBiZWhhdmlvclxuICAgICAgICBjb25zdCBtYXRjaGVyID0gdGhpcy4jZmluZENhY2hlUnVsZSh2LCBsb2cpXG4gICAgICAgIGlmICghbWF0Y2hlcikge1xuICAgICAgICAgICAgbG9nLmRlYnVnKGBhIGNhY2hlIHJ1bGUgY291bGQgbm90IGJlIG1hdGNoZWRgKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgbm9ybWFsaXphdGlvblxuICAgICAgICBjb25zdCBuYW1lID0gVVJJLmdldEJhc2VuYW1lKGJhc2VVcmwpXG4gICAgICAgIGNvbnN0IGV4dCA9IFVSSS5nZXRFeHQoYmFzZVVybCkgPz8gKGF3YWl0IGdldFJlbW90ZUV4dCh2LnJlbW90ZSwgbG9nKSlcbiAgICAgICAgaWYgKCFuYW1lIHx8ICFleHQpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhgbmFtZSgke25hbWV9KSBvciBleHQoJHtleHR9KSBjb3VsZCBub3QgYmUgcmVzb2x2ZWRgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEF0dGFjaG1lbnRFcnJvcigncmVtb3RlLW5vLWV4dCcpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlcGF0aCA9IFVSSS5qb2luKG1hdGNoZXIucmVzb2x2ZSh2Lm5vdGVwYXRoKSwgbmFtZSArICcuJyArIGV4dClcbiAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gIXRoaXMuI3BsdWdpbi5zZXR0aW5ncy5hbGxvd19jaGFyYWN0ZXJzXG4gICAgICAgICAgICA/IG5vcm1hbGl6ZVBhdGgoVVJJLm5vcm1hbGl6ZShmaWxlcGF0aCkpXG4gICAgICAgICAgICA6IG5vcm1hbGl6ZVBhdGgoZmlsZXBhdGgpXG5cbiAgICAgICAgLy8gc2F2ZSBmb3IgZmFzdGVyIHJlc29sdXRpb25cbiAgICAgICAgdGhpcy4jbWVtby5zZXQoYmFzZVVybCwgbG9jYWxQYXRoKVxuXG4gICAgICAgIGxvZy5kZWJ1ZyhgcmVtb3RlIHJlc29sdmVkIHRvIDwke2xvY2FsUGF0aH0+YClcbiAgICAgICAgcmV0dXJuIGxvY2FsUGF0aFxuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgUGx1Z2luU2V0dGluZ3MsIFBsdWdpblN0YXRlIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5NYW5pZmVzdCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7XG4gICAgcHJlcGFyZUNvbmZpZ3MsXG4gICAgcHJlcGFyZUNvbmZpZ01hdGNoZXJzLFxuICAgIHByZXBhcmVSZW1vdGVNYXRjaGVyLFxufSBmcm9tICcuL3V0aWxpdHknXG5pbXBvcnQgeyBTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3MvU2V0dGluZ3NUYWInXG5pbXBvcnQgeyBNYXJrZG93bkhhbmRsZXIgfSBmcm9tICcuL2ZpbGVzeXN0ZW0vTWFya2Rvd25IYW5kbGVyJ1xuaW1wb3J0IHsgQXR0YWNobWVudHNDYWNoZUFQSSB9IGZyb20gJy4vQXR0YWNobWVudHNDYWNoZUFQSSdcblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUGx1Z2luU2V0dGluZ3MgPSB7XG4gICAgYWxsb3dfY2hhcmFjdGVyczogZmFsc2UsXG4gICAgdXJsX3BhcmFtX2NhY2hlOiAnY2FjaGVfZmlsZScsXG4gICAgdXJsX3BhcmFtX2lnbm9yZTogJ2lnbm9yZV9maWxlJyxcbiAgICBjYWNoZV9jb25maWdzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhdHRlcm46ICcqJyxcbiAgICAgICAgICAgIHJlbW90ZXM6IFt7IHdoaXRlbGlzdGVkOiBmYWxzZSwgcGF0dGVybjogJyonIH1dLFxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICB0YXJnZXQ6ICcnLFxuICAgICAgICAgICAgbW9kZTogJ05PVEUnLFxuICAgICAgICB9LFxuICAgIF0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHB1YmxpYyBsb2cgPSBMb2dnZXIuY29uc29sZUxvZ2dlcihBdHRhY2htZW50c0NhY2hlUGx1Z2luLm5hbWUpXG5cbiAgICBwdWJsaWMgc2V0dGluZ3MgPSB7fSBhcyBQbHVnaW5TZXR0aW5nc1xuICAgIHB1YmxpYyBzdGF0ZSA9IHt9IGFzIFBsdWdpblN0YXRlXG5cbiAgICBwdWJsaWMgYXBpOiBBdHRhY2htZW50c0NhY2hlQVBJXG4gICAgcHVibGljIG1hcmtkb3duOiBNYXJrZG93bkhhbmRsZXJcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcbiAgICAgICAgc3VwZXIoYXBwLCBtYW5pZmVzdClcbiAgICAgICAgdGhpcy5sb2cuc2V0Rm9ybWF0KCdbaGg6bW06c3MubXNdIGxldmVsOicpXG5cbiAgICAgICAgLy8gVE9ETzogY2hhbmdlIHRvIHVzZXItZGVmaW5lZCBsZXZlbFxuICAgICAgICB0aGlzLmxvZy5zZXRMZXZlbChMb2dMZXZlbC5ERUJVRylcblxuICAgICAgICB0aGlzLmFwaSA9IG5ldyBBdHRhY2htZW50c0NhY2hlQVBJKHRoaXMpXG4gICAgICAgIHRoaXMubWFya2Rvd24gPSBuZXcgTWFya2Rvd25IYW5kbGVyKHRoaXMpXG5cbiAgICAgICAgLy8gdGhyaWQtcGFydHkgQVBJXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm9uLXN0YW5kYXJkIEFQSVxuICAgICAgICB3aW5kb3cuQXR0YWNobWVudHNDYWNoZSA9IHRoaXMuYXBpXG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ3NUYWIodGhpcykpXG5cbiAgICAgICAgdGhpcy5tYXJrZG93bi5yZWdpc3Rlck1hcmtkb3duUHJvY2Vzc29yKClcbiAgICB9XG5cbiAgICAvLyBhc3luYyBvbnVubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyAgICAgLy8gVE9ET1xuICAgIC8vIH1cblxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmxvZy5ncm91cCgnTG9hZGluZyBTZXR0aW5ncycpXG4gICAgICAgIGNvbnN0IHsgY2FjaGVfY29uZmlncywgLi4ucHJpbWl0aXZlcyB9ID0gKChhd2FpdCB0aGlzLmxvYWREYXRhKCkpIHx8XG4gICAgICAgICAgICB7fSkgYXMgUGFydGlhbDxQbHVnaW5TZXR0aW5ncz5cblxuICAgICAgICAvLyBlbnN1cmUgYSBmYWxsYmFjayB2YWx1ZSBpcyBwcmVzZW50XG4gICAgICAgIC8vIGVuc3VyZSBvcmRlciBvZiBjb25maWdzIGFuZCByZW1vdGVzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBwcmltaXRpdmVzKVxuICAgICAgICB0aGlzLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgPSBwcmVwYXJlQ29uZmlncyhbXG4gICAgICAgICAgICAuLi4oY2FjaGVfY29uZmlncyA/PyBbXSksXG4gICAgICAgICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLmNhY2hlX2NvbmZpZ3MsXG4gICAgICAgIF0pXG5cbiAgICAgICAgZ3JvdXAuZGVidWcoJ0xvYWRlZDogJywgdGhpcy5zZXR0aW5ncylcblxuICAgICAgICB0aGlzLiNwcmVwYXJlU3RhdGUoZ3JvdXApXG4gICAgICAgIGdyb3VwLmZsdXNoKCdMb2FkZWQgU2V0dGluZ3MnKVxuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmxvZy5ncm91cCgnU2F2aW5nIFNldHRpbmdzJylcbiAgICAgICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MpXG5cbiAgICAgICAgLy8gc2VyaWFsaXplIHNwZWNpYWwgZGF0YSB0eXBlcyAoTWFwLCBTZXQsIGV0YylcbiAgICAgICAgLy8gZW5zdXJlIG9yZGVyIG9mIGNvbmZpZ3MgYW5kIHJlbW90ZXNcbiAgICAgICAgZGF0YS5jYWNoZV9jb25maWdzID0gcHJlcGFyZUNvbmZpZ3MoZGF0YS5jYWNoZV9jb25maWdzKVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEoZGF0YSlcbiAgICAgICAgZ3JvdXAuZGVidWcoJ1NhdmVkOiAnLCBkYXRhKVxuXG4gICAgICAgIHRoaXMuI3ByZXBhcmVTdGF0ZShncm91cClcbiAgICAgICAgZ3JvdXAuZmx1c2goJ1NhdmVkIFNldHRpbmdzJylcbiAgICB9XG5cbiAgICAjcHJlcGFyZVN0YXRlKGxvZzogTG9nZ2VyKTogdm9pZCB7XG4gICAgICAgIGxvZy5pbmZvKCdQcmVwYXJpbmcgc3RhdGUnKVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjYWNoZV9tYXRjaGVyczogcHJlcGFyZUNvbmZpZ01hdGNoZXJzKHRoaXMuc2V0dGluZ3MuY2FjaGVfY29uZmlncyksXG4gICAgICAgICAgICB1cmxfY2FjaGVfbWF0Y2hlcjogcHJlcGFyZVJlbW90ZU1hdGNoZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdXJsX2lnbm9yZV9tYXRjaGVyOiBwcmVwYXJlUmVtb3RlTWF0Y2hlcihcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUsXG4gICAgICAgICAgICApLFxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInB0IiwiX19uYW1lIiwibiIsInAiLCJ3dCIsIlYiLCIjcyIsIiNlIiwiI24iLCJyIiwibXQiLCJvIiwiSnQiLCJRdCIsIkF0dGFjaG1lbnRFcnJvciIsImNvZGUiLCJjYXVzZSIsInVybCIsInJlc3BvbnNlIiwibWVzc2FnZSIsIiNkZXNjcmlwdGlvbiIsImNvbXBhcmVCeVNwZWNpZmljaXR5IiwiYSIsImIiLCJnZXRNaW1lRXh0IiwibWltZSIsImJhbGFuY2VkTWF0Y2giLCJiYWxhbmNlZCIsInN0ciIsIm1heWJlTWF0Y2giLCJyYW5nZSIsInJlZyIsIm0iLCJiZWdzIiwiYmVnIiwibGVmdCIsInJpZ2h0IiwicmVzdWx0IiwiYWkiLCJiaSIsImkiLCJyZXF1aXJlJCQwIiwiYnJhY2VFeHBhbnNpb24iLCJleHBhbmRUb3AiLCJlc2NTbGFzaCIsImVzY09wZW4iLCJlc2NDbG9zZSIsImVzY0NvbW1hIiwiZXNjUGVyaW9kIiwibnVtZXJpYyIsImVzY2FwZUJyYWNlcyIsInVuZXNjYXBlQnJhY2VzIiwicGFyc2VDb21tYVBhcnRzIiwicGFydHMiLCJwcmUiLCJib2R5IiwicG9zdCIsInBvc3RQYXJ0cyIsImV4cGFuZCIsImVtYnJhY2UiLCJpc1BhZGRlZCIsImVsIiwibHRlIiwieSIsImd0ZSIsImlzVG9wIiwiZXhwYW5zaW9ucyIsImsiLCJleHBhbnNpb24iLCJpc051bWVyaWNTZXF1ZW5jZSIsImlzQWxwaGFTZXF1ZW5jZSIsImlzU2VxdWVuY2UiLCJpc09wdGlvbnMiLCJOIiwieCIsIndpZHRoIiwiaW5jciIsInRlc3QiLCJyZXZlcnNlIiwicGFkIiwiYyIsIm5lZWQiLCJ6IiwiaiIsIk1BWF9QQVRURVJOX0xFTkdUSCIsImFzc2VydFZhbGlkUGF0dGVybiIsInBhdHRlcm4iLCJwb3NpeENsYXNzZXMiLCJicmFjZUVzY2FwZSIsInMiLCJyZWdleHBFc2NhcGUiLCJyYW5nZXNUb1N0cmluZyIsInJhbmdlcyIsInBhcnNlQ2xhc3MiLCJnbG9iIiwicG9zaXRpb24iLCJwb3MiLCJuZWdzIiwic2F3U3RhcnQiLCJ1ZmxhZyIsImVzY2FwaW5nIiwibmVnYXRlIiwiZW5kUG9zIiwicmFuZ2VTdGFydCIsIldISUxFIiwiY2xzIiwidW5pcCIsInUiLCJuZWciLCJzcmFuZ2VzIiwic25lZ3MiLCJ1bmVzY2FwZSIsIndpbmRvd3NQYXRoc05vRXNjYXBlIiwidHlwZXMiLCJpc0V4dGdsb2JUeXBlIiwic3RhcnROb1RyYXZlcnNhbCIsInN0YXJ0Tm9Eb3QiLCJhZGRQYXR0ZXJuU3RhcnQiLCJqdXN0RG90cyIsInJlU3BlY2lhbHMiLCJyZWdFeHBFc2NhcGUiLCJxbWFyayIsInN0YXIiLCJzdGFyTm9FbXB0eSIsIkFTVCIsIiNyb290IiwiI2hhc01hZ2ljIiwiI3VmbGFnIiwiI3BhcnRzIiwiI3BhcmVudCIsIiNwYXJlbnRJbmRleCIsIiNuZWdzIiwiI2ZpbGxlZE5lZ3MiLCIjb3B0aW9ucyIsIiN0b1N0cmluZyIsIiNlbXB0eUV4dCIsInR5cGUiLCJwYXJlbnQiLCJvcHRpb25zIiwiI2ZpbGxOZWdzIiwicHAiLCJwYXJ0IiwicmV0IiwicGwiLCIjcGFyc2VBU1QiLCJhc3QiLCJvcHQiLCJpbkJyYWNlIiwiYnJhY2VTdGFydCIsImJyYWNlTmVnIiwiYWNjIiwiZXh0IiwicmUiLCJoYXNNYWdpYyIsImZsYWdzIiwiYWxsb3dEb3QiLCJkb3QiLCJub0VtcHR5Iiwic3JjIiwiXyIsIiNwYXJzZUdsb2IiLCJzdGFydCIsImFwcyIsIm5lZWROb1RyYXYiLCJuZWVkTm9Eb3QiLCJlbmQiLCJyZXBlYXRlZCIsIiNwYXJ0c1RvUmVnRXhwIiwiYm9keURvdEFsbG93ZWQiLCJmaW5hbCIsImNsb3NlIiwiX2hhc01hZ2ljIiwibmVlZFVmbGFnIiwiY29uc3VtZWQiLCJtYWdpYyIsImVzY2FwZSIsIm1pbmltYXRjaCIsIk1pbmltYXRjaCIsInN0YXJEb3RFeHRSRSIsInN0YXJEb3RFeHRUZXN0IiwiZiIsInN0YXJEb3RFeHRUZXN0RG90Iiwic3RhckRvdEV4dFRlc3ROb2Nhc2UiLCJzdGFyRG90RXh0VGVzdE5vY2FzZURvdCIsInN0YXJEb3RTdGFyUkUiLCJzdGFyRG90U3RhclRlc3QiLCJzdGFyRG90U3RhclRlc3REb3QiLCJkb3RTdGFyUkUiLCJkb3RTdGFyVGVzdCIsInN0YXJSRSIsInN0YXJUZXN0Iiwic3RhclRlc3REb3QiLCJxbWFya3NSRSIsInFtYXJrc1Rlc3ROb2Nhc2UiLCIkMCIsIm5vZXh0IiwicW1hcmtzVGVzdE5vRXh0IiwicW1hcmtzVGVzdE5vY2FzZURvdCIsInFtYXJrc1Rlc3ROb0V4dERvdCIsInFtYXJrc1Rlc3REb3QiLCJxbWFya3NUZXN0IiwibGVuIiwiZGVmYXVsdFBsYXRmb3JtIiwicGF0aCIsInNlcCIsIkdMT0JTVEFSIiwidHdvU3RhckRvdCIsInR3b1N0YXJOb0RvdCIsImZpbHRlciIsImRlZmF1bHRzIiwiZGVmIiwib3JpZyIsImxpc3QiLCJicmFjZUV4cGFuZCIsIm1ha2VSZSIsIm1hdGNoIiwibW0iLCJnbG9iTWFnaWMiLCJhcmdzIiwicmF3R2xvYlBhcnRzIiwic2V0IiwiX18iLCJpc1VOQyIsImlzRHJpdmUiLCJzcyIsImdsb2JQYXJ0cyIsIm9wdGltaXphdGlvbkxldmVsIiwiZ3MiLCJwcmV2IiwiZGlkU29tZXRoaW5nIiwiZGQiLCJnc3MiLCJuZXh0IiwicDIiLCJvdGhlciIsInNwbGluIiwibWF0Y2hlZCIsImVtcHR5R1NNYXRjaCIsIndoaWNoIiwibmVnYXRlT2Zmc2V0IiwiZmlsZSIsInBhcnRpYWwiLCJmaWxlRHJpdmUiLCJmaWxlVU5DIiwicGF0dGVybkRyaXZlIiwicGF0dGVyblVOQyIsImZkaSIsInBkaSIsImZkIiwicGQiLCJmaSIsInBpIiwiZmwiLCJmciIsInByIiwic3dhbGxvd2VlIiwiaGl0IiwiZmFzdFRlc3QiLCJ0d29TdGFyIiwib3BlbiIsImZmIiwiZmlsZW5hbWUiLCJwcmVwYXJlUmVtb3RlcyIsInJlbW90ZXMiLCJoYXNGYWxsYmFjayIsInNlcmlhbGl6ZVJlbW90ZXMiLCJ3aGl0ZWxpc3RlZCIsInBhcnNlUmVtb3RlIiwic291cmNlIiwicGFyc2VSZW1vdGVzIiwic291cmNlcyIsInciLCJjaGVja1JlbW90ZXMiLCJwcm9ibGVtcyIsInRyaW1tZWQiLCJwcmVwYXJlUmVtb3RlTWF0Y2hlciIsInVybF9wYXJhbSIsInJlZ2V4IiwicmVtb3RlIiwiZ2V0UmVtb3RlRXh0IiwibG9nIiwicmVmZXJlciIsIlVSTCIsInJlcXVlc3RVcmwiLCJnZXRSZW1vdGVDb250ZW50IiwicHJlcGFyZUNvbmZpZ01hdGNoZXJzIiwiY29uZmlncyIsImNvbmZpZyIsInJlc29sdmUiLCJfcGF0aCIsIlVSSSIsInRlc3RQYXRoIiwiX25vdGVwYXRoIiwidGVzdFJlbW90ZSIsIl9yZW1vdGUiLCJwcmVwYXJlQ29uZmlncyIsImJJbmRleCIsImNoZWNrUGF0dGVybiIsIl92YWx1ZSIsIk1PREVTX05BTUUiLCJNT0RFU19ERVNDIiwibW9kZXNFeCIsIm1vZGUiLCJ0YXJnZXQiLCJDYWNoZVNldHRpbmdzIiwiI2NhY2hlIiwiI2NhY2hlSGVhZGVyIiwiI2NhY2hlRGV0YWlscyIsIiNjYWNoZVJlbW90ZXMiLCIjcmVtb3Rlc1RleHQiLCJjYWNoZSIsIlNldHRpbmciLCIjZGlzcGxheUNhY2hlSGVhZGVyIiwiI2Rpc3BsYXlDYWNoZURldGFpbHMiLCIjZGlzcGxheUNhY2hlUmVtb3RlcyIsIiNjYWNoZU5hbWUiLCJkaXYiLCIjY2FjaGVEZXNjIiwiYnV0dG9uIiwiI2ludm9rZVJlbW92ZSIsInRvZ2dsZSIsInZhbHVlIiwiI2ludm9rZUNoYW5nZSIsInZpc2libGUiLCIjdGFyZ2V0RGVzYyIsInVsIiwibm90ZSIsImF0dGFjaG1lbnQiLCJ0YXJnZXRJbnB1dCIsImNhY2hlU2V0dGluZyIsImRyb3Bkb3duIiwiaW5wdXQiLCJyZW1vdGVzRGVzYyIsInJlbW90ZXNEZXNjVWwiLCJyZW1vdGVzU2V0dGluZyIsInRleHRhcmVhIiwiI3JlbW90ZU5hbWUiLCJzZXR0aW5nIiwiI3VwZGF0ZVJlbW90ZXMiLCIjY2hhbmdlTGlzdGVuZXJzIiwiI3JlbW92ZUxpc3RlbmVycyIsImxpc3RlbmVyIiwiY2FsbGJhY2siLCJTZXR0aW5nc1RhYiIsIlBsdWdpblNldHRpbmdUYWIiLCIjcGx1Z2luIiwiI3NldHRpbmdzIiwiI2NvbmZpZ3NMaXN0IiwicGx1Z2luIiwiI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MiLCIjbmV3U2V0dGluZyIsIiNkaXNwbGF5Q29uZmlnc0hlYWRlciIsIiNkaXNwbGF5Q29uZmlnc0xpc3QiLCIjbmV3U2V0dGluZ0F0IiwiY29udGFpbmVyIiwiY2hhcnNTZXR0aW5nIiwiI2hhbmRsZSIsInVybGNhY2hlU2V0dGluZyIsInVybGlnbm9yZVNldHRpbmciLCJwYXR0ZXJuSW5wdXQiLCJzb3VyY2VEcm9wZG93biIsImR1cGxpY2F0ZUJ1dHRvbiIsImhlYWRlckRlc2MiLCJoZWFkZXJEZXNjVWwiLCJoZWFkZXJFbCIsInJlZiIsIiN1cGRhdGVDb25maWdzIiwiX2NhY2hlIiwia2V5IiwiTWFya2Rvd25IYW5kbGVyIiwiZWxlbWVudCIsImN0eCIsIiNpbWFnZSIsInNvdXJjZVBhdGgiLCJyZXNvbHZlZCIsIkF0dGFjaG1lbnRzQ2FjaGVBUEkiLCIjdmF1bHQiLCIjbWVtbyIsIm5vdGVwYXRoIiwiI2ZpbmRDYWNoZVJ1bGUiLCJsb2NhbFBhdGgiLCJncm91cCIsIiNyZXNvbHZlIiwiZXJyb3IiLCJjYWNoZWRGaWxlIiwiY29udGVudCIsImRvd25sb2FkZWRGaWxlIiwidiIsIm1hdGNoZXIiLCJiYXNlVXJsIiwiY2FjaGVkUGF0aCIsIm5hbWUiLCJmaWxlcGF0aCIsIm5vcm1hbGl6ZVBhdGgiLCJERUZBVUxUX1NFVFRJTkdTIiwiQXR0YWNobWVudHNDYWNoZVBsdWdpbiIsIlBsdWdpbiIsIkxvZ2dlciIsImFwcCIsIm1hbmlmZXN0IiwiTG9nTGV2ZWwiLCJjYWNoZV9jb25maWdzIiwicHJpbWl0aXZlcyIsIiNwcmVwYXJlU3RhdGUiLCJkYXRhIl0sIm1hcHBpbmdzIjoieU5BQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU1BLE1BQU1BLEVBQUcsT0FBQSxDQUFBQyxFQUFBLFdBQ1AsTUFBTSxFQUFHQyxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLEtBQUssRUFBR0EsRUFBRyxDQUNULFFBQVEsS0FBSyxFQUFHLEdBQUdBLENBQUMsQ0FDeEIsQ0FDRSxLQUFLLEVBQUdBLEVBQUcsQ0FDVCxRQUFRLEtBQUssRUFBRyxHQUFHQSxDQUFDLENBQ3hCLENBQ0UsTUFBTSxFQUFHQSxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcs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LElBQUssRUFDOUMsUUFBUyxHQUNULE9BQVEsR0FDUixLQUFNLE1BQUEsQ0FDVixDQUVSLEVBRUEsTUFBcUJDLFVBQStCQyxFQUFBQSxNQUFPLE9BQUEsQ0FBQTNZLEVBQUEsK0JBQ2hELElBQU00WSxFQUFPLGNBQWNGLEVBQXVCLElBQUksRUFFdEQsU0FBVyxDQUFDLEVBQ1osTUFBUSxDQUFDLEVBRVQsSUFDQSxTQUVQLFlBQVlHLEVBQVVDLEVBQTBCLENBQzVDLE1BQU1ELEVBQUtDLENBQVEsRUFDZCxLQUFBLElBQUksVUFBVSxzQkFBc0IsRUFHcEMsS0FBQSxJQUFJLFNBQVNDLEVBQVMsS0FBSyxFQUUzQixLQUFBLElBQU0sSUFBSXpCLEVBQW9CLElBQUksRUFDbEMsS0FBQSxTQUFXLElBQUlOLEdBQWdCLElBQUksRUFJeEMsT0FBTyxpQkFBbUIsS0FBSyxHQUFBLENBR25DLE1BQU0sUUFBd0IsQ0FDMUIsTUFBTSxLQUFLLGFBQWEsRUFDeEIsS0FBSyxjQUFjLElBQUkxQixHQUFZLElBQUksQ0FBQyxFQUV4QyxLQUFLLFNBQVMsMEJBQTBCLENBQUEsQ0FPNUMsTUFBTSxjQUE4QixDQUNoQyxNQUFNc0MsRUFBUSxLQUFLLElBQUksTUFBTSxrQkFBa0IsRUFDekMsQ0FBRSxjQUFBb0IsRUFBZSxHQUFHQyxDQUFBLEVBQWlCLE1BQU0sS0FBSyxTQUFTLEdBQzNELENBQUMsRUFJTCxLQUFLLFNBQVcsT0FBTyxPQUFPLENBQUMsRUFBR1IsR0FBa0JRLENBQVUsRUFDekQsS0FBQSxTQUFTLGNBQWdCM0csRUFBZSxDQUN6QyxHQUFJMEcsR0FBaUIsQ0FBQyxFQUN0QixHQUFHUCxHQUFpQixhQUFBLENBQ3ZCLEVBRUtiLEVBQUEsTUFBTSxXQUFZLEtBQUssUUFBUSxFQUVyQyxLQUFLc0IsR0FBY3RCLENBQUssRUFDeEJBLEVBQU0sTUFBTSxpQkFBaUIsQ0FBQSxDQUdqQyxNQUFNLGNBQThCLENBQ2hDLE1BQU1BLEVBQVEsS0FBSyxJQUFJLE1BQU0saUJBQWlCLEVBQ3hDdUIsRUFBTyxPQUFPLE9BQU8sQ0FBQSxFQUFJLEtBQUssUUFBUSxFQUl2Q0EsRUFBQSxjQUFnQjdHLEVBQWU2RyxFQUFLLGFBQWEsRUFFaEQsTUFBQSxLQUFLLFNBQVNBLENBQUksRUFDbEJ2QixFQUFBLE1BQU0sVUFBV3VCLENBQUksRUFFM0IsS0FBS0QsR0FBY3RCLENBQUssRUFDeEJBLEVBQU0sTUFBTSxnQkFBZ0IsQ0FBQSxDQUdoQ3NCLEdBQWMzSCxFQUFtQixDQUM3QkEsRUFBSSxLQUFLLGlCQUFpQixFQUUxQixLQUFLLE1BQVEsQ0FDVCxlQUFnQkssR0FBc0IsS0FBSyxTQUFTLGFBQWEsRUFDakUsa0JBQW1CVixHQUNmLEtBQUssU0FBUyxlQUNsQixFQUNBLG1CQUFvQkEsR0FDaEIsS0FBSyxTQUFTLGdCQUFBLENBRXRCLENBQUEsQ0FFUiIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlszLDQsNSw2LDcsOCw5LDEwXX0=
