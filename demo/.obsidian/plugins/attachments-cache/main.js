/*!
 * @copyright Copyright (c) 2022-present Luis Brayan
 * @license @luis.bs/obsidian-attachments-cache@0.5.6 is released under the GPL-3.0-or-later license
 * @source https://github.com/luisbs/obsidian-attachments-cache
 */
"use strict";const E=require("obsidian");/*!
 * Copyright (c) 2022-present Luis Brayan
 * @luis.bs/obsidian-fnc@1.4.3 is released under the MIT license
 * @source https://github.com/luisbs/obsidian-fnc
 */class $t{error(t,e){console.error(t,...e)}warn(t,e){console.warn(t,...e)}info(t,e){console.info(t,...e)}debug(t,e){console.debug(t,...e)}trace(t,e){console.trace(t,...e)}group(t,e){return console.groupCollapsed(t,...e),console.groupEnd}}const x=Object.freeze({TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5}),Mt=Object.freeze({1:"TRACE",2:"DEBUG",3:" INFO",4:" WARN",5:"ERROR"});class B{#t;#e;#n;#s=[];#i=[];get level(){return this.#e?this.#e:this.#t?.level??x.WARN}get format(){return this.#n?this.#n:this.#t?.format??"[hh:mm:ss.ms] level (namespace):"}get namespace(){const t=[];for(let e=0;e<this.#i.length-1;e++)t.push(this.#i[e][0]);return t.push(this.#i.at(-1)??""),t.join(".")}get drivers(){return Object.freeze(this.#s)}setLevel(t){return this.#e=t,this}setFormat(t){return this.#n=t,this}addDrivers(...t){for(const e of t)Array.isArray(e)?this.#s.push(...e):e&&this.#s.push(e);return this}addNamespaces(...t){for(const e of t)Array.isArray(e)?this.#i.push(...e):e&&this.#i.push(e);return this}static consoleLogger(t){const e=new B;return e.setLevel(x.WARN),e.addDrivers(new $t),e.addNamespaces(t),e}make(t){const e=new B;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i,t),e}prefix(t,e){return this.format.replace("hh",String(t.getHours()).padStart(2,"0")).replace("mm",String(t.getMinutes()).padStart(2,"0")).replace("ss",String(t.getSeconds()).padStart(2,"0")).replace("ms",String(t.getMilliseconds()).padStart(3,"0")).replace("level",Mt[e]).replace("namespace",this.namespace)}log(t,e,s){if(this.level>e)return;const i=this.prefix(t,e);switch(this.level){case x.ERROR:this.#s.forEach(n=>n.error(i,s));break;case x.WARN:this.#s.forEach(n=>n.warn(i,s));break;case x.INFO:this.#s.forEach(n=>n.info(i,s));break;case x.DEBUG:this.#s.forEach(n=>n.debug(i,s));break;default:this.#s.forEach(n=>n.trace(i,s))}}error(...t){this.log(new Date,x.ERROR,t)}warn(...t){this.log(new Date,x.WARN,t)}info(...t){this.log(new Date,x.INFO,t)}debug(...t){this.log(new Date,x.DEBUG,t)}trace(...t){this.log(new Date,x.TRACE,t)}group(...t){const e=new Lt;return e.#t=this,e.addDrivers(this.#s),e.addNamespaces(this.#i),t.length&&e.log(new Date,x.INFO,t),e}}class Lt extends B{#t=[];log(t,e,s){this.level>e||this.#t.push({timestamp:t,level:e,content:s})}flush(...t){if(this.#t.length===0){super.log(new Date,x.INFO,t);return}const e=this.prefix(new Date,x.INFO),s=this.drivers.map(i=>i.group(e,t));for(const{timestamp:i,level:n,content:a}of this.#t)super.log(i,n,a);s.forEach(i=>i()),this.#t=[]}}class A{static join(...t){return t.reduce((e,s)=>s?e?e.replace(/[\\/]+$/gi,"")+"/"+s.replace(/^[\\/]+/gi,""):s:e,"")}static normalize(t){return t.replaceAll(/[^\w-\\/#?&=':,. ]+/gi,"_")}static getName(t){return t.match(/[^\\/]+$/gi)?.at(0)}static getBasename(t){const e=this.getName(t);return e?this.removeExt(e):void 0}static getParent(t){if(/[\\/]/gi.test(t))return t.replace(/[\\/][^\\/]*$/gi,"")}static hasExt(t){return/\.[^\\/]*$/gi.test(t)}static getExt(t){return/(?<=\.)([^\\/#?]*)([#?].*)?$/gi.exec(t)?.at(1)}static removeExt(t){return t.replace(/(\.[^\\/]*)?([#?].*)?$/gi,"")}}class Z{static isUrl(t){return/^https?:\/\//gi.test(t)}static getOrigin(t){return/^https?:\/\/[^\\/]+/gi.exec(t)?.at(0)}static getBaseurl(t){return/^https?:\/\/[^#?]*/gi.exec(t)?.at(0)}static getHash(t){return/(?<=#)[^?]*/gi.exec(t)?.at(0)}static getparams(t){return/(?<=\?).*/gi.exec(t)?.at(0)}}class k extends Error{constructor(t,e){super(),this.code=t,this.cause=e,this.name=`AttachmentError(${this.code})`,this.message=this.toStringMessage()}static assertResponse(t,e,s){if(!(e.status<400))throw new k(s,`requested url: ${t}
response status: ${e.status}
response headers:
${JSON.stringify(e.headers)}`)}toString(){return`${this.name}: ${this.toStringMessage()}`}toStringMessage(){const t=k.#t(this.code);return this.cause?this.cause instanceof Error?`${t}, context:

${this.cause}`:`${t}, context:

${JSON.stringify(this.cause)}`:t}static#t(t){switch(t){case"remote-no-url":return"remote param should be an URL";case"remote-no-ext":return"a file-extension could not be determined";case"url-request-head":return"the request to get the file-extension failed";case"url-request-get":return"the request to download the file failed";default:return"try-reloading Obsidian"}}}function kt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var U,ot;function Pt(){if(ot)return U;ot=1,U=r;function r(s,i,n){s instanceof RegExp&&(s=t(s,n)),i instanceof RegExp&&(i=t(i,n));var a=e(s,i,n);return a&&{start:a[0],end:a[1],pre:n.slice(0,a[0]),body:n.slice(a[0]+s.length,a[1]),post:n.slice(a[1]+i.length)}}function t(s,i){var n=i.match(s);return n?n[0]:null}r.range=e;function e(s,i,n){var a,o,h,c,l,p=n.indexOf(s),f=n.indexOf(i,p+1),u=p;if(p>=0&&f>0){if(s===i)return[p,f];for(a=[],h=n.length;u>=0&&!l;)u==p?(a.push(u),p=n.indexOf(s,u+1)):a.length==1?l=[a.pop(),f]:(o=a.pop(),o<h&&(h=o,c=f),f=n.indexOf(i,u+1)),u=p<f&&p>=0?p:f;a.length&&(l=[h,c])}return l}return U}var z,ht;function Wt(){if(ht)return z;ht=1;var r=Pt();z=l;var t="\0SLASH"+Math.random()+"\0",e="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",i="\0COMMA"+Math.random()+"\0",n="\0PERIOD"+Math.random()+"\0";function a(d){return parseInt(d,10)==d?parseInt(d,10):d.charCodeAt(0)}function o(d){return d.split("\\\\").join(t).split("\\{").join(e).split("\\}").join(s).split("\\,").join(i).split("\\.").join(n)}function h(d){return d.split(t).join("\\").split(e).join("{").split(s).join("}").split(i).join(",").split(n).join(".")}function c(d){if(!d)return[""];var b=[],N=r("{","}",d);if(!N)return d.split(",");var w=N.pre,C=N.body,D=N.post,y=w.split(",");y[y.length-1]+="{"+C+"}";var $=c(D);return D.length&&(y[y.length-1]+=$.shift(),y.push.apply(y,$)),b.push.apply(b,y),b}function l(d){return d?(d.substr(0,2)==="{}"&&(d="\\{\\}"+d.substr(2)),g(o(d),!0).map(h)):[]}function p(d){return"{"+d+"}"}function f(d){return/^-?0\d/.test(d)}function u(d,b){return d<=b}function m(d,b){return d>=b}function g(d,b){var N=[],w=r("{","}",d);if(!w)return[d];var C=w.pre,D=w.post.length?g(w.post,!1):[""];if(/\$$/.test(w.pre))for(var y=0;y<D.length;y++){var $=C+"{"+w.body+"}"+D[y];N.push($)}else{var Ot=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),tt=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),F=Ot||tt,_t=w.body.indexOf(",")>=0;if(!F&&!_t)return w.post.match(/,.*\}/)?(d=w.pre+"{"+w.body+s+w.post,g(d)):[d];var v;if(F)v=w.body.split(/\.\./);else if(v=c(w.body),v.length===1&&(v=g(v[0],!1).map(p),v.length===1))return D.map(function(At){return w.pre+v[0]+At});var M;if(F){var et=a(v[0]),st=a(v[1]),Ct=Math.max(v[0].length,v[1].length),it=v.length==3?Math.abs(a(v[2])):1,nt=u,Dt=st<et;Dt&&(it*=-1,nt=m);var Tt=v.some(f);M=[];for(var P=et;nt(P,st);P+=it){var T;if(tt)T=String.fromCharCode(P),T==="\\"&&(T="");else if(T=String(P),Tt){var rt=Ct-T.length;if(rt>0){var at=new Array(rt+1).join("0");P<0?T="-"+at+T.slice(1):T=at+T}}M.push(T)}}else{M=[];for(var L=0;L<v.length;L++)M.push.apply(M,g(v[L],!1))}for(var L=0;L<M.length;L++)for(var y=0;y<D.length;y++){var $=C+M[L]+D[y];(!b||F||$)&&N.push($)}}return N}return z}var jt=Wt();const Bt=kt(jt),Ft=1024*64,I=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Ft)throw new TypeError("pattern is too long")},It={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},W=r=>r.replace(/[[\]\\-]/g,"\\$&"),Gt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ct=r=>r.join(""),Ut=(r,t)=>{const e=t;if(r.charAt(e)!=="[")throw new Error("not in a brace expression");const s=[],i=[];let n=e+1,a=!1,o=!1,h=!1,c=!1,l=e,p="";t:for(;n<r.length;){const g=r.charAt(n);if((g==="!"||g==="^")&&n===e+1){c=!0,n++;continue}if(g==="]"&&a&&!h){l=n+1;break}if(a=!0,g==="\\"&&!h){h=!0,n++;continue}if(g==="["&&!h){for(const[d,[b,N,w]]of Object.entries(It))if(r.startsWith(d,n)){if(p)return["$.",!1,r.length-e,!0];n+=d.length,w?i.push(b):s.push(b),o=o||N;continue t}}if(h=!1,p){g>p?s.push(W(p)+"-"+W(g)):g===p&&s.push(W(g)),p="",n++;continue}if(r.startsWith("-]",n+1)){s.push(W(g+"-")),n+=2;continue}if(r.startsWith("-",n+1)){p=g,n+=2;continue}s.push(W(g)),n++}if(l<n)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,r.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!c){const g=s[0].length===2?s[0].slice(-1):s[0];return[Gt(g),!1,l-e,!1]}const f="["+(c?"^":"")+ct(s)+"]",u="["+(c?"":"^")+ct(i)+"]";return[s.length&&i.length?"("+f+"|"+u+")":s.length?f:u,o,l-e,!0]},j=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),zt=new Set(["!","?","+","*","@"]),lt=r=>zt.has(r),qt="(?!(?:^|/)\\.\\.?(?:$|/))",q="(?!\\.)",Ht=new Set(["[","."]),Vt=new Set(["..","."]),Jt=new Set("().*{}+?[]^$\\!"),Zt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),X="[^/]",ut=X+"*?",pt=X+"+?";class R{type;#t;#e;#n=!1;#s=[];#i;#a;#r;#o=!1;#h;#c;#f=!1;constructor(t,e,s={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#h=this.#t===this?s:this.#t.#h,this.#r=this.#t===this?[]:this.#t.#r,t==="!"&&!this.#t.#o&&this.#r.push(this),this.#a=this.#i?this.#i.#s.length:0}get hasMagic(){if(this.#e!==void 0)return this.#e;for(const t of this.#s)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#c=this.#s.map(t=>String(t)).join("")}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#o)return this;this.toString(),this.#o=!0;let t;for(;t=this.#r.pop();){if(t.type!=="!")continue;let e=t,s=e.#i;for(;s;){for(let i=e.#a+1;!s.type&&i<s.#s.length;i++)for(const n of t.#s){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(s.#s[i])}e=s,s=e.#i}}return this}push(...t){for(const e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof R&&e.#i===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){const t=this.type===null?this.#s.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#s.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#o&&this.#i?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(this.#a===0)return!0;const t=this.#i;for(let e=0;e<this.#a;e++){const s=t.#s[e];if(!(s instanceof R&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#i?.type==="!")return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#s.length:0;return this.#a===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const e=new R(this.type,t);for(const s of this.#s)e.copyIn(s);return e}static#l(t,e,s,i){let n=!1,a=!1,o=-1,h=!1;if(e.type===null){let u=s,m="";for(;u<t.length;){const g=t.charAt(u++);if(n||g==="\\"){n=!n,m+=g;continue}if(a){u===o+1?(g==="^"||g==="!")&&(h=!0):g==="]"&&!(u===o+2&&h)&&(a=!1),m+=g;continue}else if(g==="["){a=!0,o=u,h=!1,m+=g;continue}if(!i.noext&&lt(g)&&t.charAt(u)==="("){e.push(m),m="";const d=new R(g,e);u=R.#l(t,d,u,i),e.push(d);continue}m+=g}return e.push(m),u}let c=s+1,l=new R(null,e);const p=[];let f="";for(;c<t.length;){const u=t.charAt(c++);if(n||u==="\\"){n=!n,f+=u;continue}if(a){c===o+1?(u==="^"||u==="!")&&(h=!0):u==="]"&&!(c===o+2&&h)&&(a=!1),f+=u;continue}else if(u==="["){a=!0,o=c,h=!1,f+=u;continue}if(lt(u)&&t.charAt(c)==="("){l.push(f),f="";const m=new R(u,l);l.push(m),c=R.#l(t,m,c,i);continue}if(u==="|"){l.push(f),f="",p.push(l),l=new R(null,e);continue}if(u===")")return f===""&&e.#s.length===0&&(e.#f=!0),l.push(f),f="",e.push(...p,l),c;f+=u}return e.type=null,e.#e=void 0,e.#s=[t.substring(s-1)],c}static fromGlob(t,e={}){const s=new R(null,void 0,e);return R.#l(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,s,i,n]=this.toRegExpSource();if(!(i||this.#e||this.#h.nocase&&!this.#h.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const o=(this.#h.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#h}toRegExpSource(t){const e=t??!!this.#h.dot;if(this.#t===this&&this.#u(),!this.type){const h=this.isStart()&&this.isEnd(),c=this.#s.map(u=>{const[m,g,d,b]=typeof u=="string"?R.#g(u,this.#e,h):u.toRegExpSource(t);return this.#e=this.#e||d,this.#n=this.#n||b,m}).join("");let l="";if(this.isStart()&&typeof this.#s[0]=="string"&&!(this.#s.length===1&&Vt.has(this.#s[0]))){const m=Ht,g=e&&m.has(c.charAt(0))||c.startsWith("\\.")&&m.has(c.charAt(2))||c.startsWith("\\.\\.")&&m.has(c.charAt(4)),d=!e&&!t&&m.has(c.charAt(0));l=g?qt:d?q:""}let p="";return this.isEnd()&&this.#t.#o&&this.#i?.type==="!"&&(p="(?:$|\\/)"),[l+c+p,j(c),this.#e=!!this.#e,this.#n]}const s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let n=this.#p(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){const h=this.toString();return this.#s=[h],this.type=null,this.#e=void 0,[h,j(this.toString()),!1,!1]}let a=!s||t||e?"":this.#p(!0);a===n&&(a=""),a&&(n=`(?:${n})(?:${a})*?`);let o="";if(this.type==="!"&&this.#f)o=(this.isStart()&&!e?q:"")+pt;else{const h=this.type==="!"?"))"+(this.isStart()&&!e&&!t?q:"")+ut+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=i+n+h}return[o,j(n),this.#e=!!this.#e,this.#n]}#p(t){return this.#s.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");const[s,i,n,a]=e.toRegExpSource(t);return this.#n=this.#n||a,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#g(t,e,s=!1){let i=!1,n="",a=!1;for(let o=0;o<t.length;o++){const h=t.charAt(o);if(i){i=!1,n+=(Jt.has(h)?"\\":"")+h;continue}if(h==="\\"){o===t.length-1?n+="\\\\":i=!0;continue}if(h==="["){const[c,l,p,f]=Ut(t,o);if(p){n+=c,a=a||l,o+=p-1,e=e||f;continue}}if(h==="*"){s&&t==="*"?n+=pt:n+=ut,e=!0;continue}if(h==="?"){n+=X,e=!0;continue}n+=Zt(h)}return[n,j(t),!!e,a]}}const Xt=(r,{windowsPathsNoEscape:t=!1}={})=>t?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&"),S=(r,t,e={})=>(I(t),!e.nocomment&&t.charAt(0)==="#"?!1:new G(t,e).match(r)),Yt=/^\*+([^+@!?\*\[\(]*)$/,Kt=r=>t=>!t.startsWith(".")&&t.endsWith(r),Qt=r=>t=>t.endsWith(r),te=r=>(r=r.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(r)),ee=r=>(r=r.toLowerCase(),t=>t.toLowerCase().endsWith(r)),se=/^\*+\.\*+$/,ie=r=>!r.startsWith(".")&&r.includes("."),ne=r=>r!=="."&&r!==".."&&r.includes("."),re=/^\.\*+$/,ae=r=>r!=="."&&r!==".."&&r.startsWith("."),oe=/^\*+$/,he=r=>r.length!==0&&!r.startsWith("."),ce=r=>r.length!==0&&r!=="."&&r!=="..",le=/^\?+([^+@!?\*\[\(]*)?$/,ue=([r,t=""])=>{const e=vt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},pe=([r,t=""])=>{const e=xt([r]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},fe=([r,t=""])=>{const e=xt([r]);return t?s=>e(s)&&s.endsWith(t):e},ge=([r,t=""])=>{const e=vt([r]);return t?s=>e(s)&&s.endsWith(t):e},vt=([r])=>{const t=r.length;return e=>e.length===t&&!e.startsWith(".")},xt=([r])=>{const t=r.length;return e=>e.length===t&&e!=="."&&e!==".."},St=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ft={win32:{sep:"\\"},posix:{sep:"/"}},de=St==="win32"?ft.win32.sep:ft.posix.sep;S.sep=de;const _=Symbol("globstar **");S.GLOBSTAR=_;const me="[^/]",we=me+"*?",Ee="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",be="(?:(?!(?:\\/|^)\\.).)*?",ye=(r,t={})=>e=>S(e,r,t);S.filter=ye;const O=(r,t={})=>Object.assign({},r,t),ve=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return S;const t=S;return Object.assign((s,i,n={})=>t(s,i,O(r,n)),{Minimatch:class extends t.Minimatch{constructor(i,n={}){super(i,O(r,n))}static defaults(i){return t.defaults(O(r,i)).Minimatch}},AST:class extends t.AST{constructor(i,n,a={}){super(i,n,O(r,a))}static fromGlob(i,n={}){return t.AST.fromGlob(i,O(r,n))}},unescape:(s,i={})=>t.unescape(s,O(r,i)),escape:(s,i={})=>t.escape(s,O(r,i)),filter:(s,i={})=>t.filter(s,O(r,i)),defaults:s=>t.defaults(O(r,s)),makeRe:(s,i={})=>t.makeRe(s,O(r,i)),braceExpand:(s,i={})=>t.braceExpand(s,O(r,i)),match:(s,i,n={})=>t.match(s,i,O(r,n)),sep:t.sep,GLOBSTAR:_})};S.defaults=ve;const Rt=(r,t={})=>(I(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Bt(r));S.braceExpand=Rt;const xe=(r,t={})=>new G(r,t).makeRe();S.makeRe=xe;const Se=(r,t,e={})=>{const s=new G(t,e);return r=r.filter(i=>s.match(i)),s.options.nonull&&!r.length&&r.push(t),r};S.match=Se;const gt=/[?*]|[+@!]\(.*?\)|\[|\]/,Re=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class G{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){I(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||St,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);const s=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let i=this.globParts.map((n,a,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){const h=n[0]===""&&n[1]===""&&(n[2]==="?"||!gt.test(n[2]))&&!gt.test(n[3]),c=/^[a-z]:/i.test(n[0]);if(h)return[...n.slice(0,4),...n.slice(4).map(l=>this.parse(l))];if(c)return[n[0],...n.slice(1).map(l=>this.parse(l))]}return n.map(h=>this.parse(h))});if(this.debug(this.pattern,i),this.set=i.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){const a=this.set[n];a[0]===""&&a[1]===""&&this.globParts[n][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let i=0;i<t[s].length;i++)t[s][i]==="**"&&(t[s][i]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let i=s;for(;e[i+1]==="**";)i++;i!==s&&e.splice(s,i-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,i)=>{const n=s[s.length-1];return i==="**"&&n==="**"?s:i===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(s.pop(),s):(s.push(i),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const n=t[i];i===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){const i=t[s-1];i&&i!=="."&&i!==".."&&i!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let i=-1;for(;(i=s.indexOf("**",i+1))!==-1;){let a=i;for(;s[a+1]==="**";)a++;a>i&&s.splice(i+1,a-i);let o=s[i+1];const h=s[i+2],c=s[i+3];if(o!==".."||!h||h==="."||h===".."||!c||c==="."||c==="..")continue;e=!0,s.splice(i,1);const l=s.slice(0);l[i]="**",t.push(l),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<s.length-1;a++){const o=s[a];a===1&&o===""&&s[0]===""||(o==="."||o==="")&&(e=!0,s.splice(a,1),a--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let n=0;for(;(n=s.indexOf("..",n+1))!==-1;){const a=s[n-1];if(a&&a!=="."&&a!==".."&&a!=="**"){e=!0;const h=n===1&&s[n+1]==="**"?["."]:[];s.splice(n-1,2,...h),s.length===0&&s.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const i=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(i){t[e]=[],t[s]=i;break}}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let i=0,n=0,a=[],o="";for(;i<t.length&&n<e.length;)if(t[i]===e[n])a.push(o==="b"?e[n]:t[i]),i++,n++;else if(s&&t[i]==="**"&&e[n]===t[i+1])a.push(t[i]),i++;else if(s&&e[n]==="**"&&t[i]===e[n+1])a.push(e[n]),n++;else if(t[i]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(o==="b")return!1;o="a",a.push(t[i]),i++,n++}else if(e[n]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(o==="a")return!1;o="b",a.push(e[n]),i++,n++}else return!1;return t.length===e.length&&a}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){const i=this.options;if(this.isWindows){const g=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),d=!g&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),N=!b&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),w=d?3:g?0:void 0,C=N?3:b?0:void 0;if(typeof w=="number"&&typeof C=="number"){const[D,y]=[t[w],e[C]];D.toLowerCase()===y.toLowerCase()&&(e[C]=D,C>w?e=e.slice(C):w>C&&(t=t.slice(w)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var a=0,o=0,h=t.length,c=e.length;a<h&&o<c;a++,o++){this.debug("matchOne loop");var l=e[o],p=t[a];if(this.debug(e,l,p),l===!1)return!1;if(l===_){this.debug("GLOBSTAR",[e,l,p]);var f=a,u=o+1;if(u===c){for(this.debug("** at the end");a<h;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;f<h;){var m=t[f];if(this.debug(`
globstar while`,t,f,e,u,m),this.matchOne(t.slice(f),e.slice(u),s))return this.debug("globstar found match!",f,h,m),!0;if(m==="."||m===".."||!i.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,f,e,u);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,f,e,u),f===h))}let g;if(typeof l=="string"?(g=p===l,this.debug("string match",l,p,g)):(g=l.test(p),this.debug("pattern match",l,p,g)),!g)return!1}if(a===h&&o===c)return!0;if(a===h)return s;if(o===c)return a===h-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return Rt(this.pattern,this.options)}parse(t){I(t);const e=this.options;if(t==="**")return _;if(t==="")return"";let s,i=null;(s=t.match(oe))?i=e.dot?ce:he:(s=t.match(Yt))?i=(e.nocase?e.dot?ee:te:e.dot?Qt:Kt)(s[1]):(s=t.match(le))?i=(e.nocase?e.dot?pe:ue:e.dot?fe:ge)(s):(s=t.match(se))?i=e.dot?ne:ie:(s=t.match(re))&&(i=ae);const n=R.fromGlob(t,this.options).toMMPattern();return i&&typeof n=="object"&&Reflect.defineProperty(n,"test",{value:i}),n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,s=e.noglobstar?we:e.dot?Ee:be,i=new Set(e.nocase?["i"]:[]);let n=t.map(h=>{const c=h.map(l=>{if(l instanceof RegExp)for(const p of l.flags.split(""))i.add(p);return typeof l=="string"?Re(l):l===_?_:l._src});return c.forEach((l,p)=>{const f=c[p+1],u=c[p-1];l!==_||u===_||(u===void 0?f!==void 0&&f!==_?c[p+1]="(?:\\/|"+s+"\\/)?"+f:c[p]=s:f===void 0?c[p-1]=u+"(?:\\/|"+s+")?":f!==_&&(c[p-1]=u+"(?:\\/|\\/"+s+"\\/)"+f,c[p+1]=_))}),c.filter(l=>l!==_).join("/")}).join("|");const[a,o]=t.length>1?["(?:",")"]:["",""];n="^"+a+n+o+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const n=this.set;this.debug(this.pattern,"set",n);let a=i[i.length-1];if(!a)for(let o=i.length-2;!a&&o>=0;o--)a=i[o];for(let o=0;o<n.length;o++){const h=n[o];let c=i;if(s.matchBase&&h.length===1&&(c=[a]),this.matchOne(c,h,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return S.defaults(t).Minimatch}}S.AST=R;S.Minimatch=G;S.escape=Xt;S.unescape=j;function dt(r){return r.replaceAll(" ","-").replaceAll(/[^\w-]/gi,"").toLowerCase()}function Y(r,t){return!r.startsWith("*")&&t.startsWith("*")?-1:r.startsWith("*")&&!t.startsWith("*")?1:r.startsWith(t)?-1:t.startsWith(r)?1:r.localeCompare(t,"en")}function Ne(r){switch(r){case"image/jpeg":return"jpg";case"image/tiff":return"tif";default:return r.split(/\/|\+/gi)[1]}}function Oe(r){return{cache_matchers:_e(r.settings.cache_configs),url_cache_matcher:wt(r.settings.url_param_cache),url_ignore_matcher:wt(r.settings.url_param_ignore),note_cache_matcher:mt(r.app,r.settings.note_param_cache),note_ignore_matcher:mt(r.app,r.settings.note_param_ignore)}}function mt(r,t="fallback_param"){return(e,s)=>{const i=r.metadataCache.getCache(e);if(!i?.frontmatter)return!1;const n=E.parseFrontMatterEntry(i.frontmatter,t);if(!n)return!1;if(String.isString(n))return H(n,s);if(!Array.isArray(n))return!1;for(const a of n)if(String.isString(a)&&H(a,s))return!0;return!1}}function H(r,t){return r.startsWith("http")?t.startsWith(r):new RegExp("^https?://(\\w+\\.)*"+r,"g").test(t)}function wt(r="fallback_param"){const t=new RegExp("[?&]"+r+"([&=\\s]|$)","i");return e=>t.test(e)}function _e(r){return r.map(t=>{const e=t.pattern!=="*"?i=>S(i,t.pattern):()=>!0,s=i=>{for(const{pattern:n,whitelisted:a}of t.remotes)if(n==="*"||H(n,i))return a;return!1};return{isEnabled:()=>t.enabled,source:Object.freeze(t),resolve:Nt(t.target),testPath:e,testRemote:s}})}function Nt(r){return/[{}]/gi.test(r)?t=>Ce(r,[["{notepath}",()=>A.removeExt(t)],["{notename}",()=>A.getBasename(t)],["{folderpath}",()=>A.getParent(t)],["{foldername}",()=>A.getBasename(A.getParent(t)??"")]]):()=>r}function Ce(r,t){let e=r;for(const s of t)e.includes(s[0])&&(e=e.replaceAll(s[0],s[1]()??"/"));return e}async function De(r,t){t.debug(`Resolving extension for ${r}`);const e=Z.getOrigin(r),s=await E.requestUrl({url:r,throw:!1,method:"HEAD",headers:{Referer:e?e+"/":""}});return k.assertResponse(r,s,"url-request-head"),Ne(s.headers["content-type"])}async function Te(r,t){t.debug(`Downloading ${r}`);const e=Z.getOrigin(r),s=await E.requestUrl({url:r,throw:!1,method:"GET",headers:{Referer:e?e+"/":""}});return k.assertResponse(r,s,"url-request-get"),s.arrayBuffer}function Et(r){const t=[];let e=!1;for(const s of r)t.every(i=>i.pattern!==s.pattern)&&(s.pattern==="*"&&(e=!0),t.push(s));return e||t.push({pattern:"*",whitelisted:!1}),t.sort((s,i)=>Y(s.pattern,i.pattern))}function bt(r){return r.map(({whitelisted:t,pattern:e})=>`${t?"w":"b"} ${e}`).join(`
`)}function Ae(r){if(!/\s+/.test(r))return[r,void 0];const t=r.split(/\s+/g);return t[0].startsWith("w")?[t[1],!0]:t[0].startsWith("b")?[t[1],!1]:[t[1],void 0]}function $e(r,t){const e=[];let s=!1;for(const i of t.split(/\n+/g)){const[n,a]=Ae(i);if(n==="*"&&(s=!0),!e.some(o=>o.pattern===n)){if(a!==void 0){e.push({pattern:n,whitelisted:a});continue}for(const o of r){if(n===o.pattern){e.push({pattern:n,whitelisted:o.whitelisted});break}if(Math.abs(n.length-o.pattern.length)===1){if(o.pattern.startsWith(n)){e.push({pattern:n,whitelisted:o.whitelisted});break}else if(n.startsWith(o.pattern)){e.push({pattern:n,whitelisted:o.whitelisted});break}}}e.some(o=>o.pattern===n)||e.push({pattern:n,whitelisted:!1})}}return s||e.push({pattern:"*",whitelisted:!1}),e.sort((i,n)=>Y(i.pattern,n.pattern))}function Me(r){const t=[];let e=!1;for(const s of r.split(/\n+/g)){const i=s.trim().replace(/^[wb]\s+/,"");if(i==="*"){e=!0;continue}/^\w+:/gi.test(i)&&t.push("remove protocols, ex: 'http://'"),/^(\w+\.)+\w+/.test(i)||t.push("should include domain, ex: 'example.org/path'")}return e||t.unshift("should include a fallback '*'"),t}function V(r){const t=[];for(const e of r){const s=t.findIndex(i=>i.pattern===e.pattern);if(s===-1){t.push({...e,remotes:Et(e.remotes)});continue}e.remotes.length>t[s].remotes.length&&(t[s]={...e,remotes:Et(e.remotes)})}return t.sort((e,s)=>Y(e.pattern,s.pattern))}function Le(r,t){if(!t)return["invalid pattern"];for(const e of r)if(e.pattern===t)return[`duplicated pattern '${t}'`];return[]}function J(r,t){return String.isString(t)?createFragment(e=>{e.appendText(t+". Check the "),e.createEl("a",{text:"Docs",href:`https://github.com/luisbs/obsidian-attachments-cache/blob/main/docs/settings.md#${dt(r)}`}),e.appendText(".")}):(t.appendText(". Check the "),t.createEl("a",{text:"Docs",href:`https://github.com/luisbs/obsidian-attachments-cache/blob/main/docs/settings.md#${dt(r)}`}),t.appendText("."),t)}const ke={ERROR:"ERROR",WARN:" WARN",INFO:" INFO",DEBUG:"DEBUG",TRACE:"TRACE"},Pe={LOWER:0,NORMAL:1,HIGHER:Number.MAX_SAFE_INTEGER-1},We={LOWER:"Only cache static attachments",NORMAL:"Cache majority of attachments",HIGHER:"Cache all posible attachments"};class je{#t;#e;#n;#s;#i;constructor(t,e){this.#t={...e,remotes:[...e.remotes]},this.#e=new E.Setting(t),this.#n=this.#e.settingEl.createDiv("cache-details"),this.#s=this.#e.settingEl.createDiv("cache-remotes"),this.#o(),this.#c(),this.#u()}#a(){return createFragment(t=>{t.append("Notes at: "),t.createEl("code").appendText(this.#t.pattern)})}#r(){return createFragment(t=>{t.append("Adds the attachment to:"),t.createEl("code").appendText(this.#t.target)})}#o(){this.#e.setName(this.#a()),this.#e.setDesc(this.#r()),this.#t.pattern!=="*"&&this.#e.addExtraButton(t=>{t.setIcon("trash-2").setTooltip("Remove"),t.onClick(()=>{if(this.#t.pattern==="*"){console.warn("fallback config('*') can't be removed");return}this.#e.clear(),this.#e.settingEl.remove(),this.#m()})}),this.#e.addToggle(t=>{t.setValue(this.#t.enabled),t.onChange(e=>{this.#t.enabled=e,this.#d(),this.#e.setName(this.#a())})}),this.#e.addExtraButton(t=>{let e=!1;t.setIcon("chevron-down").setTooltip("Details"),t.onClick(()=>{e=!e,e?(t.setIcon("chevron-up"),this.#e.settingEl.addClass("show-details")):(t.setIcon("chevron-down"),this.#e.settingEl.removeClass("show-details"))})})}#h(){return createFragment(t=>{t.appendText("For usage of variables like"),t.createEl("code",{text:"{folderpath}"}),t.appendText(" or "),t.createEl("code",{text:"{notename}"}),J("Attachments storage",t);const e=t.createEl("ul"),s=e.createEl("li");s.append("Note: '"),s.createEl("b").appendText("a/b/c/note1.md"),s.append("'");const i=E.normalizePath(Nt(this.#t.target)("a/b/c/note1.md")+"/img1.jpg"),n=e.createEl("li");n.append("Attachment: '"),n.createEl("b").appendText(i),n.append("'")})}#c(){const t=new E.Setting(this.#n);t.setName("Attachments storage"),t.setDesc(this.#h()),t.addText(n=>{n.setValue(this.#t.target),n.onChange(a=>{this.#t.target=a,this.#d(),t.setDesc(this.#h())})});const e=createFragment(),s=e.createEl("ul"),i=new E.Setting(this.#n);i.setClass("remotes-input"),i.setName("Remotes"),i.setDesc(e),i.addTextArea(n=>{this.#i=n,n.setValue(bt(this.#t.remotes)),n.onChange(a=>{s.empty();const o=Me(a);if(o.length>0){o.forEach(h=>s.createEl("li").appendText(h));return}this.#t.remotes=$e(this.#t.remotes,a),this.#d(),this.#u()})})}#f(t){return createFragment(e=>{e.append(`${t.whitelisted?"Whitelisted":"Blacklisted"} remote: `),e.createEl("code").appendText(t.pattern)})}#u(){this.#s.empty();for(const t of this.#t.remotes){const e=new E.Setting(this.#s);e.setName(this.#f(t)),t.pattern!=="*"&&e.addExtraButton(s=>{s.setIcon("trash-2").setTooltip("Remove"),s.onClick(()=>{const i=this.#t.remotes.filter(n=>n.pattern!==t.pattern);this.#l(i)})}),e.addButton(s=>{s.setButtonText(t.whitelisted?"Blacklist":"Whitelist"),s.onClick(()=>{const i=this.#t.remotes.map(n=>n.pattern!==t.pattern?n:{...n,whitelisted:!n.whitelisted});this.#l(i)})})}}#l(t){this.#t.remotes=t,this.#d(),this.#i?.setValue(bt(t)),this.#u()}#p=[];#g=[];#d(){for(const t of this.#p)t(this.#t)}#m(){for(const t of this.#g)t(this.#t)}onChange(t){return this.#p.push(t),this}onRemove(t){return this.#g.push(t),this}}class Be extends E.PluginSettingTab{#t;#e;constructor(t){super(t.app,t),this.#t=t}display(){this.containerEl.empty(),this.containerEl.addClass("attachments-cache-settings"),this.#n(),new E.Setting(this.containerEl).setName("Overrides").setHeading(),this.#s(),new E.Setting(this.containerEl).setName("Rules").setHeading(),this.#i(),this.#e=this.containerEl.createDiv("configs-list"),this.#a()}#n(){const t=new E.Setting(this.containerEl);t.setName("Log level"),t.setDesc(J("Log level","To check the plugin logs")),t.addDropdown(i=>{i.addOptions(ke),i.setValue(this.#t.settings.plugin_level),i.onChange(this.#r.bind(this,"plugin_level"))});const e=new E.Setting(this.containerEl);e.setName("Cache priority"),e.setDesc(J("Cache priority","Affects the attachments been cached")),e.addDropdown(i=>{i.addOptions(We),i.setValue(this.#t.settings.plugin_priority),i.onChange(this.#r.bind(this,"plugin_priority"))});const s=new E.Setting(this.containerEl);s.setName("Keep special characters"),s.setDesc("If you are having problems with special characters on paths, disable this setting."),s.addToggle(i=>{i.setValue(this.#t.settings.allow_characters),i.onChange(this.#r.bind(this,"allow_characters"))})}#s(){const t=new E.Setting(this.containerEl);t.setName("URL's ignore param"),t.setDesc("Overrides rules and ignores the attachment."),t.addText(n=>{n.setValue(this.#t.settings.url_param_ignore),n.onChange(this.#r.bind(this,"url_param_ignore"))});const e=new E.Setting(this.containerEl);e.setName("URL's cache param"),e.setDesc("Overrides rules and caches the attachment."),e.addText(n=>{n.setValue(this.#t.settings.url_param_cache),n.onChange(this.#r.bind(this,"url_param_cache"))});const s=new E.Setting(this.containerEl);s.setName("Note's ignore frontmatter attribute"),s.setDesc("Overrides rules and ignores the Note attachments."),s.addText(n=>{n.setValue(this.#t.settings.note_param_ignore),n.onChange(this.#r.bind(this,"note_param_ignore"))});const i=new E.Setting(this.containerEl);i.setName("Note's cache frontmatter attribute"),i.setDesc("Overrides rules and caches the Note attachments."),i.addText(n=>{n.setValue(this.#t.settings.note_param_cache),n.onChange(this.#r.bind(this,"note_param_cache"))})}#i(){let t=null,e=null,s=null;const i=createFragment(),n=i.createEl("ul"),a=new E.Setting(this.containerEl);a.setClass("configs-header"),a.setName("Duplicate cache rule"),a.setDesc(i),a.addDropdown(o=>{e=o,o.setValue("*");for(const h of this.#t.settings.cache_configs)o.addOption(h.pattern,h.pattern)}),a.addText(o=>{t=o,o.setPlaceholder("glob: **/*.md"),o.onChange(h=>{if(n.empty(),!h){s?.setDisabled(!0);return}const c=Le(this.#t.settings.cache_configs,h);if(c.length>0){c.forEach(l=>n.createEl("li").appendText(l));return}s?.setDisabled(c.length>0)})}),a.addButton(o=>{s=o,o.setButtonText("Duplicate"),o.setDisabled(!0),o.onClick(()=>{const h=t?.getValue(),c=e?.getValue()??"*",l=this.#t.settings.cache_configs.find(f=>f.pattern===c);if(!h||!l){console.warn("unexpected state");return}const p=this.#t.settings.cache_configs;p.push({pattern:h,remotes:l.remotes,enabled:l.enabled,target:l.target}),this.#o(p)})})}#a(){if(this.#e){this.#e.empty();for(const t of this.#t.settings.cache_configs){const e=new je(this.#e,t);e.onChange(s=>{const i=this.#t.settings.cache_configs.map(n=>n.pattern===s.pattern?s:n);this.#o(i)}),e.onRemove(s=>{const i=this.#t.settings.cache_configs.filter(n=>n.pattern!==s.pattern);this.#o(i)})}}}#r(t,e){this.#t.settings[t]=e,this.#t.saveSettings()}#o(t){this.#t.settings.cache_configs=V(t),this.#t.saveSettings()}}class Fe{constructor(t){this.plugin=t}#t;syncPriority(){this.#t&&(this.#t.sortOrder=Pe[this.plugin.settings.plugin_priority])}registerMarkdownProcessor(){this.#t=this.plugin.registerMarkdownPostProcessor((t,{sourcePath:e})=>{if(this.plugin.settings.plugin_priority==="LOWER"){this.#e(t,e);return}const s=this.plugin.settings.plugin_priority==="HIGHER"?1e4:2e3;setTimeout(()=>void this.#e(t,e),s)}),this.syncPriority()}async#e(t,e){for(const s of Array.from(t.querySelectorAll("img"))){const i=await this.plugin.api.cache(e,s.src);i&&(s.src=i)}}}class K{#t;#e;#n;#s=new Map;constructor(t){this.#t=t.log.make(K.name),this.#e=t.app.vault,this.#n=t}mayCache(t,e){return!!this.#i({notepath:t,remote:e},this.#t)}async isCached(t,e){const s=await this.resolve(t,e);return!!s&&!!this.#e.getAbstractFileByPath(s)}async resource(t,e){const s=await this.resolve(t,e);if(!s)return;const i=this.#e.getFileByPath(s);return i?this.#e.getResourcePath(i):void 0}async resolve(t,e){const s=this.#t.group();try{s.debug("Resolving",{notepath:t,remote:e});const i=await this.#a({notepath:t,remote:e},s);if(i)return s.flush("remote resolved",e),i}catch(i){s.error(i)}s.flush("remote could not be resolved",e)}async cache(t,e){if(!e.startsWith("http"))return this.#t.debug("remotes should at least start with http"),e;const s=this.#t.group();try{s.debug("Caching",{notepath:t,remote:e});const i=await this.#a({notepath:t,remote:e},s);if(!i){s.debug("remote could not be resolved"),s.flush("remote was not cached",e);return}const n=this.#e.getFileByPath(i);if(n)return s.flush("remote is already in cache",e),this.#e.getResourcePath(n);const a=await Te(e,s),o=A.getParent(i)??"/";this.#e.getFolderByPath(o)||await this.#e.createFolder(o),await this.#e.createBinary(i,a);const h=this.#e.getFileByPath(i);if(h)return s.flush("remote was cached",e),this.#e.getResourcePath(h)}catch(i){s.error(i)}s.flush("remote could not be cached",e)}#i(t,e){e.debug("searching an active cache rule");const s=this.#n.state.cache_matchers.find(i=>i.testPath(t.notepath));if(!s?.isEnabled()){e.debug("notepath does not match and active rule");return}if(this.#n.state.url_ignore_matcher(t.remote)){e.debug("remote has to be ignored (URL param)");return}if(this.#n.state.url_cache_matcher(t.remote))return e.debug("remote has to be cached (URL param)"),s;if(this.#n.state.note_ignore_matcher(t.notepath,t.remote)){e.debug("remote has to be ignored (Frontmatter attribute)");return}if(this.#n.state.note_cache_matcher(t.notepath,t.remote))return e.debug("remote has to be cached (Frontmatter attribute)"),s;if(s.testRemote(t.remote))return e.debug("remote matches an active rule"),s;e.debug("remote does not match and active rule")}async#a(t,e){const s=Z.getBaseurl(t.remote);if(!s)throw e.debug("remote is not a valid URL"),new k("remote-no-url",`remote(${t.remote})`);const i=this.#s.get(s);if(i)return e.debug("remote resolved from cache",i),i;const n=this.#i(t,e);if(!n){e.debug("a cache rule could not be matched");return}const a=A.getBasename(s),o=A.getExt(s)??await De(t.remote,e);if(!a||!o)throw e.debug(`name(${a}) or ext(${o}) could not be resolved`),new k("remote-no-ext");const h=A.join(n.resolve(t.notepath),a+"."+o),c=this.#n.settings.allow_characters?E.normalizePath(h):E.normalizePath(A.normalize(h));return this.#s.set(s,c),e.debug("remote resolved",c),c}}const yt={plugin_level:"WARN",plugin_priority:"NORMAL",allow_characters:!1,url_param_cache:"cache_file",url_param_ignore:"ignore_file",note_param_cache:"cache_from",note_param_ignore:"cache_unless",cache_configs:[{pattern:"*",remotes:[{whitelisted:!1,pattern:"*"}],enabled:!1,target:""}]};class Q extends E.Plugin{log=B.consoleLogger(Q.name);settings={};state={};api;markdown;constructor(t,e){super(t,e),this.log.setLevel(x.DEBUG),this.log.setFormat("[hh:mm:ss.ms] level:"),this.api=new K(this),this.markdown=new Fe(this),window.AttachmentsCache=this.api}async onload(){await this.loadSettings(),this.addSettingTab(new Be(this)),this.markdown.registerMarkdownProcessor()}onunload(){delete window.AttachmentsCache}async loadSettings(){const t=this.log.group("Loading Settings"),{cache_configs:e,...s}=await this.loadData()??{};this.settings=Object.assign({},yt,s),this.settings.cache_configs=V([...e??[],...yt.cache_configs]),t.debug("Loaded: ",this.settings),this.#t(t),t.flush("Loaded Settings")}async saveSettings(){const t=this.log.group("Saving Settings"),e=Object.assign({},this.settings);e.cache_configs=V(e.cache_configs),await this.saveData(e),t.debug("Saved: ",e),this.#t(t),t.flush("Saved Settings")}#t(t){t.info("Preparing state"),this.log.setLevel(x[this.settings.plugin_level]),this.markdown.syncPriority(),this.state=Oe(this)}}module.exports=Q;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsdWlzLmJzK29ic2lkaWFuLWZuY0AxLjQuMy9ub2RlX21vZHVsZXMvQGx1aXMuYnMvb2JzaWRpYW4tZm5jL2xpYi9vYnNpZGlhbi1mbmMuZXNtLmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvQXR0YWNobWVudEVycm9yLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2JhbGFuY2VkLW1hdGNoQDEuMC4yL25vZGVfbW9kdWxlcy9iYWxhbmNlZC1tYXRjaC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9icmFjZS1leHBhbnNpb25AMi4wLjEvbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2JyYWNlLWV4cHJlc3Npb25zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS91bmVzY2FwZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9taW5pbWF0Y2hAMTAuMC4xL25vZGVfbW9kdWxlcy9taW5pbWF0Y2gvZGlzdC9lc20vYXN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21pbmltYXRjaEAxMC4wLjEvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9kaXN0L2VzbS9lc2NhcGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbWluaW1hdGNoQDEwLjAuMS9ub2RlX21vZHVsZXMvbWluaW1hdGNoL2Rpc3QvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvc3RyaW5ncy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L3N0YXRlLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3V0aWxpdHkvcmVtb3Rlcy50cyIsIi4uLy4uLy4uLy4uL3NyYy91dGlsaXR5L2NvbmZpZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvdmFsdWVzLnRzIiwiLi4vLi4vLi4vLi4vc3JjL3NldHRpbmdzL0NhY2hlU2V0dGluZ3MudHMiLCIuLi8uLi8uLi8uLi9zcmMvc2V0dGluZ3MvU2V0dGluZ3NUYWIudHMiLCIuLi8uLi8uLi8uLi9zcmMvZmlsZXN5c3RlbS9NYXJrZG93bkhhbmRsZXIudHMiLCIuLi8uLi8uLi8uLi9zcmMvQXR0YWNobWVudHNDYWNoZUFQSS50cyIsIi4uLy4uLy4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDIyLXByZXNlbnQgTHVpcyBCcmF5YW5cbiAqIEBsdWlzLmJzL29ic2lkaWFuLWZuY0AxLjQuMyBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL2x1aXNicy9vYnNpZGlhbi1mbmNcbiAqL1xuaW1wb3J0IHsgU2NvcGUgYXMgZ3QsIG5vcm1hbGl6ZVBhdGggYXMgcHQsIFRGb2xkZXIgYXMgRiwgVEZpbGUgYXMgQiB9IGZyb20gXCJvYnNpZGlhblwiO1xuY2xhc3MgZHQge1xuICBlcnJvcih0LCBuKSB7XG4gICAgY29uc29sZS5lcnJvcih0LCAuLi5uKTtcbiAgfVxuICB3YXJuKHQsIG4pIHtcbiAgICBjb25zb2xlLndhcm4odCwgLi4ubik7XG4gIH1cbiAgaW5mbyh0LCBuKSB7XG4gICAgY29uc29sZS5pbmZvKHQsIC4uLm4pO1xuICB9XG4gIGRlYnVnKHQsIG4pIHtcbiAgICBjb25zb2xlLmRlYnVnKHQsIC4uLm4pO1xuICB9XG4gIHRyYWNlKHQsIG4pIHtcbiAgICBjb25zb2xlLnRyYWNlKHQsIC4uLm4pO1xuICB9XG4gIGdyb3VwKHQsIG4pIHtcbiAgICByZXR1cm4gY29uc29sZS5ncm91cENvbGxhcHNlZCh0LCAuLi5uKSwgY29uc29sZS5ncm91cEVuZDtcbiAgfVxufVxuY29uc3QgcCA9IE9iamVjdC5mcmVlemUoe1xuICBUUkFDRTogMSxcbiAgREVCVUc6IDIsXG4gIElORk86IDMsXG4gIFdBUk46IDQsXG4gIEVSUk9SOiA1XG59KSwgd3QgPSBPYmplY3QuZnJlZXplKHtcbiAgMTogXCJUUkFDRVwiLFxuICAyOiBcIkRFQlVHXCIsXG4gIDM6IFwiIElORk9cIixcbiAgNDogXCIgV0FSTlwiLFxuICA1OiBcIkVSUk9SXCJcbn0pO1xuY2xhc3MgViB7XG4gICN0O1xuICAjcztcbiAgI2U7XG4gICNuID0gW107XG4gICNpID0gW107XG4gIC8qKiBPdmVycmlkZXMgY2hhaW4gaW5oZXJpdGVkIHZhbHVlLiAqL1xuICBnZXQgbGV2ZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPyB0aGlzLiNzIDogdGhpcy4jdD8ubGV2ZWwgPz8gcC5XQVJOO1xuICB9XG4gIGdldCBmb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2UgPyB0aGlzLiNlIDogdGhpcy4jdD8uZm9ybWF0ID8/IFwiW2hoOm1tOnNzLm1zXSBsZXZlbCAobmFtZXNwYWNlKTpcIjtcbiAgfVxuICBnZXQgbmFtZXNwYWNlKCkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHRoaXMuI2kubGVuZ3RoIC0gMTsgbisrKVxuICAgICAgdC5wdXNoKHRoaXMuI2lbbl1bMF0pO1xuICAgIHJldHVybiB0LnB1c2godGhpcy4jaS5hdCgtMSkgPz8gXCJcIiksIHQuam9pbihcIi5cIik7XG4gIH1cbiAgZ2V0IGRyaXZlcnMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUodGhpcy4jbik7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBsZXZlbCBpcyBwcm9wYWdhdGVkLiAqL1xuICBzZXRMZXZlbCh0KSB7XG4gICAgcmV0dXJuIHRoaXMuI3MgPSB0LCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugb24gZm9ybWF0IGlzIHByb3BhZ2V0ZWQuXG4gICAqIFRoZSB2YWxpZCBwbGFjZWhvbGRlcnMgYXJlOlxuICAgKiAtIGBoaGAgKGhvdXIpXG4gICAqIC0gYG1tYCAobWludXRlKVxuICAgKiAtIGBzc2AgKHNlY29uZClcbiAgICogLSBgbXNgIChtaWxsaXNlY29uZClcbiAgICogLSBgbGV2ZWxgXG4gICAqIC0gYG5hbWVzcGFjZWBcbiAgICogQGV4YW1wbGUgJ1toaDptbTpzcy5tc10gbGV2ZWwgKG5hbWVzcGFjZSk6J1xuICAgKi9cbiAgc2V0Rm9ybWF0KHQpIHtcbiAgICByZXR1cm4gdGhpcy4jZSA9IHQsIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBkcml2ZXJzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkRHJpdmVycyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jbi5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNuLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENoYW5nZSBvbiBuYW1lc3BhY2VzIGlzIG5vdCBwcm9wYWdhdGVkIGFmdGVyIGNvbnN0cnVjdGlvbi4gKi9cbiAgYWRkTmFtZXNwYWNlcyguLi50KSB7XG4gICAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgICBBcnJheS5pc0FycmF5KG4pID8gdGhpcy4jaS5wdXNoKC4uLm4pIDogbiAmJiB0aGlzLiNpLnB1c2gobik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFN0YXJ0cyBhIExvZ2dlcnMgY2hhaW4uICovXG4gIHN0YXRpYyBjb25zb2xlTG9nZ2VyKHQpIHtcbiAgICBjb25zdCBuID0gbmV3IFYoKTtcbiAgICByZXR1cm4gbi5zZXRMZXZlbChwLldBUk4pLCBuLmFkZERyaXZlcnMobmV3IGR0KCkpLCBuLmFkZE5hbWVzcGFjZXModCksIG47XG4gIH1cbiAgLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIuICovXG4gIG1ha2UodCkge1xuICAgIGNvbnN0IG4gPSBuZXcgVigpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSwgdCksIG47XG4gIH1cbiAgLyoqIFByZXBhcmUgdGhlIGxvZyBwcmVmaXggYmFzZWQgb24gYHRoaXMuZm9ybWF0YCAqL1xuICBwcmVmaXgodCwgbikge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKFwiaGhcIiwgU3RyaW5nKHQuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpKS5yZXBsYWNlKFwibW1cIiwgU3RyaW5nKHQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIikpLnJlcGxhY2UoXCJzc1wiLCBTdHJpbmcodC5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKSkucmVwbGFjZShcIm1zXCIsIFN0cmluZyh0LmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCBcIjBcIikpLnJlcGxhY2UoXCJsZXZlbFwiLCB3dFtuXSkucmVwbGFjZShcIm5hbWVzcGFjZVwiLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH1cbiAgbG9nKHQsIG4sIHMpIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IG4pIHJldHVybjtcbiAgICBjb25zdCBpID0gdGhpcy5wcmVmaXgodCwgbik7XG4gICAgc3dpdGNoICh0aGlzLmxldmVsKSB7XG4gICAgICBjYXNlIHAuRVJST1I6XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci5lcnJvcihpLCBzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBwLldBUk46XG4gICAgICAgIHRoaXMuI24uZm9yRWFjaCgocikgPT4gci53YXJuKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHAuSU5GTzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmluZm8oaSwgcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgcC5ERUJVRzpcbiAgICAgICAgdGhpcy4jbi5mb3JFYWNoKChyKSA9PiByLmRlYnVnKGksIHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLiNuLmZvckVhY2goKHIpID0+IHIudHJhY2UoaSwgcykpO1xuICAgIH1cbiAgfVxuICBlcnJvciguLi50KSB7XG4gICAgdGhpcy5sb2coLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHAuRVJST1IsIHQpO1xuICB9XG4gIHdhcm4oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLldBUk4sIHQpO1xuICB9XG4gIGluZm8oLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpO1xuICB9XG4gIGRlYnVnKC4uLnQpIHtcbiAgICB0aGlzLmxvZygvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSwgcC5ERUJVRywgdCk7XG4gIH1cbiAgdHJhY2UoLi4udCkge1xuICAgIHRoaXMubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLlRSQUNFLCB0KTtcbiAgfVxuICAvLyBvbihsb2dnZXI6IHVua25vd24pOiBMb2dnZXIge1xuICAvLyAgIHJldHVybiBsb2dnZXIgJiYgbG9nZ2VyIGluc3RhbmNlb2YgTG9nZ2VyID8gbmV3IExvZ2dlcldyYXBwZXIodGhpcy5uYW1lc3BhY2UsIGxvZ2dlcikgOiB0aGlzXG4gIC8vIH1cbiAgLy8gLyoqIFNwYXducyBhIFN1Yi1Mb2dnZXIsIHRoYXQgZ3JvdXBzIHRoZSBsb2dzLiAqL1xuICBncm91cCguLi50KSB7XG4gICAgY29uc3QgbiA9IG5ldyBtdCgpO1xuICAgIHJldHVybiBuLiN0ID0gdGhpcywgbi5hZGREcml2ZXJzKHRoaXMuI24pLCBuLmFkZE5hbWVzcGFjZXModGhpcy4jaSksIHQubGVuZ3RoICYmIG4ubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpLCBuO1xuICB9XG59XG5jbGFzcyBtdCBleHRlbmRzIFYge1xuICAjdCA9IFtdO1xuICBsb2codCwgbiwgcykge1xuICAgIHRoaXMubGV2ZWwgPiBuIHx8IHRoaXMuI3QucHVzaCh7IHRpbWVzdGFtcDogdCwgbGV2ZWw6IG4sIGNvbnRlbnQ6IHMgfSk7XG4gIH1cbiAgZmx1c2goLi4udCkge1xuICAgIGlmICh0aGlzLiN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgc3VwZXIubG9nKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLCBwLklORk8sIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuID0gdGhpcy5wcmVmaXgoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIHAuSU5GTyksIHMgPSB0aGlzLmRyaXZlcnMubWFwKFxuICAgICAgKGkpID0+IGkuZ3JvdXAobiwgdClcbiAgICApO1xuICAgIGZvciAoY29uc3QgeyB0aW1lc3RhbXA6IGksIGxldmVsOiByLCBjb250ZW50OiBvIH0gb2YgdGhpcy4jdClcbiAgICAgIHN1cGVyLmxvZyhpLCByLCBvKTtcbiAgICBzLmZvckVhY2goKGkpID0+IGkoKSksIHRoaXMuI3QgPSBbXTtcbiAgfVxufVxuY2xhc3MgeXQge1xuICBjb25zdHJ1Y3Rvcih0LCBuKSB7XG4gICAgdGhpcy5hcHAgPSB0LCB0aGlzLmNvbnRhaW5lckVsID0gbiwgdGhpcy5zY29wZSA9IG5ldyBndCgpLCB0aGlzLndyYXBwZXJFbCA9IGNyZWF0ZURpdihcInN1Z2dlc3Rpb25zLXRvb2x0aXBcIik7XG4gIH1cbiAgc2NvcGU7XG4gIHdyYXBwZXJFbDtcbiAgcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJFc2NhcGVcIiwgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wdXNoU2NvcGUodGhpcy5zY29wZSksIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyRWwpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuYXBwLmtleW1hcC5wb3BTY29wZSh0aGlzLnNjb3BlKSwgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy53cmFwcGVyRWwuZGV0YWNoKCk7XG4gIH1cbn1cbmNvbnN0IFkgPSBNYXRoLm1pbiwgQSA9IE1hdGgubWF4LCBIID0gTWF0aC5yb3VuZCwgeCA9IChlKSA9PiAoe1xuICB4OiBlLFxuICB5OiBlXG59KTtcbmZ1bmN0aW9uIFooZSkge1xuICByZXR1cm4gZS5zcGxpdChcIi1cIilbMF07XG59XG5mdW5jdGlvbiB4dChlKSB7XG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVsxXTtcbn1cbmZ1bmN0aW9uIEV0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieFwiID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIGJ0KGUpIHtcbiAgcmV0dXJuIGUgPT09IFwieVwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIjtcbn1cbmZ1bmN0aW9uIHR0KGUpIHtcbiAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhaKGUpKSA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiB2dChlKSB7XG4gIHJldHVybiBFdCh0dChlKSk7XG59XG5mdW5jdGlvbiBldChlKSB7XG4gIGNvbnN0IHtcbiAgICB4OiB0LFxuICAgIHk6IG4sXG4gICAgd2lkdGg6IHMsXG4gICAgaGVpZ2h0OiBpXG4gIH0gPSBlO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBzLFxuICAgIGhlaWdodDogaSxcbiAgICB0b3A6IG4sXG4gICAgbGVmdDogdCxcbiAgICByaWdodDogdCArIHMsXG4gICAgYm90dG9tOiBuICsgaSxcbiAgICB4OiB0LFxuICAgIHk6IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIFgoZSwgdCwgbikge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZTogcyxcbiAgICBmbG9hdGluZzogaVxuICB9ID0gZTtcbiAgY29uc3QgciA9IHR0KHQpLCBvID0gdnQodCksIGMgPSBidChvKSwgYSA9IFoodCksIGwgPSByID09PSBcInlcIiwgdSA9IHMueCArIHMud2lkdGggLyAyIC0gaS53aWR0aCAvIDIsIGYgPSBzLnkgKyBzLmhlaWdodCAvIDIgLSBpLmhlaWdodCAvIDIsIGcgPSBzW2NdIC8gMiAtIGlbY10gLyAyO1xuICBsZXQgaDtcbiAgc3dpdGNoIChhKSB7XG4gICAgY2FzZSBcInRvcFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogdSxcbiAgICAgICAgeTogcy55IC0gaS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiB1LFxuICAgICAgICB5OiBzLnkgKyBzLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgaCA9IHtcbiAgICAgICAgeDogcy54ICsgcy53aWR0aCxcbiAgICAgICAgeTogZlxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBoID0ge1xuICAgICAgICB4OiBzLnggLSBpLndpZHRoLFxuICAgICAgICB5OiBmXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGggPSB7XG4gICAgICAgIHg6IHMueCxcbiAgICAgICAgeTogcy55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoeHQodCkpIHtcbiAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIGhbb10gLT0gZyAqIChuICYmIGwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImVuZFwiOlxuICAgICAgaFtvXSArPSBnICogKG4gJiYgbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaDtcbn1cbmNvbnN0IFJ0ID0gYXN5bmMgKGUsIHQsIG4pID0+IHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudDogcyA9IFwiYm90dG9tXCIsXG4gICAgc3RyYXRlZ3k6IGkgPSBcImFic29sdXRlXCIsXG4gICAgbWlkZGxld2FyZTogciA9IFtdLFxuICAgIHBsYXRmb3JtOiBvXG4gIH0gPSBuLCBjID0gci5maWx0ZXIoQm9vbGVhbiksIGEgPSBhd2FpdCAoby5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogby5pc1JUTCh0KSk7XG4gIGxldCBsID0gYXdhaXQgby5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZTogZSxcbiAgICBmbG9hdGluZzogdCxcbiAgICBzdHJhdGVneTogaVxuICB9KSwge1xuICAgIHg6IHUsXG4gICAgeTogZlxuICB9ID0gWChsLCBzLCBhKSwgZyA9IHMsIGggPSB7fSwgTCA9IDA7XG4gIGZvciAobGV0IGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGIsXG4gICAgICBmbjogSVxuICAgIH0gPSBjW2RdLCB7XG4gICAgICB4OiBPLFxuICAgICAgeTogVyxcbiAgICAgIGRhdGE6IFAsXG4gICAgICByZXNldDogQ1xuICAgIH0gPSBhd2FpdCBJKHtcbiAgICAgIHg6IHUsXG4gICAgICB5OiBmLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcyxcbiAgICAgIHBsYWNlbWVudDogZyxcbiAgICAgIHN0cmF0ZWd5OiBpLFxuICAgICAgbWlkZGxld2FyZURhdGE6IGgsXG4gICAgICByZWN0czogbCxcbiAgICAgIHBsYXRmb3JtOiBvLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgICBmbG9hdGluZzogdFxuICAgICAgfVxuICAgIH0pO1xuICAgIHUgPSBPID8/IHUsIGYgPSBXID8/IGYsIGggPSB7XG4gICAgICAuLi5oLFxuICAgICAgW2JdOiB7XG4gICAgICAgIC4uLmhbYl0sXG4gICAgICAgIC4uLlBcbiAgICAgIH1cbiAgICB9LCBDICYmIEwgPD0gNTAgJiYgKEwrKywgdHlwZW9mIEMgPT0gXCJvYmplY3RcIiAmJiAoQy5wbGFjZW1lbnQgJiYgKGcgPSBDLnBsYWNlbWVudCksIEMucmVjdHMgJiYgKGwgPSBDLnJlY3RzID09PSAhMCA/IGF3YWl0IG8uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgIHJlZmVyZW5jZTogZSxcbiAgICAgIGZsb2F0aW5nOiB0LFxuICAgICAgc3RyYXRlZ3k6IGlcbiAgICB9KSA6IEMucmVjdHMpLCB7XG4gICAgICB4OiB1LFxuICAgICAgeTogZlxuICAgIH0gPSBYKGwsIGcsIGEpKSwgZCA9IC0xKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHUsXG4gICAgeTogZixcbiAgICBwbGFjZW1lbnQ6IGcsXG4gICAgc3RyYXRlZ3k6IGksXG4gICAgbWlkZGxld2FyZURhdGE6IGhcbiAgfTtcbn07XG5mdW5jdGlvbiAkKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiO1xufVxuZnVuY3Rpb24gRChlKSB7XG4gIHJldHVybiBudChlKSA/IChlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiBcIiNkb2N1bWVudFwiO1xufVxuZnVuY3Rpb24gdyhlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKGUgPT0gbnVsbCB8fCAodCA9IGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIHYoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuICh0ID0gKG50KGUpID8gZS5vd25lckRvY3VtZW50IDogZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBudChlKSB7XG4gIHJldHVybiAkKCkgPyBlIGluc3RhbmNlb2YgTm9kZSB8fCBlIGluc3RhbmNlb2YgdyhlKS5Ob2RlIDogITE7XG59XG5mdW5jdGlvbiBtKGUpIHtcbiAgcmV0dXJuICQoKSA/IGUgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkVsZW1lbnQgOiAhMTtcbn1cbmZ1bmN0aW9uIEUoZSkge1xuICByZXR1cm4gJCgpID8gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiB3KGUpLkhUTUxFbGVtZW50IDogITE7XG59XG5mdW5jdGlvbiBxKGUpIHtcbiAgcmV0dXJuICEkKCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPiBcInVcIiA/ICExIDogZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgZSBpbnN0YW5jZW9mIHcoZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGsoZSkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3c6IHQsXG4gICAgb3ZlcmZsb3dYOiBuLFxuICAgIG92ZXJmbG93WTogcyxcbiAgICBkaXNwbGF5OiBpXG4gIH0gPSB5KGUpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3QodCArIHMgKyBuKSAmJiAhW1wiaW5saW5lXCIsIFwiY29udGVudHNcIl0uaW5jbHVkZXMoaSk7XG59XG5mdW5jdGlvbiBMdChlKSB7XG4gIHJldHVybiBbXCJ0YWJsZVwiLCBcInRkXCIsIFwidGhcIl0uaW5jbHVkZXMoRChlKSk7XG59XG5mdW5jdGlvbiBNKGUpIHtcbiAgcmV0dXJuIFtcIjpwb3BvdmVyLW9wZW5cIiwgXCI6bW9kYWxcIl0uc29tZSgodCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZS5tYXRjaGVzKHQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB6KGUpIHtcbiAgY29uc3QgdCA9IEcoKSwgbiA9IG0oZSkgPyB5KGUpIDogZTtcbiAgcmV0dXJuIFtcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInNjYWxlXCIsIFwicm90YXRlXCIsIFwicGVyc3BlY3RpdmVcIl0uc29tZSgocykgPT4gbltzXSA/IG5bc10gIT09IFwibm9uZVwiIDogITEpIHx8IChuLmNvbnRhaW5lclR5cGUgPyBuLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiAhMSkgfHwgIXQgJiYgKG4uYmFja2Ryb3BGaWx0ZXIgPyBuLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCAhdCAmJiAobi5maWx0ZXIgPyBuLmZpbHRlciAhPT0gXCJub25lXCIgOiAhMSkgfHwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKChzKSA9PiAobi53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHMpKSB8fCBbXCJwYWludFwiLCBcImxheW91dFwiLCBcInN0cmljdFwiLCBcImNvbnRlbnRcIl0uc29tZSgocykgPT4gKG4uY29udGFpbiB8fCBcIlwiKS5pbmNsdWRlcyhzKSk7XG59XG5mdW5jdGlvbiBDdChlKSB7XG4gIGxldCB0ID0gUihlKTtcbiAgZm9yICg7IEUodCkgJiYgIVModCk7ICkge1xuICAgIGlmICh6KHQpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgaWYgKE0odCkpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB0ID0gUih0KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEcoKSB7XG4gIHJldHVybiB0eXBlb2YgQ1NTID4gXCJ1XCIgfHwgIUNTUy5zdXBwb3J0cyA/ICExIDogQ1NTLnN1cHBvcnRzKFwiLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXJcIiwgXCJub25lXCIpO1xufVxuZnVuY3Rpb24gUyhlKSB7XG4gIHJldHVybiBbXCJodG1sXCIsIFwiYm9keVwiLCBcIiNkb2N1bWVudFwiXS5pbmNsdWRlcyhEKGUpKTtcbn1cbmZ1bmN0aW9uIHkoZSkge1xuICByZXR1cm4gdyhlKS5nZXRDb21wdXRlZFN0eWxlKGUpO1xufVxuZnVuY3Rpb24gXyhlKSB7XG4gIHJldHVybiBtKGUpID8ge1xuICAgIHNjcm9sbExlZnQ6IGUuc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsVG9wXG4gIH0gOiB7XG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZS5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBSKGUpIHtcbiAgaWYgKEQoZSkgPT09IFwiaHRtbFwiKVxuICAgIHJldHVybiBlO1xuICBjb25zdCB0ID0gKFxuICAgIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICAgIGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgIGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICAgIHEoZSkgJiYgZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxuICAgIHYoZSlcbiAgKTtcbiAgcmV0dXJuIHEodCkgPyB0Lmhvc3QgOiB0O1xufVxuZnVuY3Rpb24gc3QoZSkge1xuICBjb25zdCB0ID0gUihlKTtcbiAgcmV0dXJuIFModCkgPyBlLm93bmVyRG9jdW1lbnQgPyBlLm93bmVyRG9jdW1lbnQuYm9keSA6IGUuYm9keSA6IEUodCkgJiYgayh0KSA/IHQgOiBzdCh0KTtcbn1cbmZ1bmN0aW9uIGl0KGUsIHQsIG4pIHtcbiAgdmFyIHM7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IFtdKTtcbiAgY29uc3QgaSA9IHN0KGUpLCByID0gaSA9PT0gKChzID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogcy5ib2R5KSwgbyA9IHcoaSk7XG4gIHJldHVybiByID8gKGoobyksIHQuY29uY2F0KG8sIG8udmlzdWFsVmlld3BvcnQgfHwgW10sIGsoaSkgPyBpIDogW10sIFtdKSkgOiB0LmNvbmNhdChpLCBpdChpLCBbXSkpO1xufVxuZnVuY3Rpb24gaihlKSB7XG4gIHJldHVybiBlLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wYXJlbnQpID8gZS5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gcnQoZSkge1xuICBjb25zdCB0ID0geShlKTtcbiAgbGV0IG4gPSBwYXJzZUZsb2F0KHQud2lkdGgpIHx8IDAsIHMgPSBwYXJzZUZsb2F0KHQuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBpID0gRShlKSwgciA9IGkgPyBlLm9mZnNldFdpZHRoIDogbiwgbyA9IGkgPyBlLm9mZnNldEhlaWdodCA6IHMsIGMgPSBIKG4pICE9PSByIHx8IEgocykgIT09IG87XG4gIHJldHVybiBjICYmIChuID0gciwgcyA9IG8pLCB7XG4gICAgd2lkdGg6IG4sXG4gICAgaGVpZ2h0OiBzLFxuICAgICQ6IGNcbiAgfTtcbn1cbmZ1bmN0aW9uIG90KGUpIHtcbiAgcmV0dXJuIG0oZSkgPyBlIDogZS5jb250ZXh0RWxlbWVudDtcbn1cbmZ1bmN0aW9uIFQoZSkge1xuICBjb25zdCB0ID0gb3QoZSk7XG4gIGlmICghRSh0KSlcbiAgICByZXR1cm4geCgxKTtcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHtcbiAgICB3aWR0aDogcyxcbiAgICBoZWlnaHQ6IGksXG4gICAgJDogclxuICB9ID0gcnQodCk7XG4gIGxldCBvID0gKHIgPyBIKG4ud2lkdGgpIDogbi53aWR0aCkgLyBzLCBjID0gKHIgPyBIKG4uaGVpZ2h0KSA6IG4uaGVpZ2h0KSAvIGk7XG4gIHJldHVybiAoIW8gfHwgIU51bWJlci5pc0Zpbml0ZShvKSkgJiYgKG8gPSAxKSwgKCFjIHx8ICFOdW1iZXIuaXNGaW5pdGUoYykpICYmIChjID0gMSksIHtcbiAgICB4OiBvLFxuICAgIHk6IGNcbiAgfTtcbn1cbmNvbnN0IFR0ID0gLyogQF9fUFVSRV9fICovIHgoMCk7XG5mdW5jdGlvbiBjdChlKSB7XG4gIGNvbnN0IHQgPSB3KGUpO1xuICByZXR1cm4gIUcoKSB8fCAhdC52aXN1YWxWaWV3cG9ydCA/IFR0IDoge1xuICAgIHg6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB0LnZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcFxuICB9O1xufVxuZnVuY3Rpb24gU3QoZSwgdCwgbikge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCAhbiB8fCB0ICYmIG4gIT09IHcoZSkgPyAhMSA6IHQ7XG59XG5mdW5jdGlvbiBOKGUsIHQsIG4sIHMpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCBuID09PSB2b2lkIDAgJiYgKG4gPSAhMSk7XG4gIGNvbnN0IGkgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCByID0gb3QoZSk7XG4gIGxldCBvID0geCgxKTtcbiAgdCAmJiAocyA/IG0ocykgJiYgKG8gPSBUKHMpKSA6IG8gPSBUKGUpKTtcbiAgY29uc3QgYyA9IFN0KHIsIG4sIHMpID8gY3QocikgOiB4KDApO1xuICBsZXQgYSA9IChpLmxlZnQgKyBjLngpIC8gby54LCBsID0gKGkudG9wICsgYy55KSAvIG8ueSwgdSA9IGkud2lkdGggLyBvLngsIGYgPSBpLmhlaWdodCAvIG8ueTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBnID0gdyhyKSwgaCA9IHMgJiYgbShzKSA/IHcocykgOiBzO1xuICAgIGxldCBMID0gZywgZCA9IGooTCk7XG4gICAgZm9yICg7IGQgJiYgcyAmJiBoICE9PSBMOyApIHtcbiAgICAgIGNvbnN0IGIgPSBUKGQpLCBJID0gZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgTyA9IHkoZCksIFcgPSBJLmxlZnQgKyAoZC5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChPLnBhZGRpbmdMZWZ0KSkgKiBiLngsIFAgPSBJLnRvcCArIChkLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoTy5wYWRkaW5nVG9wKSkgKiBiLnk7XG4gICAgICBhICo9IGIueCwgbCAqPSBiLnksIHUgKj0gYi54LCBmICo9IGIueSwgYSArPSBXLCBsICs9IFAsIEwgPSB3KGQpLCBkID0gaihMKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV0KHtcbiAgICB3aWR0aDogdSxcbiAgICBoZWlnaHQ6IGYsXG4gICAgeDogYSxcbiAgICB5OiBsXG4gIH0pO1xufVxuZnVuY3Rpb24gSyhlLCB0KSB7XG4gIGNvbnN0IG4gPSBfKGUpLnNjcm9sbExlZnQ7XG4gIHJldHVybiB0ID8gdC5sZWZ0ICsgbiA6IE4odihlKSkubGVmdCArIG47XG59XG5mdW5jdGlvbiBsdChlLCB0LCBuKSB7XG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgcyA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGkgPSBzLmxlZnQgKyB0LnNjcm9sbExlZnQgLSAobiA/IDAgOiAoXG4gICAgLy8gUlRMIDxib2R5PiBzY3JvbGxiYXIuXG4gICAgSyhlLCBzKVxuICApKSwgciA9IHMudG9wICsgdC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeDogaSxcbiAgICB5OiByXG4gIH07XG59XG5mdW5jdGlvbiBEdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHM6IHQsXG4gICAgcmVjdDogbixcbiAgICBvZmZzZXRQYXJlbnQ6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IHIgPSBpID09PSBcImZpeGVkXCIsIG8gPSB2KHMpLCBjID0gdCA/IE0odC5mbG9hdGluZykgOiAhMTtcbiAgaWYgKHMgPT09IG8gfHwgYyAmJiByKVxuICAgIHJldHVybiBuO1xuICBsZXQgYSA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9LCBsID0geCgxKTtcbiAgY29uc3QgdSA9IHgoMCksIGYgPSBFKHMpO1xuICBpZiAoKGYgfHwgIWYgJiYgIXIpICYmICgoRChzKSAhPT0gXCJib2R5XCIgfHwgayhvKSkgJiYgKGEgPSBfKHMpKSwgRShzKSkpIHtcbiAgICBjb25zdCBoID0gTihzKTtcbiAgICBsID0gVChzKSwgdS54ID0gaC54ICsgcy5jbGllbnRMZWZ0LCB1LnkgPSBoLnkgKyBzLmNsaWVudFRvcDtcbiAgfVxuICBjb25zdCBnID0gbyAmJiAhZiAmJiAhciA/IGx0KG8sIGEsICEwKSA6IHgoMCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG4ud2lkdGggKiBsLngsXG4gICAgaGVpZ2h0OiBuLmhlaWdodCAqIGwueSxcbiAgICB4OiBuLnggKiBsLnggLSBhLnNjcm9sbExlZnQgKiBsLnggKyB1LnggKyBnLngsXG4gICAgeTogbi55ICogbC55IC0gYS5zY3JvbGxUb3AgKiBsLnkgKyB1LnkgKyBnLnlcbiAgfTtcbn1cbmZ1bmN0aW9uIE90KGUpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZS5nZXRDbGllbnRSZWN0cygpKTtcbn1cbmZ1bmN0aW9uIEF0KGUpIHtcbiAgY29uc3QgdCA9IHYoZSksIG4gPSBfKGUpLCBzID0gZS5vd25lckRvY3VtZW50LmJvZHksIGkgPSBBKHQuc2Nyb2xsV2lkdGgsIHQuY2xpZW50V2lkdGgsIHMuc2Nyb2xsV2lkdGgsIHMuY2xpZW50V2lkdGgpLCByID0gQSh0LnNjcm9sbEhlaWdodCwgdC5jbGllbnRIZWlnaHQsIHMuc2Nyb2xsSGVpZ2h0LCBzLmNsaWVudEhlaWdodCk7XG4gIGxldCBvID0gLW4uc2Nyb2xsTGVmdCArIEsoZSk7XG4gIGNvbnN0IGMgPSAtbi5zY3JvbGxUb3A7XG4gIHJldHVybiB5KHMpLmRpcmVjdGlvbiA9PT0gXCJydGxcIiAmJiAobyArPSBBKHQuY2xpZW50V2lkdGgsIHMuY2xpZW50V2lkdGgpIC0gaSksIHtcbiAgICB3aWR0aDogaSxcbiAgICBoZWlnaHQ6IHIsXG4gICAgeDogbyxcbiAgICB5OiBjXG4gIH07XG59XG5mdW5jdGlvbiBGdChlLCB0KSB7XG4gIGNvbnN0IG4gPSB3KGUpLCBzID0gdihlKSwgaSA9IG4udmlzdWFsVmlld3BvcnQ7XG4gIGxldCByID0gcy5jbGllbnRXaWR0aCwgbyA9IHMuY2xpZW50SGVpZ2h0LCBjID0gMCwgYSA9IDA7XG4gIGlmIChpKSB7XG4gICAgciA9IGkud2lkdGgsIG8gPSBpLmhlaWdodDtcbiAgICBjb25zdCBsID0gRygpO1xuICAgICghbCB8fCBsICYmIHQgPT09IFwiZml4ZWRcIikgJiYgKGMgPSBpLm9mZnNldExlZnQsIGEgPSBpLm9mZnNldFRvcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IG8sXG4gICAgeDogYyxcbiAgICB5OiBhXG4gIH07XG59XG5mdW5jdGlvbiBOdChlLCB0KSB7XG4gIGNvbnN0IG4gPSBOKGUsICEwLCB0ID09PSBcImZpeGVkXCIpLCBzID0gbi50b3AgKyBlLmNsaWVudFRvcCwgaSA9IG4ubGVmdCArIGUuY2xpZW50TGVmdCwgciA9IEUoZSkgPyBUKGUpIDogeCgxKSwgbyA9IGUuY2xpZW50V2lkdGggKiByLngsIGMgPSBlLmNsaWVudEhlaWdodCAqIHIueSwgYSA9IGkgKiByLngsIGwgPSBzICogci55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBvLFxuICAgIGhlaWdodDogYyxcbiAgICB4OiBhLFxuICAgIHk6IGxcbiAgfTtcbn1cbmZ1bmN0aW9uIEooZSwgdCwgbikge1xuICBsZXQgcztcbiAgaWYgKHQgPT09IFwidmlld3BvcnRcIilcbiAgICBzID0gRnQoZSwgbik7XG4gIGVsc2UgaWYgKHQgPT09IFwiZG9jdW1lbnRcIilcbiAgICBzID0gQXQodihlKSk7XG4gIGVsc2UgaWYgKG0odCkpXG4gICAgcyA9IE50KHQsIG4pO1xuICBlbHNlIHtcbiAgICBjb25zdCBpID0gY3QoZSk7XG4gICAgcyA9IHtcbiAgICAgIHg6IHQueCAtIGkueCxcbiAgICAgIHk6IHQueSAtIGkueSxcbiAgICAgIHdpZHRoOiB0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB0LmhlaWdodFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGV0KHMpO1xufVxuZnVuY3Rpb24gYXQoZSwgdCkge1xuICBjb25zdCBuID0gUihlKTtcbiAgcmV0dXJuIG4gPT09IHQgfHwgIW0obikgfHwgUyhuKSA/ICExIDogeShuKS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8IGF0KG4sIHQpO1xufVxuZnVuY3Rpb24ga3QoZSwgdCkge1xuICBjb25zdCBuID0gdC5nZXQoZSk7XG4gIGlmIChuKVxuICAgIHJldHVybiBuO1xuICBsZXQgcyA9IGl0KGUsIFtdKS5maWx0ZXIoKGMpID0+IG0oYykgJiYgRChjKSAhPT0gXCJib2R5XCIpLCBpID0gbnVsbDtcbiAgY29uc3QgciA9IHkoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIjtcbiAgbGV0IG8gPSByID8gUihlKSA6IGU7XG4gIGZvciAoOyBtKG8pICYmICFTKG8pOyApIHtcbiAgICBjb25zdCBjID0geShvKSwgYSA9IHoobyk7XG4gICAgIWEgJiYgYy5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiICYmIChpID0gbnVsbCksIChyID8gIWEgJiYgIWkgOiAhYSAmJiBjLnBvc2l0aW9uID09PSBcInN0YXRpY1wiICYmICEhaSAmJiBbXCJhYnNvbHV0ZVwiLCBcImZpeGVkXCJdLmluY2x1ZGVzKGkucG9zaXRpb24pIHx8IGsobykgJiYgIWEgJiYgYXQoZSwgbykpID8gcyA9IHMuZmlsdGVyKCh1KSA9PiB1ICE9PSBvKSA6IGkgPSBjLCBvID0gUihvKTtcbiAgfVxuICByZXR1cm4gdC5zZXQoZSwgcyksIHM7XG59XG5mdW5jdGlvbiBJdChlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudDogdCxcbiAgICBib3VuZGFyeTogbixcbiAgICByb290Qm91bmRhcnk6IHMsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IG8gPSBbLi4ubiA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gTSh0KSA/IFtdIDoga3QodCwgdGhpcy5fYykgOiBbXS5jb25jYXQobiksIHNdLCBjID0gb1swXSwgYSA9IG8ucmVkdWNlKChsLCB1KSA9PiB7XG4gICAgY29uc3QgZiA9IEoodCwgdSwgaSk7XG4gICAgcmV0dXJuIGwudG9wID0gQShmLnRvcCwgbC50b3ApLCBsLnJpZ2h0ID0gWShmLnJpZ2h0LCBsLnJpZ2h0KSwgbC5ib3R0b20gPSBZKGYuYm90dG9tLCBsLmJvdHRvbSksIGwubGVmdCA9IEEoZi5sZWZ0LCBsLmxlZnQpLCBsO1xuICB9LCBKKHQsIGMsIGkpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogYS5yaWdodCAtIGEubGVmdCxcbiAgICBoZWlnaHQ6IGEuYm90dG9tIC0gYS50b3AsXG4gICAgeDogYS5sZWZ0LFxuICAgIHk6IGEudG9wXG4gIH07XG59XG5mdW5jdGlvbiBXdChlKSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aDogdCxcbiAgICBoZWlnaHQ6IG5cbiAgfSA9IHJ0KGUpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB0LFxuICAgIGhlaWdodDogblxuICB9O1xufVxuZnVuY3Rpb24gQnQoZSwgdCwgbikge1xuICBjb25zdCBzID0gRSh0KSwgaSA9IHYodCksIHIgPSBuID09PSBcImZpeGVkXCIsIG8gPSBOKGUsICEwLCByLCB0KTtcbiAgbGV0IGMgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgYSA9IHgoMCk7XG4gIGlmIChzIHx8ICFzICYmICFyKVxuICAgIGlmICgoRCh0KSAhPT0gXCJib2R5XCIgfHwgayhpKSkgJiYgKGMgPSBfKHQpKSwgcykge1xuICAgICAgY29uc3QgZyA9IE4odCwgITAsIHIsIHQpO1xuICAgICAgYS54ID0gZy54ICsgdC5jbGllbnRMZWZ0LCBhLnkgPSBnLnkgKyB0LmNsaWVudFRvcDtcbiAgICB9IGVsc2UgaSAmJiAoYS54ID0gSyhpKSk7XG4gIGNvbnN0IGwgPSBpICYmICFzICYmICFyID8gbHQoaSwgYykgOiB4KDApLCB1ID0gby5sZWZ0ICsgYy5zY3JvbGxMZWZ0IC0gYS54IC0gbC54LCBmID0gby50b3AgKyBjLnNjcm9sbFRvcCAtIGEueSAtIGwueTtcbiAgcmV0dXJuIHtcbiAgICB4OiB1LFxuICAgIHk6IGYsXG4gICAgd2lkdGg6IG8ud2lkdGgsXG4gICAgaGVpZ2h0OiBvLmhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gVShlKSB7XG4gIHJldHVybiB5KGUpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xufVxuZnVuY3Rpb24gUShlLCB0KSB7XG4gIGlmICghRShlKSB8fCB5KGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICh0KVxuICAgIHJldHVybiB0KGUpO1xuICBsZXQgbiA9IGUub2Zmc2V0UGFyZW50O1xuICByZXR1cm4gdihlKSA9PT0gbiAmJiAobiA9IG4ub3duZXJEb2N1bWVudC5ib2R5KSwgbjtcbn1cbmZ1bmN0aW9uIHV0KGUsIHQpIHtcbiAgY29uc3QgbiA9IHcoZSk7XG4gIGlmIChNKGUpKVxuICAgIHJldHVybiBuO1xuICBpZiAoIUUoZSkpIHtcbiAgICBsZXQgaSA9IFIoZSk7XG4gICAgZm9yICg7IGkgJiYgIVMoaSk7ICkge1xuICAgICAgaWYgKG0oaSkgJiYgIVUoaSkpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgaSA9IFIoaSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9XG4gIGxldCBzID0gUShlLCB0KTtcbiAgZm9yICg7IHMgJiYgTHQocykgJiYgVShzKTsgKVxuICAgIHMgPSBRKHMsIHQpO1xuICByZXR1cm4gcyAmJiBTKHMpICYmIFUocykgJiYgIXoocykgPyBuIDogcyB8fCBDdChlKSB8fCBuO1xufVxuY29uc3QgVnQgPSBhc3luYyBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCB1dCwgbiA9IHRoaXMuZ2V0RGltZW5zaW9ucywgcyA9IGF3YWl0IG4oZS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBCdChlLnJlZmVyZW5jZSwgYXdhaXQgdChlLmZsb2F0aW5nKSwgZS5zdHJhdGVneSksXG4gICAgZmxvYXRpbmc6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IHMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuIHkoZSkuZGlyZWN0aW9uID09PSBcInJ0bFwiO1xufVxuY29uc3QgJHQgPSB7XG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0OiBEdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50OiB2LFxuICBnZXRDbGlwcGluZ1JlY3Q6IEl0LFxuICBnZXRPZmZzZXRQYXJlbnQ6IHV0LFxuICBnZXRFbGVtZW50UmVjdHM6IFZ0LFxuICBnZXRDbGllbnRSZWN0czogT3QsXG4gIGdldERpbWVuc2lvbnM6IFd0LFxuICBnZXRTY2FsZTogVCxcbiAgaXNFbGVtZW50OiBtLFxuICBpc1JUTDogSHRcbn0sIE10ID0gKGUsIHQsIG4pID0+IHtcbiAgY29uc3QgcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGkgPSB7XG4gICAgcGxhdGZvcm06ICR0LFxuICAgIC4uLm5cbiAgfSwgciA9IHtcbiAgICAuLi5pLnBsYXRmb3JtLFxuICAgIF9jOiBzXG4gIH07XG4gIHJldHVybiBSdChlLCB0LCB7XG4gICAgLi4uaSxcbiAgICBwbGF0Zm9ybTogclxuICB9KTtcbn07XG5mdW5jdGlvbiBfdCgpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIm1hdGNoV2lkdGhcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCByZWN0czogdCB9KSB7XG4gICAgICByZXR1cm4gZS5mbG9hdGluZy5zdHlsZS53aWR0aCA9IGAke3QucmVmZXJlbmNlLndpZHRofXB4YCwgeyByZXNldDogeyByZWN0czogITAgfSB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFB0KCkge1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwibWFrZUl0RmxvYXRcIixcbiAgICBmbih7IGVsZW1lbnRzOiBlLCB4OiB0LCB5OiBuIH0pIHtcbiAgICAgIHJldHVybiBlLmZsb2F0aW5nLnN0eWxlLnRvcCA9IGAke259cHhgLCBlLmZsb2F0aW5nLnN0eWxlLmxlZnQgPSBgJHt0fXB4YCwge307XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gVXQoZSwgdCkge1xuICByZXR1cm4gKGUgJSB0ICsgdCkgJSB0O1xufVxuY2xhc3MganQgZXh0ZW5kcyB5dCB7XG4gIGNvbnN0cnVjdG9yKHQsIG4sIHMpIHtcbiAgICBzdXBlcih0LCBzID8/IG4ucGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5KSwgdGhpcy5pbnB1dEVsID0gbiwgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG4gICN0ID0gW107XG4gICNzID0gW107XG4gICNlID0gLTE7XG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpLCBNdCh0aGlzLmlucHV0RWwsIHRoaXMud3JhcHBlckVsLCB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbX3QoKSwgUHQoKV1cbiAgICB9KTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpLCB0aGlzLiNlID0gLTEsIHRoaXMuI3QgPSBbXSwgdGhpcy4jcyA9IFtdO1xuICB9XG4gIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnJlZ2lzdGVyTGlzdGVuZXJzKCksIHRoaXMuc2NvcGUucmVnaXN0ZXIoW10sIFwiRW50ZXJcIiwgKHQpID0+IHRoaXMub25LZXlwcmVzcyh0LCBcImVudGVyXCIpKSwgdGhpcy5zY29wZS5yZWdpc3RlcihbXSwgXCJBcnJvd1VwXCIsICh0KSA9PiB0aGlzLm9uS2V5cHJlc3ModCwgXCJ1cFwiKSksIHRoaXMuc2NvcGUucmVnaXN0ZXIoXG4gICAgICBbXSxcbiAgICAgIFwiQXJyb3dEb3duXCIsXG4gICAgICAodCkgPT4gdGhpcy5vbktleXByZXNzKHQsIFwiZG93blwiKVxuICAgICksIHRoaXMud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4gITEpLCB0aGlzLndyYXBwZXJFbC5vbihcImNsaWNrXCIsIFwiLnN1Z2dlc3Rpb24taXRlbVwiLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpKSwgdGhpcy5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImZvY3VzXCIsXG4gICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UuYmluZCh0aGlzKVxuICAgICksIHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2xvc2UoKSwgMTAwKTtcbiAgfVxuICBvbklucHV0Q2hhbmdlKHQpIHtcbiAgICBpZiAoISh0LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSAmJiAhKHQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldFN1Z2dlc3Rpb25zKHQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgaWYgKG4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy53cmFwcGVyRWwuZW1wdHkoKSwgdGhpcy4jdCA9IG4sIHRoaXMuI3MgPSBuLm1hcCgocykgPT4ge1xuICAgICAgICBjb25zdCBpID0gdGhpcy53cmFwcGVyRWwuY3JlYXRlRGl2KFwic3VnZ2VzdGlvbi1pdGVtXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJTdWdnZXN0aW9uKHMsIGkpLCBpO1xuICAgICAgfSksIHRoaXMub3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cbiAgb25LZXlwcmVzcyh0LCBuKSB7XG4gICAgaWYgKCF0LmlzQ29tcG9zaW5nKVxuICAgICAgc3dpdGNoICh0LnByZXZlbnREZWZhdWx0KCksIG4pIHtcbiAgICAgICAgY2FzZSBcImVudGVyXCI6XG4gICAgICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNlIC0gMSwgITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICAgIHRoaXMuZm9jdXNTdWdnZXN0aW9uKHRoaXMuI2UgKyAxLCAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgb25DbGljayh0LCBuKSB7XG4gICAgdC5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmZvY3VzU3VnZ2VzdGlvbih0aGlzLiNzLmluZGV4T2YobiksICExKSwgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKHRoaXMuI3RbdGhpcy4jZV0pO1xuICB9XG4gIGZvY3VzU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgY29uc3QgcyA9IFV0KHQsIHRoaXMuI3QubGVuZ3RoKSwgaSA9IHRoaXMuI3NbdGhpcy4jZV0sIHIgPSB0aGlzLiNzW3NdO1xuICAgIGkucmVtb3ZlQ2xhc3MoXCJpcy1zZWxlY3RlZFwiKSwgci5hZGRDbGFzcyhcImlzLXNlbGVjdGVkXCIpLCB0aGlzLiNlID0gcywgbiAmJiByLnNjcm9sbEludG9WaWV3KCExKTtcbiAgfVxufVxuZnVuY3Rpb24gS3QoZSwgdCkge1xuICByZXR1cm4gZnQoZSwgdCA/IChzKSA9PiBzIGluc3RhbmNlb2YgQiAmJiB0KHMpIDogKHMpID0+IHMgaW5zdGFuY2VvZiBCKTtcbn1cbmZ1bmN0aW9uIHp0KGUsIHQpIHtcbiAgcmV0dXJuIGZ0KGUsIHQgPyAocykgPT4gcyBpbnN0YW5jZW9mIEYgJiYgdChzKSA6IChzKSA9PiBzIGluc3RhbmNlb2YgRik7XG59XG5mdW5jdGlvbiBmdChlLCB0KSB7XG4gIGxldCBuID0gZS5nZXRBbGxMb2FkZWRGaWxlcygpO1xuICByZXR1cm4gdCAmJiAobiA9IG4uZmlsdGVyKHQpKSwgbi5zb3J0KChzLCBpKSA9PiBzLnBhdGgubG9jYWxlQ29tcGFyZShpLnBhdGgpKTtcbn1cbmZ1bmN0aW9uIFl0KGUsIHQsIG4pIHtcbiAgY29uc3QgcyA9IGh0KGUsIHQpLCBpID0gbiA/IChyKSA9PiByIGluc3RhbmNlb2YgQiAmJiBuKHIpIDogKHIpID0+IHIgaW5zdGFuY2VvZiBCO1xuICByZXR1cm4gcy5jaGlsZHJlbi5maWx0ZXIoaSk7XG59XG5mdW5jdGlvbiBYdChlLCB0LCBuKSB7XG4gIGNvbnN0IHMgPSBodChlLCB0KSwgaSA9IG4gPyAocikgPT4gciBpbnN0YW5jZW9mIEYgJiYgbihyKSA6IChyKSA9PiByIGluc3RhbmNlb2YgRjtcbiAgcmV0dXJuIHMuY2hpbGRyZW4uZmlsdGVyKGkpO1xufVxuZnVuY3Rpb24gaHQoZSwgdCkge1xuICBjb25zdCBuID0gZS5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocHQodCkpO1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGb2xkZXIgXCIke3R9XCIgZG9lc24ndCBleGlzdC5gKTtcbiAgaWYgKCEobiBpbnN0YW5jZW9mIEYpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHt0fSBpcyBhIGZpbGUsIG5vdCBhIGZvbGRlci5gKTtcbiAgcmV0dXJuIG47XG59XG5jbGFzcyBxdCBleHRlbmRzIGp0IHtcbiAgZ2V0U3VnZ2VzdGlvbnModCkge1xuICAgIGNvbnN0IG4gPSB0LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB6dChcbiAgICAgIHRoaXMuYXBwLnZhdWx0LFxuICAgICAgLy9cbiAgICAgIChzKSA9PiBzLnBhdGgudG9Mb3dlckNhc2UoKS5jb250YWlucyhuKVxuICAgICk7XG4gIH1cbiAgcmVuZGVyU3VnZ2VzdGlvbih0LCBuKSB7XG4gICAgbi5zZXRUZXh0KHQucGF0aCk7XG4gIH1cbiAgc2VsZWN0U3VnZ2VzdGlvbih0KSB7XG4gICAgdGhpcy5pbnB1dEVsLnZhbHVlID0gdC5wYXRoLCB0aGlzLmlucHV0RWwudHJpZ2dlcihcImlucHV0XCIpLCB0aGlzLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIEp0IHtcbiAgc3RhdGljIGpvaW4oLi4udCkge1xuICAgIHJldHVybiB0LnJlZHVjZSgobiwgcykgPT4gcyA/IG4gPyBuLnJlcGxhY2UoL1tcXFxcL10rJC9naSwgXCJcIikgKyAvL1xuICAgIFwiL1wiICsgcy5yZXBsYWNlKC9eW1xcXFwvXSsvZ2ksIFwiXCIpIDogcyA6IG4sIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBub3JtYWxpemUodCkge1xuICAgIHJldHVybiB0LnJlcGxhY2VBbGwoL1teXFx3LVxcXFwvIz8mPSc6LC4gXSsvZ2ksIFwiX1wiKTtcbiAgfVxuICBzdGF0aWMgZ2V0TmFtZSh0KSB7XG4gICAgcmV0dXJuIHQubWF0Y2goL1teXFxcXC9dKyQvZ2kpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0QmFzZW5hbWUodCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldE5hbWUodCk7XG4gICAgcmV0dXJuIG4gPyB0aGlzLnJlbW92ZUV4dChuKSA6IHZvaWQgMDtcbiAgfVxuICAvKiogSWYgbm8gc2xhc2hlcyBhcmUgZm91bmQgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuICovXG4gIHN0YXRpYyBnZXRQYXJlbnQodCkge1xuICAgIGlmICgvW1xcXFwvXS9naS50ZXN0KHQpKVxuICAgICAgcmV0dXJuIHQucmVwbGFjZSgvW1xcXFwvXVteXFxcXC9dKiQvZ2ksIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBoYXNFeHQodCkge1xuICAgIHJldHVybiAvXFwuW15cXFxcL10qJC9naS50ZXN0KHQpO1xuICB9XG4gIC8qKiBTaG91bGQgdXNlIGBoYXNFeHQoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRFeHQodCkge1xuICAgIHJldHVybiAvKD88PVxcLikoW15cXFxcLyM/XSopKFsjP10uKik/JC9naS5leGVjKHQpPy5hdCgxKTtcbiAgfVxuICBzdGF0aWMgcmVtb3ZlRXh0KHQpIHtcbiAgICByZXR1cm4gdC5yZXBsYWNlKC8oXFwuW15cXFxcL10qKT8oWyM/XS4qKT8kL2dpLCBcIlwiKTtcbiAgfVxufVxuY2xhc3MgUXQge1xuICBzdGF0aWMgaXNVcmwodCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8vZ2kudGVzdCh0KTtcbiAgfVxuICAvKiogU2hvdWxkIHVzZSBgaXNVcmwoKWAgYmVmb3JlICovXG4gIHN0YXRpYyBnZXRPcmlnaW4odCkge1xuICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC9bXlxcXFwvXSsvZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbiAgLyoqIFNob3VsZCB1c2UgYGlzVXJsKClgIGJlZm9yZSAqL1xuICBzdGF0aWMgZ2V0QmFzZXVybCh0KSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcL1teIz9dKi9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0SGFzaCh0KSB7XG4gICAgcmV0dXJuIC8oPzw9IylbXj9dKi9naS5leGVjKHQpPy5hdCgwKTtcbiAgfVxuICBzdGF0aWMgZ2V0cGFyYW1zKHQpIHtcbiAgICByZXR1cm4gLyg/PD1cXD8pLiovZ2kuZXhlYyh0KT8uYXQoMCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIHF0IGFzIEZvbGRlclN1Z2dlc3RlcixcbiAganQgYXMgSW5wdXRTdWdnZXN0ZXIsXG4gIHAgYXMgTG9nTGV2ZWwsXG4gIHd0IGFzIExvZ0xldmVsUmV2ZXJzZSxcbiAgViBhcyBMb2dnZXIsXG4gIG10IGFzIExvZ2dpbmdHcm91cCxcbiAgeXQgYXMgU3VnZ2VzdGVyLFxuICBKdCBhcyBVUkksXG4gIFF0IGFzIFVSTCxcbiAgZnQgYXMgZ2V0QWxsQWJzdHJhY3RGaWxlc0luVmF1bHQsXG4gIEt0IGFzIGdldEFsbEZpbGVzSW5WYXVsdCxcbiAgenQgYXMgZ2V0QWxsRm9sZGVyc0luVmF1bHQsXG4gIFl0IGFzIGdldEZpbGVzT25Gb2xkZXIsXG4gIGh0IGFzIGdldEZvbGRlckluVmF1bHQsXG4gIFh0IGFzIGdldEZvbGRlcnNPbkZvbGRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2lkaWFuLWZuYy5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBSZXF1ZXN0VXJsUmVzcG9uc2UgfSBmcm9tICdvYnNpZGlhbidcblxudHlwZSBFcnJvckNvZGUgPVxuICAgIHwgJ3JlbW90ZS1uby11cmwnXG4gICAgfCAncmVtb3RlLW5vLWV4dCdcbiAgICB8ICd1cmwtcmVxdWVzdC1oZWFkJ1xuICAgIHwgJ3VybC1yZXF1ZXN0LWdldCdcblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgcmVzcG9uc2UgaGFzIGEgXyoqc3RhdHVzQ29kZSoqX1xuICAgICAqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNzZXJ0UmVzcG9uc2UoXG4gICAgICAgIHVybDogc3RyaW5nLFxuICAgICAgICByZXNwb25zZTogUmVxdWVzdFVybFJlc3BvbnNlLFxuICAgICAgICBjb2RlOiBFcnJvckNvZGUsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCA0MDApIHJldHVyblxuXG4gICAgICAgIHRocm93IG5ldyBBdHRhY2htZW50RXJyb3IoXG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgYHJlcXVlc3RlZCB1cmw6ICR7dXJsfWAgK1xuICAgICAgICAgICAgICAgIGBcXG5yZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWAgK1xuICAgICAgICAgICAgICAgIGBcXG5yZXNwb25zZSBoZWFkZXJzOlxcbiR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuaGVhZGVycyl9YCxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY29kZTogRXJyb3JDb2RlLFxuICAgICAgICBwdWJsaWMgY2F1c2U/OiB1bmtub3duLFxuICAgICkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMubmFtZSA9IGBBdHRhY2htZW50RXJyb3IoJHt0aGlzLmNvZGV9KWBcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy50b1N0cmluZ01lc3NhZ2UoKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMudG9TdHJpbmdNZXNzYWdlKCl9YFxuICAgIH1cblxuICAgIHRvU3RyaW5nTWVzc2FnZSgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gQXR0YWNobWVudEVycm9yLiNkZXNjcmlwdGlvbih0aGlzLmNvZGUpXG4gICAgICAgIGlmICghdGhpcy5jYXVzZSkgcmV0dXJuIG1lc3NhZ2VcblxuICAgICAgICBpZiAodGhpcy5jYXVzZSBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGAke21lc3NhZ2V9LCBjb250ZXh0OlxcblxcbiR7dGhpcy5jYXVzZX1gXG4gICAgICAgIHJldHVybiBgJHttZXNzYWdlfSwgY29udGV4dDpcXG5cXG4ke0pTT04uc3RyaW5naWZ5KHRoaXMuY2F1c2UpfWBcbiAgICB9XG5cbiAgICBzdGF0aWMgI2Rlc2NyaXB0aW9uKGNvZGU6IEVycm9yQ29kZSk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSAncmVtb3RlLW5vLXVybCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdyZW1vdGUgcGFyYW0gc2hvdWxkIGJlIGFuIFVSTCdcbiAgICAgICAgICAgIGNhc2UgJ3JlbW90ZS1uby1leHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYSBmaWxlLWV4dGVuc2lvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCdcblxuICAgICAgICAgICAgY2FzZSAndXJsLXJlcXVlc3QtaGVhZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aGUgcmVxdWVzdCB0byBnZXQgdGhlIGZpbGUtZXh0ZW5zaW9uIGZhaWxlZCdcbiAgICAgICAgICAgIGNhc2UgJ3VybC1yZXF1ZXN0LWdldCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aGUgcmVxdWVzdCB0byBkb3dubG9hZCB0aGUgZmlsZSBmYWlsZWQnXG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cnktcmVsb2FkaW5nIE9ic2lkaWFuJ1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBiYWxhbmNlZDtcbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG5cbiAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuXG4gIHJldHVybiByICYmIHtcbiAgICBzdGFydDogclswXSxcbiAgICBlbmQ6IHJbMV0sXG4gICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICB2YXIgaSA9IGFpO1xuXG4gIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgIGlmKGE9PT1iKSB7XG4gICAgICByZXR1cm4gW2FpLCBiaV07XG4gICAgfVxuICAgIGJlZ3MgPSBbXTtcbiAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcblxuICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgfVxuXG4gICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICB9XG5cbiAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwidmFyIGJhbGFuY2VkID0gcmVxdWlyZSgnYmFsYW5jZWQtbWF0Y2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBhbmRUb3A7XG5cbnZhciBlc2NTbGFzaCA9ICdcXDBTTEFTSCcrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NPcGVuID0gJ1xcME9QRU4nK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ2xvc2UgPSAnXFwwQ0xPU0UnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ29tbWEgPSAnXFwwQ09NTUEnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjUGVyaW9kID0gJ1xcMFBFUklPRCcrTWF0aC5yYW5kb20oKSsnXFwwJztcblxuZnVuY3Rpb24gbnVtZXJpYyhzdHIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApID09IHN0clxuICAgID8gcGFyc2VJbnQoc3RyLCAxMClcbiAgICA6IHN0ci5jaGFyQ29kZUF0KDApO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJ1xcXFxcXFxcJykuam9pbihlc2NTbGFzaClcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXHsnKS5qb2luKGVzY09wZW4pXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx9Jykuam9pbihlc2NDbG9zZSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXCwnKS5qb2luKGVzY0NvbW1hKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLicpLmpvaW4oZXNjUGVyaW9kKTtcbn1cblxuZnVuY3Rpb24gdW5lc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZXNjU2xhc2gpLmpvaW4oJ1xcXFwnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY09wZW4pLmpvaW4oJ3snKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0Nsb3NlKS5qb2luKCd9JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDb21tYSkuam9pbignLCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjUGVyaW9kKS5qb2luKCcuJyk7XG59XG5cblxuLy8gQmFzaWNhbGx5IGp1c3Qgc3RyLnNwbGl0KFwiLFwiKSwgYnV0IGhhbmRsaW5nIGNhc2VzXG4vLyB3aGVyZSB3ZSBoYXZlIG5lc3RlZCBicmFjZWQgc2VjdGlvbnMsIHdoaWNoIHNob3VsZCBiZVxuLy8gdHJlYXRlZCBhcyBpbmRpdmlkdWFsIG1lbWJlcnMsIGxpa2Uge2Ese2IsY30sZH1cbmZ1bmN0aW9uIHBhcnNlQ29tbWFQYXJ0cyhzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFsnJ107XG5cbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG5cbiAgaWYgKCFtKVxuICAgIHJldHVybiBzdHIuc3BsaXQoJywnKTtcblxuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBib2R5ID0gbS5ib2R5O1xuICB2YXIgcG9zdCA9IG0ucG9zdDtcbiAgdmFyIHAgPSBwcmUuc3BsaXQoJywnKTtcblxuICBwW3AubGVuZ3RoLTFdICs9ICd7JyArIGJvZHkgKyAnfSc7XG4gIHZhciBwb3N0UGFydHMgPSBwYXJzZUNvbW1hUGFydHMocG9zdCk7XG4gIGlmIChwb3N0Lmxlbmd0aCkge1xuICAgIHBbcC5sZW5ndGgtMV0gKz0gcG9zdFBhcnRzLnNoaWZ0KCk7XG4gICAgcC5wdXNoLmFwcGx5KHAsIHBvc3RQYXJ0cyk7XG4gIH1cblxuICBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwKTtcblxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFRvcChzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIC8vIEkgZG9uJ3Qga25vdyB3aHkgQmFzaCA0LjMgZG9lcyB0aGlzLCBidXQgaXQgZG9lcy5cbiAgLy8gQW55dGhpbmcgc3RhcnRpbmcgd2l0aCB7fSB3aWxsIGhhdmUgdGhlIGZpcnN0IHR3byBieXRlcyBwcmVzZXJ2ZWRcbiAgLy8gYnV0ICpvbmx5KiBhdCB0aGUgdG9wIGxldmVsLCBzbyB7fSxhfWIgd2lsbCBub3QgZXhwYW5kIHRvIGFueXRoaW5nLFxuICAvLyBidXQgYXt9LGJ9YyB3aWxsIGJlIGV4cGFuZGVkIHRvIFthfWMsYWJjXS5cbiAgLy8gT25lIGNvdWxkIGFyZ3VlIHRoYXQgdGhpcyBpcyBhIGJ1ZyBpbiBCYXNoLCBidXQgc2luY2UgdGhlIGdvYWwgb2ZcbiAgLy8gdGhpcyBtb2R1bGUgaXMgdG8gbWF0Y2ggQmFzaCdzIHJ1bGVzLCB3ZSBlc2NhcGUgYSBsZWFkaW5nIHt9XG4gIGlmIChzdHIuc3Vic3RyKDAsIDIpID09PSAne30nKSB7XG4gICAgc3RyID0gJ1xcXFx7XFxcXH0nICsgc3RyLnN1YnN0cigyKTtcbiAgfVxuXG4gIHJldHVybiBleHBhbmQoZXNjYXBlQnJhY2VzKHN0ciksIHRydWUpLm1hcCh1bmVzY2FwZUJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGVtYnJhY2Uoc3RyKSB7XG4gIHJldHVybiAneycgKyBzdHIgKyAnfSc7XG59XG5mdW5jdGlvbiBpc1BhZGRlZChlbCkge1xuICByZXR1cm4gL14tPzBcXGQvLnRlc3QoZWwpO1xufVxuXG5mdW5jdGlvbiBsdGUoaSwgeSkge1xuICByZXR1cm4gaSA8PSB5O1xufVxuZnVuY3Rpb24gZ3RlKGksIHkpIHtcbiAgcmV0dXJuIGkgPj0geTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kKHN0ciwgaXNUb3ApIHtcbiAgdmFyIGV4cGFuc2lvbnMgPSBbXTtcblxuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuICBpZiAoIW0pIHJldHVybiBbc3RyXTtcblxuICAvLyBubyBuZWVkIHRvIGV4cGFuZCBwcmUsIHNpbmNlIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgZnJlZSBvZiBicmFjZS1zZXRzXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIHBvc3QgPSBtLnBvc3QubGVuZ3RoXG4gICAgPyBleHBhbmQobS5wb3N0LCBmYWxzZSlcbiAgICA6IFsnJ107XG5cbiAgaWYgKC9cXCQkLy50ZXN0KG0ucHJlKSkgeyAgICBcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgIHZhciBleHBhbnNpb24gPSBwcmUrICd7JyArIG0uYm9keSArICd9JyArIHBvc3Rba107XG4gICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGlzTnVtZXJpY1NlcXVlbmNlID0gL14tP1xcZCtcXC5cXC4tP1xcZCsoPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgICB2YXIgaXNBbHBoYVNlcXVlbmNlID0gL15bYS16QS1aXVxcLlxcLlthLXpBLVpdKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gICAgdmFyIGlzU2VxdWVuY2UgPSBpc051bWVyaWNTZXF1ZW5jZSB8fCBpc0FscGhhU2VxdWVuY2U7XG4gICAgdmFyIGlzT3B0aW9ucyA9IG0uYm9keS5pbmRleE9mKCcsJykgPj0gMDtcbiAgICBpZiAoIWlzU2VxdWVuY2UgJiYgIWlzT3B0aW9ucykge1xuICAgICAgLy8ge2F9LGJ9XG4gICAgICBpZiAobS5wb3N0Lm1hdGNoKC8sLipcXH0vKSkge1xuICAgICAgICBzdHIgPSBtLnByZSArICd7JyArIG0uYm9keSArIGVzY0Nsb3NlICsgbS5wb3N0O1xuICAgICAgICByZXR1cm4gZXhwYW5kKHN0cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3N0cl07XG4gICAgfVxuXG4gICAgdmFyIG47XG4gICAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICAgIG4gPSBtLmJvZHkuc3BsaXQoL1xcLlxcLi8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuID0gcGFyc2VDb21tYVBhcnRzKG0uYm9keSk7XG4gICAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8geHt7YSxifX15ID09PiB4e2F9eSB4e2J9eVxuICAgICAgICBuID0gZXhwYW5kKG5bMF0sIGZhbHNlKS5tYXAoZW1icmFjZSk7XG4gICAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBwb3N0Lm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5wcmUgKyBuWzBdICsgcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIG4gaXMgdGhlIHBhcnRzLCBhbmQgd2Uga25vdyBpdCdzIG5vdCBhIGNvbW1hIHNldFxuICAgIC8vIHdpdGggYSBzaW5nbGUgZW50cnkuXG4gICAgdmFyIE47XG5cbiAgICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgICAgdmFyIHggPSBudW1lcmljKG5bMF0pO1xuICAgICAgdmFyIHkgPSBudW1lcmljKG5bMV0pO1xuICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoblswXS5sZW5ndGgsIG5bMV0ubGVuZ3RoKVxuICAgICAgdmFyIGluY3IgPSBuLmxlbmd0aCA9PSAzXG4gICAgICAgID8gTWF0aC5hYnMobnVtZXJpYyhuWzJdKSlcbiAgICAgICAgOiAxO1xuICAgICAgdmFyIHRlc3QgPSBsdGU7XG4gICAgICB2YXIgcmV2ZXJzZSA9IHkgPCB4O1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgaW5jciAqPSAtMTtcbiAgICAgICAgdGVzdCA9IGd0ZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYWQgPSBuLnNvbWUoaXNQYWRkZWQpO1xuXG4gICAgICBOID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSB4OyB0ZXN0KGksIHkpOyBpICs9IGluY3IpIHtcbiAgICAgICAgdmFyIGM7XG4gICAgICAgIGlmIChpc0FscGhhU2VxdWVuY2UpIHtcbiAgICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKVxuICAgICAgICAgICAgYyA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGMgPSBTdHJpbmcoaSk7XG4gICAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgICAgdmFyIG5lZWQgPSB3aWR0aCAtIGMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5lZWQgPiAwKSB7XG4gICAgICAgICAgICAgIHZhciB6ID0gbmV3IEFycmF5KG5lZWQgKyAxKS5qb2luKCcwJyk7XG4gICAgICAgICAgICAgIGlmIChpIDwgMClcbiAgICAgICAgICAgICAgICBjID0gJy0nICsgeiArIGMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjID0geiArIGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE4ucHVzaChjKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgTi5wdXNoLmFwcGx5KE4sIGV4cGFuZChuW2pdLCBmYWxzZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTi5sZW5ndGg7IGorKykge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb3N0Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBleHBhbnNpb24gPSBwcmUgKyBOW2pdICsgcG9zdFtrXTtcbiAgICAgICAgaWYgKCFpc1RvcCB8fCBpc1NlcXVlbmNlIHx8IGV4cGFuc2lvbilcbiAgICAgICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwYW5zaW9ucztcbn1cblxuIiwiY29uc3QgTUFYX1BBVFRFUk5fTEVOR1RIID0gMTAyNCAqIDY0O1xuZXhwb3J0IGNvbnN0IGFzc2VydFZhbGlkUGF0dGVybiA9IChwYXR0ZXJuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHBhdHRlcm4nKTtcbiAgICB9XG4gICAgaWYgKHBhdHRlcm4ubGVuZ3RoID4gTUFYX1BBVFRFUk5fTEVOR1RIKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhdHRlcm4gaXMgdG9vIGxvbmcnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0LXZhbGlkLXBhdHRlcm4uanMubWFwIiwiLy8gdHJhbnNsYXRlIHRoZSB2YXJpb3VzIHBvc2l4IGNoYXJhY3RlciBjbGFzc2VzIGludG8gdW5pY29kZSBwcm9wZXJ0aWVzXG4vLyB0aGlzIHdvcmtzIGFjcm9zcyBhbGwgdW5pY29kZSBsb2NhbGVzXG4vLyB7IDxwb3NpeCBjbGFzcz46IFs8dHJhbnNsYXRpb24+LCAvdSBmbGFnIHJlcXVpcmVkLCBuZWdhdGVkXVxuY29uc3QgcG9zaXhDbGFzc2VzID0ge1xuICAgICdbOmFsbnVtOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6YWxwaGE6XSc6IFsnXFxcXHB7TH1cXFxccHtObH0nLCB0cnVlXSxcbiAgICAnWzphc2NpaTpdJzogWydcXFxceCcgKyAnMDAtXFxcXHgnICsgJzdmJywgZmFsc2VdLFxuICAgICdbOmJsYW5rOl0nOiBbJ1xcXFxwe1pzfVxcXFx0JywgdHJ1ZV0sXG4gICAgJ1s6Y250cmw6XSc6IFsnXFxcXHB7Q2N9JywgdHJ1ZV0sXG4gICAgJ1s6ZGlnaXQ6XSc6IFsnXFxcXHB7TmR9JywgdHJ1ZV0sXG4gICAgJ1s6Z3JhcGg6XSc6IFsnXFxcXHB7Wn1cXFxccHtDfScsIHRydWUsIHRydWVdLFxuICAgICdbOmxvd2VyOl0nOiBbJ1xcXFxwe0xsfScsIHRydWVdLFxuICAgICdbOnByaW50Ol0nOiBbJ1xcXFxwe0N9JywgdHJ1ZV0sXG4gICAgJ1s6cHVuY3Q6XSc6IFsnXFxcXHB7UH0nLCB0cnVlXSxcbiAgICAnWzpzcGFjZTpdJzogWydcXFxccHtafVxcXFx0XFxcXHJcXFxcblxcXFx2XFxcXGYnLCB0cnVlXSxcbiAgICAnWzp1cHBlcjpdJzogWydcXFxccHtMdX0nLCB0cnVlXSxcbiAgICAnWzp3b3JkOl0nOiBbJ1xcXFxwe0x9XFxcXHB7Tmx9XFxcXHB7TmR9XFxcXHB7UGN9JywgdHJ1ZV0sXG4gICAgJ1s6eGRpZ2l0Ol0nOiBbJ0EtRmEtZjAtOScsIGZhbHNlXSxcbn07XG4vLyBvbmx5IG5lZWQgdG8gZXNjYXBlIGEgZmV3IHRoaW5ncyBpbnNpZGUgb2YgYnJhY2UgZXhwcmVzc2lvbnNcbi8vIGVzY2FwZXM6IFsgXFwgXSAtXG5jb25zdCBicmFjZUVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1tbXFxdXFxcXC1dL2csICdcXFxcJCYnKTtcbi8vIGVzY2FwZSBhbGwgcmVnZXhwIG1hZ2ljIGNoYXJhY3RlcnNcbmNvbnN0IHJlZ2V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBldmVyeXRoaW5nIGhhcyBhbHJlYWR5IGJlZW4gZXNjYXBlZCwgd2UganVzdCBoYXZlIHRvIGpvaW5cbmNvbnN0IHJhbmdlc1RvU3RyaW5nID0gKHJhbmdlcykgPT4gcmFuZ2VzLmpvaW4oJycpO1xuLy8gdGFrZXMgYSBnbG9iIHN0cmluZyBhdCBhIHBvc2l4IGJyYWNlIGV4cHJlc3Npb24sIGFuZCByZXR1cm5zXG4vLyBhbiBlcXVpdmFsZW50IHJlZ3VsYXIgZXhwcmVzc2lvbiBzb3VyY2UsIGFuZCBib29sZWFuIGluZGljYXRpbmdcbi8vIHdoZXRoZXIgdGhlIC91IGZsYWcgbmVlZHMgdG8gYmUgYXBwbGllZCwgYW5kIHRoZSBudW1iZXIgb2YgY2hhcnNcbi8vIGNvbnN1bWVkIHRvIHBhcnNlIHRoZSBjaGFyYWN0ZXIgY2xhc3MuXG4vLyBUaGlzIGFsc28gcmVtb3ZlcyBvdXQgb2Ygb3JkZXIgcmFuZ2VzLCBhbmQgcmV0dXJucyAoJC4pIGlmIHRoZVxuLy8gZW50aXJlIGNsYXNzIGp1c3Qgbm8gZ29vZC5cbmV4cG9ydCBjb25zdCBwYXJzZUNsYXNzID0gKGdsb2IsIHBvc2l0aW9uKSA9PiB7XG4gICAgY29uc3QgcG9zID0gcG9zaXRpb247XG4gICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgaWYgKGdsb2IuY2hhckF0KHBvcykgIT09ICdbJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbiBhIGJyYWNlIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICBjb25zdCByYW5nZXMgPSBbXTtcbiAgICBjb25zdCBuZWdzID0gW107XG4gICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgIGxldCBzYXdTdGFydCA9IGZhbHNlO1xuICAgIGxldCB1ZmxhZyA9IGZhbHNlO1xuICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICBsZXQgZW5kUG9zID0gcG9zO1xuICAgIGxldCByYW5nZVN0YXJ0ID0gJyc7XG4gICAgV0hJTEU6IHdoaWxlIChpIDwgZ2xvYi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICBpZiAoKGMgPT09ICchJyB8fCBjID09PSAnXicpICYmIGkgPT09IHBvcyArIDEpIHtcbiAgICAgICAgICAgIG5lZ2F0ZSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ10nICYmIHNhd1N0YXJ0ICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgZW5kUG9zID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzYXdTdGFydCA9IHRydWU7XG4gICAgICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGlmICghZXNjYXBpbmcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNjYXBlZCBcXCBjaGFyLCBmYWxsIHRocm91Z2ggYW5kIHRyZWF0IGxpa2Ugbm9ybWFsIGNoYXJcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gJ1snICYmICFlc2NhcGluZykge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGEgcG9zaXggY2xhc3MsIGEgY29sbGF0aW9uIGVxdWl2YWxlbnQsIG9yIGp1c3QgYSBbXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjbHMsIFt1bmlwLCB1LCBuZWddXSBvZiBPYmplY3QuZW50cmllcyhwb3NpeENsYXNzZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aChjbHMsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGludmFsaWQsIFthLVtdIGlzIGZpbmUsIGJ1dCBub3QgW2EtWzphbHBoYV1dXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyckLicsIGZhbHNlLCBnbG9iLmxlbmd0aCAtIHBvcywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSArPSBjbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmVncy5wdXNoKHVuaXApO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh1bmlwKTtcbiAgICAgICAgICAgICAgICAgICAgdWZsYWcgPSB1ZmxhZyB8fCB1O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBXSElMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm93IGl0J3MganVzdCBhIG5vcm1hbCBjaGFyYWN0ZXIsIGVmZmVjdGl2ZWx5XG4gICAgICAgIGVzY2FwaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChyYW5nZVN0YXJ0KSB7XG4gICAgICAgICAgICAvLyB0aHJvdyB0aGlzIHJhbmdlIGF3YXkgaWYgaXQncyBub3QgdmFsaWQsIGJ1dCBvdGhlcnNcbiAgICAgICAgICAgIC8vIGNhbiBzdGlsbCBtYXRjaC5cbiAgICAgICAgICAgIGlmIChjID4gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKHJhbmdlU3RhcnQpICsgJy0nICsgYnJhY2VFc2NhcGUoYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gcmFuZ2VTdGFydCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSAnJztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyBtaWdodCBiZSB0aGUgc3RhcnQgb2YgYSByYW5nZS5cbiAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBjLWQgb3IgYy1dIG9yIGM8bW9yZS4uLj5dIG9yIGNdIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKGdsb2Iuc3RhcnRzV2l0aCgnLV0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGJyYWNlRXNjYXBlKGMgKyAnLScpKTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iLnN0YXJ0c1dpdGgoJy0nLCBpICsgMSkpIHtcbiAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBjO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90IHRoZSBzdGFydCBvZiBhIHJhbmdlLCBqdXN0IGEgc2luZ2xlIGNoYXJhY3RlclxuICAgICAgICByYW5nZXMucHVzaChicmFjZUVzY2FwZShjKSk7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKGVuZFBvcyA8IGkpIHtcbiAgICAgICAgLy8gZGlkbid0IHNlZSB0aGUgZW5kIG9mIHRoZSBjbGFzcywgbm90IGEgdmFsaWQgY2xhc3MsXG4gICAgICAgIC8vIGJ1dCBtaWdodCBzdGlsbCBiZSB2YWxpZCBhcyBhIGxpdGVyYWwgbWF0Y2guXG4gICAgICAgIHJldHVybiBbJycsIGZhbHNlLCAwLCBmYWxzZV07XG4gICAgfVxuICAgIC8vIGlmIHdlIGdvdCBubyByYW5nZXMgYW5kIG5vIG5lZ2F0ZXMsIHRoZW4gd2UgaGF2ZSBhIHJhbmdlIHRoYXRcbiAgICAvLyBjYW5ub3QgcG9zc2libHkgbWF0Y2ggYW55dGhpbmcsIGFuZCB0aGF0IHBvaXNvbnMgdGhlIHdob2xlIGdsb2JcbiAgICBpZiAoIXJhbmdlcy5sZW5ndGggJiYgIW5lZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbJyQuJywgZmFsc2UsIGdsb2IubGVuZ3RoIC0gcG9zLCB0cnVlXTtcbiAgICB9XG4gICAgLy8gaWYgd2UgZ290IG9uZSBwb3NpdGl2ZSByYW5nZSwgYW5kIGl0J3MgYSBzaW5nbGUgY2hhcmFjdGVyLCB0aGVuIHRoYXQnc1xuICAgIC8vIG5vdCBhY3R1YWxseSBhIG1hZ2ljIHBhdHRlcm4sIGl0J3MganVzdCB0aGF0IG9uZSBsaXRlcmFsIGNoYXJhY3Rlci5cbiAgICAvLyB3ZSBzaG91bGQgbm90IHRyZWF0IHRoYXQgYXMgXCJtYWdpY1wiLCB3ZSBzaG91bGQganVzdCByZXR1cm4gdGhlIGxpdGVyYWxcbiAgICAvLyBjaGFyYWN0ZXIuIFtfXSBpcyBhIHBlcmZlY3RseSB2YWxpZCB3YXkgdG8gZXNjYXBlIGdsb2IgbWFnaWMgY2hhcnMuXG4gICAgaWYgKG5lZ3MubGVuZ3RoID09PSAwICYmXG4gICAgICAgIHJhbmdlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgL15cXFxcPy4kLy50ZXN0KHJhbmdlc1swXSkgJiZcbiAgICAgICAgIW5lZ2F0ZSkge1xuICAgICAgICBjb25zdCByID0gcmFuZ2VzWzBdLmxlbmd0aCA9PT0gMiA/IHJhbmdlc1swXS5zbGljZSgtMSkgOiByYW5nZXNbMF07XG4gICAgICAgIHJldHVybiBbcmVnZXhwRXNjYXBlKHIpLCBmYWxzZSwgZW5kUG9zIC0gcG9zLCBmYWxzZV07XG4gICAgfVxuICAgIGNvbnN0IHNyYW5nZXMgPSAnWycgKyAobmVnYXRlID8gJ14nIDogJycpICsgcmFuZ2VzVG9TdHJpbmcocmFuZ2VzKSArICddJztcbiAgICBjb25zdCBzbmVncyA9ICdbJyArIChuZWdhdGUgPyAnJyA6ICdeJykgKyByYW5nZXNUb1N0cmluZyhuZWdzKSArICddJztcbiAgICBjb25zdCBjb21iID0gcmFuZ2VzLmxlbmd0aCAmJiBuZWdzLmxlbmd0aFxuICAgICAgICA/ICcoJyArIHNyYW5nZXMgKyAnfCcgKyBzbmVncyArICcpJ1xuICAgICAgICA6IHJhbmdlcy5sZW5ndGhcbiAgICAgICAgICAgID8gc3Jhbmdlc1xuICAgICAgICAgICAgOiBzbmVncztcbiAgICByZXR1cm4gW2NvbWIsIHVmbGFnLCBlbmRQb3MgLSBwb3MsIHRydWVdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYWNlLWV4cHJlc3Npb25zLmpzLm1hcCIsIi8qKlxuICogVW4tZXNjYXBlIGEgc3RyaW5nIHRoYXQgaGFzIGJlZW4gZXNjYXBlZCB3aXRoIHtAbGluayBlc2NhcGV9LlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGV9IG9wdGlvbiBpcyB1c2VkLCB0aGVuIHNxdWFyZS1icmFjZVxuICogZXNjYXBlcyBhcmUgcmVtb3ZlZCwgYnV0IG5vdCBiYWNrc2xhc2ggZXNjYXBlcy4gIEZvciBleGFtcGxlLCBpdCB3aWxsIHR1cm5cbiAqIHRoZSBzdHJpbmcgYCdbKl0nYCBpbnRvIGAqYCwgYnV0IGl0IHdpbGwgbm90IHR1cm4gYCdcXFxcKidgIGludG8gYCcqJ2AsXG4gKiBiZWN1YXNlIGBcXGAgaXMgYSBwYXRoIHNlcGFyYXRvciBpbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIG1vZGUuXG4gKlxuICogV2hlbiBgd2luZG93c1BhdGhzTm9Fc2NhcGVgIGlzIG5vdCBzZXQsIHRoZW4gYm90aCBicmFjZSBlc2NhcGVzIGFuZFxuICogYmFja3NsYXNoIGVzY2FwZXMgYXJlIHJlbW92ZWQuXG4gKlxuICogU2xhc2hlcyAoYW5kIGJhY2tzbGFzaGVzIGluIGB3aW5kb3dzUGF0aHNOb0VzY2FwZWAgbW9kZSkgY2Fubm90IGJlIGVzY2FwZWRcbiAqIG9yIHVuZXNjYXBlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuZXNjYXBlID0gKHMsIHsgd2luZG93c1BhdGhzTm9Fc2NhcGUgPSBmYWxzZSwgfSA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9cXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJylcbiAgICAgICAgOiBzLnJlcGxhY2UoLygoPyFcXFxcKS58XilcXFsoW15cXC9cXFxcXSlcXF0vZywgJyQxJDInKS5yZXBsYWNlKC9cXFxcKFteXFwvXSkvZywgJyQxJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5lc2NhcGUuanMubWFwIiwiLy8gcGFyc2UgYSBzaW5nbGUgcGF0aCBwb3J0aW9uXG5pbXBvcnQgeyBwYXJzZUNsYXNzIH0gZnJvbSAnLi9icmFjZS1leHByZXNzaW9ucy5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuY29uc3QgdHlwZXMgPSBuZXcgU2V0KFsnIScsICc/JywgJysnLCAnKicsICdAJ10pO1xuY29uc3QgaXNFeHRnbG9iVHlwZSA9IChjKSA9PiB0eXBlcy5oYXMoYyk7XG4vLyBQYXR0ZXJucyB0aGF0IGdldCBwcmVwZW5kZWQgdG8gYmluZCB0byB0aGUgc3RhcnQgb2YgZWl0aGVyIHRoZVxuLy8gZW50aXJlIHN0cmluZywgb3IganVzdCBhIHNpbmdsZSBwYXRoIHBvcnRpb24sIHRvIHByZXZlbnQgZG90c1xuLy8gYW5kL29yIHRyYXZlcnNhbCBwYXR0ZXJucywgd2hlbiBuZWVkZWQuXG4vLyBFeHRzIGRvbid0IG5lZWQgdGhlIF4gb3IgLyBiaXQsIGJlY2F1c2UgdGhlIHJvb3QgYmluZHMgdGhhdCBhbHJlYWR5LlxuY29uc3Qgc3RhcnROb1RyYXZlcnNhbCA9ICcoPyEoPzpefC8pXFxcXC5cXFxcLj8oPzokfC8pKSc7XG5jb25zdCBzdGFydE5vRG90ID0gJyg/IVxcXFwuKSc7XG4vLyBjaGFyYWN0ZXJzIHRoYXQgaW5kaWNhdGUgYSBzdGFydCBvZiBwYXR0ZXJuIG5lZWRzIHRoZSBcIm5vIGRvdHNcIiBiaXQsXG4vLyBiZWNhdXNlIGEgZG90ICptaWdodCogYmUgbWF0Y2hlZC4gKCBpcyBub3QgaW4gdGhlIGxpc3QsIGJlY2F1c2UgaW5cbi8vIHRoZSBjYXNlIG9mIGEgY2hpbGQgZXh0Z2xvYiwgaXQgd2lsbCBoYW5kbGUgdGhlIHByZXZlbnRpb24gaXRzZWxmLlxuY29uc3QgYWRkUGF0dGVyblN0YXJ0ID0gbmV3IFNldChbJ1snLCAnLiddKTtcbi8vIGNhc2VzIHdoZXJlIHRyYXZlcnNhbCBpcyBBLU9LLCBubyBkb3QgcHJldmVudGlvbiBuZWVkZWRcbmNvbnN0IGp1c3REb3RzID0gbmV3IFNldChbJy4uJywgJy4nXSk7XG5jb25zdCByZVNwZWNpYWxzID0gbmV3IFNldCgnKCkuKnt9Kz9bXV4kXFxcXCEnKTtcbmNvbnN0IHJlZ0V4cEVzY2FwZSA9IChzKSA9PiBzLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCAnXFxcXCQmJyk7XG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuY29uc3QgcW1hcmsgPSAnW14vXSc7XG4vLyAqID0+IGFueSBudW1iZXIgb2YgY2hhcmFjdGVyc1xuY29uc3Qgc3RhciA9IHFtYXJrICsgJyo/Jztcbi8vIHVzZSArIHdoZW4gd2UgbmVlZCB0byBlbnN1cmUgdGhhdCAqc29tZXRoaW5nKiBtYXRjaGVzLCBiZWNhdXNlIHRoZSAqIGlzXG4vLyB0aGUgb25seSB0aGluZyBpbiB0aGUgcGF0aCBwb3J0aW9uLlxuY29uc3Qgc3Rhck5vRW1wdHkgPSBxbWFyayArICcrPyc7XG4vLyByZW1vdmUgdGhlIFxcIGNoYXJzIHRoYXQgd2UgYWRkZWQgaWYgd2UgZW5kIHVwIGRvaW5nIGEgbm9ubWFnaWMgY29tcGFyZVxuLy8gY29uc3QgZGVzbGFzaCA9IChzOiBzdHJpbmcpID0+IHMucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKVxuZXhwb3J0IGNsYXNzIEFTVCB7XG4gICAgdHlwZTtcbiAgICAjcm9vdDtcbiAgICAjaGFzTWFnaWM7XG4gICAgI3VmbGFnID0gZmFsc2U7XG4gICAgI3BhcnRzID0gW107XG4gICAgI3BhcmVudDtcbiAgICAjcGFyZW50SW5kZXg7XG4gICAgI25lZ3M7XG4gICAgI2ZpbGxlZE5lZ3MgPSBmYWxzZTtcbiAgICAjb3B0aW9ucztcbiAgICAjdG9TdHJpbmc7XG4gICAgLy8gc2V0IHRvIHRydWUgaWYgaXQncyBhbiBleHRnbG9iIHdpdGggbm8gY2hpbGRyZW5cbiAgICAvLyAod2hpY2ggcmVhbGx5IG1lYW5zIG9uZSBjaGlsZCBvZiAnJylcbiAgICAjZW1wdHlFeHQgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvLyBleHRnbG9icyBhcmUgaW5oZXJlbnRseSBtYWdpY2FsXG4gICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgdGhpcy4jaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICB0aGlzLiNwYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuI3Jvb3QgPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3Jvb3QgOiB0aGlzO1xuICAgICAgICB0aGlzLiNvcHRpb25zID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IG9wdGlvbnMgOiB0aGlzLiNyb290LiNvcHRpb25zO1xuICAgICAgICB0aGlzLiNuZWdzID0gdGhpcy4jcm9vdCA9PT0gdGhpcyA/IFtdIDogdGhpcy4jcm9vdC4jbmVncztcbiAgICAgICAgaWYgKHR5cGUgPT09ICchJyAmJiAhdGhpcy4jcm9vdC4jZmlsbGVkTmVncylcbiAgICAgICAgICAgIHRoaXMuI25lZ3MucHVzaCh0aGlzKTtcbiAgICAgICAgdGhpcy4jcGFyZW50SW5kZXggPSB0aGlzLiNwYXJlbnQgPyB0aGlzLiNwYXJlbnQuI3BhcnRzLmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIGdldCBoYXNNYWdpYygpIHtcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzLiNoYXNNYWdpYyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhc01hZ2ljO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocC50eXBlIHx8IHAuaGFzTWFnaWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLiNoYXNNYWdpYyA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGU6IHdpbGwgYmUgdW5kZWZpbmVkIHVudGlsIHdlIGdlbmVyYXRlIHRoZSByZWdleHAgc3JjIGFuZCBmaW5kIG91dFxuICAgICAgICByZXR1cm4gdGhpcy4jaGFzTWFnaWM7XG4gICAgfVxuICAgIC8vIHJlY29uc3RydWN0cyB0aGUgcGF0dGVyblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAodGhpcy4jdG9TdHJpbmcgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiN0b1N0cmluZztcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPSB0aGlzLiNwYXJ0cy5tYXAocCA9PiBTdHJpbmcocCkpLmpvaW4oJycpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy4jdG9TdHJpbmcgPVxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSArICcoJyArIHRoaXMuI3BhcnRzLm1hcChwID0+IFN0cmluZyhwKSkuam9pbignfCcpICsgJyknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZmlsbE5lZ3MoKSB7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICBpZiAodGhpcyAhPT0gdGhpcy4jcm9vdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2hvdWxkIG9ubHkgY2FsbCBvbiByb290Jyk7XG4gICAgICAgIGlmICh0aGlzLiNmaWxsZWROZWdzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgIC8vIGNhbGwgdG9TdHJpbmcoKSBvbmNlIHRvIGZpbGwgdGhpcyBvdXRcbiAgICAgICAgdGhpcy50b1N0cmluZygpO1xuICAgICAgICB0aGlzLiNmaWxsZWROZWdzID0gdHJ1ZTtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHdoaWxlICgobiA9IHRoaXMuI25lZ3MucG9wKCkpKSB7XG4gICAgICAgICAgICBpZiAobi50eXBlICE9PSAnIScpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyB3YWxrIHVwIHRoZSB0cmVlLCBhcHBlbmRpbmcgZXZlcnRoaW5nIHRoYXQgY29tZXMgQUZURVIgcGFyZW50SW5kZXhcbiAgICAgICAgICAgIGxldCBwID0gbjtcbiAgICAgICAgICAgIGxldCBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChwcCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwLiNwYXJlbnRJbmRleCArIDE7ICFwcC50eXBlICYmIGkgPCBwcC4jcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG4uI3BhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZyBwYXJ0IGluIGV4dGdsb2IgQVNUPz8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNvcHlJbihwcC4jcGFydHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAgPSBwcDtcbiAgICAgICAgICAgICAgICBwcCA9IHAuI3BhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcHVzaCguLi5wYXJ0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwID09PSAnJylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJyAmJiAhKHAgaW5zdGFuY2VvZiBBU1QgJiYgcC4jcGFyZW50ID09PSB0aGlzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwYXJ0OiAnICsgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgdGhpcy4jcGFydHMucHVzaChwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHRoaXMudHlwZSA9PT0gbnVsbFxuICAgICAgICAgICAgPyB0aGlzLiNwYXJ0cy5zbGljZSgpLm1hcChwID0+ICh0eXBlb2YgcCA9PT0gJ3N0cmluZycgPyBwIDogcC50b0pTT04oKSkpXG4gICAgICAgICAgICA6IFt0aGlzLnR5cGUsIC4uLnRoaXMuI3BhcnRzLm1hcChwID0+IHAudG9KU09OKCkpXTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpICYmICF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXQudW5zaGlmdChbXSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW5kKCkgJiZcbiAgICAgICAgICAgICh0aGlzID09PSB0aGlzLiNyb290IHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuI3Jvb3QuI2ZpbGxlZE5lZ3MgJiYgdGhpcy4jcGFyZW50Py50eXBlID09PSAnIScpKSkge1xuICAgICAgICAgICAgcmV0LnB1c2goe30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGlzU3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGlmICh0aGlzLnR5cGUpIHJldHVybiAhIXRoaXMuI3BhcmVudD8uaXNTdGFydCgpXG4gICAgICAgIGlmICghdGhpcy4jcGFyZW50Py5pc1N0YXJ0KCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnRJbmRleCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBpZiBldmVyeXRoaW5nIEFIRUFEIG9mIHRoaXMgaXMgYSBuZWdhdGlvbiwgdGhlbiBpdCdzIHN0aWxsIHRoZSBcInN0YXJ0XCJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuI3BhcmVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNwYXJlbnRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcCA9IHAuI3BhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKCEocHAgaW5zdGFuY2VvZiBBU1QgJiYgcHAudHlwZSA9PT0gJyEnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaXNFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyb290ID09PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLiNwYXJlbnQ/LnR5cGUgPT09ICchJylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuI3BhcmVudD8uaXNFbmQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLnR5cGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50Py5pc0VuZCgpO1xuICAgICAgICAvLyBpZiBub3Qgcm9vdCwgaXQnbGwgYWx3YXlzIGhhdmUgYSBwYXJlbnRcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGNvbnN0IHBsID0gdGhpcy4jcGFyZW50ID8gdGhpcy4jcGFyZW50LiNwYXJ0cy5sZW5ndGggOiAwO1xuICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50SW5kZXggPT09IHBsIC0gMTtcbiAgICB9XG4gICAgY29weUluKHBhcnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRoaXMucHVzaChwYXJ0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wdXNoKHBhcnQuY2xvbmUodGhpcykpO1xuICAgIH1cbiAgICBjbG9uZShwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgYyA9IG5ldyBBU1QodGhpcy50eXBlLCBwYXJlbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy4jcGFydHMpIHtcbiAgICAgICAgICAgIGMuY29weUluKHApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlQVNUKHN0ciwgYXN0LCBwb3MsIG9wdCkge1xuICAgICAgICBsZXQgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJyYWNlU3RhcnQgPSAtMTtcbiAgICAgICAgbGV0IGJyYWNlTmVnID0gZmFsc2U7XG4gICAgICAgIGlmIChhc3QudHlwZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gb3V0c2lkZSBvZiBhIGV4dGdsb2IsIGFwcGVuZCB1bnRpbCB3ZSBmaW5kIGEgc3RhcnRcbiAgICAgICAgICAgIGxldCBpID0gcG9zO1xuICAgICAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSsrKTtcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyB0aGF0IGFyZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgaWYgKGVzY2FwaW5nIHx8IGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5CcmFjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYnJhY2VTdGFydCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICddJyAmJiAhKGkgPT09IGJyYWNlU3RhcnQgKyAyICYmIGJyYWNlTmVnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5CcmFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJhY2VOZWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW9wdC5ub2V4dCAmJiBpc0V4dGdsb2JUeXBlKGMpICYmIHN0ci5jaGFyQXQoaSkgPT09ICcoJykge1xuICAgICAgICAgICAgICAgICAgICBhc3QucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBhc3QpO1xuICAgICAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICAgICAgYXN0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN0LnB1c2goYWNjKTtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNvbWUga2luZCBvZiBleHRnbG9iLCBwb3MgaXMgYXQgdGhlIChcbiAgICAgICAgLy8gZmluZCB0aGUgbmV4dCB8IG9yIClcbiAgICAgICAgbGV0IGkgPSBwb3MgKyAxO1xuICAgICAgICBsZXQgcGFydCA9IG5ldyBBU1QobnVsbCwgYXN0KTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgbGV0IGFjYyA9ICcnO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkrKyk7XG4gICAgICAgICAgICAvLyBzdGlsbCBhY2N1bXVsYXRlIGVzY2FwZXMgYXQgdGhpcyBwb2ludCwgYnV0IHdlIGRvIGlnbm9yZVxuICAgICAgICAgICAgLy8gc3RhcnRzIHRoYXQgYXJlIGVzY2FwZWRcbiAgICAgICAgICAgIGlmIChlc2NhcGluZyB8fCBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGluZyA9ICFlc2NhcGluZztcbiAgICAgICAgICAgICAgICBhY2MgKz0gYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbkJyYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGJyYWNlU3RhcnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAnXicgfHwgYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmFjZU5lZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJ10nICYmICEoaSA9PT0gYnJhY2VTdGFydCArIDIgJiYgYnJhY2VOZWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQnJhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjICs9IGM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICBpbkJyYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmFjZVN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICBicmFjZU5lZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRXh0Z2xvYlR5cGUoYykgJiYgc3RyLmNoYXJBdChpKSA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgcGFydC5wdXNoKGFjYyk7XG4gICAgICAgICAgICAgICAgYWNjID0gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gbmV3IEFTVChjLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICBpID0gQVNULiNwYXJzZUFTVChzdHIsIGV4dCwgaSwgb3B0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnfCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnB1c2goYWNjKTtcbiAgICAgICAgICAgICAgICBhY2MgPSAnJztcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgQVNUKG51bGwsIGFzdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjYyA9PT0gJycgJiYgYXN0LiNwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXN0LiNlbXB0eUV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnQucHVzaChhY2MpO1xuICAgICAgICAgICAgICAgIGFjYyA9ICcnO1xuICAgICAgICAgICAgICAgIGFzdC5wdXNoKC4uLnBhcnRzLCBwYXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYyArPSBjO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVuZmluaXNoZWQgZXh0Z2xvYlxuICAgICAgICAvLyBpZiB3ZSBnb3QgaGVyZSwgaXQgd2FzIGEgbWFsZm9ybWVkIGV4dGdsb2IhIG5vdCBhbiBleHRnbG9iLCBidXRcbiAgICAgICAgLy8gbWF5YmUgc29tZXRoaW5nIGVsc2UgaW4gdGhlcmUuXG4gICAgICAgIGFzdC50eXBlID0gbnVsbDtcbiAgICAgICAgYXN0LiNoYXNNYWdpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgYXN0LiNwYXJ0cyA9IFtzdHIuc3Vic3RyaW5nKHBvcyAtIDEpXTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgYXN0ID0gbmV3IEFTVChudWxsLCB1bmRlZmluZWQsIG9wdGlvbnMpO1xuICAgICAgICBBU1QuI3BhcnNlQVNUKHBhdHRlcm4sIGFzdCwgMCwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfVxuICAgIC8vIHJldHVybnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB0aGVyZSdzIG1hZ2ljLCBvciB0aGUgdW5lc2NhcGVkXG4gICAgLy8gc3RyaW5nIGlmIG5vdC5cbiAgICB0b01NUGF0dGVybigpIHtcbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIHJvb3RcbiAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzICE9PSB0aGlzLiNyb290KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3Jvb3QudG9NTVBhdHRlcm4oKTtcbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgY29uc3QgZ2xvYiA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgW3JlLCBib2R5LCBoYXNNYWdpYywgdWZsYWddID0gdGhpcy50b1JlZ0V4cFNvdXJjZSgpO1xuICAgICAgICAvLyBpZiB3ZSdyZSBpbiBub2Nhc2UgbW9kZSwgYW5kIG5vdCBub2Nhc2VNYWdpY09ubHksIHRoZW4gd2UgZG9cbiAgICAgICAgLy8gc3RpbGwgbmVlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpZiB3ZSBoYXZlIHRvIGNhc2UtaW5zZW5zaXRpdmVseVxuICAgICAgICAvLyBtYXRjaCBjYXBpdGFsL2xvd2VyY2FzZSBjaGFyYWN0ZXJzLlxuICAgICAgICBjb25zdCBhbnlNYWdpYyA9IGhhc01hZ2ljIHx8XG4gICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyB8fFxuICAgICAgICAgICAgKHRoaXMuI29wdGlvbnMubm9jYXNlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuI29wdGlvbnMubm9jYXNlTWFnaWNPbmx5ICYmXG4gICAgICAgICAgICAgICAgZ2xvYi50b1VwcGVyQ2FzZSgpICE9PSBnbG9iLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoIWFueU1hZ2ljKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmbGFncyA9ICh0aGlzLiNvcHRpb25zLm5vY2FzZSA/ICdpJyA6ICcnKSArICh1ZmxhZyA/ICd1JyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFJlZ0V4cChgXiR7cmV9JGAsIGZsYWdzKSwge1xuICAgICAgICAgICAgX3NyYzogcmUsXG4gICAgICAgICAgICBfZ2xvYjogZ2xvYixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jb3B0aW9ucztcbiAgICB9XG4gICAgLy8gcmV0dXJucyB0aGUgc3RyaW5nIG1hdGNoLCB0aGUgcmVnZXhwIHNvdXJjZSwgd2hldGhlciB0aGVyZSdzIG1hZ2ljXG4gICAgLy8gaW4gdGhlIHJlZ2V4cCAoc28gYSByZWd1bGFyIGV4cHJlc3Npb24gaXMgcmVxdWlyZWQpIGFuZCB3aGV0aGVyIG9yXG4gICAgLy8gbm90IHRoZSB1ZmxhZyBpcyBuZWVkZWQgZm9yIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gKGZvciBwb3NpeCBjbGFzc2VzKVxuICAgIC8vIFRPRE86IGluc3RlYWQgb2YgaW5qZWN0aW5nIHRoZSBzdGFydC9lbmQgYXQgdGhpcyBwb2ludCwganVzdCByZXR1cm5cbiAgICAvLyB0aGUgQk9EWSBvZiB0aGUgcmVnZXhwLCBhbG9uZyB3aXRoIHRoZSBzdGFydC9lbmQgcG9ydGlvbnMgc3VpdGFibGVcbiAgICAvLyBmb3IgYmluZGluZyB0aGUgc3RhcnQvZW5kIGluIGVpdGhlciBhIGpvaW5lZCBmdWxsLXBhdGggbWFrZVJlIGNvbnRleHRcbiAgICAvLyAod2hlcmUgd2UgYmluZCB0byAoXnwvKSwgb3IgYSBzdGFuZGFsb25lIG1hdGNoUGFydCBjb250ZXh0ICh3aGVyZVxuICAgIC8vIHdlIGJpbmQgdG8gXiwgYW5kIG5vdCAvKS4gIE90aGVyd2lzZSBzbGFzaGVzIGdldCBkdXBlZCFcbiAgICAvL1xuICAgIC8vIEluIHBhcnQtbWF0Y2hpbmcgbW9kZSwgdGhlIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiBeKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiBeXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogXig/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBub3QgaXNFbmQoKTogbm90aGluZ1xuICAgIC8vIC0gZWxzZTogJFxuICAgIC8vXG4gICAgLy8gSW4gZnVsbC1wYXRoIG1hdGNoaW5nIG1vZGUsIHdlIHB1dCB0aGUgc2xhc2ggYXQgdGhlIFNUQVJUIG9mIHRoZVxuICAgIC8vIHBhdHRlcm4sIHNvIHN0YXJ0IGlzOlxuICAgIC8vIC0gaWYgZmlyc3QgcGF0dGVybjogc2FtZSBhcyBwYXJ0LW1hdGNoaW5nIG1vZGVcbiAgICAvLyAtIGlmIG5vdCBpc1N0YXJ0KCk6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAvKD8hXFwuXFwuPyg/OiR8LykpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAvXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogLyg/IVxcLilcbiAgICAvLyBlbmQgaXM6XG4gICAgLy8gLSBpZiBsYXN0IHBhdHRlcm4sIHNhbWUgYXMgcGFydC1tYXRjaGluZyBtb2RlXG4gICAgLy8gLSBlbHNlIG5vdGhpbmdcbiAgICAvL1xuICAgIC8vIEFsd2F5cyBwdXQgdGhlICg/OiR8Lykgb24gbmVnYXRlZCB0YWlscywgdGhvdWdoLCBiZWNhdXNlIHRoYXQgaGFzIHRvIGJlXG4gICAgLy8gdGhlcmUgdG8gYmluZCB0aGUgZW5kIG9mIHRoZSBuZWdhdGVkIHBhdHRlcm4gcG9ydGlvbiwgYW5kIGl0J3MgZWFzaWVyIHRvXG4gICAgLy8ganVzdCBzdGljayBpdCBpbiBub3cgcmF0aGVyIHRoYW4gdHJ5IHRvIGluamVjdCBpdCBsYXRlciBpbiB0aGUgbWlkZGxlIG9mXG4gICAgLy8gdGhlIHBhdHRlcm4uXG4gICAgLy9cbiAgICAvLyBXZSBjYW4ganVzdCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGVuZCwgYW5kIGxlYXZlIGl0IHVwIHRvIHRoZSBjYWxsZXJcbiAgICAvLyB0byBrbm93IHdoZXRoZXIgaXQncyBnb2luZyB0byBiZSB1c2VkIGpvaW5lZCBvciBpbiBwYXJ0cy5cbiAgICAvLyBBbmQsIGlmIHRoZSBzdGFydCBpcyBhZGp1c3RlZCBzbGlnaHRseSwgY2FuIGRvIHRoZSBzYW1lIHRoZXJlOlxuICAgIC8vIC0gaWYgbm90IGlzU3RhcnQ6IG5vdGhpbmdcbiAgICAvLyAtIGlmIHRyYXZlcnNhbCBwb3NzaWJsZSwgYnV0IG5vdCBhbGxvd2VkOiAoPzovfF4pKD8hXFwuXFwuPyQpXG4gICAgLy8gLSBpZiBkb3RzIGFsbG93ZWQgb3Igbm90IHBvc3NpYmxlOiAoPzovfF4pXG4gICAgLy8gLSBpZiBkb3RzIHBvc3NpYmxlIGFuZCBub3QgYWxsb3dlZDogKD86L3xeKSg/IVxcLilcbiAgICAvL1xuICAgIC8vIEJ1dCBpdCdzIGJldHRlciB0byBoYXZlIGEgc2ltcGxlciBiaW5kaW5nIHdpdGhvdXQgYSBjb25kaXRpb25hbCwgZm9yXG4gICAgLy8gcGVyZm9ybWFuY2UsIHNvIHByb2JhYmx5IGJldHRlciB0byByZXR1cm4gYm90aCBzdGFydCBvcHRpb25zLlxuICAgIC8vXG4gICAgLy8gVGhlbiB0aGUgY2FsbGVyIGp1c3QgaWdub3JlcyB0aGUgZW5kIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBwYXR0ZXJuLFxuICAgIC8vIGFuZCB0aGUgc3RhcnQgYWx3YXlzIGdldHMgYXBwbGllZC5cbiAgICAvL1xuICAgIC8vIEJ1dCB0aGF0J3MgYWx3YXlzIGdvaW5nIHRvIGJlICQgaWYgaXQncyB0aGUgZW5kaW5nIHBhdHRlcm4sIG9yIG5vdGhpbmcsXG4gICAgLy8gc28gdGhlIGNhbGxlciBjYW4ganVzdCBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gYnVpbGRpbmcuXG4gICAgLy9cbiAgICAvLyBTbyB0aGUgdG9kbyBpczpcbiAgICAvLyAtIGJldHRlciBkZXRlY3Qgd2hhdCBraW5kIG9mIHN0YXJ0IGlzIG5lZWRlZFxuICAgIC8vIC0gcmV0dXJuIGJvdGggZmxhdm9ycyBvZiBzdGFydGluZyBwYXR0ZXJuXG4gICAgLy8gLSBhdHRhY2ggJCBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuIHdoZW4gY3JlYXRpbmcgdGhlIGFjdHVhbCBSZWdFeHBcbiAgICAvL1xuICAgIC8vIEFoLCBidXQgd2FpdCwgbm8sIHRoYXQgYWxsIG9ubHkgYXBwbGllcyB0byB0aGUgcm9vdCB3aGVuIHRoZSBmaXJzdCBwYXR0ZXJuXG4gICAgLy8gaXMgbm90IGFuIGV4dGdsb2IuIElmIHRoZSBmaXJzdCBwYXR0ZXJuIElTIGFuIGV4dGdsb2IsIHRoZW4gd2UgbmVlZCBhbGxcbiAgICAvLyB0aGF0IGRvdCBwcmV2ZW50aW9uIGJpeiB0byBsaXZlIGluIHRoZSBleHRnbG9iIHBvcnRpb25zLCBiZWNhdXNlIGVnXG4gICAgLy8gKygqfC54KikgY2FuIG1hdGNoIC54eSBidXQgbm90IC55eC5cbiAgICAvL1xuICAgIC8vIFNvLCByZXR1cm4gdGhlIHR3byBmbGF2b3JzIGlmIGl0J3MgI3Jvb3QgYW5kIHRoZSBmaXJzdCBjaGlsZCBpcyBub3QgYW5cbiAgICAvLyBBU1QsIG90aGVyd2lzZSBsZWF2ZSBpdCB0byB0aGUgY2hpbGQgQVNUIHRvIGhhbmRsZSBpdCwgYW5kIHRoZXJlLFxuICAgIC8vIHVzZSB0aGUgKD86XnwvKSBzdHlsZSBvZiBzdGFydCBiaW5kaW5nLlxuICAgIC8vXG4gICAgLy8gRXZlbiBzaW1wbGlmaWVkIGZ1cnRoZXI6XG4gICAgLy8gLSBTaW5jZSB0aGUgc3RhcnQgZm9yIGEgam9pbiBpcyBlZyAvKD8hXFwuKSBhbmQgdGhlIHN0YXJ0IGZvciBhIHBhcnRcbiAgICAvLyBpcyBeKD8hXFwuKSwgd2UgY2FuIGp1c3QgcHJlcGVuZCAoPyFcXC4pIHRvIHRoZSBwYXR0ZXJuIChlaXRoZXIgcm9vdFxuICAgIC8vIG9yIHN0YXJ0IG9yIHdoYXRldmVyKSBhbmQgcHJlcGVuZCBeIG9yIC8gYXQgdGhlIFJlZ2V4cCBjb25zdHJ1Y3Rpb24uXG4gICAgdG9SZWdFeHBTb3VyY2UoYWxsb3dEb3QpIHtcbiAgICAgICAgY29uc3QgZG90ID0gYWxsb3dEb3QgPz8gISF0aGlzLiNvcHRpb25zLmRvdDtcbiAgICAgICAgaWYgKHRoaXMuI3Jvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiNmaWxsTmVncygpO1xuICAgICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9FbXB0eSA9IHRoaXMuaXNTdGFydCgpICYmIHRoaXMuaXNFbmQoKTtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuI3BhcnRzXG4gICAgICAgICAgICAgICAgLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbcmUsIF8sIGhhc01hZ2ljLCB1ZmxhZ10gPSB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBBU1QuI3BhcnNlR2xvYihwLCB0aGlzLiNoYXNNYWdpYywgbm9FbXB0eSlcbiAgICAgICAgICAgICAgICAgICAgOiBwLnRvUmVnRXhwU291cmNlKGFsbG93RG90KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNoYXNNYWdpYyA9IHRoaXMuI2hhc01hZ2ljIHx8IGhhc01hZ2ljO1xuICAgICAgICAgICAgICAgIHRoaXMuI3VmbGFnID0gdGhpcy4jdWZsYWcgfHwgdWZsYWc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy4jcGFydHNbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHN0cmluZyB0aGF0IHdpbGwgbWF0Y2ggdGhlIHN0YXJ0IG9mIHRoZSBwYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHByb3RlY3QgYWdhaW5zdCBkb3RzIGFuZCBzdWNoLlxuICAgICAgICAgICAgICAgICAgICAvLyAnLicgYW5kICcuLicgY2Fubm90IG1hdGNoIHVubGVzcyB0aGUgcGF0dGVybiBpcyB0aGF0IGV4YWN0bHksXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgaXQgc3RhcnRzIHdpdGggLiBvciBkb3Q6dHJ1ZSBpcyBzZXQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdFRyYXZBbGxvd2VkID0gdGhpcy4jcGFydHMubGVuZ3RoID09PSAxICYmIGp1c3REb3RzLmhhcyh0aGlzLiNwYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG90VHJhdkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwcyA9IGFkZFBhdHRlcm5TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBwb3NzaWJpbGl0eSBvZiBtYXRjaGluZyAuIG9yIC4uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHByZXZlbnQgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb1RyYXYgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvdHMgYXJlIGFsbG93ZWQsIGFuZCB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBbIG9yIC5cbiAgICAgICAgICAgICAgICAgICAgICAgIChkb3QgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDApKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcGF0dGVybiBzdGFydHMgd2l0aCBcXC4sIGFuZCB0aGVuIFsgb3IgLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzcmMuc3RhcnRzV2l0aCgnXFxcXC4nKSAmJiBhcHMuaGFzKHNyYy5jaGFyQXQoMikpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXR0ZXJuIHN0YXJ0cyB3aXRoIFxcLlxcLiwgYW5kIHRoZW4gWyBvciAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNyYy5zdGFydHNXaXRoKCdcXFxcLlxcXFwuJykgJiYgYXBzLmhhcyhzcmMuY2hhckF0KDQpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIHByZXZlbnQgZG90cyBpZiBpdCBjYW4ndCBtYXRjaCBhIGRvdCwgb3IgaWYgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ViLXBhdHRlcm4gd2lsbCBiZSBwcmV2ZW50aW5nIGl0IGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWROb0RvdCA9ICFkb3QgJiYgIWFsbG93RG90ICYmIGFwcy5oYXMoc3JjLmNoYXJBdCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG5lZWROb1RyYXYgPyBzdGFydE5vVHJhdmVyc2FsIDogbmVlZE5vRG90ID8gc3RhcnROb0RvdCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBcImVuZCBvZiBwYXRoIHBvcnRpb25cIiBwYXR0ZXJuIHRvIG5lZ2F0aW9uIHRhaWxzXG4gICAgICAgICAgICBsZXQgZW5kID0gJyc7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuZCgpICYmXG4gICAgICAgICAgICAgICAgdGhpcy4jcm9vdC4jZmlsbGVkTmVncyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuI3BhcmVudD8udHlwZSA9PT0gJyEnKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gJyg/OiR8XFxcXC8pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsID0gc3RhcnQgKyBzcmMgKyBlbmQ7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGZpbmFsLFxuICAgICAgICAgICAgICAgIHVuZXNjYXBlKHNyYyksXG4gICAgICAgICAgICAgICAgKHRoaXMuI2hhc01hZ2ljID0gISF0aGlzLiNoYXNNYWdpYyksXG4gICAgICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBib2R5ICp0d2ljZSogaWYgaXQncyBhIHJlcGVhdCBwYXR0ZXJuXG4gICAgICAgIC8vIGF0IHRoZSBzdGFydCwgb25jZSBpbiBub2RvdCBtb2RlLCB0aGVuIGFnYWluIGluIGRvdCBtb2RlLCBzbyBhXG4gICAgICAgIC8vIHBhdHRlcm4gbGlrZSAqKD8pIGNhbiBtYXRjaCAneC55J1xuICAgICAgICBjb25zdCByZXBlYXRlZCA9IHRoaXMudHlwZSA9PT0gJyonIHx8IHRoaXMudHlwZSA9PT0gJysnO1xuICAgICAgICAvLyBzb21lIGtpbmQgb2YgZXh0Z2xvYlxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMudHlwZSA9PT0gJyEnID8gJyg/Oig/ISg/OicgOiAnKD86JztcbiAgICAgICAgbGV0IGJvZHkgPSB0aGlzLiNwYXJ0c1RvUmVnRXhwKGRvdCk7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhcnQoKSAmJiB0aGlzLmlzRW5kKCkgJiYgIWJvZHkgJiYgdGhpcy50eXBlICE9PSAnIScpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgZXh0Z2xvYiwgaGFzIHRvIGF0IGxlYXN0IGJlICpzb21ldGhpbmcqIHByZXNlbnQsIGlmIGl0J3NcbiAgICAgICAgICAgIC8vIHRoZSBlbnRpcmUgcGF0aCBwb3J0aW9uLlxuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuI3BhcnRzID0gW3NdO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuI2hhc01hZ2ljID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIFtzLCB1bmVzY2FwZSh0aGlzLnRvU3RyaW5nKCkpLCBmYWxzZSwgZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFhYWCBhYnN0cmFjdCBvdXQgdGhpcyBtYXAgbWV0aG9kXG4gICAgICAgIGxldCBib2R5RG90QWxsb3dlZCA9ICFyZXBlYXRlZCB8fCBhbGxvd0RvdCB8fCBkb3QgfHwgIXN0YXJ0Tm9Eb3RcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogdGhpcy4jcGFydHNUb1JlZ0V4cCh0cnVlKTtcbiAgICAgICAgaWYgKGJvZHlEb3RBbGxvd2VkID09PSBib2R5KSB7XG4gICAgICAgICAgICBib2R5RG90QWxsb3dlZCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5RG90QWxsb3dlZCkge1xuICAgICAgICAgICAgYm9keSA9IGAoPzoke2JvZHl9KSg/OiR7Ym9keURvdEFsbG93ZWR9KSo/YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiBlbXB0eSAhKCkgaXMgZXhhY3RseSBlcXVpdmFsZW50IHRvIGEgc3Rhck5vRW1wdHlcbiAgICAgICAgbGV0IGZpbmFsID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICchJyAmJiB0aGlzLiNlbXB0eUV4dCkge1xuICAgICAgICAgICAgZmluYWwgPSAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCA/IHN0YXJ0Tm9Eb3QgOiAnJykgKyBzdGFyTm9FbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlID0gdGhpcy50eXBlID09PSAnISdcbiAgICAgICAgICAgICAgICA/IC8vICEoKSBtdXN0IG1hdGNoIHNvbWV0aGluZyxidXQgISh4KSBjYW4gbWF0Y2ggJydcbiAgICAgICAgICAgICAgICAgICAgJykpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5pc1N0YXJ0KCkgJiYgIWRvdCAmJiAhYWxsb3dEb3QgPyBzdGFydE5vRG90IDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgOiB0aGlzLnR5cGUgPT09ICdAJ1xuICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcpPydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKycgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy50eXBlID09PSAnKicgJiYgYm9keURvdEFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgKT9gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCkke3RoaXMudHlwZX1gO1xuICAgICAgICAgICAgZmluYWwgPSBzdGFydCArIGJvZHkgKyBjbG9zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZmluYWwsXG4gICAgICAgICAgICB1bmVzY2FwZShib2R5KSxcbiAgICAgICAgICAgICh0aGlzLiNoYXNNYWdpYyA9ICEhdGhpcy4jaGFzTWFnaWMpLFxuICAgICAgICAgICAgdGhpcy4jdWZsYWcsXG4gICAgICAgIF07XG4gICAgfVxuICAgICNwYXJ0c1RvUmVnRXhwKGRvdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFydHNcbiAgICAgICAgICAgIC5tYXAocCA9PiB7XG4gICAgICAgICAgICAvLyBleHRnbG9iIEFTVHMgc2hvdWxkIG9ubHkgY29udGFpbiBwYXJlbnQgQVNUc1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgdHlwZSBpbiBleHRnbG9iIGFzdD8/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgLy8gY2FuIGlnbm9yZSBoYXNNYWdpYywgYmVjYXVzZSBleHRnbG9icyBhcmUgYWxyZWFkeSBhbHdheXMgbWFnaWNcbiAgICAgICAgICAgIGNvbnN0IFtyZSwgXywgX2hhc01hZ2ljLCB1ZmxhZ10gPSBwLnRvUmVnRXhwU291cmNlKGRvdCk7XG4gICAgICAgICAgICB0aGlzLiN1ZmxhZyA9IHRoaXMuI3VmbGFnIHx8IHVmbGFnO1xuICAgICAgICAgICAgcmV0dXJuIHJlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihwID0+ICEodGhpcy5pc1N0YXJ0KCkgJiYgdGhpcy5pc0VuZCgpKSB8fCAhIXApXG4gICAgICAgICAgICAuam9pbignfCcpO1xuICAgIH1cbiAgICBzdGF0aWMgI3BhcnNlR2xvYihnbG9iLCBoYXNNYWdpYywgbm9FbXB0eSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBlc2NhcGluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgcmUgPSAnJztcbiAgICAgICAgbGV0IHVmbGFnID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYyA9IGdsb2IuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGVzY2FwaW5nKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZSArPSAocmVTcGVjaWFscy5oYXMoYykgPyAnXFxcXCcgOiAnJykgKyBjO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBnbG9iLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gJ1xcXFxcXFxcJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3NyYywgbmVlZFVmbGFnLCBjb25zdW1lZCwgbWFnaWNdID0gcGFyc2VDbGFzcyhnbG9iLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3JjO1xuICAgICAgICAgICAgICAgICAgICB1ZmxhZyA9IHVmbGFnIHx8IG5lZWRVZmxhZztcbiAgICAgICAgICAgICAgICAgICAgaSArPSBjb25zdW1lZCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgbWFnaWM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9FbXB0eSAmJiBnbG9iID09PSAnKicpXG4gICAgICAgICAgICAgICAgICAgIHJlICs9IHN0YXJOb0VtcHR5O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmUgKz0gc3RhcjtcbiAgICAgICAgICAgICAgICBoYXNNYWdpYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgICAgcmUgKz0gcW1hcms7XG4gICAgICAgICAgICAgICAgaGFzTWFnaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmUgKz0gcmVnRXhwRXNjYXBlKGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmUsIHVuZXNjYXBlKGdsb2IpLCAhIWhhc01hZ2ljLCB1ZmxhZ107XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN0LmpzLm1hcCIsIi8qKlxuICogRXNjYXBlIGFsbCBtYWdpYyBjaGFyYWN0ZXJzIGluIGEgZ2xvYiBwYXR0ZXJuLlxuICpcbiAqIElmIHRoZSB7QGxpbmsgd2luZG93c1BhdGhzTm9Fc2NhcGUgfCBHbG9iT3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZX1cbiAqIG9wdGlvbiBpcyB1c2VkLCB0aGVuIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQgYnkgd3JhcHBpbmcgaW4gYFtdYCwgYmVjYXVzZVxuICogYSBtYWdpYyBjaGFyYWN0ZXIgd3JhcHBlZCBpbiBhIGNoYXJhY3RlciBjbGFzcyBjYW4gb25seSBiZSBzYXRpc2ZpZWQgYnlcbiAqIHRoYXQgZXhhY3QgY2hhcmFjdGVyLiAgSW4gdGhpcyBtb2RlLCBgXFxgIGlzIF9ub3RfIGVzY2FwZWQsIGJlY2F1c2UgaXQgaXNcbiAqIG5vdCBpbnRlcnByZXRlZCBhcyBhIG1hZ2ljIGNoYXJhY3RlciwgYnV0IGluc3RlYWQgYXMgYSBwYXRoIHNlcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGVzY2FwZSA9IChzLCB7IHdpbmRvd3NQYXRoc05vRXNjYXBlID0gZmFsc2UsIH0gPSB7fSkgPT4ge1xuICAgIC8vIGRvbid0IG5lZWQgdG8gZXNjYXBlICtAISBiZWNhdXNlIHdlIGVzY2FwZSB0aGUgcGFyZW5zXG4gICAgLy8gdGhhdCBtYWtlIHRob3NlIG1hZ2ljLCBhbmQgZXNjYXBpbmcgISBhcyBbIV0gaXNuJ3QgdmFsaWQsXG4gICAgLy8gYmVjYXVzZSBbIV1dIGlzIGEgdmFsaWQgZ2xvYiBjbGFzcyBtZWFuaW5nIG5vdCAnXScuXG4gICAgcmV0dXJuIHdpbmRvd3NQYXRoc05vRXNjYXBlXG4gICAgICAgID8gcy5yZXBsYWNlKC9bPyooKVtcXF1dL2csICdbJCZdJylcbiAgICAgICAgOiBzLnJlcGxhY2UoL1s/KigpW1xcXVxcXFxdL2csICdcXFxcJCYnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lc2NhcGUuanMubWFwIiwiaW1wb3J0IGV4cGFuZCBmcm9tICdicmFjZS1leHBhbnNpb24nO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRQYXR0ZXJuIH0gZnJvbSAnLi9hc3NlcnQtdmFsaWQtcGF0dGVybi5qcyc7XG5pbXBvcnQgeyBBU1QgfSBmcm9tICcuL2FzdC5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuL2VzY2FwZS5qcyc7XG5pbXBvcnQgeyB1bmVzY2FwZSB9IGZyb20gJy4vdW5lc2NhcGUuanMnO1xuZXhwb3J0IGNvbnN0IG1pbmltYXRjaCA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gc2hvcnRjdXQ6IGNvbW1lbnRzIG1hdGNoIG5vdGhpbmcuXG4gICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWF0Y2gocCk7XG59O1xuLy8gT3B0aW1pemVkIGNoZWNraW5nIGZvciB0aGUgbW9zdCBjb21tb24gZ2xvYiBwYXR0ZXJucy5cbmNvbnN0IHN0YXJEb3RFeHRSRSA9IC9eXFwqKyhbXitAIT9cXCpcXFtcXChdKikkLztcbmNvbnN0IHN0YXJEb3RFeHRUZXN0ID0gKGV4dCkgPT4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdERvdCA9IChleHQpID0+IChmKSA9PiBmLmVuZHNXaXRoKGV4dCk7XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZSA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+ICFmLnN0YXJ0c1dpdGgoJy4nKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBzdGFyRG90RXh0VGVzdE5vY2FzZURvdCA9IChleHQpID0+IHtcbiAgICBleHQgPSBleHQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gKGYpID0+IGYudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHN0YXJEb3RTdGFyUkUgPSAvXlxcKitcXC5cXCorJC87XG5jb25zdCBzdGFyRG90U3RhclRlc3QgPSAoZikgPT4gIWYuc3RhcnRzV2l0aCgnLicpICYmIGYuaW5jbHVkZXMoJy4nKTtcbmNvbnN0IHN0YXJEb3RTdGFyVGVzdERvdCA9IChmKSA9PiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJyAmJiBmLmluY2x1ZGVzKCcuJyk7XG5jb25zdCBkb3RTdGFyUkUgPSAvXlxcLlxcKiskLztcbmNvbnN0IGRvdFN0YXJUZXN0ID0gKGYpID0+IGYgIT09ICcuJyAmJiBmICE9PSAnLi4nICYmIGYuc3RhcnRzV2l0aCgnLicpO1xuY29uc3Qgc3RhclJFID0gL15cXCorJC87XG5jb25zdCBzdGFyVGVzdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG5jb25zdCBzdGFyVGVzdERvdCA9IChmKSA9PiBmLmxlbmd0aCAhPT0gMCAmJiBmICE9PSAnLicgJiYgZiAhPT0gJy4uJztcbmNvbnN0IHFtYXJrc1JFID0gL15cXD8rKFteK0AhP1xcKlxcW1xcKF0qKT8kLztcbmNvbnN0IHFtYXJrc1Rlc3ROb2Nhc2UgPSAoWyQwLCBleHQgPSAnJ10pID0+IHtcbiAgICBjb25zdCBub2V4dCA9IHFtYXJrc1Rlc3ROb0V4dChbJDBdKTtcbiAgICBpZiAoIWV4dClcbiAgICAgICAgcmV0dXJuIG5vZXh0O1xuICAgIGV4dCA9IGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAoZikgPT4gbm9leHQoZikgJiYgZi50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vY2FzZURvdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0RG90KFskMF0pO1xuICAgIGlmICghZXh0KVxuICAgICAgICByZXR1cm4gbm9leHQ7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIChmKSA9PiBub2V4dChmKSAmJiBmLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTtcbn07XG5jb25zdCBxbWFya3NUZXN0RG90ID0gKFskMCwgZXh0ID0gJyddKSA9PiB7XG4gICAgY29uc3Qgbm9leHQgPSBxbWFya3NUZXN0Tm9FeHREb3QoWyQwXSk7XG4gICAgcmV0dXJuICFleHQgPyBub2V4dCA6IChmKSA9PiBub2V4dChmKSAmJiBmLmVuZHNXaXRoKGV4dCk7XG59O1xuY29uc3QgcW1hcmtzVGVzdCA9IChbJDAsIGV4dCA9ICcnXSkgPT4ge1xuICAgIGNvbnN0IG5vZXh0ID0gcW1hcmtzVGVzdE5vRXh0KFskMF0pO1xuICAgIHJldHVybiAhZXh0ID8gbm9leHQgOiAoZikgPT4gbm9leHQoZikgJiYgZi5lbmRzV2l0aChleHQpO1xufTtcbmNvbnN0IHFtYXJrc1Rlc3ROb0V4dCA9IChbJDBdKSA9PiB7XG4gICAgY29uc3QgbGVuID0gJDAubGVuZ3RoO1xuICAgIHJldHVybiAoZikgPT4gZi5sZW5ndGggPT09IGxlbiAmJiAhZi5zdGFydHNXaXRoKCcuJyk7XG59O1xuY29uc3QgcW1hcmtzVGVzdE5vRXh0RG90ID0gKFskMF0pID0+IHtcbiAgICBjb25zdCBsZW4gPSAkMC5sZW5ndGg7XG4gICAgcmV0dXJuIChmKSA9PiBmLmxlbmd0aCA9PT0gbGVuICYmIGYgIT09ICcuJyAmJiBmICE9PSAnLi4nO1xufTtcbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuY29uc3QgZGVmYXVsdFBsYXRmb3JtID0gKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiBwcm9jZXNzXG4gICAgPyAodHlwZW9mIHByb2Nlc3MuZW52ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwcm9jZXNzLmVudiAmJlxuICAgICAgICBwcm9jZXNzLmVudi5fX01JTklNQVRDSF9URVNUSU5HX1BMQVRGT1JNX18pIHx8XG4gICAgICAgIHByb2Nlc3MucGxhdGZvcm1cbiAgICA6ICdwb3NpeCcpO1xuY29uc3QgcGF0aCA9IHtcbiAgICB3aW4zMjogeyBzZXA6ICdcXFxcJyB9LFxuICAgIHBvc2l4OiB7IHNlcDogJy8nIH0sXG59O1xuLyogYzggaWdub3JlIHN0b3AgKi9cbmV4cG9ydCBjb25zdCBzZXAgPSBkZWZhdWx0UGxhdGZvcm0gPT09ICd3aW4zMicgPyBwYXRoLndpbjMyLnNlcCA6IHBhdGgucG9zaXguc2VwO1xubWluaW1hdGNoLnNlcCA9IHNlcDtcbmV4cG9ydCBjb25zdCBHTE9CU1RBUiA9IFN5bWJvbCgnZ2xvYnN0YXIgKionKTtcbm1pbmltYXRjaC5HTE9CU1RBUiA9IEdMT0JTVEFSO1xuLy8gYW55IHNpbmdsZSB0aGluZyBvdGhlciB0aGFuIC9cbi8vIGRvbid0IG5lZWQgdG8gZXNjYXBlIC8gd2hlbiB1c2luZyBuZXcgUmVnRXhwKClcbmNvbnN0IHFtYXJrID0gJ1teL10nO1xuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbmNvbnN0IHN0YXIgPSBxbWFyayArICcqPyc7XG4vLyAqKiB3aGVuIGRvdHMgYXJlIGFsbG93ZWQuICBBbnl0aGluZyBnb2VzLCBleGNlcHQgLi4gYW5kIC5cbi8vIG5vdCAoXiBvciAvIGZvbGxvd2VkIGJ5IG9uZSBvciB0d28gZG90cyBmb2xsb3dlZCBieSAkIG9yIC8pLFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG5jb25zdCB0d29TdGFyRG90ID0gJyg/Oig/ISg/OlxcXFwvfF4pKD86XFxcXC57MSwyfSkoJHxcXFxcLykpLikqPyc7XG4vLyBub3QgYSBeIG9yIC8gZm9sbG93ZWQgYnkgYSBkb3QsXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbmNvbnN0IHR3b1N0YXJOb0RvdCA9ICcoPzooPyEoPzpcXFxcL3xeKVxcXFwuKS4pKj8nO1xuZXhwb3J0IGNvbnN0IGZpbHRlciA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IChwKSA9PiBtaW5pbWF0Y2gocCwgcGF0dGVybiwgb3B0aW9ucyk7XG5taW5pbWF0Y2guZmlsdGVyID0gZmlsdGVyO1xuY29uc3QgZXh0ID0gKGEsIGIgPSB7fSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYSwgYik7XG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSAoZGVmKSA9PiB7XG4gICAgaWYgKCFkZWYgfHwgdHlwZW9mIGRlZiAhPT0gJ29iamVjdCcgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBtaW5pbWF0Y2g7XG4gICAgfVxuICAgIGNvbnN0IG9yaWcgPSBtaW5pbWF0Y2g7XG4gICAgY29uc3QgbSA9IChwLCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcocCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG0sIHtcbiAgICAgICAgTWluaW1hdGNoOiBjbGFzcyBNaW5pbWF0Y2ggZXh0ZW5kcyBvcmlnLk1pbmltYXRjaCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICBzdXBlcihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0aWMgZGVmYXVsdHMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKS5NaW5pbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEFTVDogY2xhc3MgQVNUIGV4dGVuZHMgb3JpZy5BU1Qge1xuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcih0eXBlLCBwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgICAgIHN1cGVyKHR5cGUsIHBhcmVudCwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgICAgIHN0YXRpYyBmcm9tR2xvYihwYXR0ZXJuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5BU1QuZnJvbUdsb2IocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bmVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy51bmVzY2FwZShzLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGVzY2FwZTogKHMsIG9wdGlvbnMgPSB7fSkgPT4gb3JpZy5lc2NhcGUocywgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBmaWx0ZXI6IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcuZmlsdGVyKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgZGVmYXVsdHM6IChvcHRpb25zKSA9PiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWFrZVJlOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLm1ha2VSZShwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSksXG4gICAgICAgIGJyYWNlRXhwYW5kOiAocGF0dGVybiwgb3B0aW9ucyA9IHt9KSA9PiBvcmlnLmJyYWNlRXhwYW5kKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKSxcbiAgICAgICAgbWF0Y2g6IChsaXN0LCBwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG9yaWcubWF0Y2gobGlzdCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpLFxuICAgICAgICBzZXA6IG9yaWcuc2VwLFxuICAgICAgICBHTE9CU1RBUjogR0xPQlNUQVIsXG4gICAgfSk7XG59O1xubWluaW1hdGNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4vLyBCcmFjZSBleHBhbnNpb246XG4vLyBhe2IsY31kIC0+IGFiZCBhY2Rcbi8vIGF7Yix9YyAtPiBhYmMgYWNcbi8vIGF7MC4uM31kIC0+IGEwZCBhMWQgYTJkIGEzZFxuLy8gYXtiLGN7ZCxlfWZ9ZyAtPiBhYmcgYWNkZmcgYWNlZmdcbi8vIGF7YixjfWR7ZSxmfWcgLT4gYWJkZWcgYWNkZWcgYWJkZWcgYWJkZmdcbi8vXG4vLyBJbnZhbGlkIHNldHMgYXJlIG5vdCBleHBhbmRlZC5cbi8vIGF7Mi4ufWIgLT4gYXsyLi59YlxuLy8gYXtifWMgLT4gYXtifWNcbmV4cG9ydCBjb25zdCBicmFjZUV4cGFuZCA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybik7XG4gICAgLy8gVGhhbmtzIHRvIFlldGluZyBMaSA8aHR0cHM6Ly9naXRodWIuY29tL3lldGluZ2xpPiBmb3JcbiAgICAvLyBpbXByb3ZpbmcgdGhpcyByZWdleHAgdG8gYXZvaWQgYSBSZURPUyB2dWxuZXJhYmlsaXR5LlxuICAgIGlmIChvcHRpb25zLm5vYnJhY2UgfHwgIS9cXHsoPzooPyFcXHspLikqXFx9Ly50ZXN0KHBhdHRlcm4pKSB7XG4gICAgICAgIC8vIHNob3J0Y3V0LiBubyBuZWVkIHRvIGV4cGFuZC5cbiAgICAgICAgcmV0dXJuIFtwYXR0ZXJuXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGFuZChwYXR0ZXJuKTtcbn07XG5taW5pbWF0Y2guYnJhY2VFeHBhbmQgPSBicmFjZUV4cGFuZDtcbi8vIHBhcnNlIGEgY29tcG9uZW50IG9mIHRoZSBleHBhbmRlZCBzZXQuXG4vLyBBdCB0aGlzIHBvaW50LCBubyBwYXR0ZXJuIG1heSBjb250YWluIFwiL1wiIGluIGl0XG4vLyBzbyB3ZSdyZSBnb2luZyB0byByZXR1cm4gYSAyZCBhcnJheSwgd2hlcmUgZWFjaCBlbnRyeSBpcyB0aGUgZnVsbFxuLy8gcGF0dGVybiwgc3BsaXQgb24gJy8nLCBhbmQgdGhlbiB0dXJuZWQgaW50byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbi8vIEEgcmVnZXhwIGlzIG1hZGUgYXQgdGhlIGVuZCB3aGljaCBqb2lucyBlYWNoIGFycmF5IHdpdGggYW5cbi8vIGVzY2FwZWQgLywgYW5kIGFub3RoZXIgZnVsbCBvbmUgd2hpY2ggam9pbnMgZWFjaCByZWdleHAgd2l0aCB8LlxuLy9cbi8vIEZvbGxvd2luZyB0aGUgbGVhZCBvZiBCYXNoIDQuMSwgbm90ZSB0aGF0IFwiKipcIiBvbmx5IGhhcyBzcGVjaWFsIG1lYW5pbmdcbi8vIHdoZW4gaXQgaXMgdGhlICpvbmx5KiB0aGluZyBpbiBhIHBhdGggcG9ydGlvbi4gIE90aGVyd2lzZSwgYW55IHNlcmllc1xuLy8gb2YgKiBpcyBlcXVpdmFsZW50IHRvIGEgc2luZ2xlICouICBHbG9ic3RhciBiZWhhdmlvciBpcyBlbmFibGVkIGJ5XG4vLyBkZWZhdWx0LCBhbmQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgb3B0aW9ucy5ub2dsb2JzdGFyLlxuZXhwb3J0IGNvbnN0IG1ha2VSZSA9IChwYXR0ZXJuLCBvcHRpb25zID0ge30pID0+IG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWFrZVJlKCk7XG5taW5pbWF0Y2gubWFrZVJlID0gbWFrZVJlO1xuZXhwb3J0IGNvbnN0IG1hdGNoID0gKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1tID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICBsaXN0ID0gbGlzdC5maWx0ZXIoZiA9PiBtbS5tYXRjaChmKSk7XG4gICAgaWYgKG1tLm9wdGlvbnMubm9udWxsICYmICFsaXN0Lmxlbmd0aCkge1xuICAgICAgICBsaXN0LnB1c2gocGF0dGVybik7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufTtcbm1pbmltYXRjaC5tYXRjaCA9IG1hdGNoO1xuLy8gcmVwbGFjZSBzdHVmZiBsaWtlIFxcKiB3aXRoICpcbmNvbnN0IGdsb2JNYWdpYyA9IC9bPypdfFsrQCFdXFwoLio/XFwpfFxcW3xcXF0vO1xuY29uc3QgcmVnRXhwRXNjYXBlID0gKHMpID0+IHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbmV4cG9ydCBjbGFzcyBNaW5pbWF0Y2gge1xuICAgIG9wdGlvbnM7XG4gICAgc2V0O1xuICAgIHBhdHRlcm47XG4gICAgd2luZG93c1BhdGhzTm9Fc2NhcGU7XG4gICAgbm9uZWdhdGU7XG4gICAgbmVnYXRlO1xuICAgIGNvbW1lbnQ7XG4gICAgZW1wdHk7XG4gICAgcHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgcGFydGlhbDtcbiAgICBnbG9iU2V0O1xuICAgIGdsb2JQYXJ0cztcbiAgICBub2Nhc2U7XG4gICAgaXNXaW5kb3dzO1xuICAgIHBsYXRmb3JtO1xuICAgIHdpbmRvd3NOb01hZ2ljUm9vdDtcbiAgICByZWdleHA7XG4gICAgY29uc3RydWN0b3IocGF0dGVybiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBvcHRpb25zLnBsYXRmb3JtIHx8IGRlZmF1bHRQbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5pc1dpbmRvd3MgPSB0aGlzLnBsYXRmb3JtID09PSAnd2luMzInO1xuICAgICAgICB0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlID1cbiAgICAgICAgICAgICEhb3B0aW9ucy53aW5kb3dzUGF0aHNOb0VzY2FwZSB8fCBvcHRpb25zLmFsbG93V2luZG93c0VzY2FwZSA9PT0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLndpbmRvd3NQYXRoc05vRXNjYXBlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSB0aGlzLnBhdHRlcm4ucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMgPSAhIW9wdGlvbnMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXM7XG4gICAgICAgIHRoaXMucmVnZXhwID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub25lZ2F0ZSA9ICEhb3B0aW9ucy5ub25lZ2F0ZTtcbiAgICAgICAgdGhpcy5jb21tZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJ0aWFsID0gISFvcHRpb25zLnBhcnRpYWw7XG4gICAgICAgIHRoaXMubm9jYXNlID0gISF0aGlzLm9wdGlvbnMubm9jYXNlO1xuICAgICAgICB0aGlzLndpbmRvd3NOb01hZ2ljUm9vdCA9XG4gICAgICAgICAgICBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLndpbmRvd3NOb01hZ2ljUm9vdFxuICAgICAgICAgICAgICAgIDogISEodGhpcy5pc1dpbmRvd3MgJiYgdGhpcy5ub2Nhc2UpO1xuICAgICAgICB0aGlzLmdsb2JTZXQgPSBbXTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXQgPSBbXTtcbiAgICAgICAgLy8gbWFrZSB0aGUgc2V0IG9mIHJlZ2V4cHMgZXRjLlxuICAgICAgICB0aGlzLm1ha2UoKTtcbiAgICB9XG4gICAgaGFzTWFnaWMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFnaWNhbEJyYWNlcyAmJiB0aGlzLnNldC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdGhpcy5zZXQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWJ1ZyguLi5fKSB7IH1cbiAgICBtYWtlKCkge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyBlbXB0eSBwYXR0ZXJucyBhbmQgY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGF0dGVybikge1xuICAgICAgICAgICAgdGhpcy5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcCAxOiBmaWd1cmUgb3V0IG5lZ2F0aW9uLCBldGMuXG4gICAgICAgIHRoaXMucGFyc2VOZWdhdGUoKTtcbiAgICAgICAgLy8gc3RlcCAyOiBleHBhbmQgYnJhY2VzXG4gICAgICAgIHRoaXMuZ2xvYlNldCA9IFsuLi5uZXcgU2V0KHRoaXMuYnJhY2VFeHBhbmQoKSldO1xuICAgICAgICBpZiAob3B0aW9ucy5kZWJ1Zykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9ICguLi5hcmdzKSA9PiBjb25zb2xlLmVycm9yKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCB0aGlzLmdsb2JTZXQpO1xuICAgICAgICAvLyBzdGVwIDM6IG5vdyB3ZSBoYXZlIGEgc2V0LCBzbyB0dXJuIGVhY2ggb25lIGludG8gYSBzZXJpZXMgb2ZcbiAgICAgICAgLy8gcGF0aC1wb3J0aW9uIG1hdGNoaW5nIHBhdHRlcm5zLlxuICAgICAgICAvLyBUaGVzZSB3aWxsIGJlIHJlZ2V4cHMsIGV4Y2VwdCBpbiB0aGUgY2FzZSBvZiBcIioqXCIsIHdoaWNoIGlzXG4gICAgICAgIC8vIHNldCB0byB0aGUgR0xPQlNUQVIgb2JqZWN0IGZvciBnbG9ic3RhciBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHdpbGwgbm90IGNvbnRhaW4gYW55IC8gY2hhcmFjdGVyc1xuICAgICAgICAvL1xuICAgICAgICAvLyBGaXJzdCwgd2UgcHJlcHJvY2VzcyB0byBtYWtlIHRoZSBnbG9iIHBhdHRlcm4gc2V0cyBhIGJpdCBzaW1wbGVyXG4gICAgICAgIC8vIGFuZCBkZWR1cGVkLiAgVGhlcmUgYXJlIHNvbWUgcGVyZi1raWxsaW5nIHBhdHRlcm5zIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHByb2JsZW1zIHdpdGggYSBnbG9iIHdhbGssIGJ1dCB3ZSBjYW4gc2ltcGxpZnkgdGhlbSBkb3duIGEgYml0LlxuICAgICAgICBjb25zdCByYXdHbG9iUGFydHMgPSB0aGlzLmdsb2JTZXQubWFwKHMgPT4gdGhpcy5zbGFzaFNwbGl0KHMpKTtcbiAgICAgICAgdGhpcy5nbG9iUGFydHMgPSB0aGlzLnByZXByb2Nlc3MocmF3R2xvYlBhcnRzKTtcbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuZ2xvYlBhcnRzKTtcbiAgICAgICAgLy8gZ2xvYiAtLT4gcmVnZXhwc1xuICAgICAgICBsZXQgc2V0ID0gdGhpcy5nbG9iUGFydHMubWFwKChzLCBfLCBfXykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzICYmIHRoaXMud2luZG93c05vTWFnaWNSb290KSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXQncyBhIGRyaXZlIG9yIHVuYyBwYXRoLlxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVU5DID0gc1swXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgc1sxXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgKHNbMl0gPT09ICc/JyB8fCAhZ2xvYk1hZ2ljLnRlc3Qoc1syXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICFnbG9iTWFnaWMudGVzdChzWzNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0RyaXZlID0gL15bYS16XTovaS50ZXN0KHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChpc1VOQykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnMuc2xpY2UoMCwgNCksIC4uLnMuc2xpY2UoNCkubWFwKHNzID0+IHRoaXMucGFyc2Uoc3MpKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzWzBdLCAuLi5zLnNsaWNlKDEpLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzLm1hcChzcyA9PiB0aGlzLnBhcnNlKHNzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KTtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgZGlkbid0IGNvbXBpbGUgcHJvcGVybHkuXG4gICAgICAgIHRoaXMuc2V0ID0gc2V0LmZpbHRlcihzID0+IHMuaW5kZXhPZihmYWxzZSkgPT09IC0xKTtcbiAgICAgICAgLy8gZG8gbm90IHRyZWF0IHRoZSA/IGluIFVOQyBwYXRocyBhcyBtYWdpY1xuICAgICAgICBpZiAodGhpcy5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5zZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBbMF0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHBbMV0gPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYlBhcnRzW2ldWzJdID09PSAnPycgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBbM10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFsyXSA9ICc/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHRoaXMuc2V0KTtcbiAgICB9XG4gICAgLy8gdmFyaW91cyB0cmFuc2Zvcm1zIHRvIGVxdWl2YWxlbnQgcGF0dGVybiBzZXRzIHRoYXQgYXJlXG4gICAgLy8gZmFzdGVyIHRvIHByb2Nlc3MgaW4gYSBmaWxlc3lzdGVtIHdhbGsuICBUaGUgZ29hbCBpcyB0b1xuICAgIC8vIGVsaW1pbmF0ZSB3aGF0IHdlIGNhbiwgYW5kIHB1c2ggYWxsICoqIHBhdHRlcm5zIGFzIGZhclxuICAgIC8vIHRvIHRoZSByaWdodCBhcyBwb3NzaWJsZSwgZXZlbiBpZiBpdCBpbmNyZWFzZXMgdGhlIG51bWJlclxuICAgIC8vIG9mIHBhdHRlcm5zIHRoYXQgd2UgaGF2ZSB0byBwcm9jZXNzLlxuICAgIHByZXByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIC8vIGlmIHdlJ3JlIG5vdCBpbiBnbG9ic3RhciBtb2RlLCB0aGVuIHR1cm4gYWxsICoqIGludG8gKlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vZ2xvYnN0YXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYlBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnbG9iUGFydHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JQYXJ0c1tpXVtqXSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2ldW2pdID0gJyonO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3B0aW1pemF0aW9uTGV2ZWwgPSAxIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICAvLyBhZ2dyZXNzaXZlIG9wdGltaXphdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2YgZnMgd2Fsa2luZ1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5maXJzdFBoYXNlUHJlUHJvY2VzcyhnbG9iUGFydHMpO1xuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5zZWNvbmRQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpbWl6YXRpb25MZXZlbCA+PSAxKSB7XG4gICAgICAgICAgICAvLyBqdXN0IGJhc2ljIG9wdGltaXphdGlvbnMgdG8gcmVtb3ZlIHNvbWUgLi4gcGFydHNcbiAgICAgICAgICAgIGdsb2JQYXJ0cyA9IHRoaXMubGV2ZWxPbmVPcHRpbWl6ZShnbG9iUGFydHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8ganVzdCBjb2xsYXBzZSBtdWx0aXBsZSAqKiBwb3J0aW9ucyBpbnRvIG9uZVxuICAgICAgICAgICAgZ2xvYlBhcnRzID0gdGhpcy5hZGphc2NlbnRHbG9ic3Rhck9wdGltaXplKGdsb2JQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JQYXJ0cztcbiAgICB9XG4gICAgLy8ganVzdCBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBwb3J0aW9uc1xuICAgIGFkamFzY2VudEdsb2JzdGFyT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIGxldCBncyA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZ3MgPSBwYXJ0cy5pbmRleE9mKCcqKicsIGdzICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSBncztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbaSArIDFdID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShncywgaSAtIGdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBnZXQgcmlkIG9mIGFkamFzY2VudCAqKiBhbmQgcmVzb2x2ZSAuLiBwb3J0aW9uc1xuICAgIGxldmVsT25lT3B0aW1pemUoZ2xvYlBhcnRzKSB7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMubWFwKHBhcnRzID0+IHtcbiAgICAgICAgICAgIHBhcnRzID0gcGFydHMucmVkdWNlKChzZXQsIHBhcnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocGFydCA9PT0gJyoqJyAmJiBwcmV2ID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ICYmIHByZXYgIT09ICcuLicgJiYgcHJldiAhPT0gJy4nICYmIHByZXYgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDAgPyBbJyddIDogcGFydHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXZlbFR3b0ZpbGVPcHRpbWl6ZShwYXJ0cykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFydHMpKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IHRoaXMuc2xhc2hTcGxpdChwYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIDxwcmU+LzxlPi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNxdWVlemUgb3V0IFVOQyBwYXR0ZXJuc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPT09ICcuJyB8fCBwID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJyAmJlxuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhcnRzWzFdID09PSAnLicgfHwgcGFydHNbMV0gPT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgbGV0IGRkID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgtMSAhPT0gKGRkID0gcGFydHMuaW5kZXhPZignLi4nLCBkZCArIDEpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwICYmIHAgIT09ICcuJyAmJiBwICE9PSAnLi4nICYmIHAgIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMik7XG4gICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRTb21ldGhpbmcpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID09PSAwID8gWycnXSA6IHBhcnRzO1xuICAgIH1cbiAgICAvLyBGaXJzdCBwaGFzZTogc2luZ2xlLXBhdHRlcm4gcHJvY2Vzc2luZ1xuICAgIC8vIDxwcmU+IGlzIDEgb3IgbW9yZSBwb3J0aW9uc1xuICAgIC8vIDxyZXN0PiBpcyAxIG9yIG1vcmUgcG9ydGlvbnNcbiAgICAvLyA8cD4gaXMgYW55IHBvcnRpb24gb3RoZXIgdGhhbiAuLCAuLiwgJycsIG9yICoqXG4gICAgLy8gPGU+IGlzIC4gb3IgJydcbiAgICAvL1xuICAgIC8vICoqLy4uIGlzICpicnV0YWwqIGZvciBmaWxlc3lzdGVtIHdhbGtpbmcgcGVyZm9ybWFuY2UsIGJlY2F1c2VcbiAgICAvLyBpdCBlZmZlY3RpdmVseSByZXNldHMgdGhlIHJlY3Vyc2l2ZSB3YWxrIGVhY2ggdGltZSBpdCBvY2N1cnMsXG4gICAgLy8gYW5kICoqIGNhbm5vdCBiZSByZWR1Y2VkIG91dCBieSBhIC4uIHBhdHRlcm4gcGFydCBsaWtlIGEgcmVnZXhwXG4gICAgLy8gb3IgbW9zdCBzdHJpbmdzIChvdGhlciB0aGFuIC4uLCAuLCBhbmQgJycpIGNhbiBiZS5cbiAgICAvL1xuICAgIC8vIDxwcmU+LyoqLy4uLzxwPi88cD4vPHJlc3Q+IC0+IHs8cHJlPi8uLi88cD4vPHA+LzxyZXN0Piw8cHJlPi8qKi88cD4vPHA+LzxyZXN0Pn1cbiAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIDxwcmU+LzxwPi8uLi88cmVzdD4gLT4gPHByZT4vPHJlc3Q+XG4gICAgLy8gKiovKiovPHJlc3Q+IC0+ICoqLzxyZXN0PlxuICAgIC8vXG4gICAgLy8gKiovKi88cmVzdD4gLT4gKi8qKi88cmVzdD4gPD09IG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZXNuJ3QgZm9sbG93XG4gICAgLy8gdGhpcyBXT1VMRCBiZSBhbGxvd2VkIGlmICoqIGRpZCBmb2xsb3cgc3ltbGlua3MsIG9yICogZGlkbid0XG4gICAgZmlyc3RQaGFzZVByZVByb2Nlc3MoZ2xvYlBhcnRzKSB7XG4gICAgICAgIGxldCBkaWRTb21ldGhpbmcgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyA8cHJlPi8qKi8uLi88cD4vPHA+LzxyZXN0PiAtPiB7PHByZT4vLi4vPHA+LzxwPi88cmVzdD4sPHByZT4vKiovPHA+LzxwPi88cmVzdD59XG4gICAgICAgICAgICBmb3IgKGxldCBwYXJ0cyBvZiBnbG9iUGFydHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZ3MgPSAtMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoLTEgIT09IChncyA9IHBhcnRzLmluZGV4T2YoJyoqJywgZ3MgKyAxKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdzcyA9IGdzO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFydHNbZ3NzICsgMV0gPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxwcmU+LyoqLyoqLzxyZXN0PiAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdzcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVnLCBpZiBncyBpcyAyIGFuZCBnc3MgaXMgNCwgdGhhdCBtZWFucyB3ZSBoYXZlIDMgKipcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFydHMsIGFuZCBjYW4gcmVtb3ZlIDIgb2YgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdzcyA+IGdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoZ3MgKyAxLCBnc3MgLSBncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwYXJ0c1tncyArIDFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbZ3MgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcDIgPSBwYXJ0c1tncyArIDNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gJy4uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHAgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIXAyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWRpdCBwYXJ0cyBpbiBwbGFjZSwgYW5kIHB1c2ggdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGdzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYXJ0cy5zbGljZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJbZ3NdID0gJyoqJztcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzLnB1c2gob3RoZXIpO1xuICAgICAgICAgICAgICAgICAgICBncy0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88ZT4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc3F1ZWV6ZSBvdXQgVU5DIHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiBwID09PSAnJyAmJiBwYXJ0c1swXSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCA9PT0gJy4nIHx8IHAgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkU29tZXRoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1swXSA9PT0gJy4nICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0c1sxXSA9PT0gJy4nIHx8IHBhcnRzWzFdID09PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZFNvbWV0aGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA8cHJlPi88cD4vLi4vPHJlc3Q+IC0+IDxwcmU+LzxyZXN0PlxuICAgICAgICAgICAgICAgIGxldCBkZCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0xICE9PSAoZGQgPSBwYXJ0cy5pbmRleE9mKCcuLicsIGRkICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwYXJ0c1tkZCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCAmJiBwICE9PSAnLicgJiYgcCAhPT0gJy4uJyAmJiBwICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZERvdCA9IGRkID09PSAxICYmIHBhcnRzW2RkICsgMV0gPT09ICcqKic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpbiA9IG5lZWREb3QgPyBbJy4nXSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMuc3BsaWNlKGRkIC0gMSwgMiwgLi4uc3BsaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRkIC09IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpZFNvbWV0aGluZyk7XG4gICAgICAgIHJldHVybiBnbG9iUGFydHM7XG4gICAgfVxuICAgIC8vIHNlY29uZCBwaGFzZTogbXVsdGktcGF0dGVybiBkZWR1cGVzXG4gICAgLy8gezxwcmU+LyovPHJlc3Q+LDxwcmU+LzxwPi88cmVzdD59IC0+IDxwcmU+LyovPHJlc3Q+XG4gICAgLy8gezxwcmU+LzxyZXN0Piw8cHJlPi88cmVzdD59IC0+IDxwcmU+LzxyZXN0PlxuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vPHJlc3Q+fSAtPiA8cHJlPi8qKi88cmVzdD5cbiAgICAvL1xuICAgIC8vIHs8cHJlPi8qKi88cmVzdD4sPHByZT4vKiovPHA+LzxyZXN0Pn0gLT4gPHByZT4vKiovPHJlc3Q+XG4gICAgLy8gXi0tIG5vdCB2YWxpZCBiZWNhdXNlICoqIGRvZW5zJ3QgZm9sbG93IHN5bWxpbmtzXG4gICAgc2Vjb25kUGhhc2VQcmVQcm9jZXNzKGdsb2JQYXJ0cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2JQYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGdsb2JQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSB0aGlzLnBhcnRzTWF0Y2goZ2xvYlBhcnRzW2ldLCBnbG9iUGFydHNbal0sICF0aGlzLnByZXNlcnZlTXVsdGlwbGVTbGFzaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iUGFydHNbaV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYlBhcnRzW2pdID0gbWF0Y2hlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iUGFydHMuZmlsdGVyKGdzID0+IGdzLmxlbmd0aCk7XG4gICAgfVxuICAgIHBhcnRzTWF0Y2goYSwgYiwgZW1wdHlHU01hdGNoID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGFpID0gMDtcbiAgICAgICAgbGV0IGJpID0gMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgd2hpY2ggPSAnJztcbiAgICAgICAgd2hpbGUgKGFpIDwgYS5sZW5ndGggJiYgYmkgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGFbYWldID09PSBiW2JpXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdoaWNoID09PSAnYicgPyBiW2JpXSA6IGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbXB0eUdTTWF0Y2ggJiYgYVthaV0gPT09ICcqKicgJiYgYltiaV0gPT09IGFbYWkgKyAxXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW1wdHlHU01hdGNoICYmIGJbYmldID09PSAnKionICYmIGFbYWldID09PSBiW2JpICsgMV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYmkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFbYWldID09PSAnKicgJiZcbiAgICAgICAgICAgICAgICBiW2JpXSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuZG90IHx8ICFiW2JpXS5zdGFydHNXaXRoKCcuJykpICYmXG4gICAgICAgICAgICAgICAgYltiaV0gIT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICBpZiAod2hpY2ggPT09ICdiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWNoID0gJ2EnO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFbYWldKTtcbiAgICAgICAgICAgICAgICBhaSsrO1xuICAgICAgICAgICAgICAgIGJpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiW2JpXSA9PT0gJyonICYmXG4gICAgICAgICAgICAgICAgYVthaV0gJiZcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmRvdCB8fCAhYVthaV0uc3RhcnRzV2l0aCgnLicpKSAmJlxuICAgICAgICAgICAgICAgIGFbYWldICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoID09PSAnYScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGljaCA9ICdiJztcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiW2JpXSk7XG4gICAgICAgICAgICAgICAgYWkrKztcbiAgICAgICAgICAgICAgICBiaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGZhbGwgb3V0IG9mIHRoZSBsb29wLCBpdCBtZWFucyB0aGV5IHR3byBhcmUgaWRlbnRpY2FsXG4gICAgICAgIC8vIGFzIGxvbmcgYXMgdGhlaXIgbGVuZ3RocyBtYXRjaFxuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIHJlc3VsdDtcbiAgICB9XG4gICAgcGFyc2VOZWdhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vbmVnYXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuO1xuICAgICAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgICAgIGxldCBuZWdhdGVPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoICYmIHBhdHRlcm4uY2hhckF0KGkpID09PSAnISc7IGkrKykge1xuICAgICAgICAgICAgbmVnYXRlID0gIW5lZ2F0ZTtcbiAgICAgICAgICAgIG5lZ2F0ZU9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWdhdGVPZmZzZXQpXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKG5lZ2F0ZU9mZnNldCk7XG4gICAgICAgIHRoaXMubmVnYXRlID0gbmVnYXRlO1xuICAgIH1cbiAgICAvLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuICAgIC8vIFwiL2EvYlwiIG1hdGNoZXMgdGhlIHN0YXJ0IG9mIFwiLyovYi8qL2RcIlxuICAgIC8vIFBhcnRpYWwgbWVhbnMsIGlmIHlvdSBydW4gb3V0IG9mIGZpbGUgYmVmb3JlIHlvdSBydW5cbiAgICAvLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbiAgICAvLyB0aGUgcGFydHMgbWF0Y2guXG4gICAgbWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIC8vIFVOQyBwYXRocyBsaWtlIC8vPy9YOi8uLi4gY2FuIG1hdGNoIFg6Ly4uLiBhbmQgdmljZSB2ZXJzYVxuICAgICAgICAvLyBEcml2ZSBsZXR0ZXJzIGluIGFic29sdXRlIGRyaXZlIG9yIHVuYyBwYXRocyBhcmUgYWx3YXlzIGNvbXBhcmVkXG4gICAgICAgIC8vIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlRHJpdmUgPSB0eXBlb2YgZmlsZVswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChmaWxlWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVVTkMgPSAhZmlsZURyaXZlICYmXG4gICAgICAgICAgICAgICAgZmlsZVswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBmaWxlWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIGZpbGVbMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QoZmlsZVszXSk7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuRHJpdmUgPSB0eXBlb2YgcGF0dGVyblswXSA9PT0gJ3N0cmluZycgJiYgL15bYS16XTokL2kudGVzdChwYXR0ZXJuWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5VTkMgPSAhcGF0dGVybkRyaXZlICYmXG4gICAgICAgICAgICAgICAgcGF0dGVyblswXSA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICBwYXR0ZXJuWzFdID09PSAnJyAmJlxuICAgICAgICAgICAgICAgIHBhdHRlcm5bMl0gPT09ICc/JyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBwYXR0ZXJuWzNdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgIC9eW2Etel06JC9pLnRlc3QocGF0dGVyblszXSk7XG4gICAgICAgICAgICBjb25zdCBmZGkgPSBmaWxlVU5DID8gMyA6IGZpbGVEcml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBwZGkgPSBwYXR0ZXJuVU5DID8gMyA6IHBhdHRlcm5Ecml2ZSA/IDAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZkaSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHBkaSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbZmQsIHBkXSA9IFtmaWxlW2ZkaV0sIHBhdHRlcm5bcGRpXV07XG4gICAgICAgICAgICAgICAgaWYgKGZkLnRvTG93ZXJDYXNlKCkgPT09IHBkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybltwZGldID0gZmQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZGkgPiBmZGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNsaWNlKHBkaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmRpID4gcGRpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gZmlsZS5zbGljZShmZGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgYW5kIHJlZHVjZSAuIGFuZCAuLiBwb3J0aW9ucyBpbiB0aGUgZmlsZSBhcyB3ZWxsLlxuICAgICAgICAvLyBkb250JyBuZWVkIHRvIGRvIHRoZSBzZWNvbmQgcGhhc2UsIGJlY2F1c2UgaXQncyBvbmx5IG9uZSBzdHJpbmdbXVxuICAgICAgICBjb25zdCB7IG9wdGltaXphdGlvbkxldmVsID0gMSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW1pemF0aW9uTGV2ZWwgPj0gMikge1xuICAgICAgICAgICAgZmlsZSA9IHRoaXMubGV2ZWxUd29GaWxlT3B0aW1pemUoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLCB0aGlzLCB7IGZpbGUsIHBhdHRlcm4gfSk7XG4gICAgICAgIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgZmkgPSAwLCBwaSA9IDAsIGZsID0gZmlsZS5sZW5ndGgsIHBsID0gcGF0dGVybi5sZW5ndGg7IGZpIDwgZmwgJiYgcGkgPCBwbDsgZmkrKywgcGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUgbG9vcCcpO1xuICAgICAgICAgICAgdmFyIHAgPSBwYXR0ZXJuW3BpXTtcbiAgICAgICAgICAgIHZhciBmID0gZmlsZVtmaV07XG4gICAgICAgICAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpO1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGUuXG4gICAgICAgICAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgICAgIGlmIChwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgICAgICAgICBpZiAocCA9PT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdHTE9CU1RBUicsIFtwYXR0ZXJuLCBwLCBmXSk7XG4gICAgICAgICAgICAgICAgLy8gXCIqKlwiXG4gICAgICAgICAgICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgICAgICAgICAgICAvLyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIGEveC95L3ovYi9jXG4gICAgICAgICAgICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgICAgICAgICAgICAvLyBhL2IvY1xuICAgICAgICAgICAgICAgIC8vIFRvIGRvIHRoaXMsIHRha2UgdGhlIHJlc3Qgb2YgdGhlIHBhdHRlcm4gYWZ0ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgICAgICAgICAgIC8vIElmIHNvLCByZXR1cm4gc3VjY2Vzcy5cbiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIHRoZSAqKiBcInN3YWxsb3dzXCIgYSBzZWdtZW50LCBhbmQgdHJ5IGFnYWluLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBhLyoqL2IvKiovYyBtYXRjaGluZyBhL2IveC95L3ovY1xuICAgICAgICAgICAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgICAgICAgICAgICAvLyAtIGRvdWJsZXN0YXJcbiAgICAgICAgICAgICAgICAvLyAgIC0gbWF0Y2hPbmUoYi94L3kvei9jLCBiLyoqL2MpXG4gICAgICAgICAgICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgICAgICAgICAgICAvLyAgICAgLSBkb3VibGVzdGFyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh4L3kvei9jLCBjKSAtPiBub1xuICAgICAgICAgICAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh6L2MsIGMpIC0+IG5vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgLSBtYXRjaE9uZShjLCBjKSB5ZXMsIGhpdFxuICAgICAgICAgICAgICAgIHZhciBmciA9IGZpO1xuICAgICAgICAgICAgICAgIHZhciBwciA9IHBpICsgMTtcbiAgICAgICAgICAgICAgICBpZiAocHIgPT09IHBsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJyoqIGF0IHRoZSBlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYSAqKiBhdCB0aGUgZW5kIHdpbGwganVzdCBzd2FsbG93IHRoZSByZXN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgIC8vIGhvd2V2ZXIsIGl0IHdpbGwgbm90IHN3YWxsb3cgLy54LCB1bmxlc3NcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucy5kb3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyAuIGFuZCAuLiBhcmUgKm5ldmVyKiBtYXRjaGVkIGJ5ICoqLCBmb3IgZXhwbG9zaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgcmVhc29ucy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGZpIDwgZmw7IGZpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlW2ZpXSA9PT0gJy4nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW9wdGlvbnMuZG90ICYmIGZpbGVbZmldLmNoYXJBdCgwKSA9PT0gJy4nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9rLCBsZXQncyBzZWUgaWYgd2UgY2FuIHN3YWxsb3cgd2hhdGV2ZXIgd2UgY2FuLlxuICAgICAgICAgICAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnXFxuZ2xvYnN0YXIgd2hpbGUnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIsIHN3YWxsb3dlZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFhYWCByZW1vdmUgdGhpcyBzbGljZS4gIEp1c3QgcGFzcyB0aGUgc3RhcnQgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoT25lKGZpbGUuc2xpY2UoZnIpLCBwYXR0ZXJuLnNsaWNlKHByKSwgcGFydGlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IHN3YWxsb3cgXCIuXCIgb3IgXCIuLlwiIGV2ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBzd2FsbG93IFwiLmZvb1wiIHdoZW4gZXhwbGljaXRseSBhc2tlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YWxsb3dlZSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ2RvdCBkZXRlY3RlZCEnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdnbG9ic3RhciBzd2FsbG93IGEgc2VnbWVudCwgYW5kIGNvbnRpbnVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBpbiBwYXJ0aWFsIG1vZGUsIHdlIGNhbid0IHNheSB0aGlzIGlzIG5lY2Vzc2FyaWx5IG92ZXIuXG4gICAgICAgICAgICAgICAgLyogYzggaWdub3JlIHN0YXJ0ICovXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoJ1xcbj4+PiBubyBtYXRjaCwgcGFydGlhbD8nLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnIgPT09IGZsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RvcCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuICoqXG4gICAgICAgICAgICAvLyBub24tbWFnaWMgcGF0dGVybnMganVzdCBoYXZlIHRvIG1hdGNoIGV4YWN0bHlcbiAgICAgICAgICAgIC8vIHBhdHRlcm5zIHdpdGggbWFnaWMgaGF2ZSBiZWVuIHR1cm5lZCBpbnRvIHJlZ2V4cHMuXG4gICAgICAgICAgICBsZXQgaGl0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGhpdCA9IGYgPT09IHA7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpdCA9IHAudGVzdChmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGl0KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiBlbmRpbmcgaW4gLyBtZWFucyB0aGF0IHdlJ2xsIGdldCBhIGZpbmFsIFwiXCJcbiAgICAgICAgLy8gYXQgdGhlIGVuZCBvZiB0aGUgcGF0dGVybi4gIFRoaXMgY2FuIG9ubHkgbWF0Y2ggYVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIFwiXCIgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZS5cbiAgICAgICAgLy8gSWYgdGhlIGZpbGUgZW5kcyBpbiAvLCB0aGVuIGl0IGNhbiBvbmx5IG1hdGNoIGFcbiAgICAgICAgLy8gYSBwYXR0ZXJuIHRoYXQgZW5kcyBpbiAvLCB1bmxlc3MgdGhlIHBhdHRlcm4ganVzdFxuICAgICAgICAvLyBkb2Vzbid0IGhhdmUgYW55IG1vcmUgZm9yIGl0LiBCdXQsIGEvYi8gc2hvdWxkICpub3QqXG4gICAgICAgIC8vIG1hdGNoIFwiYS9iLypcIiwgZXZlbiB0aG91Z2ggXCJcIiBtYXRjaGVzIGFnYWluc3QgdGhlXG4gICAgICAgIC8vIFteL10qPyBwYXR0ZXJuLCBleGNlcHQgaW4gcGFydGlhbCBtb2RlLCB3aGVyZSBpdCBtaWdodFxuICAgICAgICAvLyBzaW1wbHkgbm90IGJlIHJlYWNoZWQgeWV0LlxuICAgICAgICAvLyBIb3dldmVyLCBhL2IvIHNob3VsZCBzdGlsbCBzYXRpc2Z5IGEvKlxuICAgICAgICAvLyBub3cgZWl0aGVyIHdlIGZlbGwgb2ZmIHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4sIG9yIHdlJ3JlIGRvbmUuXG4gICAgICAgIGlmIChmaSA9PT0gZmwgJiYgcGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4gYW5kIGZpbGVuYW1lIGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgICAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAgICAgICAgIC8vIHJhbiBvdXQgb2YgZmlsZSwgYnV0IHN0aWxsIGhhZCBwYXR0ZXJuIGxlZnQuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9rIGlmIHdlJ3JlIGRvaW5nIHRoZSBtYXRjaCBhcyBwYXJ0IG9mXG4gICAgICAgICAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGkgPT09IHBsKSB7XG4gICAgICAgICAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4sIHN0aWxsIGhhdmUgZmlsZSBsZWZ0LlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGFjY2VwdGFibGUgaWYgd2UncmUgb24gdGhlIHZlcnkgbGFzdFxuICAgICAgICAgICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgICAgICAgICAgLy8gYS8qIHNob3VsZCBtYXRjaCBhL2IvXG4gICAgICAgICAgICByZXR1cm4gZmkgPT09IGZsIC0gMSAmJiBmaWxlW2ZpXSA9PT0gJyc7XG4gICAgICAgICAgICAvKiBjOCBpZ25vcmUgc3RhcnQgKi9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSB1bnJlYWNoYWJsZS5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignd3RmPycpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGM4IGlnbm9yZSBzdG9wICovXG4gICAgfVxuICAgIGJyYWNlRXhwYW5kKCkge1xuICAgICAgICByZXR1cm4gYnJhY2VFeHBhbmQodGhpcy5wYXR0ZXJuLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICBwYXJzZShwYXR0ZXJuKSB7XG4gICAgICAgIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgLy8gc2hvcnRjdXRzXG4gICAgICAgIGlmIChwYXR0ZXJuID09PSAnKionKVxuICAgICAgICAgICAgcmV0dXJuIEdMT0JTVEFSO1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gJycpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIC8vIGZhciBhbmQgYXdheSwgdGhlIG1vc3QgY29tbW9uIGdsb2IgcGF0dGVybiBwYXJ0cyBhcmVcbiAgICAgICAgLy8gKiwgKi4qLCBhbmQgKi48ZXh0PiAgQWRkIGEgZmFzdCBjaGVjayBtZXRob2QgZm9yIHRob3NlLlxuICAgICAgICBsZXQgbTtcbiAgICAgICAgbGV0IGZhc3RUZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKChtID0gcGF0dGVybi5tYXRjaChzdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJUZXN0RG90IDogc3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RFeHRSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBzdGFyRG90RXh0VGVzdE5vY2FzZURvdFxuICAgICAgICAgICAgICAgICAgICA6IHN0YXJEb3RFeHRUZXN0Tm9jYXNlXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgICAgICA/IHN0YXJEb3RFeHRUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogc3RhckRvdEV4dFRlc3QpKG1bMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gcGF0dGVybi5tYXRjaChxbWFya3NSRSkpKSB7XG4gICAgICAgICAgICBmYXN0VGVzdCA9IChvcHRpb25zLm5vY2FzZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0Tm9jYXNlRG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdE5vY2FzZVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5kb3RcbiAgICAgICAgICAgICAgICAgICAgPyBxbWFya3NUZXN0RG90XG4gICAgICAgICAgICAgICAgICAgIDogcW1hcmtzVGVzdCkobSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSBwYXR0ZXJuLm1hdGNoKHN0YXJEb3RTdGFyUkUpKSkge1xuICAgICAgICAgICAgZmFzdFRlc3QgPSBvcHRpb25zLmRvdCA/IHN0YXJEb3RTdGFyVGVzdERvdCA6IHN0YXJEb3RTdGFyVGVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IHBhdHRlcm4ubWF0Y2goZG90U3RhclJFKSkpIHtcbiAgICAgICAgICAgIGZhc3RUZXN0ID0gZG90U3RhclRlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmUgPSBBU1QuZnJvbUdsb2IocGF0dGVybiwgdGhpcy5vcHRpb25zKS50b01NUGF0dGVybigpO1xuICAgICAgICBpZiAoZmFzdFRlc3QgJiYgdHlwZW9mIHJlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgLy8gQXZvaWRzIG92ZXJyaWRpbmcgaW4gZnJvemVuIGVudmlyb25tZW50c1xuICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShyZSwgJ3Rlc3QnLCB7IHZhbHVlOiBmYXN0VGVzdCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfVxuICAgIG1ha2VSZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVnZXhwIHx8IHRoaXMucmVnZXhwID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cDtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgdGhpcy5zZXQgaXMgYSAyZCBhcnJheSBvZiBwYXJ0aWFsXG4gICAgICAgIC8vIHBhdHRlcm4gc3RyaW5ncywgb3IgXCIqKlwiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJdCdzIGJldHRlciB0byB1c2UgLm1hdGNoKCkuICBUaGlzIGZ1bmN0aW9uIHNob3VsZG4ndFxuICAgICAgICAvLyBiZSB1c2VkLCByZWFsbHksIGJ1dCBpdCdzIHByZXR0eSBjb252ZW5pZW50IHNvbWV0aW1lcyxcbiAgICAgICAgLy8gd2hlbiB5b3UganVzdCB3YW50IHRvIHdvcmsgd2l0aCBhIHJlZ2V4LlxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLnNldDtcbiAgICAgICAgaWYgKCFzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZ2V4cCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHR3b1N0YXIgPSBvcHRpb25zLm5vZ2xvYnN0YXJcbiAgICAgICAgICAgID8gc3RhclxuICAgICAgICAgICAgOiBvcHRpb25zLmRvdFxuICAgICAgICAgICAgICAgID8gdHdvU3RhckRvdFxuICAgICAgICAgICAgICAgIDogdHdvU3Rhck5vRG90O1xuICAgICAgICBjb25zdCBmbGFncyA9IG5ldyBTZXQob3B0aW9ucy5ub2Nhc2UgPyBbJ2knXSA6IFtdKTtcbiAgICAgICAgLy8gcmVnZXhwaWZ5IG5vbi1nbG9ic3RhciBwYXR0ZXJuc1xuICAgICAgICAvLyBpZiAqKiBpcyBvbmx5IGl0ZW0sIHRoZW4gd2UganVzdCBkbyBvbmUgdHdvU3RhclxuICAgICAgICAvLyBpZiAqKiBpcyBmaXJzdCwgYW5kIHRoZXJlIGFyZSBtb3JlLCBwcmVwZW5kIChcXC98dHdvU3RhclxcLyk/IHRvIG5leHRcbiAgICAgICAgLy8gaWYgKiogaXMgbGFzdCwgYXBwZW5kIChcXC90d29TdGFyfCkgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gaWYgKiogaXMgaW4gdGhlIG1pZGRsZSwgYXBwZW5kIChcXC98XFwvdHdvU3RhclxcLykgdG8gcHJldmlvdXNcbiAgICAgICAgLy8gdGhlbiBmaWx0ZXIgb3V0IEdMT0JTVEFSIHN5bWJvbHNcbiAgICAgICAgbGV0IHJlID0gc2V0XG4gICAgICAgICAgICAubWFwKHBhdHRlcm4gPT4ge1xuICAgICAgICAgICAgY29uc3QgcHAgPSBwYXR0ZXJuLm1hcChwID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5mbGFncy5zcGxpdCgnJykpXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncy5hZGQoZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyByZWdFeHBFc2NhcGUocClcbiAgICAgICAgICAgICAgICAgICAgOiBwID09PSBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBHTE9CU1RBUlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwLl9zcmM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBwLmZvckVhY2goKHAsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcHBbaSArIDFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwcFtpIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHAgIT09IEdMT0JTVEFSIHx8IHByZXYgPT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmIG5leHQgIT09IEdMT0JTVEFSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSAnKD86XFxcXC98JyArIHR3b1N0YXIgKyAnXFxcXC8pPycgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHBbaV0gPSB0d29TdGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwcFtpIC0gMV0gPSBwcmV2ICsgJyg/OlxcXFwvfCcgKyB0d29TdGFyICsgJyk/JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gR0xPQlNUQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHBbaSAtIDFdID0gcHJldiArICcoPzpcXFxcL3xcXFxcLycgKyB0d29TdGFyICsgJ1xcXFwvKScgKyBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBwcFtpICsgMV0gPSBHTE9CU1RBUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcC5maWx0ZXIocCA9PiBwICE9PSBHTE9CU1RBUikuam9pbignLycpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICAgICAgLy8gbmVlZCB0byB3cmFwIGluIHBhcmVucyBpZiB3ZSBoYWQgbW9yZSB0aGFuIG9uZSB0aGluZyB3aXRoIHwsXG4gICAgICAgIC8vIG90aGVyd2lzZSBvbmx5IHRoZSBmaXJzdCB3aWxsIGJlIGFuY2hvcmVkIHRvIF4gYW5kIHRoZSBsYXN0IHRvICRcbiAgICAgICAgY29uc3QgW29wZW4sIGNsb3NlXSA9IHNldC5sZW5ndGggPiAxID8gWycoPzonLCAnKSddIDogWycnLCAnJ107XG4gICAgICAgIC8vIG11c3QgbWF0Y2ggZW50aXJlIHBhdHRlcm5cbiAgICAgICAgLy8gZW5kaW5nIGluIGEgKiBvciAqKiB3aWxsIG1ha2UgaXQgbGVzcyBzdHJpY3QuXG4gICAgICAgIHJlID0gJ14nICsgb3BlbiArIHJlICsgY2xvc2UgKyAnJCc7XG4gICAgICAgIC8vIGNhbiBtYXRjaCBhbnl0aGluZywgYXMgbG9uZyBhcyBpdCdzIG5vdCB0aGlzLlxuICAgICAgICBpZiAodGhpcy5uZWdhdGUpXG4gICAgICAgICAgICByZSA9ICdeKD8hJyArIHJlICsgJykuKyQnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKHJlLCBbLi4uZmxhZ3NdLmpvaW4oJycpKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBzdGFydCAqL1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGltcG9zc2libGVcbiAgICAgICAgICAgIHRoaXMucmVnZXhwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogYzggaWdub3JlIHN0b3AgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwO1xuICAgIH1cbiAgICBzbGFzaFNwbGl0KHApIHtcbiAgICAgICAgLy8gaWYgcCBzdGFydHMgd2l0aCAvLyBvbiB3aW5kb3dzLCB3ZSBwcmVzZXJ2ZSB0aGF0XG4gICAgICAgIC8vIHNvIHRoYXQgVU5DIHBhdGhzIGFyZW4ndCBicm9rZW4uICBPdGhlcndpc2UsIGFueSBudW1iZXIgb2ZcbiAgICAgICAgLy8gLyBjaGFyYWN0ZXJzIGFyZSBjb2FsZXNjZWQgaW50byBvbmUsIHVubGVzc1xuICAgICAgICAvLyBwcmVzZXJ2ZU11bHRpcGxlU2xhc2hlcyBpcyBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgaWYgKHRoaXMucHJlc2VydmVNdWx0aXBsZVNsYXNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1dpbmRvd3MgJiYgL15cXC9cXC9bXlxcL10rLy50ZXN0KHApKSB7XG4gICAgICAgICAgICAvLyBhZGQgYW4gZXh0cmEgJycgZm9yIHRoZSBvbmUgd2UgbG9zZVxuICAgICAgICAgICAgcmV0dXJuIFsnJywgLi4ucC5zcGxpdCgvXFwvKy8pXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwLnNwbGl0KC9cXC8rLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2goZiwgcGFydGlhbCA9IHRoaXMucGFydGlhbCkge1xuICAgICAgICB0aGlzLmRlYnVnKCdtYXRjaCcsIGYsIHRoaXMucGF0dGVybik7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgICAgICAgLy8gY29tbWVudHMsIGV0Yy5cbiAgICAgICAgaWYgKHRoaXMuY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZiA9PT0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGYgPT09ICcvJyAmJiBwYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgICAgICAgaWYgKHRoaXMuaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBmID0gZi5zcGxpdCgnXFxcXCcpLmpvaW4oJy8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgICAgICAgY29uc3QgZmYgPSB0aGlzLnNsYXNoU3BsaXQoZik7XG4gICAgICAgIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCAnc3BsaXQnLCBmZik7XG4gICAgICAgIC8vIGp1c3QgT05FIG9mIHRoZSBwYXR0ZXJuIHNldHMgaW4gdGhpcy5zZXQgbmVlZHMgdG8gbWF0Y2hcbiAgICAgICAgLy8gaW4gb3JkZXIgZm9yIGl0IHRvIGJlIHZhbGlkLiAgSWYgbmVnYXRpbmcsIHRoZW4ganVzdCBvbmVcbiAgICAgICAgLy8gbWF0Y2ggbWVhbnMgdGhhdCB3ZSBoYXZlIGZhaWxlZC5cbiAgICAgICAgLy8gRWl0aGVyIHdheSwgcmV0dXJuIG9uIHRoZSBmaXJzdCBoaXQuXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMuc2V0O1xuICAgICAgICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NldCcsIHNldCk7XG4gICAgICAgIC8vIEZpbmQgdGhlIGJhc2VuYW1lIG9mIHRoZSBwYXRoIGJ5IGxvb2tpbmcgZm9yIHRoZSBsYXN0IG5vbi1lbXB0eSBzZWdtZW50XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGZmW2ZmLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZmYubGVuZ3RoIC0gMjsgIWZpbGVuYW1lICYmIGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmZltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IHNldFtpXTtcbiAgICAgICAgICAgIGxldCBmaWxlID0gZmY7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBmaWxlID0gW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhpdCA9IHRoaXMubWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbCk7XG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm5lZ2F0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAgICAgICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZTtcbiAgICB9XG4gICAgc3RhdGljIGRlZmF1bHRzKGRlZikge1xuICAgICAgICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoO1xuICAgIH1cbn1cbi8qIGM4IGlnbm9yZSBzdGFydCAqL1xuZXhwb3J0IHsgQVNUIH0gZnJvbSAnLi9hc3QuanMnO1xuZXhwb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi9lc2NhcGUuanMnO1xuZXhwb3J0IHsgdW5lc2NhcGUgfSBmcm9tICcuL3VuZXNjYXBlLmpzJztcbi8qIGM4IGlnbm9yZSBzdG9wICovXG5taW5pbWF0Y2guQVNUID0gQVNUO1xubWluaW1hdGNoLk1pbmltYXRjaCA9IE1pbmltYXRjaDtcbm1pbmltYXRjaC5lc2NhcGUgPSBlc2NhcGU7XG5taW5pbWF0Y2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlSGFzaChzb3VyY2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHNvdXJjZVxuICAgICAgICAucmVwbGFjZUFsbCgnICcsICctJylcbiAgICAgICAgLnJlcGxhY2VBbGwoL1teXFx3LV0vZ2ksICcnKVxuICAgICAgICAudG9Mb3dlckNhc2UoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUJ5U3BlY2lmaWNpdHkoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIC8vW1xuICAgIC8vICAnKicsXG4gICAgLy8gICdleGFtcGxlLmNvbScsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnKi9hbGwnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdpbWFnZXMub3JnJyxcbiAgICAvLyAgJ2V4YW1wbGUuY29tL2Jsb2cvYXNkJyxcbiAgICAvL11cbiAgICAvLyBiZWNvbWVzIOKsh++4j1xuICAgIC8vW1xuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZy9hc2QnLFxuICAgIC8vICAnZXhhbXBsZS5jb20vYmxvZycsXG4gICAgLy8gICdleGFtcGxlLmNvbS9pbWFnZXMnLFxuICAgIC8vICAnZXhhbXBsZS5jb20nLFxuICAgIC8vICAnaW1hZ2VzLm9yZycsXG4gICAgLy8gICcqL2FsbCcsXG4gICAgLy8gICcqJyxcbiAgICAvL11cblxuICAgIC8vXG4gICAgLy8gYCpgIG1lYW5zIGFsbCwgaXQgc2hvdWxkIGNvbWUgbGFzdFxuICAgIGlmICghYS5zdGFydHNXaXRoKCcqJykgJiYgYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAtMVxuICAgIGlmIChhLnN0YXJ0c1dpdGgoJyonKSAmJiAhYi5zdGFydHNXaXRoKCcqJykpIHJldHVybiAxXG5cbiAgICAvLyBwcmlvcml0aXplIHNwZWNpZmljaXR5XG4gICAgaWYgKGEuc3RhcnRzV2l0aChiKSkgcmV0dXJuIC0xXG4gICAgaWYgKGIuc3RhcnRzV2l0aChhKSkgcmV0dXJuIDFcblxuICAgIC8vIG9yZGVyIGFsZmFiZXRpY2FsbHlcbiAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIsICdlbicpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaW1lRXh0KG1pbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gQFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvTWVkaWEvRm9ybWF0cy9JbWFnZV90eXBlc1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHN3aXRjaCAobWltZSkge1xuICAgICAgICAvLyBNSU1FIG1hcHMgdG8gbWFueSBFWFRcbiAgICAgICAgLy8gLSAnaW1hZ2UvanBlZyc6IGpwZyxqcGVnLCAuLi5ldGNcbiAgICAgICAgLy8gLSAnaW1hZ2UvdGlmZic6IHRpZix0aWZmXG4gICAgICAgIGNhc2UgJ2ltYWdlL2pwZWcnOiByZXR1cm4gJ2pwZydcbiAgICAgICAgY2FzZSAnaW1hZ2UvdGlmZic6IHJldHVybiAndGlmJ1xuXG4gICAgICAgIC8vIE1JTUUgY29tcG9zZWQgb2YgRVhUXG4gICAgICAgIC8vIC0gJ2ltYWdlL3thcG5nLGF2aWYsZ2lmLHBuZyx3ZWJwLGJtcH0nXG4gICAgICAgIC8vIC0gJ2ltYWdlL3N2Zyt4bWwnOiBzdmdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIG1pbWUuc3BsaXQoL1xcL3xcXCsvZ2kpWzFdXG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUge1xuICAgIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4sXG4gICAgQ2FjaGVDb25maWcsXG4gICAgQ2FjaGVNYXRjaGVyLFxuICAgIEZyb250bWF0dGVyTWF0Y2hlcixcbiAgICBQbHVnaW5TdGF0ZSxcbiAgICBSZW1vdGVNYXRjaGVyLFxufSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkksIFVSTCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IEFwcCwgcGFyc2VGcm9udE1hdHRlckVudHJ5LCByZXF1ZXN0VXJsIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBtaW5pbWF0Y2ggfSBmcm9tICdtaW5pbWF0Y2gnXG5pbXBvcnQgeyBBdHRhY2htZW50RXJyb3IgfSBmcm9tICcuL0F0dGFjaG1lbnRFcnJvcidcbmltcG9ydCB7IGdldE1pbWVFeHQgfSBmcm9tICcuL3N0cmluZ3MnXG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlU3RhdGUocGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKTogUGx1Z2luU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhY2hlX21hdGNoZXJzOiBjb25maWdNYXRjaGVycyhwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncyksXG4gICAgICAgIHVybF9jYWNoZV9tYXRjaGVyOiByZW1vdGVNYXRjaGVyKHBsdWdpbi5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpLFxuICAgICAgICB1cmxfaWdub3JlX21hdGNoZXI6IHJlbW90ZU1hdGNoZXIocGx1Z2luLnNldHRpbmdzLnVybF9wYXJhbV9pZ25vcmUpLFxuICAgICAgICBub3RlX2NhY2hlX21hdGNoZXI6IGZyb250bWF0dGVyTWF0Y2hlcihcbiAgICAgICAgICAgIHBsdWdpbi5hcHAsXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3Mubm90ZV9wYXJhbV9jYWNoZSxcbiAgICAgICAgKSxcbiAgICAgICAgbm90ZV9pZ25vcmVfbWF0Y2hlcjogZnJvbnRtYXR0ZXJNYXRjaGVyKFxuICAgICAgICAgICAgcGx1Z2luLmFwcCxcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5ub3RlX3BhcmFtX2lnbm9yZSxcbiAgICAgICAgKSxcbiAgICB9XG59XG5cbi8qKiBHZW5lcmF0ZXMgYSBtYXRjaGVyLCB0aGF0IHVzZXJzIEZyb250bWF0dGVyIHBhcmFtcy4gKi9cbmZ1bmN0aW9uIGZyb250bWF0dGVyTWF0Y2hlcihcbiAgICBhcHA6IEFwcCxcbiAgICBub3RlX3BhcmFtID0gJ2ZhbGxiYWNrX3BhcmFtJyxcbik6IEZyb250bWF0dGVyTWF0Y2hlciB7XG4gICAgcmV0dXJuIChub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKG5vdGVwYXRoKVxuICAgICAgICBpZiAoIW1ldGFkYXRhPy5mcm9udG1hdHRlcikgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRnJvbnRNYXR0ZXJFbnRyeShtZXRhZGF0YS5mcm9udG1hdHRlciwgbm90ZV9wYXJhbSlcbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIC8vIHN1cHBvcnQgc3RyaW5ncyBsaWtlICdkb21haW4uY29tL2ltYWdlcydcbiAgICAgICAgaWYgKFN0cmluZy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybiB0ZXN0VXJsKHZhbHVlLCByZW1vdGUpXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiBmYWxzZVxuICAgICAgICAvLyBzdXBwb3J0IHN0cmluZy1hcnJheXMgbGlrZSBbJ2RvbWFpbi5jb20vaW1hZ2VzJ11cbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghU3RyaW5nLmlzU3RyaW5nKHZhbCkpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAodGVzdFVybCh2YWwsIHJlbW90ZSkpIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxufVxuXG5mdW5jdGlvbiB0ZXN0VXJsKHBhdHRlcm46IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIGlmIHRoZSB1c2VyIGFkZHMgJ2h0dHAnLCB0cnkgYW4gZXhhY3QgcHJlZml4IG1hdGNoXG4gICAgaWYgKHBhdHRlcm4uc3RhcnRzV2l0aCgnaHR0cCcpKSByZXR1cm4gdmFsdWUuc3RhcnRzV2l0aChwYXR0ZXJuKVxuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeaHR0cHM/Oi8vKFxcXFx3K1xcXFwuKSonICsgcGF0dGVybiwgJ2cnKS50ZXN0KHZhbHVlKVxufVxuXG4vKiogR2VuZXJhdGVzIGEgbWF0Y2hlciwgdGhhdCBkZXRlY3RzIHRoZSBwcmVzZW5jZSBvZiBhbiBVUkwgcGFyYW0uICovXG5mdW5jdGlvbiByZW1vdGVNYXRjaGVyKHVybF9wYXJhbSA9ICdmYWxsYmFja19wYXJhbScpOiBSZW1vdGVNYXRjaGVyIHtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJ1s/Jl0nICsgdXJsX3BhcmFtICsgJyhbJj1cXFxcc118JCknLCAnaScpXG4gICAgcmV0dXJuIChyZW1vdGU6IHN0cmluZykgPT4gcmVnZXgudGVzdChyZW1vdGUpXG59XG5cbmZ1bmN0aW9uIGNvbmZpZ01hdGNoZXJzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZU1hdGNoZXJbXSB7XG4gICAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25maWcpID0+IHtcbiAgICAgICAgY29uc3QgdGVzdFBhdGggPVxuICAgICAgICAgICAgY29uZmlnLnBhdHRlcm4gIT09ICcqJ1xuICAgICAgICAgICAgICAgID8gKF9ub3RlcGF0aDogc3RyaW5nKSA9PiBtaW5pbWF0Y2goX25vdGVwYXRoLCBjb25maWcucGF0dGVybilcbiAgICAgICAgICAgICAgICA6ICgpID0+IHRydWVcbiAgICAgICAgY29uc3QgdGVzdFJlbW90ZSA9IChfcmVtb3RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZCB9IG9mIGNvbmZpZy5yZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgcmV0dXJuIHdoaXRlbGlzdGVkXG4gICAgICAgICAgICAgICAgaWYgKHRlc3RVcmwocGF0dGVybiwgX3JlbW90ZSkpIHJldHVybiB3aGl0ZWxpc3RlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNFbmFibGVkOiAoKSA9PiBjb25maWcuZW5hYmxlZCxcbiAgICAgICAgICAgIHNvdXJjZTogT2JqZWN0LmZyZWV6ZShjb25maWcpLFxuICAgICAgICAgICAgcmVzb2x2ZTogcHJlcGFyZVJlc29sdmVyKGNvbmZpZy50YXJnZXQpLFxuICAgICAgICAgICAgdGVzdFBhdGgsXG4gICAgICAgICAgICB0ZXN0UmVtb3RlLFxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVSZXNvbHZlcih0YXJnZXQ6IHN0cmluZyk6IENhY2hlTWF0Y2hlclsncmVzb2x2ZSddIHtcbiAgICAvLyBhZGRzIHRoZSBhdHRhY2htZW50cyB0byBhIHN0YXRpYyBmb2xkZXJcbiAgICBpZiAoIS9be31dL2dpLnRlc3QodGFyZ2V0KSkgcmV0dXJuICgpID0+IHRhcmdldFxuXG4gICAgLy8gYWRkcyB0aGUgYXR0YWNobWVudHMgdG8gYSBkeW5hbWljIGZvbGRlclxuICAgIHJldHVybiAobm90ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXRoUmVwbGFjZXIodGFyZ2V0LCBbXG4gICAgICAgICAgICBbJ3tub3RlcGF0aH0nLCAoKSA9PiBVUkkucmVtb3ZlRXh0KG5vdGUpXSxcbiAgICAgICAgICAgIFsne25vdGVuYW1lfScsICgpID0+IFVSSS5nZXRCYXNlbmFtZShub3RlKV0sXG4gICAgICAgICAgICBbJ3tmb2xkZXJwYXRofScsICgpID0+IFVSSS5nZXRQYXJlbnQobm90ZSldLFxuICAgICAgICAgICAgWyd7Zm9sZGVybmFtZX0nLCAoKSA9PiBVUkkuZ2V0QmFzZW5hbWUoVVJJLmdldFBhcmVudChub3RlKSA/PyAnJyldLFxuICAgICAgICBdKVxuICAgIH1cbn1cblxuLyoqIFZhbHVlcyBhcmUgb25seSBsb2FkZWQgd2hlbiByZXF1aXJlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdGhSZXBsYWNlcihcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgcnVsZXM6IEFycmF5PFtzdHJpbmcsICgpID0+IHN0cmluZyB8IHVuZGVmaW5lZF0+LFxuKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gcGF0aFxuICAgIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgICAgICBpZiAocmVzdWx0LmluY2x1ZGVzKHJ1bGVbMF0pKVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2VBbGwocnVsZVswXSwgcnVsZVsxXSgpID8/ICcvJylcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxufVxuXG4vKipcbiAqIFJlcXVlc3QgdGhlIG1ldGFkYXRhIG9mIGEgZmlsZSwgdG8gZGV0ZXJtaW5lIHRoZSBmaWxlIGV4dGVuc2lvbi5cbiAqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlbW90ZUV4dCh1cmw6IHN0cmluZywgbG9nOiBMb2dnZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxvZy5kZWJ1ZyhgUmVzb2x2aW5nIGV4dGVuc2lvbiBmb3IgJHt1cmx9YClcblxuICAgIGNvbnN0IHJlZmVyZXIgPSBVUkwuZ2V0T3JpZ2luKHVybClcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgdGhyb3c6IGZhbHNlLFxuICAgICAgICBtZXRob2Q6ICdIRUFEJyxcbiAgICAgICAgaGVhZGVyczogeyBSZWZlcmVyOiByZWZlcmVyID8gcmVmZXJlciArICcvJyA6ICcnIH0sXG4gICAgfSlcblxuICAgIEF0dGFjaG1lbnRFcnJvci5hc3NlcnRSZXNwb25zZSh1cmwsIHJlc3BvbnNlLCAndXJsLXJlcXVlc3QtaGVhZCcpXG4gICAgcmV0dXJuIGdldE1pbWVFeHQocmVzcG9uc2UuaGVhZGVyc1snY29udGVudC10eXBlJ10pXG59XG5cbi8qKlxuICogRG93bmxvYWRzIHRoZSBjb250ZW50IG9mIGEgZmlsZS5cbiAqIEB0aHJvd3Mge0F0dGFjaG1lbnRFcnJvcn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlbW90ZUNvbnRlbnQoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbG9nOiBMb2dnZXIsXG4pOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XG4gICAgbG9nLmRlYnVnKGBEb3dubG9hZGluZyAke3VybH1gKVxuXG4gICAgY29uc3QgcmVmZXJlciA9IFVSTC5nZXRPcmlnaW4odXJsKVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICB0aHJvdzogZmFsc2UsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgUmVmZXJlcjogcmVmZXJlciA/IHJlZmVyZXIgKyAnLycgOiAnJyB9LFxuICAgIH0pXG5cbiAgICBBdHRhY2htZW50RXJyb3IuYXNzZXJ0UmVzcG9uc2UodXJsLCByZXNwb25zZSwgJ3VybC1yZXF1ZXN0LWdldCcpXG4gICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyXG59XG4iLCJpbXBvcnQgdHlwZSB7IENhY2hlUmVtb3RlIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IGNvbXBhcmVCeVNwZWNpZmljaXR5IH0gZnJvbSAnLi9zdHJpbmdzJ1xuXG4vKiogRW5zdXJlcyB1bmlxdWVuZXNzIGFuZCBvcmRlciBvZiBhIGxpc3Qgb2YgcmVtb3Rlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogQ2FjaGVSZW1vdGVbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW10gYXMgQ2FjaGVSZW1vdGVbXVxuICAgIGxldCBoYXNGYWxsYmFjayA9IGZhbHNlXG5cbiAgICAvLyBrZWVwIG9ubHkgZmlyc3QgYXBwZXJlbmNlc1xuICAgIGZvciAoY29uc3QgYSBvZiByZW1vdGVzKSB7XG4gICAgICAgIGlmIChyZXN1bHQuZXZlcnkoKGIpID0+IGIucGF0dGVybiAhPT0gYS5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgaWYgKGEucGF0dGVybiA9PT0gJyonKSBoYXNGYWxsYmFjayA9IHRydWVcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc0ZhbGxiYWNrKSByZXN1bHQucHVzaCh7IHBhdHRlcm46ICcqJywgd2hpdGVsaXN0ZWQ6IGZhbHNlIH0pXG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbi8qKiBTZXJpYWxpemUgcmVtb3RlcyBhcyBhbiBzdHJpbmcuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUmVtb3RlcyhyZW1vdGVzOiBDYWNoZVJlbW90ZVtdKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcmVtb3Rlc1xuICAgICAgICAubWFwKCh7IHdoaXRlbGlzdGVkLCBwYXR0ZXJuIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBgJHt3aGl0ZWxpc3RlZCA/ICd3JyA6ICdiJ30gJHtwYXR0ZXJufWBcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpXG59XG5cbi8qKlxuICogUGFyc2VzIGEgcmVtb3RlIHN0cmluZywga2VlcGluZyB3aGl0ZWxpc3RlZCBzdGF0dXMgaWYgcHJlc2VudC5cbiAqIC0gYCd3IGV4YW1wbGUuY29tJ2Ag4oaSIGBbJ2V4YW1wbGUuY29tJywgdHJ1ZV1gXG4gKiAtIGAnYiBleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIGZhbHNlXWBcbiAqIC0gYCdleGFtcGxlLmNvbSdgIOKGkiBgWydleGFtcGxlLmNvbScsIHVuZGVmaW5lZF1gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbW90ZShzb3VyY2U6IHN0cmluZyk6IFtzdHJpbmcsIGJvb2xlYW4gfCB1bmRlZmluZWRdIHtcbiAgICBpZiAoIS9cXHMrLy50ZXN0KHNvdXJjZSkpIHJldHVybiBbc291cmNlLCB1bmRlZmluZWRdXG5cbiAgICBjb25zdCBwYXJ0cyA9IHNvdXJjZS5zcGxpdCgvXFxzKy9nKVxuICAgIGlmIChwYXJ0c1swXS5zdGFydHNXaXRoKCd3JykpIHJldHVybiBbcGFydHNbMV0sIHRydWVdXG4gICAgaWYgKHBhcnRzWzBdLnN0YXJ0c1dpdGgoJ2InKSkgcmV0dXJuIFtwYXJ0c1sxXSwgZmFsc2VdXG4gICAgcmV0dXJuIFtwYXJ0c1sxXSwgdW5kZWZpbmVkXVxufVxuXG4vKiogU3BsaXRzIGEgcmVtb3RlcyBzdHJpbmcsIGtlZXBpbmcgcHJldmlvdXMgc3RhdGVzIHdoZW4gcG9zaWJsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbW90ZXMoXG4gICAgcmVtb3RlczogQ2FjaGVSZW1vdGVbXSxcbiAgICBzb3VyY2VzOiBzdHJpbmcsXG4pOiBDYWNoZVJlbW90ZVtdIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZVJlbW90ZVtdXG4gICAgbGV0IGhhc0ZhbGxiYWNrID0gZmFsc2VcblxuICAgIC8vIG9uZSByZW1vdGUgcGVyLWxpbmVcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgICAgIGNvbnN0IFtwYXR0ZXJuLCB3XSA9IHBhcnNlUmVtb3RlKHNvdXJjZSlcbiAgICAgICAgaWYgKHBhdHRlcm4gPT09ICcqJykgaGFzRmFsbGJhY2sgPSB0cnVlXG5cbiAgICAgICAgLy8gaWdub3JlIGR1cGxpY2F0ZWQgZW50cmllc1xuICAgICAgICBpZiAocmVzdWx0LnNvbWUoKGIpID0+IGIucGF0dGVybiA9PT0gcGF0dGVybikpIGNvbnRpbnVlXG5cbiAgICAgICAgLy8gaWYgaGFzIHdoaXRlbGlzdGVkIGRlZmluaXRpb24sIHVzZSBpdFxuICAgICAgICBpZiAodyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdHRlcm4sIHdoaXRlbGlzdGVkOiB3IH0pXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VhcmNoIHByZXZpb3VzIGRlZmluaXRpb25cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlbW90ZXMpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCBzYW1lIHBhdHRlcm5zXG4gICAgICAgICAgICBpZiAocGF0dGVybiA9PT0gcy5wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogcy53aGl0ZWxpc3RlZCB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCBvbmx5IHdpdGggYSBkaWZlcmVuY2Ugb2Ygb25lIGNoYXJhY3RlclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4ubGVuZ3RoIC0gcy5wYXR0ZXJuLmxlbmd0aCkgIT09IDEpIGNvbnRpbnVlXG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBtYXRjaCB0aGUgcGF0dGVybnNcbiAgICAgICAgICAgIGlmIChzLnBhdHRlcm4uc3RhcnRzV2l0aChwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGUuY29tL3BhdGggPT4gZXhhbXBsZS5jb20vcGF0XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogcy53aGl0ZWxpc3RlZCB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdHRlcm4uc3RhcnRzV2l0aChzLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZS5jb20vcGF0aCA9PiBleGFtcGxlLmNvbS9wYXRoc1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcGF0dGVybiwgd2hpdGVsaXN0ZWQ6IHMud2hpdGVsaXN0ZWQgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbGJhY2sgYmVoYXZpb3JcbiAgICAgICAgaWYgKCFyZXN1bHQuc29tZSgoYikgPT4gYi5wYXR0ZXJuID09PSBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwYXR0ZXJuLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzRmFsbGJhY2spIHJlc3VsdC5wdXNoKHsgcGF0dGVybjogJyonLCB3aGl0ZWxpc3RlZDogZmFsc2UgfSlcblxuICAgIC8vIHNvcnRpbmdcbiAgICByZXR1cm4gcmVzdWx0LnNvcnQoKGEsIGIpID0+IGNvbXBhcmVCeVNwZWNpZmljaXR5KGEucGF0dGVybiwgYi5wYXR0ZXJuKSlcbn1cblxuLyoqIERldGVjdHMgcG9zaWJsZSBwcm9ibGVtcyB3aXRoIHRoZSB1c2VyIGRlZmluZWQgcmVtb3Rlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlbW90ZXMoc291cmNlczogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHByb2JsZW1zOiBzdHJpbmdbXSA9IFtdXG4gICAgbGV0IGhhc0ZhbGxiYWNrID0gZmFsc2VcblxuICAgIC8vIG9uZSByZW1vdGUgcGVyLWxpbmVcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzLnNwbGl0KC9cXG4rL2cpKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSBzb3VyY2UudHJpbSgpLnJlcGxhY2UoL15bd2JdXFxzKy8sICcnKVxuICAgICAgICBpZiAodHJpbW1lZCA9PT0gJyonKSB7XG4gICAgICAgICAgICBoYXNGYWxsYmFjayA9IHRydWVcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL15cXHcrOi9naS50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgICAgICBwcm9ibGVtcy5wdXNoKFwicmVtb3ZlIHByb3RvY29scywgZXg6ICdodHRwOi8vJ1wiKVxuICAgICAgICB9XG4gICAgICAgIGlmICghL14oXFx3K1xcLikrXFx3Ky8udGVzdCh0cmltbWVkKSkge1xuICAgICAgICAgICAgcHJvYmxlbXMucHVzaChcInNob3VsZCBpbmNsdWRlIGRvbWFpbiwgZXg6ICdleGFtcGxlLm9yZy9wYXRoJ1wiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNGYWxsYmFjaykgcHJvYmxlbXMudW5zaGlmdChcInNob3VsZCBpbmNsdWRlIGEgZmFsbGJhY2sgJyonXCIpXG5cbiAgICByZXR1cm4gcHJvYmxlbXNcbn1cbiIsImltcG9ydCB0eXBlIHsgQ2FjaGVDb25maWcgfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgY29tcGFyZUJ5U3BlY2lmaWNpdHkgfSBmcm9tICcuL3N0cmluZ3MnXG5pbXBvcnQgeyBwcmVwYXJlUmVtb3RlcyB9IGZyb20gJy4vcmVtb3RlcydcblxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVDb25maWdzKGNvbmZpZ3M6IENhY2hlQ29uZmlnW10pOiBDYWNoZUNvbmZpZ1tdIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDYWNoZUNvbmZpZ1tdXG5cbiAgICBmb3IgKGNvbnN0IGEgb2YgY29uZmlncykge1xuICAgICAgICAvLyBpZiBpcyB1bmlxdWUsIGtlZXAgaXRcbiAgICAgICAgY29uc3QgYkluZGV4ID0gcmVzdWx0LmZpbmRJbmRleCgoYikgPT4gYi5wYXR0ZXJuID09PSBhLnBhdHRlcm4pXG4gICAgICAgIGlmIChiSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgcmVtb3RlcyBhcmUgc29ydGVkXG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IC4uLmEsIHJlbW90ZXM6IHByZXBhcmVSZW1vdGVzKGEucmVtb3RlcykgfSlcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIGR1cGxpY2F0ZXMsIGtlZXAgdGhlIG1vcmUgc3BlY2lmaWMgb25lXG4gICAgICAgIGlmIChhLnJlbW90ZXMubGVuZ3RoID4gcmVzdWx0W2JJbmRleF0ucmVtb3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSByZW1vdGVzIGFyZSBzb3J0ZWRcbiAgICAgICAgICAgIHJlc3VsdFtiSW5kZXhdID0geyAuLi5hLCByZW1vdGVzOiBwcmVwYXJlUmVtb3RlcyhhLnJlbW90ZXMpIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVuc3VyZSBzb3J0aW5nIG9mIHBhdGhzXG4gICAgcmV0dXJuIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnlTcGVjaWZpY2l0eShhLnBhdHRlcm4sIGIucGF0dGVybikpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1BhdHRlcm4oY29uZmlnczogQ2FjaGVDb25maWdbXSwgX3ZhbHVlOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCFfdmFsdWUpIHJldHVybiBbJ2ludmFsaWQgcGF0dGVybiddXG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgICAgICBpZiAoY29uZmlnLnBhdHRlcm4gPT09IF92YWx1ZSkgcmV0dXJuIFtgZHVwbGljYXRlZCBwYXR0ZXJuICcke192YWx1ZX0nYF1cbiAgICB9XG4gICAgcmV0dXJuIFtdXG59XG4iLCJpbXBvcnQgeyBwcmVwYXJlSGFzaCB9IGZyb20gJ0AvdXRpbGl0eSdcbmltcG9ydCB0eXBlIHsgTG9nTGV2ZWwgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5cbmV4cG9ydCBmdW5jdGlvbiBkb2NzKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBkZXNjOiBzdHJpbmcgfCBEb2N1bWVudEZyYWdtZW50LFxuKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgaWYgKFN0cmluZy5pc1N0cmluZyhkZXNjKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoKGRpdikgPT4ge1xuICAgICAgICAgICAgZGl2LmFwcGVuZFRleHQoZGVzYyArICcuIENoZWNrIHRoZSAnKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdhJywge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdEb2NzJyxcbiAgICAgICAgICAgICAgICBocmVmOiBgaHR0cHM6Ly9naXRodWIuY29tL2x1aXNicy9vYnNpZGlhbi1hdHRhY2htZW50cy1jYWNoZS9ibG9iL21haW4vZG9jcy9zZXR0aW5ncy5tZCMke3ByZXBhcmVIYXNoKG5hbWUpfWAsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZGl2LmFwcGVuZFRleHQoJy4nKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRlc2MuYXBwZW5kVGV4dCgnLiBDaGVjayB0aGUgJylcbiAgICBkZXNjLmNyZWF0ZUVsKCdhJywge1xuICAgICAgICB0ZXh0OiAnRG9jcycsXG4gICAgICAgIGhyZWY6IGBodHRwczovL2dpdGh1Yi5jb20vbHVpc2JzL29ic2lkaWFuLWF0dGFjaG1lbnRzLWNhY2hlL2Jsb2IvbWFpbi9kb2NzL3NldHRpbmdzLm1kIyR7cHJlcGFyZUhhc2gobmFtZSl9YCxcbiAgICB9KVxuICAgIGRlc2MuYXBwZW5kVGV4dCgnLicpXG4gICAgcmV0dXJuIGRlc2Ncbn1cblxuLy8jcmVnaW9uIExvZ0xldmVsXG5leHBvcnQgdHlwZSBQbHVnaW5MZXZlbCA9IGtleW9mIHR5cGVvZiBMb2dMZXZlbFxuZXhwb3J0IGNvbnN0IExFVkVMX0xBQkVMUzogUmVjb3JkPFBsdWdpbkxldmVsLCBzdHJpbmc+ID0ge1xuICAgIEVSUk9SOiAnRVJST1InLFxuICAgIFdBUk46ICcgV0FSTicsXG4gICAgSU5GTzogJyBJTkZPJyxcbiAgICBERUJVRzogJ0RFQlVHJyxcbiAgICBUUkFDRTogJ1RSQUNFJyxcbn1cbi8vI2VuZHJlZ2lvbiBMb2dMZXZlbFxuXG4vLyNyZWdpb24gUHJpb3JpdGllc1xuLyoqIFV0aWxpdHkgdHlwZSB0byBtYXAgcHJpb3JpdHkgdmFsdWVzLiAqL1xuZXhwb3J0IHR5cGUgUGx1Z2luUHJpb3JpdHkgPSAnTE9XRVInIHwgJ05PUk1BTCcgfCAnSElHSEVSJ1xuLyoqIFByaW9yaXR5IGJlaGF2aW9yOiBgaGlnaGVyID0gYWZ0ZXJgICovXG5leHBvcnQgY29uc3QgUFJJT1JJVFk6IFJlY29yZDxQbHVnaW5Qcmlvcml0eSwgbnVtYmVyPiA9IHtcbiAgICAvLyAhIGFueSB2YWx1ZSBsb3dlciB0aGFuIDAgd2lsbCBpZ25vcmUgdXNlci13cml0dGVuIGVsZW1lbnRzXG4gICAgLyoqIE9ubHkgY2FjaGVzIHVzZXItd3JpdHRlbiBtYXJrZG93bi4gKi9cbiAgICBMT1dFUjogMCxcbiAgICAvKiogQ2FjaGVzICoqUG9zdFByb2Nlc3NvcnMqKiB3aXRoIGRlZmF1bHQgcHJpb3JpdHkgYDBgLiAqL1xuICAgIE5PUk1BTDogMSxcbiAgICAvKiogT25seSBpZ25vcmVzIHRoZSBoaWdoZXN0IHByaW9yaXR5IGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAgKi9cbiAgICBISUdIRVI6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMSxcbn1cbi8qKiBMYWJlbHMgZm9yIHByaW9yaXR5IHZhbHVlcyAqL1xuZXhwb3J0IGNvbnN0IFBSSU9SSVRZX0xBQkVMUzogUmVjb3JkPFBsdWdpblByaW9yaXR5LCBzdHJpbmc+ID0ge1xuICAgIExPV0VSOiAnT25seSBjYWNoZSBzdGF0aWMgYXR0YWNobWVudHMnLFxuICAgIE5PUk1BTDogJ0NhY2hlIG1ham9yaXR5IG9mIGF0dGFjaG1lbnRzJyxcbiAgICBISUdIRVI6ICdDYWNoZSBhbGwgcG9zaWJsZSBhdHRhY2htZW50cycsXG59XG4vLyNlbmRyZWdpb24gUHJpb3JpdGllc1xuIiwiaW1wb3J0IHR5cGUgeyBDYWNoZUNvbmZpZywgQ2FjaGVSZW1vdGUgfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHsgbm9ybWFsaXplUGF0aCwgU2V0dGluZywgVGV4dEFyZWFDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7XG4gICAgY2hlY2tSZW1vdGVzLFxuICAgIHBhcnNlUmVtb3RlcyxcbiAgICBwcmVwYXJlUmVzb2x2ZXIsXG4gICAgc2VyaWFsaXplUmVtb3Rlcyxcbn0gZnJvbSAnQC91dGlsaXR5J1xuaW1wb3J0IHsgZG9jcyB9IGZyb20gJy4vdmFsdWVzJ1xuXG50eXBlIEV2ZW50Q2FsbGJhY2sgPSAoY2FjaGU6IENhY2hlQ29uZmlnKSA9PiB2b2lkXG5cbmV4cG9ydCBjbGFzcyBDYWNoZVNldHRpbmdzIHtcbiAgICAjY2FjaGU6IENhY2hlQ29uZmlnXG4gICAgI2NhY2hlSGVhZGVyOiBTZXR0aW5nXG4gICAgI2NhY2hlRGV0YWlsczogSFRNTEVsZW1lbnRcbiAgICAjY2FjaGVSZW1vdGVzOiBIVE1MRWxlbWVudFxuICAgICNyZW1vdGVzVGV4dD86IFRleHRBcmVhQ29tcG9uZW50XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEhUTUxFbGVtZW50LCBjYWNoZTogQ2FjaGVDb25maWcpIHtcbiAgICAgICAgLy8gY2xvbmVkIHRvIGNvbnRyb2wgZmxvdyBvZiB1cGRhdGVzXG4gICAgICAgIHRoaXMuI2NhY2hlID0geyAuLi5jYWNoZSwgcmVtb3RlczogWy4uLmNhY2hlLnJlbW90ZXNdIH1cblxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlciA9IG5ldyBTZXR0aW5nKHBhcmVudClcbiAgICAgICAgdGhpcy4jY2FjaGVEZXRhaWxzID1cbiAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLnNldHRpbmdFbC5jcmVhdGVEaXYoJ2NhY2hlLWRldGFpbHMnKVxuICAgICAgICB0aGlzLiNjYWNoZVJlbW90ZXMgPVxuICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmNyZWF0ZURpdignY2FjaGUtcmVtb3RlcycpXG5cbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlSGVhZGVyKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNhY2hlRGV0YWlscygpXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKVxuICAgIH1cblxuICAgICNjYWNoZU5hbWUoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGcmFnbWVudCgoZGl2KSA9PiB7XG4gICAgICAgICAgICBkaXYuYXBwZW5kKGBOb3RlcyBhdDogYClcbiAgICAgICAgICAgIGRpdi5jcmVhdGVFbCgnY29kZScpLmFwcGVuZFRleHQodGhpcy4jY2FjaGUucGF0dGVybilcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2NhY2hlRGVzYygpOiBEb2N1bWVudEZyYWdtZW50IHwgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoJ0FkZHMgdGhlIGF0dGFjaG1lbnQgdG86JylcbiAgICAgICAgICAgIGRpdi5jcmVhdGVFbCgnY29kZScpLmFwcGVuZFRleHQodGhpcy4jY2FjaGUudGFyZ2V0KVxuICAgICAgICB9KVxuICAgIH1cbiAgICAjZGlzcGxheUNhY2hlSGVhZGVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXROYW1lKHRoaXMuI2NhY2hlTmFtZSgpKVxuICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXREZXNjKHRoaXMuI2NhY2hlRGVzYygpKVxuXG4gICAgICAgIGlmICh0aGlzLiNjYWNoZS5wYXR0ZXJuICE9PSAnKicpIHtcbiAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0SWNvbigndHJhc2gtMicpLnNldFRvb2x0aXAoJ1JlbW92ZScpXG4gICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jY2FjaGUucGF0dGVybiA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJmYWxsYmFjayBjb25maWcoJyonKSBjYW4ndCBiZSByZW1vdmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlSGVhZGVyLmNsZWFyKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZVJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLiNjYWNoZS5lbmFibGVkKVxuICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLmVuYWJsZWQgPSB2YWx1ZVxuICAgICAgICAgICAgICAgIHRoaXMuI2ludm9rZUNoYW5nZSgpXG5cbiAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXROYW1lKHRoaXMuI2NhY2hlTmFtZSgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgbGV0IHZpc2libGUgPSBmYWxzZVxuICAgICAgICAgICAgYnV0dG9uLnNldEljb24oJ2NoZXZyb24tZG93bicpLnNldFRvb2x0aXAoJ0RldGFpbHMnKVxuICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZpc2libGUgPSAhdmlzaWJsZVxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLXVwJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2FjaGVIZWFkZXIuc2V0dGluZ0VsLmFkZENsYXNzKCdzaG93LWRldGFpbHMnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCdjaGV2cm9uLWRvd24nKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjYWNoZUhlYWRlci5zZXR0aW5nRWwucmVtb3ZlQ2xhc3MoJ3Nob3ctZGV0YWlscycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAjdGFyZ2V0RGVzYygpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRUZXh0KCdGb3IgdXNhZ2Ugb2YgdmFyaWFibGVzIGxpa2UnKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAne2ZvbGRlcnBhdGh9JyB9KVxuICAgICAgICAgICAgZGl2LmFwcGVuZFRleHQoJyBvciAnKVxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAne25vdGVuYW1lfScgfSlcbiAgICAgICAgICAgIGRvY3MoJ0F0dGFjaG1lbnRzIHN0b3JhZ2UnLCBkaXYpXG5cbiAgICAgICAgICAgIGNvbnN0IHVsID0gZGl2LmNyZWF0ZUVsKCd1bCcpXG4gICAgICAgICAgICBjb25zdCBub3RlID0gdWwuY3JlYXRlRWwoJ2xpJylcbiAgICAgICAgICAgIG5vdGUuYXBwZW5kKFwiTm90ZTogJ1wiKVxuICAgICAgICAgICAgbm90ZS5jcmVhdGVFbCgnYicpLmFwcGVuZFRleHQoJ2EvYi9jL25vdGUxLm1kJylcbiAgICAgICAgICAgIG5vdGUuYXBwZW5kKFwiJ1wiKVxuXG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGV4YW1wbGUgPSBub3JtYWxpemVQYXRoKFxuICAgICAgICAgICAgICAgIHByZXBhcmVSZXNvbHZlcih0aGlzLiNjYWNoZS50YXJnZXQpKCdhL2IvYy9ub3RlMS5tZCcpICsgJy9pbWcxLmpwZycsXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB1bC5jcmVhdGVFbCgnbGknKVxuICAgICAgICAgICAgYXR0YWNobWVudC5hcHBlbmQoXCJBdHRhY2htZW50OiAnXCIpXG4gICAgICAgICAgICBhdHRhY2htZW50LmNyZWF0ZUVsKCdiJykuYXBwZW5kVGV4dChleGFtcGxlKVxuICAgICAgICAgICAgYXR0YWNobWVudC5hcHBlbmQoXCInXCIpXG4gICAgICAgIH0pXG4gICAgfVxuICAgICNkaXNwbGF5Q2FjaGVEZXRhaWxzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjYWNoZVNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLiNjYWNoZURldGFpbHMpXG4gICAgICAgIGNhY2hlU2V0dGluZy5zZXROYW1lKCdBdHRhY2htZW50cyBzdG9yYWdlJylcbiAgICAgICAgY2FjaGVTZXR0aW5nLnNldERlc2ModGhpcy4jdGFyZ2V0RGVzYygpKVxuICAgICAgICBjYWNoZVNldHRpbmcuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI2NhY2hlLnRhcmdldClcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLnRhcmdldCA9IHZhbHVlXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcblxuICAgICAgICAgICAgICAgIGNhY2hlU2V0dGluZy5zZXREZXNjKHRoaXMuI3RhcmdldERlc2MoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcmVtb3Rlc0Rlc2MgPSBjcmVhdGVGcmFnbWVudCgpXG4gICAgICAgIGNvbnN0IHJlbW90ZXNEZXNjVWwgPSByZW1vdGVzRGVzYy5jcmVhdGVFbCgndWwnKVxuICAgICAgICBjb25zdCByZW1vdGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlRGV0YWlscylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuc2V0Q2xhc3MoJ3JlbW90ZXMtaW5wdXQnKVxuICAgICAgICByZW1vdGVzU2V0dGluZy5zZXROYW1lKCdSZW1vdGVzJylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuc2V0RGVzYyhyZW1vdGVzRGVzYylcbiAgICAgICAgcmVtb3Rlc1NldHRpbmcuYWRkVGV4dEFyZWEoKHRleHRhcmVhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNyZW1vdGVzVGV4dCA9IHRleHRhcmVhXG4gICAgICAgICAgICB0ZXh0YXJlYS5zZXRWYWx1ZShzZXJpYWxpemVSZW1vdGVzKHRoaXMuI2NhY2hlLnJlbW90ZXMpKVxuICAgICAgICAgICAgdGV4dGFyZWEub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICByZW1vdGVzRGVzY1VsLmVtcHR5KClcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ibGVtcyA9IGNoZWNrUmVtb3Rlcyh2YWx1ZSlcbiAgICAgICAgICAgICAgICBpZiAocHJvYmxlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9ibGVtcy5mb3JFYWNoKChwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3Rlc0Rlc2NVbC5jcmVhdGVFbCgnbGknKS5hcHBlbmRUZXh0KHApLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuI2NhY2hlLnJlbW90ZXMgPSBwYXJzZVJlbW90ZXModGhpcy4jY2FjaGUucmVtb3RlcywgdmFsdWUpXG4gICAgICAgICAgICAgICAgdGhpcy4jaW52b2tlQ2hhbmdlKClcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVSZW1vdGVzKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgI3JlbW90ZU5hbWUocjogQ2FjaGVSZW1vdGUpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50KChkaXYpID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoXG4gICAgICAgICAgICAgICAgYCR7ci53aGl0ZWxpc3RlZCA/ICdXaGl0ZWxpc3RlZCcgOiAnQmxhY2tsaXN0ZWQnfSByZW1vdGU6IGAsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2NvZGUnKS5hcHBlbmRUZXh0KHIucGF0dGVybilcbiAgICAgICAgfSlcbiAgICB9XG4gICAgI2Rpc3BsYXlDYWNoZVJlbW90ZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI2NhY2hlUmVtb3Rlcy5lbXB0eSgpXG5cbiAgICAgICAgZm9yIChjb25zdCByZW1vdGUgb2YgdGhpcy4jY2FjaGUucmVtb3Rlcykge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuI2NhY2hlUmVtb3RlcylcbiAgICAgICAgICAgIHNldHRpbmcuc2V0TmFtZSh0aGlzLiNyZW1vdGVOYW1lKHJlbW90ZSkpXG5cbiAgICAgICAgICAgIGlmIChyZW1vdGUucGF0dGVybiAhPT0gJyonKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZy5hZGRFeHRyYUJ1dHRvbigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRJY29uKCd0cmFzaC0yJykuc2V0VG9vbHRpcCgnUmVtb3ZlJylcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlcyA9IHRoaXMuI2NhY2hlLnJlbW90ZXMgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChyKSA9PiByLnBhdHRlcm4gIT09IHJlbW90ZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldHRpbmcuYWRkQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dChcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLndoaXRlbGlzdGVkID8gJ0JsYWNrbGlzdCcgOiAnV2hpdGVsaXN0JyxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVzID0gdGhpcy4jY2FjaGUucmVtb3Rlcy5tYXAoKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnBhdHRlcm4gIT09IHJlbW90ZS5wYXR0ZXJuKSByZXR1cm4gclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uciwgd2hpdGVsaXN0ZWQ6ICFyLndoaXRlbGlzdGVkIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlUmVtb3RlcyhyZW1vdGVzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgI3VwZGF0ZVJlbW90ZXMocmVtb3RlczogQ2FjaGVSZW1vdGVbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLiNjYWNoZS5yZW1vdGVzID0gcmVtb3Rlc1xuICAgICAgICB0aGlzLiNpbnZva2VDaGFuZ2UoKVxuXG4gICAgICAgIHRoaXMuI3JlbW90ZXNUZXh0Py5zZXRWYWx1ZShzZXJpYWxpemVSZW1vdGVzKHJlbW90ZXMpKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q2FjaGVSZW1vdGVzKClcbiAgICB9XG5cbiAgICAjY2hhbmdlTGlzdGVuZXJzOiBFdmVudENhbGxiYWNrW10gPSBbXVxuICAgICNyZW1vdmVMaXN0ZW5lcnM6IEV2ZW50Q2FsbGJhY2tbXSA9IFtdXG5cbiAgICAjaW52b2tlQ2hhbmdlKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuI2NoYW5nZUxpc3RlbmVycykgbGlzdGVuZXIodGhpcy4jY2FjaGUpXG4gICAgfVxuICAgICNpbnZva2VSZW1vdmUoKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4jcmVtb3ZlTGlzdGVuZXJzKSBsaXN0ZW5lcih0aGlzLiNjYWNoZSlcbiAgICB9XG5cbiAgICBvbkNoYW5nZShjYWxsYmFjazogRXZlbnRDYWxsYmFjayk6IHRoaXMge1xuICAgICAgICB0aGlzLiNjaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgb25SZW1vdmUoY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spOiB0aGlzIHtcbiAgICAgICAgdGhpcy4jcmVtb3ZlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUge1xuICAgIEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4sXG4gICAgQ2FjaGVDb25maWcsXG4gICAgUGx1Z2luU2V0dGluZ3MsXG59IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQge1xuICAgIEJ1dHRvbkNvbXBvbmVudCxcbiAgICBEcm9wZG93bkNvbXBvbmVudCxcbiAgICBQbHVnaW5TZXR0aW5nVGFiLFxuICAgIFNldHRpbmcsXG4gICAgVGV4dENvbXBvbmVudCxcbn0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBjaGVja1BhdHRlcm4sIHByZXBhcmVDb25maWdzIH0gZnJvbSAnQC91dGlsaXR5J1xuaW1wb3J0IHsgQ2FjaGVTZXR0aW5ncyB9IGZyb20gJy4vQ2FjaGVTZXR0aW5ncydcbmltcG9ydCB7IGRvY3MsIExFVkVMX0xBQkVMUywgUFJJT1JJVFlfTEFCRUxTIH0gZnJvbSAnLi92YWx1ZXMnXG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgICNwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW5cblxuICAgICNjb25maWdzTGlzdD86IEhUTUxEaXZFbGVtZW50XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIocGx1Z2luLmFwcCwgcGx1Z2luKVxuICAgICAgICB0aGlzLiNwbHVnaW4gPSBwbHVnaW5cbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KClcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygnYXR0YWNobWVudHMtY2FjaGUtc2V0dGluZ3MnKVxuXG4gICAgICAgIHRoaXMuI2Rpc3BsYXlHZW5lcmFsU2V0dGluZ3MoKVxuXG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpLnNldE5hbWUoJ092ZXJyaWRlcycpLnNldEhlYWRpbmcoKVxuICAgICAgICB0aGlzLiNkaXNwbGF5T3ZlcnJpZGVTZXR0aW5ncygpXG5cbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbCkuc2V0TmFtZSgnUnVsZXMnKS5zZXRIZWFkaW5nKClcbiAgICAgICAgdGhpcy4jZGlzcGxheUNvbmZpZ3NIZWFkZXIoKVxuICAgICAgICB0aGlzLiNjb25maWdzTGlzdCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdjb25maWdzLWxpc3QnKVxuICAgICAgICB0aGlzLiNkaXNwbGF5Q29uZmlnc0xpc3QoKVxuICAgIH1cblxuICAgICNkaXNwbGF5R2VuZXJhbFNldHRpbmdzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBsZXZlbFNldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICBsZXZlbFNldHRpbmcuc2V0TmFtZSgnTG9nIGxldmVsJylcbiAgICAgICAgbGV2ZWxTZXR0aW5nLnNldERlc2MoZG9jcygnTG9nIGxldmVsJywgJ1RvIGNoZWNrIHRoZSBwbHVnaW4gbG9ncycpKVxuICAgICAgICBsZXZlbFNldHRpbmcuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb25zKExFVkVMX0xBQkVMUylcbiAgICAgICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5wbHVnaW5fbGV2ZWwpXG4gICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAncGx1Z2luX2xldmVsJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcHJpb3JpdHlTZXR0aW5nID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgcHJpb3JpdHlTZXR0aW5nLnNldE5hbWUoJ0NhY2hlIHByaW9yaXR5JylcbiAgICAgICAgcHJpb3JpdHlTZXR0aW5nLnNldERlc2MoXG4gICAgICAgICAgICBkb2NzKCdDYWNoZSBwcmlvcml0eScsICdBZmZlY3RzIHRoZSBhdHRhY2htZW50cyBiZWVuIGNhY2hlZCcpLFxuICAgICAgICApXG4gICAgICAgIHByaW9yaXR5U2V0dGluZy5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbnMoUFJJT1JJVFlfTEFCRUxTKVxuICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLnBsdWdpbl9wcmlvcml0eSlcbiAgICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdwbHVnaW5fcHJpb3JpdHknKSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBjaGFyc1NldHRpbmcgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICBjaGFyc1NldHRpbmcuc2V0TmFtZSgnS2VlcCBzcGVjaWFsIGNoYXJhY3RlcnMnKVxuICAgICAgICBjaGFyc1NldHRpbmcuc2V0RGVzYyhcbiAgICAgICAgICAgICdJZiB5b3UgYXJlIGhhdmluZyBwcm9ibGVtcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycyBvbiBwYXRocywgZGlzYWJsZSB0aGlzIHNldHRpbmcuJyxcbiAgICAgICAgKVxuICAgICAgICBjaGFyc1NldHRpbmcuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLiNwbHVnaW4uc2V0dGluZ3MuYWxsb3dfY2hhcmFjdGVycylcbiAgICAgICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAnYWxsb3dfY2hhcmFjdGVycycpKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICNkaXNwbGF5T3ZlcnJpZGVTZXR0aW5ncygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdXJsaWdub3JlID0gbmV3IFNldHRpbmcodGhpcy5jb250YWluZXJFbClcbiAgICAgICAgdXJsaWdub3JlLnNldE5hbWUoXCJVUkwncyBpZ25vcmUgcGFyYW1cIilcbiAgICAgICAgdXJsaWdub3JlLnNldERlc2MoJ092ZXJyaWRlcyBydWxlcyBhbmQgaWdub3JlcyB0aGUgYXR0YWNobWVudC4nKVxuICAgICAgICB1cmxpZ25vcmUuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3BsdWdpbi5zZXR0aW5ncy51cmxfcGFyYW1faWdub3JlKVxuICAgICAgICAgICAgaW5wdXQub25DaGFuZ2UodGhpcy4jaGFuZGxlLmJpbmQodGhpcywgJ3VybF9wYXJhbV9pZ25vcmUnKSlcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdXJsY2FjaGUgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICB1cmxjYWNoZS5zZXROYW1lKFwiVVJMJ3MgY2FjaGUgcGFyYW1cIilcbiAgICAgICAgdXJsY2FjaGUuc2V0RGVzYygnT3ZlcnJpZGVzIHJ1bGVzIGFuZCBjYWNoZXMgdGhlIGF0dGFjaG1lbnQuJylcbiAgICAgICAgdXJsY2FjaGUuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3BsdWdpbi5zZXR0aW5ncy51cmxfcGFyYW1fY2FjaGUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAndXJsX3BhcmFtX2NhY2hlJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3Qgbm90ZWlnbm9yZSA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIG5vdGVpZ25vcmUuc2V0TmFtZShcIk5vdGUncyBpZ25vcmUgZnJvbnRtYXR0ZXIgYXR0cmlidXRlXCIpXG4gICAgICAgIG5vdGVpZ25vcmUuc2V0RGVzYygnT3ZlcnJpZGVzIHJ1bGVzIGFuZCBpZ25vcmVzIHRoZSBOb3RlIGF0dGFjaG1lbnRzLicpXG4gICAgICAgIG5vdGVpZ25vcmUuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnNldFZhbHVlKHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5ub3RlX3BhcmFtX2lnbm9yZSlcbiAgICAgICAgICAgIGlucHV0Lm9uQ2hhbmdlKHRoaXMuI2hhbmRsZS5iaW5kKHRoaXMsICdub3RlX3BhcmFtX2lnbm9yZScpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBub3RlY2FjaGUgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICBub3RlY2FjaGUuc2V0TmFtZShcIk5vdGUncyBjYWNoZSBmcm9udG1hdHRlciBhdHRyaWJ1dGVcIilcbiAgICAgICAgbm90ZWNhY2hlLnNldERlc2MoJ092ZXJyaWRlcyBydWxlcyBhbmQgY2FjaGVzIHRoZSBOb3RlIGF0dGFjaG1lbnRzLicpXG4gICAgICAgIG5vdGVjYWNoZS5hZGRUZXh0KChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQuc2V0VmFsdWUodGhpcy4jcGx1Z2luLnNldHRpbmdzLm5vdGVfcGFyYW1fY2FjaGUpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSh0aGlzLiNoYW5kbGUuYmluZCh0aGlzLCAnbm90ZV9wYXJhbV9jYWNoZScpKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICNkaXNwbGF5Q29uZmlnc0hlYWRlcigpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBhdHRlcm5JbnB1dDogVGV4dENvbXBvbmVudCB8IG51bGwgPSBudWxsXG4gICAgICAgIGxldCBzb3VyY2VEcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQgfCBudWxsID0gbnVsbFxuICAgICAgICBsZXQgZHVwbGljYXRlQnV0dG9uOiBCdXR0b25Db21wb25lbnQgfCBudWxsID0gbnVsbFxuXG4gICAgICAgIGNvbnN0IGhlYWRlckRlc2MgPSBjcmVhdGVGcmFnbWVudCgpXG4gICAgICAgIGNvbnN0IGhlYWRlckRlc2NVbCA9IGhlYWRlckRlc2MuY3JlYXRlRWwoJ3VsJylcblxuICAgICAgICBjb25zdCBoZWFkZXJFbCA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgIGhlYWRlckVsLnNldENsYXNzKCdjb25maWdzLWhlYWRlcicpXG4gICAgICAgIGhlYWRlckVsLnNldE5hbWUoJ0R1cGxpY2F0ZSBjYWNoZSBydWxlJylcbiAgICAgICAgaGVhZGVyRWwuc2V0RGVzYyhoZWFkZXJEZXNjKVxuICAgICAgICBoZWFkZXJFbC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgIHNvdXJjZURyb3Bkb3duID0gZHJvcGRvd25cbiAgICAgICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKCcqJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5jYWNoZV9jb25maWdzKSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKGNvbmZpZy5wYXR0ZXJuLCBjb25maWcucGF0dGVybilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgaGVhZGVyRWwuYWRkVGV4dCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHBhdHRlcm5JbnB1dCA9IGlucHV0XG4gICAgICAgICAgICBpbnB1dC5zZXRQbGFjZWhvbGRlcignZ2xvYjogKiovKi5tZCcpXG4gICAgICAgICAgICBpbnB1dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJEZXNjVWwuZW1wdHkoKVxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uPy5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2JsZW1zID0gY2hlY2tQYXR0ZXJuKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1zLmZvckVhY2goKHApID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJEZXNjVWwuY3JlYXRlRWwoJ2xpJykuYXBwZW5kVGV4dChwKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uPy5zZXREaXNhYmxlZChwcm9ibGVtcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgaGVhZGVyRWwuYWRkQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGR1cGxpY2F0ZUJ1dHRvbiA9IGJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ0R1cGxpY2F0ZScpXG4gICAgICAgICAgICBidXR0b24uc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgIGJ1dHRvbi5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm5JbnB1dD8uZ2V0VmFsdWUoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNvdXJjZURyb3Bkb3duPy5nZXRWYWx1ZSgpID8/ICcqJ1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MuZmluZChcbiAgICAgICAgICAgICAgICAgICAgKGkpID0+IGkucGF0dGVybiA9PT0gcmVmLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoIHx8ICFzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bmV4cGVjdGVkIHN0YXRlJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlncyA9IHRoaXMuI3BsdWdpbi5zZXR0aW5ncy5jYWNoZV9jb25maWdzXG4gICAgICAgICAgICAgICAgY29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZXM6IHNyYy5yZW1vdGVzLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBzcmMuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBzcmMudGFyZ2V0LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQ29uZmlncyhjb25maWdzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAjZGlzcGxheUNvbmZpZ3NMaXN0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuI2NvbmZpZ3NMaXN0KSByZXR1cm5cbiAgICAgICAgdGhpcy4jY29uZmlnc0xpc3QuZW1wdHkoKVxuXG4gICAgICAgIGZvciAoY29uc3QgY2FjaGUgb2YgdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgQ2FjaGVTZXR0aW5ncyh0aGlzLiNjb25maWdzTGlzdCwgY2FjaGUpXG4gICAgICAgICAgICBzZXR0aW5nLm9uQ2hhbmdlKChfY2FjaGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZS1yZW5kZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgLy9cbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoYykgPT4gKGMucGF0dGVybiA9PT0gX2NhY2hlLnBhdHRlcm4gPyBfY2FjaGUgOiBjKSlcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2V0dGluZy5vblJlbW92ZSgoX2NhY2hlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgb2YgcmVkZXIgaXMgYWxyZWFkeSBoYW5kbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWdzID0gdGhpcy4jcGx1Z2luLnNldHRpbmdzLmNhY2hlX2NvbmZpZ3MgLy9cbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoYykgPT4gYy5wYXR0ZXJuICE9PSBfY2FjaGUucGF0dGVybilcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVDb25maWdzKGNvbmZpZ3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgI2hhbmRsZShrZXk6IGtleW9mIFBsdWdpblNldHRpbmdzLCB2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGR5bmFtaWMgYXNzaWdubWVudFxuICAgICAgICB0aGlzLiNwbHVnaW4uc2V0dGluZ3Nba2V5XSA9IHZhbHVlXG4gICAgICAgIHZvaWQgdGhpcy4jcGx1Z2luLnNhdmVTZXR0aW5ncygpXG4gICAgfVxuICAgICN1cGRhdGVDb25maWdzKGNvbmZpZzogQ2FjaGVDb25maWdbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLiNwbHVnaW4uc2V0dGluZ3MuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGNvbmZpZylcbiAgICAgICAgdm9pZCB0aGlzLiNwbHVnaW4uc2F2ZVNldHRpbmdzKClcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4gfSBmcm9tICdAL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBNYXJrZG93blBvc3RQcm9jZXNzb3IgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IFBSSU9SSVRZIH0gZnJvbSAnQC9zZXR0aW5ncy92YWx1ZXMnXG5cbmV4cG9ydCBjbGFzcyBNYXJrZG93bkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBBdHRhY2htZW50c0NhY2hlUGx1Z2luKSB7fVxuXG4gICAgI21wcD86IE1hcmtkb3duUG9zdFByb2Nlc3NvclxuXG4gICAgLyoqXG4gICAgICogUHJpb3JpdGllcyBzb3J0cyB0aGUgKipQb3N0UHJvY2Vzb3JzKiogb3JkZXIgb2YgZXhlY3V0aW9uLCBgaGlnaGVyID09IGFmdGVyYC5cbiAgICAgKiBXaGVuICoqUG9zdFByb2Nlc29ycyoqIHVzZSBhbiBgYXN5bmNgIGZ1bmN0aW9uLCBpdCBpcyBub3QgYXdhaXRlZFxuICAgICAqIHNvIHRoZSBzb3J0T3JkZXIgaXMgbm90IGVuZm9yY2VkLlxuICAgICAqXG4gICAgICogV2hlbiBhICoqUG9zdFByb2Nlc29ycyoqIHJ1bnMgYWZ0ZXIgdGhlIGNhY2hlICoqUG9zdFByb2Nlc29yKiosXG4gICAgICogYW55IGF0dGFjaG1lbnQgZ2VuZXJhdGVkIHdpbGwgbm90IGJlIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogRm9yIGNvbnRleHQgb24gcHJpb3JpdHkgb2Ygb3RoZXIgcGx1Z2luczpcbiAgICAgKiAqIGx1aXNicy9vYnNpZGlhbi1jb21wb25lbnRzOiBgLTEwMGBcbiAgICAgKiAqIGJsYWNrc21pdGhndS9vYnNpZGlhbi1kYXRhdmlldzogYC0xMDBgXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBgMWAgY2FjaGVzIGF0dGFjaG1lbnRzIG9mIG5vcm1hbCBQb3N0UHJvY2Vzb3JzIChgcHJpb3JpdHkgPSAwYClcbiAgICAgKi9cbiAgICBwdWJsaWMgc3luY1ByaW9yaXR5KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuI21wcCkgcmV0dXJuXG4gICAgICAgIHRoaXMuI21wcC5zb3J0T3JkZXIgPSBQUklPUklUWVt0aGlzLnBsdWdpbi5zZXR0aW5ncy5wbHVnaW5fcHJpb3JpdHldXG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyTWFya2Rvd25Qcm9jZXNzb3IoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuI21wcCA9IHRoaXMucGx1Z2luLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKFxuICAgICAgICAgICAgKGVsZW1lbnQsIHsgc291cmNlUGF0aCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaW1pZGlhdGUgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnBsdWdpbl9wcmlvcml0eSA9PT0gJ0xPV0VSJykge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMuI2hhbmRsZShlbGVtZW50LCBzb3VyY2VQYXRoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmb3IgcGx1Z2lucyB0aGF0IHVzZSBhc3luYyBQb3N0UHJvY2Vzc29ycyBhd2FpdCBzb21lIHNlY29uZHNcbiAgICAgICAgICAgICAgICBjb25zdCBtaWxsaXMgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wbHVnaW5fcHJpb3JpdHkgPT09ICdISUdIRVInXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDEwMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDIwMDBcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHZvaWQgdGhpcy4jaGFuZGxlKGVsZW1lbnQsIHNvdXJjZVBhdGgpLCBtaWxsaXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICApXG4gICAgICAgIHRoaXMuc3luY1ByaW9yaXR5KClcbiAgICB9XG5cbiAgICBhc3luYyAjaGFuZGxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzb3VyY2VQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJykpKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaS5jYWNoZShzb3VyY2VQYXRoLCBlbC5zcmMpXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWQpIGVsLnNyYyA9IHJlc29sdmVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3Igb3RoZXIgdHlwZXMgb2YgYXR0YWNobWVudHNcbiAgICAgICAgLy8gb3RoZXIgYXR0YWNobWVudHMgdG8gc3VwcG9ydDogaHR0cHM6Ly9oZWxwLm9ic2lkaWFuLm1kL2ZpbGUtZm9ybWF0c1xuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQXR0YWNobWVudHNDYWNoZVBsdWdpbiwgQ2FjaGVNYXRjaGVyIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB0eXBlIHsgQXR0YWNobWVudHNDYWNoZVBsdWdpbkFQSSB9IGZyb20gJ0AvaW5kZXgnXG5pbXBvcnQgeyBWYXVsdCwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgTG9nZ2VyLCBVUkksIFVSTCB9IGZyb20gJ0BsdWlzLmJzL29ic2lkaWFuLWZuYydcbmltcG9ydCB7IGdldFJlbW90ZUNvbnRlbnQsIGdldFJlbW90ZUV4dCwgQXR0YWNobWVudEVycm9yIH0gZnJvbSAnLi91dGlsaXR5J1xuXG5pbnRlcmZhY2UgUmVtb3RlRGVmIHtcbiAgICBub3RlcGF0aDogc3RyaW5nXG4gICAgcmVtb3RlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRzQ2FjaGVBUEkgaW1wbGVtZW50cyBBdHRhY2htZW50c0NhY2hlUGx1Z2luQVBJIHtcbiAgICAjbG9nOiBMb2dnZXJcbiAgICAjdmF1bHQ6IFZhdWx0XG4gICAgI3BsdWdpbjogQXR0YWNobWVudHNDYWNoZVBsdWdpblxuXG4gICAgI21lbW8gPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPigpXG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IEF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4pIHtcbiAgICAgICAgdGhpcy4jbG9nID0gcGx1Z2luLmxvZy5tYWtlKEF0dGFjaG1lbnRzQ2FjaGVBUEkubmFtZSlcbiAgICAgICAgdGhpcy4jdmF1bHQgPSBwbHVnaW4uYXBwLnZhdWx0XG4gICAgICAgIHRoaXMuI3BsdWdpbiA9IHBsdWdpblxuICAgIH1cblxuICAgIG1heUNhY2hlKG5vdGVwYXRoOiBzdHJpbmcsIHJlbW90ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuI2ZpbmRDYWNoZVJ1bGUoeyBub3RlcGF0aCwgcmVtb3RlIH0sIHRoaXMuI2xvZylcbiAgICB9XG5cbiAgICBhc3luYyBpc0NhY2hlZChub3RlcGF0aDogc3RyaW5nLCByZW1vdGU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLnJlc29sdmUobm90ZXBhdGgsIHJlbW90ZSlcbiAgICAgICAgcmV0dXJuICEhbG9jYWxQYXRoICYmICEhdGhpcy4jdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICB9XG5cbiAgICBhc3luYyByZXNvdXJjZShcbiAgICAgICAgbm90ZXBhdGg6IHN0cmluZyxcbiAgICAgICAgcmVtb3RlOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy5yZXNvbHZlKG5vdGVwYXRoLCByZW1vdGUpXG4gICAgICAgIGlmICghbG9jYWxQYXRoKSByZXR1cm5cblxuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy4jdmF1bHQuZ2V0RmlsZUJ5UGF0aChsb2NhbFBhdGgpXG4gICAgICAgIHJldHVybiBmaWxlID8gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGZpbGUpIDogdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgYXN5bmMgcmVzb2x2ZShcbiAgICAgICAgbm90ZXBhdGg6IHN0cmluZyxcbiAgICAgICAgcmVtb3RlOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLiNsb2cuZ3JvdXAoKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBncm91cC5kZWJ1ZygnUmVzb2x2aW5nJywgeyBub3RlcGF0aCwgcmVtb3RlIH0pXG4gICAgICAgICAgICBjb25zdCBsb2NhbFBhdGggPSBhd2FpdCB0aGlzLiNyZXNvbHZlKHsgbm90ZXBhdGgsIHJlbW90ZSB9LCBncm91cClcbiAgICAgICAgICAgIGlmIChsb2NhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIHJlc29sdmVkJywgcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFBhdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGdyb3VwLmVycm9yKGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQnLCByZW1vdGUpXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGFzeW5jIGNhY2hlKG5vdGVwYXRoOiBzdHJpbmcsIHJlbW90ZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKCFyZW1vdGUuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICB0aGlzLiNsb2cuZGVidWcoJ3JlbW90ZXMgc2hvdWxkIGF0IGxlYXN0IHN0YXJ0IHdpdGggaHR0cCcpXG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuI2xvZy5ncm91cCgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBncm91cC5kZWJ1ZygnQ2FjaGluZycsIHsgbm90ZXBhdGgsIHJlbW90ZSB9KVxuICAgICAgICAgICAgY29uc3QgbG9jYWxQYXRoID0gYXdhaXQgdGhpcy4jcmVzb2x2ZSh7IG5vdGVwYXRoLCByZW1vdGUgfSwgZ3JvdXApXG4gICAgICAgICAgICBpZiAoIWxvY2FsUGF0aCkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmRlYnVnKCdyZW1vdGUgY291bGQgbm90IGJlIHJlc29sdmVkJylcbiAgICAgICAgICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIHdhcyBub3QgY2FjaGVkJywgcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBleGlzdGVuY2VcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZEZpbGUgPSB0aGlzLiN2YXVsdC5nZXRGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICAgICAgICAgIGlmIChjYWNoZWRGaWxlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZmx1c2goJ3JlbW90ZSBpcyBhbHJlYWR5IGluIGNhY2hlJywgcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiN2YXVsdC5nZXRSZXNvdXJjZVBhdGgoY2FjaGVkRmlsZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG93bmxvYWQgZmlsZVxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGdldFJlbW90ZUNvbnRlbnQocmVtb3RlLCBncm91cClcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudHBhdGggPSBVUkkuZ2V0UGFyZW50KGxvY2FsUGF0aCkgPz8gJy8nXG4gICAgICAgICAgICBpZiAoIXRoaXMuI3ZhdWx0LmdldEZvbGRlckJ5UGF0aChwYXJlbnRwYXRoKSkge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZUJpbmFyeSBmYWlscyBpZiBwYXJlbnQgZGlyIGlzIG1pc3NpbmdcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiN2YXVsdC5jcmVhdGVGb2xkZXIocGFyZW50cGF0aClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI3ZhdWx0LmNyZWF0ZUJpbmFyeShsb2NhbFBhdGgsIGNvbnRlbnQpXG5cbiAgICAgICAgICAgIC8vIGNoZWNrIHJlc3VsdFxuICAgICAgICAgICAgY29uc3QgZG93bmxvYWRlZEZpbGUgPSB0aGlzLiN2YXVsdC5nZXRGaWxlQnlQYXRoKGxvY2FsUGF0aClcbiAgICAgICAgICAgIGlmIChkb3dubG9hZGVkRmlsZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmZsdXNoKCdyZW1vdGUgd2FzIGNhY2hlZCcsIHJlbW90ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jdmF1bHQuZ2V0UmVzb3VyY2VQYXRoKGRvd25sb2FkZWRGaWxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZ3JvdXAuZXJyb3IoZXJyb3IpXG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5mbHVzaCgncmVtb3RlIGNvdWxkIG5vdCBiZSBjYWNoZWQnLCByZW1vdGUpXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgICNmaW5kQ2FjaGVSdWxlKHY6IFJlbW90ZURlZiwgbG9nOiBMb2dnZXIpOiBDYWNoZU1hdGNoZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBsb2cuZGVidWcoJ3NlYXJjaGluZyBhbiBhY3RpdmUgY2FjaGUgcnVsZScpXG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSB0aGlzLiNwbHVnaW4uc3RhdGUuY2FjaGVfbWF0Y2hlcnMgLy9cbiAgICAgICAgICAgIC5maW5kKChtYXRjaGVyKSA9PiBtYXRjaGVyLnRlc3RQYXRoKHYubm90ZXBhdGgpKVxuXG4gICAgICAgIC8vIG5vdC1mb3VuZCBvciBkaXNhYmxlZCBwYXRoc1xuICAgICAgICBpZiAoIW1hdGNoZXI/LmlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ25vdGVwYXRoIGRvZXMgbm90IG1hdGNoIGFuZCBhY3RpdmUgcnVsZScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVSTCBvdmVycmlkZXNcbiAgICAgICAgaWYgKHRoaXMuI3BsdWdpbi5zdGF0ZS51cmxfaWdub3JlX21hdGNoZXIodi5yZW1vdGUpKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ3JlbW90ZSBoYXMgdG8gYmUgaWdub3JlZCAoVVJMIHBhcmFtKScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jcGx1Z2luLnN0YXRlLnVybF9jYWNoZV9tYXRjaGVyKHYucmVtb3RlKSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgaGFzIHRvIGJlIGNhY2hlZCAoVVJMIHBhcmFtKScpXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlclxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRnJvbnRtYXR0ZXIgb3ZlcnJpZGVzXG4gICAgICAgIGlmICh0aGlzLiNwbHVnaW4uc3RhdGUubm90ZV9pZ25vcmVfbWF0Y2hlcih2Lm5vdGVwYXRoLCB2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIGhhcyB0byBiZSBpZ25vcmVkIChGcm9udG1hdHRlciBhdHRyaWJ1dGUpJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNwbHVnaW4uc3RhdGUubm90ZV9jYWNoZV9tYXRjaGVyKHYubm90ZXBhdGgsIHYucmVtb3RlKSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgaGFzIHRvIGJlIGNhY2hlZCAoRnJvbnRtYXR0ZXIgYXR0cmlidXRlKScpXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlclxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhbmRhcmQgYmVoYXZpb3JcbiAgICAgICAgaWYgKG1hdGNoZXIudGVzdFJlbW90ZSh2LnJlbW90ZSkpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIG1hdGNoZXMgYW4gYWN0aXZlIHJ1bGUnKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXJcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIGRvZXMgbm90IG1hdGNoIGFuZCBhY3RpdmUgcnVsZScpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICAvKiogQHRocm93cyB7QXR0YWNobWVudEVycm9yfSAqL1xuICAgIGFzeW5jICNyZXNvbHZlKHY6IFJlbW90ZURlZiwgbG9nOiBMb2dnZXIpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gVVJMLmdldEJhc2V1cmwodi5yZW1vdGUpXG4gICAgICAgIGlmICghYmFzZVVybCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgaXMgbm90IGEgdmFsaWQgVVJMJylcbiAgICAgICAgICAgIHRocm93IG5ldyBBdHRhY2htZW50RXJyb3IoJ3JlbW90ZS1uby11cmwnLCBgcmVtb3RlKCR7di5yZW1vdGV9KWApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYXN0ZXIgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBjYWNoZWRQYXRoID0gdGhpcy4jbWVtby5nZXQoYmFzZVVybClcbiAgICAgICAgaWYgKGNhY2hlZFBhdGgpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZygncmVtb3RlIHJlc29sdmVkIGZyb20gY2FjaGUnLCBjYWNoZWRQYXRoKVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFBhdGhcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlkZW50aWZ5IGJlaGF2aW9yXG4gICAgICAgIGNvbnN0IG1hdGNoZXIgPSB0aGlzLiNmaW5kQ2FjaGVSdWxlKHYsIGxvZylcbiAgICAgICAgaWYgKCFtYXRjaGVyKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoJ2EgY2FjaGUgcnVsZSBjb3VsZCBub3QgYmUgbWF0Y2hlZCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSBub3JtYWxpemF0aW9uXG4gICAgICAgIGNvbnN0IG5hbWUgPSBVUkkuZ2V0QmFzZW5hbWUoYmFzZVVybClcbiAgICAgICAgY29uc3QgZXh0ID0gVVJJLmdldEV4dChiYXNlVXJsKSA/PyAoYXdhaXQgZ2V0UmVtb3RlRXh0KHYucmVtb3RlLCBsb2cpKVxuICAgICAgICBpZiAoIW5hbWUgfHwgIWV4dCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKGBuYW1lKCR7bmFtZX0pIG9yIGV4dCgke2V4dH0pIGNvdWxkIG5vdCBiZSByZXNvbHZlZGApXG4gICAgICAgICAgICB0aHJvdyBuZXcgQXR0YWNobWVudEVycm9yKCdyZW1vdGUtbm8tZXh0JylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVwYXRoID0gVVJJLmpvaW4obWF0Y2hlci5yZXNvbHZlKHYubm90ZXBhdGgpLCBuYW1lICsgJy4nICsgZXh0KVxuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSAhdGhpcy4jcGx1Z2luLnNldHRpbmdzLmFsbG93X2NoYXJhY3RlcnNcbiAgICAgICAgICAgID8gbm9ybWFsaXplUGF0aChVUkkubm9ybWFsaXplKGZpbGVwYXRoKSlcbiAgICAgICAgICAgIDogbm9ybWFsaXplUGF0aChmaWxlcGF0aClcblxuICAgICAgICAvLyBzYXZlIGZvciBmYXN0ZXIgcmVzb2x1dGlvblxuICAgICAgICB0aGlzLiNtZW1vLnNldChiYXNlVXJsLCBsb2NhbFBhdGgpXG5cbiAgICAgICAgbG9nLmRlYnVnKCdyZW1vdGUgcmVzb2x2ZWQnLCBsb2NhbFBhdGgpXG4gICAgICAgIHJldHVybiBsb2NhbFBhdGhcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBsdWdpblNldHRpbmdzLCBQbHVnaW5TdGF0ZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICdAbHVpcy5icy9vYnNpZGlhbi1mbmMnXG5pbXBvcnQgeyBwcmVwYXJlQ29uZmlncywgcHJlcGFyZVN0YXRlIH0gZnJvbSAnLi91dGlsaXR5J1xuaW1wb3J0IHsgU2V0dGluZ3NUYWIgfSBmcm9tICcuL3NldHRpbmdzL1NldHRpbmdzVGFiJ1xuaW1wb3J0IHsgTWFya2Rvd25IYW5kbGVyIH0gZnJvbSAnLi9maWxlc3lzdGVtL01hcmtkb3duSGFuZGxlcidcbmltcG9ydCB7IEF0dGFjaG1lbnRzQ2FjaGVBUEkgfSBmcm9tICcuL0F0dGFjaG1lbnRzQ2FjaGVBUEknXG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBsdWdpblNldHRpbmdzID0ge1xuICAgIC8vICogJ1dBUk4nIGxldmVsIHRvIGZvcmNlIHRoZSB1c2VyIHRvIGNob29zZSBhIGxvd2VyIGxldmVsIHdoZW4gaXMgcmVxdWlyZWRcbiAgICAvLyAqIHRoaXMgZGVjaXRpb24sIHByZXZlbnRzIHRoZSBjb25zb2xlIGZyb20gYmVlbiBvdmVycG9wdWxhdGVkIGJ5IGRlZmF1bHRcbiAgICBwbHVnaW5fbGV2ZWw6ICdXQVJOJyxcbiAgICAvLyAqICdOT1JNQUwnIHByaW9yaXR5IHRvIGNhY2hlIHVzZXItd3JpdHRlbiBtYXJrZG93blxuICAgIC8vICogYW5kIFBvc3RQcm9jZXNzb3JzIHdpdGggZGVmYXVsdCBwcmlvcml0eVxuICAgIHBsdWdpbl9wcmlvcml0eTogJ05PUk1BTCcsXG4gICAgLy9cbiAgICBhbGxvd19jaGFyYWN0ZXJzOiBmYWxzZSxcbiAgICB1cmxfcGFyYW1fY2FjaGU6ICdjYWNoZV9maWxlJyxcbiAgICB1cmxfcGFyYW1faWdub3JlOiAnaWdub3JlX2ZpbGUnLFxuICAgIG5vdGVfcGFyYW1fY2FjaGU6ICdjYWNoZV9mcm9tJyxcbiAgICBub3RlX3BhcmFtX2lnbm9yZTogJ2NhY2hlX3VubGVzcycsXG4gICAgY2FjaGVfY29uZmlnczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwYXR0ZXJuOiAnKicsXG4gICAgICAgICAgICByZW1vdGVzOiBbeyB3aGl0ZWxpc3RlZDogZmFsc2UsIHBhdHRlcm46ICcqJyB9XSxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgdGFyZ2V0OiAnJyxcbiAgICAgICAgfSxcbiAgICBdLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRhY2htZW50c0NhY2hlUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBwdWJsaWMgbG9nID0gTG9nZ2VyLmNvbnNvbGVMb2dnZXIoQXR0YWNobWVudHNDYWNoZVBsdWdpbi5uYW1lKVxuXG4gICAgcHVibGljIHNldHRpbmdzID0ge30gYXMgUGx1Z2luU2V0dGluZ3NcbiAgICBwdWJsaWMgc3RhdGUgPSB7fSBhcyBQbHVnaW5TdGF0ZVxuXG4gICAgcHVibGljIGFwaTogQXR0YWNobWVudHNDYWNoZUFQSVxuICAgIHB1YmxpYyBtYXJrZG93bjogTWFya2Rvd25IYW5kbGVyXG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpXG5cbiAgICAgICAgLy8gKiBhbHdheXMgcHJpbnRpbmcgdGhlIGZpcnN0IGxvYWRTZXR0aW5ncygpXG4gICAgICAgIC8vICogYWZ0ZXIgdGhhdCwgdGhlIHVzZXItZGVmaW5lZCBsZXZlbCBpcyB1c2VkXG4gICAgICAgIHRoaXMubG9nLnNldExldmVsKExvZ0xldmVsLkRFQlVHKVxuICAgICAgICB0aGlzLmxvZy5zZXRGb3JtYXQoJ1toaDptbTpzcy5tc10gbGV2ZWw6JylcblxuICAgICAgICB0aGlzLmFwaSA9IG5ldyBBdHRhY2htZW50c0NhY2hlQVBJKHRoaXMpXG4gICAgICAgIHRoaXMubWFya2Rvd24gPSBuZXcgTWFya2Rvd25IYW5kbGVyKHRoaXMpXG5cbiAgICAgICAgLy8gdGhyaWQtcGFydHkgQVBJXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm9uLXN0YW5kYXJkIEFQSVxuICAgICAgICB3aW5kb3cuQXR0YWNobWVudHNDYWNoZSA9IHRoaXMuYXBpXG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ3NUYWIodGhpcykpXG4gICAgICAgIHRoaXMubWFya2Rvd24ucmVnaXN0ZXJNYXJrZG93blByb2Nlc3NvcigpXG4gICAgfVxuXG4gICAgb251bmxvYWQoKTogdm9pZCB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm9uLXN0YW5kYXJkIEFQSVxuICAgICAgICBkZWxldGUgd2luZG93LkF0dGFjaG1lbnRzQ2FjaGVcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5sb2cuZ3JvdXAoJ0xvYWRpbmcgU2V0dGluZ3MnKVxuICAgICAgICBjb25zdCB7IGNhY2hlX2NvbmZpZ3MsIC4uLnByaW1pdGl2ZXMgfSA9ICgoYXdhaXQgdGhpcy5sb2FkRGF0YSgpKSA/P1xuICAgICAgICAgICAge30pIGFzIFBhcnRpYWw8UGx1Z2luU2V0dGluZ3M+XG5cbiAgICAgICAgLy8gZW5zdXJlIGEgZmFsbGJhY2sgdmFsdWUgaXMgcHJlc2VudFxuICAgICAgICAvLyBlbnN1cmUgb3JkZXIgb2YgY29uZmlncyBhbmQgcmVtb3Rlc1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgcHJpbWl0aXZlcylcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jYWNoZV9jb25maWdzID0gcHJlcGFyZUNvbmZpZ3MoW1xuICAgICAgICAgICAgLi4uKGNhY2hlX2NvbmZpZ3MgPz8gW10pLFxuICAgICAgICAgICAgLi4uREVGQVVMVF9TRVRUSU5HUy5jYWNoZV9jb25maWdzLFxuICAgICAgICBdKVxuXG4gICAgICAgIGdyb3VwLmRlYnVnKCdMb2FkZWQ6ICcsIHRoaXMuc2V0dGluZ3MpXG5cbiAgICAgICAgdGhpcy4jcHJlcGFyZVN0YXRlKGdyb3VwKVxuICAgICAgICBncm91cC5mbHVzaCgnTG9hZGVkIFNldHRpbmdzJylcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5sb2cuZ3JvdXAoJ1NhdmluZyBTZXR0aW5ncycpXG4gICAgICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNldHRpbmdzKVxuXG4gICAgICAgIC8vIHNlcmlhbGl6ZSBzcGVjaWFsIGRhdGEgdHlwZXMgKE1hcCwgU2V0LCBldGMpXG4gICAgICAgIC8vIGVuc3VyZSBvcmRlciBvZiBjb25maWdzIGFuZCByZW1vdGVzXG4gICAgICAgIGRhdGEuY2FjaGVfY29uZmlncyA9IHByZXBhcmVDb25maWdzKGRhdGEuY2FjaGVfY29uZmlncylcblxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpXG4gICAgICAgIGdyb3VwLmRlYnVnKCdTYXZlZDogJywgZGF0YSlcblxuICAgICAgICB0aGlzLiNwcmVwYXJlU3RhdGUoZ3JvdXApXG4gICAgICAgIGdyb3VwLmZsdXNoKCdTYXZlZCBTZXR0aW5ncycpXG4gICAgfVxuXG4gICAgI3ByZXBhcmVTdGF0ZShsb2c6IExvZ2dlcik6IHZvaWQge1xuICAgICAgICBsb2cuaW5mbygnUHJlcGFyaW5nIHN0YXRlJylcblxuICAgICAgICAvLyBjaGFuZ2UgUGx1Z2luIGJlaGF2aW9yIGJhc2VkIG9uIHVzZXIgaW5wdXRcbiAgICAgICAgdGhpcy5sb2cuc2V0TGV2ZWwoTG9nTGV2ZWxbdGhpcy5zZXR0aW5ncy5wbHVnaW5fbGV2ZWxdKVxuICAgICAgICB0aGlzLm1hcmtkb3duLnN5bmNQcmlvcml0eSgpXG4gICAgICAgIHRoaXMuc3RhdGUgPSBwcmVwYXJlU3RhdGUodGhpcylcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZHQiLCJuIiwicCIsInd0IiwiViIsIiNzIiwiI2UiLCIjbiIsInIiLCJtdCIsIm8iLCJKdCIsIlF0IiwiQXR0YWNobWVudEVycm9yIiwiY29kZSIsImNhdXNlIiwidXJsIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwiI2Rlc2NyaXB0aW9uIiwiYmFsYW5jZWRNYXRjaCIsImJhbGFuY2VkIiwiYSIsImIiLCJzdHIiLCJtYXliZU1hdGNoIiwicmFuZ2UiLCJyZWciLCJtIiwiYmVncyIsImJlZyIsImxlZnQiLCJyaWdodCIsInJlc3VsdCIsImFpIiwiYmkiLCJpIiwicmVxdWlyZSQkMCIsImJyYWNlRXhwYW5zaW9uIiwiZXhwYW5kVG9wIiwiZXNjU2xhc2giLCJlc2NPcGVuIiwiZXNjQ2xvc2UiLCJlc2NDb21tYSIsImVzY1BlcmlvZCIsIm51bWVyaWMiLCJlc2NhcGVCcmFjZXMiLCJ1bmVzY2FwZUJyYWNlcyIsInBhcnNlQ29tbWFQYXJ0cyIsInBhcnRzIiwicHJlIiwiYm9keSIsInBvc3QiLCJwb3N0UGFydHMiLCJleHBhbmQiLCJlbWJyYWNlIiwiaXNQYWRkZWQiLCJlbCIsImx0ZSIsInkiLCJndGUiLCJpc1RvcCIsImV4cGFuc2lvbnMiLCJrIiwiZXhwYW5zaW9uIiwiaXNOdW1lcmljU2VxdWVuY2UiLCJpc0FscGhhU2VxdWVuY2UiLCJpc1NlcXVlbmNlIiwiaXNPcHRpb25zIiwiTiIsIngiLCJ3aWR0aCIsImluY3IiLCJ0ZXN0IiwicmV2ZXJzZSIsInBhZCIsImMiLCJuZWVkIiwieiIsImoiLCJNQVhfUEFUVEVSTl9MRU5HVEgiLCJhc3NlcnRWYWxpZFBhdHRlcm4iLCJwYXR0ZXJuIiwicG9zaXhDbGFzc2VzIiwiYnJhY2VFc2NhcGUiLCJzIiwicmVnZXhwRXNjYXBlIiwicmFuZ2VzVG9TdHJpbmciLCJyYW5nZXMiLCJwYXJzZUNsYXNzIiwiZ2xvYiIsInBvc2l0aW9uIiwicG9zIiwibmVncyIsInNhd1N0YXJ0IiwidWZsYWciLCJlc2NhcGluZyIsIm5lZ2F0ZSIsImVuZFBvcyIsInJhbmdlU3RhcnQiLCJXSElMRSIsImNscyIsInVuaXAiLCJ1IiwibmVnIiwic3JhbmdlcyIsInNuZWdzIiwidW5lc2NhcGUiLCJ3aW5kb3dzUGF0aHNOb0VzY2FwZSIsInR5cGVzIiwiaXNFeHRnbG9iVHlwZSIsInN0YXJ0Tm9UcmF2ZXJzYWwiLCJzdGFydE5vRG90IiwiYWRkUGF0dGVyblN0YXJ0IiwianVzdERvdHMiLCJyZVNwZWNpYWxzIiwicmVnRXhwRXNjYXBlIiwicW1hcmsiLCJzdGFyIiwic3Rhck5vRW1wdHkiLCJBU1QiLCIjcm9vdCIsIiNoYXNNYWdpYyIsIiN1ZmxhZyIsIiNwYXJ0cyIsIiNwYXJlbnQiLCIjcGFyZW50SW5kZXgiLCIjbmVncyIsIiNmaWxsZWROZWdzIiwiI29wdGlvbnMiLCIjdG9TdHJpbmciLCIjZW1wdHlFeHQiLCJ0eXBlIiwicGFyZW50Iiwib3B0aW9ucyIsIiNmaWxsTmVncyIsInBwIiwicGFydCIsInJldCIsInBsIiwiI3BhcnNlQVNUIiwiYXN0Iiwib3B0IiwiaW5CcmFjZSIsImJyYWNlU3RhcnQiLCJicmFjZU5lZyIsImFjYyIsImV4dCIsInJlIiwiaGFzTWFnaWMiLCJmbGFncyIsImFsbG93RG90IiwiZG90Iiwibm9FbXB0eSIsInNyYyIsIl8iLCIjcGFyc2VHbG9iIiwic3RhcnQiLCJhcHMiLCJuZWVkTm9UcmF2IiwibmVlZE5vRG90IiwiZW5kIiwicmVwZWF0ZWQiLCIjcGFydHNUb1JlZ0V4cCIsImJvZHlEb3RBbGxvd2VkIiwiZmluYWwiLCJjbG9zZSIsIl9oYXNNYWdpYyIsIm5lZWRVZmxhZyIsImNvbnN1bWVkIiwibWFnaWMiLCJlc2NhcGUiLCJtaW5pbWF0Y2giLCJNaW5pbWF0Y2giLCJzdGFyRG90RXh0UkUiLCJzdGFyRG90RXh0VGVzdCIsImYiLCJzdGFyRG90RXh0VGVzdERvdCIsInN0YXJEb3RFeHRUZXN0Tm9jYXNlIiwic3RhckRvdEV4dFRlc3ROb2Nhc2VEb3QiLCJzdGFyRG90U3RhclJFIiwic3RhckRvdFN0YXJUZXN0Iiwic3RhckRvdFN0YXJUZXN0RG90IiwiZG90U3RhclJFIiwiZG90U3RhclRlc3QiLCJzdGFyUkUiLCJzdGFyVGVzdCIsInN0YXJUZXN0RG90IiwicW1hcmtzUkUiLCJxbWFya3NUZXN0Tm9jYXNlIiwiJDAiLCJub2V4dCIsInFtYXJrc1Rlc3ROb0V4dCIsInFtYXJrc1Rlc3ROb2Nhc2VEb3QiLCJxbWFya3NUZXN0Tm9FeHREb3QiLCJxbWFya3NUZXN0RG90IiwicW1hcmtzVGVzdCIsImxlbiIsImRlZmF1bHRQbGF0Zm9ybSIsInBhdGgiLCJzZXAiLCJHTE9CU1RBUiIsInR3b1N0YXJEb3QiLCJ0d29TdGFyTm9Eb3QiLCJmaWx0ZXIiLCJkZWZhdWx0cyIsImRlZiIsIm9yaWciLCJsaXN0IiwiYnJhY2VFeHBhbmQiLCJtYWtlUmUiLCJtYXRjaCIsIm1tIiwiZ2xvYk1hZ2ljIiwiYXJncyIsInJhd0dsb2JQYXJ0cyIsInNldCIsIl9fIiwiaXNVTkMiLCJpc0RyaXZlIiwic3MiLCJnbG9iUGFydHMiLCJvcHRpbWl6YXRpb25MZXZlbCIsImdzIiwicHJldiIsImRpZFNvbWV0aGluZyIsImRkIiwiZ3NzIiwibmV4dCIsInAyIiwib3RoZXIiLCJzcGxpbiIsIm1hdGNoZWQiLCJlbXB0eUdTTWF0Y2giLCJ3aGljaCIsIm5lZ2F0ZU9mZnNldCIsImZpbGUiLCJwYXJ0aWFsIiwiZmlsZURyaXZlIiwiZmlsZVVOQyIsInBhdHRlcm5Ecml2ZSIsInBhdHRlcm5VTkMiLCJmZGkiLCJwZGkiLCJmZCIsInBkIiwiZmkiLCJwaSIsImZsIiwiZnIiLCJwciIsInN3YWxsb3dlZSIsImhpdCIsImZhc3RUZXN0IiwidHdvU3RhciIsIm9wZW4iLCJmZiIsImZpbGVuYW1lIiwicHJlcGFyZUhhc2giLCJzb3VyY2UiLCJjb21wYXJlQnlTcGVjaWZpY2l0eSIsImdldE1pbWVFeHQiLCJtaW1lIiwicHJlcGFyZVN0YXRlIiwicGx1Z2luIiwiY29uZmlnTWF0Y2hlcnMiLCJyZW1vdGVNYXRjaGVyIiwiZnJvbnRtYXR0ZXJNYXRjaGVyIiwiYXBwIiwibm90ZV9wYXJhbSIsIm5vdGVwYXRoIiwicmVtb3RlIiwibWV0YWRhdGEiLCJ2YWx1ZSIsInBhcnNlRnJvbnRNYXR0ZXJFbnRyeSIsInRlc3RVcmwiLCJ2YWwiLCJ1cmxfcGFyYW0iLCJyZWdleCIsImNvbmZpZ3MiLCJjb25maWciLCJ0ZXN0UGF0aCIsIl9ub3RlcGF0aCIsInRlc3RSZW1vdGUiLCJfcmVtb3RlIiwid2hpdGVsaXN0ZWQiLCJwcmVwYXJlUmVzb2x2ZXIiLCJ0YXJnZXQiLCJub3RlIiwicGF0aFJlcGxhY2VyIiwiVVJJIiwicnVsZXMiLCJydWxlIiwiZ2V0UmVtb3RlRXh0IiwibG9nIiwicmVmZXJlciIsIlVSTCIsInJlcXVlc3RVcmwiLCJnZXRSZW1vdGVDb250ZW50IiwicHJlcGFyZVJlbW90ZXMiLCJyZW1vdGVzIiwiaGFzRmFsbGJhY2siLCJzZXJpYWxpemVSZW1vdGVzIiwicGFyc2VSZW1vdGUiLCJwYXJzZVJlbW90ZXMiLCJzb3VyY2VzIiwidyIsImNoZWNrUmVtb3RlcyIsInByb2JsZW1zIiwidHJpbW1lZCIsInByZXBhcmVDb25maWdzIiwiYkluZGV4IiwiY2hlY2tQYXR0ZXJuIiwiX3ZhbHVlIiwiZG9jcyIsIm5hbWUiLCJkZXNjIiwiZGl2IiwiTEVWRUxfTEFCRUxTIiwiUFJJT1JJVFkiLCJQUklPUklUWV9MQUJFTFMiLCJDYWNoZVNldHRpbmdzIiwiI2NhY2hlIiwiI2NhY2hlSGVhZGVyIiwiI2NhY2hlRGV0YWlscyIsIiNjYWNoZVJlbW90ZXMiLCIjcmVtb3Rlc1RleHQiLCJjYWNoZSIsIlNldHRpbmciLCIjZGlzcGxheUNhY2hlSGVhZGVyIiwiI2Rpc3BsYXlDYWNoZURldGFpbHMiLCIjZGlzcGxheUNhY2hlUmVtb3RlcyIsIiNjYWNoZU5hbWUiLCIjY2FjaGVEZXNjIiwiYnV0dG9uIiwiI2ludm9rZVJlbW92ZSIsInRvZ2dsZSIsIiNpbnZva2VDaGFuZ2UiLCJ2aXNpYmxlIiwiI3RhcmdldERlc2MiLCJ1bCIsImV4YW1wbGUiLCJub3JtYWxpemVQYXRoIiwiYXR0YWNobWVudCIsImNhY2hlU2V0dGluZyIsImlucHV0IiwicmVtb3Rlc0Rlc2MiLCJyZW1vdGVzRGVzY1VsIiwicmVtb3Rlc1NldHRpbmciLCJ0ZXh0YXJlYSIsIiNyZW1vdGVOYW1lIiwic2V0dGluZyIsIiN1cGRhdGVSZW1vdGVzIiwiI2NoYW5nZUxpc3RlbmVycyIsIiNyZW1vdmVMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImNhbGxiYWNrIiwiU2V0dGluZ3NUYWIiLCJQbHVnaW5TZXR0aW5nVGFiIiwiI3BsdWdpbiIsIiNjb25maWdzTGlzdCIsIiNkaXNwbGF5R2VuZXJhbFNldHRpbmdzIiwiI2Rpc3BsYXlPdmVycmlkZVNldHRpbmdzIiwiI2Rpc3BsYXlDb25maWdzSGVhZGVyIiwiI2Rpc3BsYXlDb25maWdzTGlzdCIsImxldmVsU2V0dGluZyIsImRyb3Bkb3duIiwiI2hhbmRsZSIsInByaW9yaXR5U2V0dGluZyIsImNoYXJzU2V0dGluZyIsInVybGlnbm9yZSIsInVybGNhY2hlIiwibm90ZWlnbm9yZSIsIm5vdGVjYWNoZSIsInBhdHRlcm5JbnB1dCIsInNvdXJjZURyb3Bkb3duIiwiZHVwbGljYXRlQnV0dG9uIiwiaGVhZGVyRGVzYyIsImhlYWRlckRlc2NVbCIsImhlYWRlckVsIiwicmVmIiwiI3VwZGF0ZUNvbmZpZ3MiLCJfY2FjaGUiLCJrZXkiLCJNYXJrZG93bkhhbmRsZXIiLCIjbXBwIiwiZWxlbWVudCIsInNvdXJjZVBhdGgiLCJtaWxsaXMiLCJyZXNvbHZlZCIsIkF0dGFjaG1lbnRzQ2FjaGVBUEkiLCIjbG9nIiwiI3ZhdWx0IiwiI21lbW8iLCIjZmluZENhY2hlUnVsZSIsImxvY2FsUGF0aCIsImdyb3VwIiwiI3Jlc29sdmUiLCJlcnJvciIsImNhY2hlZEZpbGUiLCJjb250ZW50IiwicGFyZW50cGF0aCIsImRvd25sb2FkZWRGaWxlIiwidiIsIm1hdGNoZXIiLCJiYXNlVXJsIiwiY2FjaGVkUGF0aCIsImZpbGVwYXRoIiwiREVGQVVMVF9TRVRUSU5HUyIsIkF0dGFjaG1lbnRzQ2FjaGVQbHVnaW4iLCJQbHVnaW4iLCJMb2dnZXIiLCJtYW5pZmVzdCIsIkxvZ0xldmVsIiwiY2FjaGVfY29uZmlncyIsInByaW1pdGl2ZXMiLCIjcHJlcGFyZVN0YXRlIiwiZGF0YSJdLCJtYXBwaW5ncyI6InlDQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FNQSxNQUFNQSxFQUFHLENBQ1AsTUFBTSxFQUFHQyxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLEtBQUssRUFBR0EsRUFBRyxDQUNULFFBQVEsS0FBSyxFQUFHLEdBQUdBLENBQUMsQ0FDeEIsQ0FDRSxLQUFLLEVBQUdBLEVBQUcsQ0FDVCxRQUFRLEtBQUssRUFBRyxHQUFHQSxDQUFDLENBQ3hCLENBQ0UsTUFBTSxFQUFHQSxFQUFHLENBQ1YsUUFBUSxNQUFNLEVBQUcsR0FBR0EsQ0FBQyxDQUN6QixDQUNFLE1BQU0sRUFBR0EsRUFBRyxDQUNWLFFBQVEsTUFBTSxFQUFHLEdBQUdBLENBQUMsQ0FDekIsQ0FDRSxNQUFNLEVBQUdBLEVBQUcsQ0FDVixPQUFPLFFBQVEsZUFBZSxFQUFHLEdBQUdBLENBQUMsRUFBRyxRQUFRLFFBQ3BELENBQ0EsQ0FDQSxNQUFNQyxFQUFJLE9BQU8sT0FBTyxDQUN0QixNQUFPLEVBQ1AsTUFBTyxFQUNQLEtBQU0sRUFDTixLQUFNLEVBQ04sTUFBTyxDQUNULENBQUMsRUFBR0MsR0FBSyxPQUFPLE9BQU8sQ0FDckIsRUFBRyxRQUNILEVBQUcsUUFDSCxFQUFHLFFBQ0gsRUFBRyxRQUNILEVBQUcsT0FDTCxDQUFDLEVBQ0QsTUFBTUMsQ0FBRSxDQUNOLEdBQ0FDLEdBQ0FDLEdBQ0FDLEdBQUssQ0FBRSxFQUNQLEdBQUssQ0FBRSxFQUVQLElBQUksT0FBUSxDQUNWLE9BQU8sS0FBS0YsR0FBSyxLQUFLQSxHQUFLLEtBQUssSUFBSSxPQUFTSCxF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LENBQ1osQ0FFUixFQUVBLE1BQXFCQyxVQUErQkMsRUFBQUEsTUFBTyxDQUNoRCxJQUFNQyxFQUFPLGNBQWNGLEVBQXVCLElBQUksRUFFdEQsU0FBVyxDQUFDLEVBQ1osTUFBUSxDQUFDLEVBRVQsSUFDQSxTQUVQLFlBQVk3SSxFQUFVZ0osRUFBMEIsQ0FDNUMsTUFBTWhKLEVBQUtnSixDQUFRLEVBSWQsS0FBQSxJQUFJLFNBQVNDLEVBQVMsS0FBSyxFQUMzQixLQUFBLElBQUksVUFBVSxzQkFBc0IsRUFFcEMsS0FBQSxJQUFNLElBQUl2QixFQUFvQixJQUFJLEVBQ2xDLEtBQUEsU0FBVyxJQUFJTixHQUFnQixJQUFJLEVBSXhDLE9BQU8saUJBQW1CLEtBQUssR0FBQSxDQUduQyxNQUFNLFFBQXdCLENBQzFCLE1BQU0sS0FBSyxhQUFhLEVBQ3hCLEtBQUssY0FBYyxJQUFJM0IsR0FBWSxJQUFJLENBQUMsRUFDeEMsS0FBSyxTQUFTLDBCQUEwQixDQUFBLENBRzVDLFVBQWlCLENBRWIsT0FBTyxPQUFPLGdCQUFBLENBR2xCLE1BQU0sY0FBOEIsQ0FDaEMsTUFBTXVDLEVBQVEsS0FBSyxJQUFJLE1BQU0sa0JBQWtCLEVBQ3pDLENBQUUsY0FBQWtCLEVBQWUsR0FBR0MsQ0FBQSxFQUFpQixNQUFNLEtBQUssU0FBUyxHQUMzRCxDQUFDLEVBSUwsS0FBSyxTQUFXLE9BQU8sT0FBTyxDQUFDLEVBQUdQLEdBQWtCTyxDQUFVLEVBQ3pELEtBQUEsU0FBUyxjQUFnQnpHLEVBQWUsQ0FDekMsR0FBSXdHLEdBQWlCLENBQUMsRUFDdEIsR0FBR04sR0FBaUIsYUFBQSxDQUN2QixFQUVLWixFQUFBLE1BQU0sV0FBWSxLQUFLLFFBQVEsRUFFckMsS0FBS29CLEdBQWNwQixDQUFLLEVBQ3hCQSxFQUFNLE1BQU0saUJBQWlCLENBQUEsQ0FHakMsTUFBTSxjQUE4QixDQUNoQyxNQUFNQSxFQUFRLEtBQUssSUFBSSxNQUFNLGlCQUFpQixFQUN4Q3FCLEVBQU8sT0FBTyxPQUFPLENBQUEsRUFBSSxLQUFLLFFBQVEsRUFJdkNBLEVBQUEsY0FBZ0IzRyxFQUFlMkcsRUFBSyxhQUFhLEVBRWhELE1BQUEsS0FBSyxTQUFTQSxDQUFJLEVBQ2xCckIsRUFBQSxNQUFNLFVBQVdxQixDQUFJLEVBRTNCLEtBQUtELEdBQWNwQixDQUFLLEVBQ3hCQSxFQUFNLE1BQU0sZ0JBQWdCLENBQUEsQ0FHaENvQixHQUFjMUgsRUFBbUIsQ0FDN0JBLEVBQUksS0FBSyxpQkFBaUIsRUFHMUIsS0FBSyxJQUFJLFNBQVN1SCxFQUFTLEtBQUssU0FBUyxZQUFZLENBQUMsRUFDdEQsS0FBSyxTQUFTLGFBQWEsRUFDdEIsS0FBQSxNQUFRdEosR0FBYSxJQUFJLENBQUEsQ0FFdEMiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwyLDMsNCw1LDYsNyw4LDldfQ==
